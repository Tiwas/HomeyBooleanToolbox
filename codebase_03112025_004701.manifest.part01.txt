--- START: .homeychangelog.json (sha256=4d358386b03303ae88f4c7f512553f986df870ac57436e66e84b4315e563ac03, bytes=291) ---
{
  "1.4.0": {
    "en": "Complete rewrite, introduction of unit testing, now using homey compose, the old logic-unit-x devices are deprecated as I've introduced a much smarter Logic Unit."
  },
  "1.4.1": {
    "en": "FIX: Three cards had \"strange\" arguments (just looked strange)"
  }
}
--- END: .homeychangelog.json ---

--- START: .homeycompose/app.json (sha256=65598bc023cb988957aa6beb833e17fd119325592e7d6c1a8fa447b43fbfd084, bytes=2305) ---
{
  "id": "no.tiwas.booleantoolbox",
  "support": "https://community.homey.app/t/app-boolean-toolbox-create-advanced-logic-with-simple-formulas/143906",
  "version": "1.4.1",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "permissions": [
    "homey:manager:api"
  ],
  "name": {
    "en": "Boolean Toolbox",
    "no": "Boolean Toolbox",
    "de": "Boolean Toolbox",
    "nl": "Boolean Toolbox",
    "fr": "Boolean Toolbox",
    "da": "Boolean Toolbox",
    "fi": "Boolean Toolbox",
    "sv": "Boolean Toolbox",
    "pl": "Boolean Toolbox",
    "it": "Boolean Toolbox",
    "es": "Boolean Toolbox"
  },
  "description": {
    "en": "Create advanced, state-aware logic units with multiple formulas.",
    "no": "Lag avanserte, tilstandsbevisste logiske enheter med flere formler.",
    "de": "Erstellen Sie erweiterte, zustandsbewusste Logikeinheiten mit mehreren Formeln.",
    "nl": "Maak geavanceerde, toestandsbewuste logische eenheden met meerdere formules.",
    "fr": "Créez des unités logiques avancées et conscientes de l'état avec plusieurs formules.",
    "da": "Opret avancerede, tilstandsbevidste logiske enheder med flere formler.",
    "fi": "Luo edistyneitä, tilatietoisia logiikkayksiköitä useilla kaavoilla.",
    "sv": "Skapa avancerade, tillståndsmedvetna logikenheter med flera formler.",
    "pl": "Twórz zaawansowane, świadome stanu jednostki logiczne z wieloma formułami.",
    "it": "Crea unità logiche avanzate e consapevoli dello stato con formule multiple.",
    "es": "Crea unidades lógicas avanzadas y conscientes del estado con múltiples fórmulas."
  },
  "category": "tools",
  "brandColor": "#FF0000",
  "author": {
    "name": "Lars Kvanum"
  },
  "contributing": {
    "donate": {
      "paypal": {
        "username": "tiwasno"
      }
    }
  },
  "bugs": {
    "url": "https://github.com/Tiwas/HomeyBooleanToolbox/issues"
  },
  "source": "https://github.com/Tiwas/HomeyBooleanToolbox",
  "homepage": "https://tiwas.github.io/HomeyBooleanToolbox/",
  "images": {
    "xlarge": "/assets/images/xlarge.jpeg",
    "large": "/assets/images/large.jpeg",
    "small": "/assets/images/small.jpeg"
  },
  "flow": {
    "conditions": [
      {
        "id": "has_error"
      }
    ],
    "actions": [
      {
        "id": "evaluate_expression"
      }
    ]
  }
}
--- END: .homeycompose/app.json ---

--- START: .homeycompose/flow/actions/clear_error_ld.json (sha256=d7bdb31c06ffd789fae1ab4747261e425046ee42545fa540cfe4fc04b42ec010, bytes=477) ---
{
  "id": "clear_error_ld",
  "title": {
    "en": "Clear error",
    "nl": "Fout wissen",
    "sv": "Rensa fel",
    "no": "Fjern feil",
    "it": "Cancella errore",
    "de": "Fehler löschen",
    "da": "Ryd fejl",
    "es": "Borrar error",
    "fi": "Tyhjennä virhe",
    "fr": "Effacer l'erreur",
    "pl": "Wyczyść błąd"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-device"
    }
  ]
}
--- END: .homeycompose/flow/actions/clear_error_ld.json ---

--- START: .homeycompose/flow/actions/clear_error_state_lu.json (sha256=6b6466b885f6c786e4a3ac4eb32bdaf7385abc37dcb70714ba82c6988129a227, bytes=2135) ---
{
  "id": "clear_error_state_lu",
  "title": {
    "en": "Clear formula error state",
    "no": "Fjern formel-feilstatus",
    "de": "Formel-Fehlerstatus löschen",
    "nl": "Formule-foutstatus wissen",
    "fr": "Effacer l'état d'erreur de la formule",
    "da": "Ryd formel fejlstatus",
    "fi": "Tyhjennä kaavan virhetila",
    "sv": "Rensa formelfelstatus",
    "pl": "Wyczyść stan błędu formuły",
    "it": "Cancella stato di errore formula",
    "es": "Limpiar estado de error de fórmula"
  },
  "titleFormatted": {
    "en": "Clear error state for formula [[formula]]",
    "no": "Fjern feilstatus for formel [[formula]]",
    "de": "Fehlerstatus für Formel [[formula]] löschen",
    "nl": "Foutstatus voor formule [[formula]] wissen",
    "fr": "Effacer l'erreur pour formule [[formula]]",
    "da": "Ryd fejlstatus for formel [[formula]]",
    "fi": "Tyhjennä virhetila kaavalle [[formula]]",
    "sv": "Rensa felstatus för formel [[formula]]",
    "pl": "Wyczyść stan błędu dla formuły [[formula]]",
    "it": "Cancella errore per formula [[formula]]",
    "es": "Limpiar error para fórmula [[formula]]"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    },
    {
      "type": "autocomplete",
      "name": "formula",
      "title": {
        "en": "Formula",
        "no": "Formel",
        "de": "Formel",
        "nl": "Formule",
        "fr": "Formule",
        "da": "Formel",
        "fi": "Kaava",
        "sv": "Formel",
        "pl": "Formuła",
        "it": "Formula",
        "es": "Fórmula"
      },
      "placeholder": {
        "en": "Select formula",
        "no": "Velg formel",
        "de": "Wähle Formel",
        "nl": "Selecteer formule",
        "fr": "Sélectionner la formule",
        "da": "Vælg formel",
        "fi": "Valitse kaava",
        "sv": "Välj formel",
        "pl": "Wybierz formułę",
        "it": "Seleziona formula",
        "es": "Seleccionar fórmula"
      }
    }
  ]
}
--- END: .homeycompose/flow/actions/clear_error_state_lu.json ---

--- START: .homeycompose/flow/actions/evaluate_all_formulas_lu.json (sha256=4e4e2b070dd6d8b5d9d54b079744ce57d26aa1ed24e8aab7550621405fd032c2, bytes=1239) ---
{
  "id": "evaluate_all_formulas_lu",
  "title": {
    "en": "Re-evaluate all formulas",
    "no": "Re-evaluer alle formler",
    "de": "Alle Formeln neu bewerten",
    "nl": "Alle formules opnieuw evalueren",
    "fr": "Réévaluer toutes les formules",
    "da": "Gentag evaluering af alle formler",
    "fi": "Arvioi kaikki kaavat uudelleen",
    "sv": "Omvärdera alla formler",
    "pl": "Ponownie oceń wszystkie formuły",
    "it": "Rivaluta tutte le formule",
    "es": "Re-evaluar todas las fórmulas"
  },
  "titleFormatted": {
    "en": "Re-evaluate all formulas",
    "no": "Re-evaluer alle formler",
    "de": "Alle Formeln neu bewerten",
    "nl": "Alle formules opnieuw evalueren",
    "fr": "Réévaluer toutes les formules",
    "da": "Gentag evaluering af alle formler",
    "fi": "Arvioi kaikki kaavat uudelleen",
    "sv": "Omvärdera alla formler",
    "pl": "Ponownie oceń wszystkie formuły",
    "it": "Rivaluta tutte le formule",
    "es": "Re-evaluar todas las fórmulas"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    }
  ]
}
--- END: .homeycompose/flow/actions/evaluate_all_formulas_lu.json ---

--- START: .homeycompose/flow/actions/evaluate_expression.json (sha256=f8cb997c46c5a8d018d1120961e80b5f136e7d6402409299ad3f62dd7bceb446, bytes=7140) ---
{
  "title": {
    "en": "Evaluate expression",
    "no": "Evaluer uttrykk",
    "de": "Ausdruck auswerten",
    "nl": "Uitdrukking evalueren",
    "fr": "Évaluer l'expression",
    "da": "Evaluer udtryk",
    "fi": "Arvioi lauseke",
    "sv": "Utvärdera uttryck",
    "pl": "Oceń wyrażenie",
    "it": "Valuta espressione",
    "es": "Evaluar expresión"
  },
  "titleFormatted": {
    "en": "Evaluate [[input]] [[op1]] min [[logical_op]] [[op2]] max with rules [[rules]]",
    "no": "Evaluer [[input]] [[op1]] min [[logical_op]] [[op2]] maks med regler [[rules]]",
    "de": "Bewerte [[input]] [[op1]] min [[logical_op]] [[op2]] max mit Regeln [[rules]]",
    "nl": "Evalueer [[input]] [[op1]] min [[logical_op]] [[op2]] max met regels [[rules]]",
    "fr": "Évaluer [[input]] [[op1]] min [[logical_op]] [[op2]] max avec règles [[rules]]",
    "da": "Evaluer [[input]] [[op1]] min [[logical_op]] [[op2]] max med regler [[rules]]",
    "fi": "Arvioi [[input]] [[op1]] min [[logical_op]] [[op2]] max säännöillä [[rules]]",
    "sv": "Utvärdera [[input]] [[op1]] min [[logical_op]] [[op2]] max med regler [[rules]]",
    "pl": "Oceń [[input]] [[op1]] min [[logical_op]] [[op2]] max z regułami [[rules]]",
    "it": "Valuta [[input]] [[op1]] min [[logical_op]] [[op2]] max con regole [[rules]]",
    "es": "Evaluar [[input]] [[op1]] min [[logical_op]] [[op2]] max con reglas [[rules]]"
  },
  "args": [
    {
      "type": "number",
      "name": "input",
      "title": {
        "en": "Input value",
        "no": "Inngangsverdi",
        "de": "Eingangswert",
        "nl": "Invoerwaarde",
        "fr": "Valeur d'entrée",
        "da": "Indgangsværdi",
        "fi": "Tuloarvo",
        "sv": "Ingångsvärde",
        "pl": "Wartość wejściowa",
        "it": "Valore di input",
        "es": "Valor de entrada"
      },
      "placeholder": {
        "en": "Enter number",
        "no": "Skriv inn tall",
        "de": "Nummer eingeben",
        "nl": "Voer nummer in",
        "fr": "Entrez un nombre",
        "da": "Indtast tal",
        "fi": "Anna numero",
        "sv": "Ange nummer",
        "pl": "Wprowadź numer",
        "it": "Inserisci numero",
        "es": "Introducir número"
      }
    },
    {
      "type": "text",
      "name": "rules",
      "title": {
        "en": "Rules",
        "no": "Regler",
        "de": "Regeln",
        "nl": "Regels",
        "fr": "Règles",
        "da": "Regler",
        "fi": "Säännöt",
        "sv": "Regler",
        "pl": "Reguły",
        "it": "Regole",
        "es": "Reglas"
      },
      "placeholder": {
        "en": "min,max,output; ...",
        "no": "min,maks,utgang; ...",
        "de": "min,max,ausgabe; ...",
        "nl": "min,max,uitvoer; ...",
        "fr": "min,max,sortie; ...",
        "da": "min,maks,output; ...",
        "fi": "min,max,lähtö; ...",
        "sv": "min,max,utgång; ...",
        "pl": "min,max,wyjście; ...",
        "it": "min,max,uscita; ...",
        "es": "min,max,salida; ..."
      }
    },
    {
      "type": "dropdown",
      "name": "op1",
      "title": {
        "en": "First operator",
        "no": "Første operator",
        "de": "Erster Operator",
        "nl": "Eerste operator",
        "fr": "Premier opérateur",
        "da": "Første operatør",
        "fi": "Ensimmäinen operaattori",
        "sv": "Första operator",
        "pl": "Pierwszy operator",
        "it": "Primo operatore",
        "es": "Primer operador"
      },
      "values": [
        {
          "id": "gt",
          "title": {
            "en": ">",
            "no": ">"
          }
        },
        {
          "id": "gte",
          "title": {
            "en": "≥",
            "no": "≥"
          }
        },
        {
          "id": "lt",
          "title": {
            "en": "<",
            "no": "<"
          }
        },
        {
          "id": "lte",
          "title": {
            "en": "≤",
            "no": "≤"
          }
        }
      ]
    },
    {
      "type": "dropdown",
      "name": "op2",
      "title": {
        "en": "Second operator",
        "no": "Andre operator",
        "de": "Zweiter Operator",
        "nl": "Tweede operator",
        "fr": "Deuxième opérateur",
        "da": "Anden operatør",
        "fi": "Toinen operaattori",
        "sv": "Andra operator",
        "pl": "Drugi operator",
        "it": "Secondo operatore",
        "es": "Segundo operador"
      },
      "values": [
        {
          "id": "gt",
          "title": {
            "en": ">",
            "no": ">"
          }
        },
        {
          "id": "gte",
          "title": {
            "en": "≥",
            "no": "≥"
          }
        },
        {
          "id": "lt",
          "title": {
            "en": "<",
            "no": "<"
          }
        },
        {
          "id": "lte",
          "title": {
            "en": "≤",
            "no": "≤"
          }
        }
      ]
    },
    {
      "type": "dropdown",
      "name": "logical_op",
      "title": {
        "en": "Logical operator",
        "no": "Logisk operator",
        "de": "Logischer Operator",
        "nl": "Logische operator",
        "fr": "Opérateur logique",
        "da": "Logisk operatør",
        "fi": "Looginen operaattori",
        "sv": "Logisk operator",
        "pl": "Operator logiczny",
        "it": "Operatore logico",
        "es": "Operador lógico"
      },
      "values": [
        {
          "id": "AND",
          "title": {
            "en": "AND",
            "no": "OG",
            "de": "UND",
            "nl": "EN",
            "fr": "ET",
            "da": "OG",
            "fi": "JA",
            "sv": "OCH",
            "pl": "I",
            "it": "E",
            "es": "Y"
          }
        },
        {
          "id": "OR",
          "title": {
            "en": "OR",
            "no": "ELLER",
            "de": "ODER",
            "nl": "OF",
            "fr": "OU",
            "da": "ELLER",
            "fi": "TAI",
            "sv": "ELLER",
            "pl": "LUB",
            "it": "O",
            "es": "O"
          }
        }
      ]
    }
  ],
  "tokens": [
    {
      "name": "outputValue",
      "type": "number",
      "title": {
        "en": "Output value",
        "no": "Utgangsverdi",
        "de": "Ausgabewert",
        "nl": "Uitvoerwaarde",
        "fr": "Valeur de sortie",
        "da": "Udgangsværdi",
        "fi": "Lähtöarvo",
        "sv": "Utgångsvärde",
        "pl": "Wartość wyjściowa",
        "it": "Valore di output",
        "es": "Valor de salida"
      },
      "example": 100
    },
    {
      "name": "errorMessage",
      "type": "string",
      "title": {
        "en": "Error message",
        "no": "Feilmelding",
        "de": "Fehlermeldung",
        "nl": "Foutmelding",
        "fr": "Message d'erreur",
        "da": "Fejlmeddelelse",
        "fi": "Virheilmoitus",
        "sv": "Felmeddelande",
        "pl": "Komunikat o błędzie",
        "it": "Messaggio di errore",
        "es": "Mensaje de error"
      },
      "example": "No error"
    }
  ]
}

--- END: .homeycompose/flow/actions/evaluate_expression.json ---

--- START: .homeycompose/flow/actions/evaluate_formula_ld.json (sha256=94d3bc795222809249763b73ccb80e04ffa9ef20b8366ab217b18fbaa2fc5fdd, bytes=877) ---
{
  "id": "evaluate_formula_ld",
  "title": {
    "en": "Evaluate formula",
    "no": "Evaluer formel",
    "de": "Formel auswerten",
    "nl": "Formule evalueren",
    "fr": "Évaluer la formule",
    "da": "Evaluer formel",
    "fi": "Arvioi kaava",
    "sv": "Utvärdera formel",
    "pl": "Oceń formułę",
    "it": "Valuta formula",
    "es": "Evaluar fórmula"
  },
  "titleFormatted": {
    "en": "Evaluate formula",
    "no": "Evaluer formel",
    "de": "Formel auswerten",
    "nl": "Formule evalueren",
    "fr": "Évaluer la formule",
    "da": "Evaluer formel",
    "fi": "Arvioi kaava",
    "sv": "Utvärdera formel",
    "pl": "Oceń formułę",
    "it": "Valuta formula",
    "es": "Evaluar fórmula"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-device"
    }
  ]
}
--- END: .homeycompose/flow/actions/evaluate_formula_ld.json ---

--- START: .homeycompose/flow/actions/evaluate_formula_lu.json (sha256=1df095642993b504e15be9a66116c2ae3ef38c1512d6cfbfe35cd2efd070d2b3, bytes=1964) ---
{
  "id": "evaluate_formula_lu",
  "title": {
    "en": "Evaluate specific formula",
    "no": "Evaluer spesifikk formel",
    "de": "Spezifische Formel auswerten",
    "nl": "Specifieke formule evalueren",
    "fr": "Évaluer la formule spécifique",
    "da": "Evaluer specifik formel",
    "fi": "Arvioi tietty kaava",
    "sv": "Utvärdera specifik formel",
    "pl": "Oceń konkretną formułę",
    "it": "Valuta formula specifica",
    "es": "Evaluar fórmula específica"
  },
  "titleFormatted": {
    "en": "Evaluate formula [[formula]]",
    "no": "Evaluer formel [[formula]]",
    "de": "Formel [[formula]] auswerten",
    "nl": "Formule [[formula]] evalueren",
    "fr": "Évaluer la formule [[formula]]",
    "da": "Evaluer formel [[formula]]",
    "fi": "Arvioi kaava [[formula]]",
    "sv": "Utvärdera formel [[formula]]",
    "pl": "Oceń formułę [[formula]]",
    "it": "Valuta formula [[formula]]",
    "es": "Evaluar fórmula [[formula]]"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    },
    {
      "type": "autocomplete",
      "name": "formula",
      "title": {
        "en": "Formula",
        "no": "Formel",
        "de": "Formel",
        "nl": "Formule",
        "fr": "Formule",
        "da": "Formel",
        "fi": "Kaava",
        "sv": "Formel",
        "pl": "Formuła",
        "it": "Formula",
        "es": "Fórmula"
      },
      "placeholder": {
        "en": "Select formula",
        "no": "Velg formel",
        "de": "Wähle Formel",
        "nl": "Selecteer formule",
        "fr": "Sélectionner la formule",
        "da": "Vælg formel",
        "fi": "Valitse kaava",
        "sv": "Välj formel",
        "pl": "Wybierz formułę",
        "it": "Seleziona formula",
        "es": "Seleccionar fórmula"
      }
    }
  ]
}
--- END: .homeycompose/flow/actions/evaluate_formula_lu.json ---

--- START: .homeycompose/flow/actions/set_all_inputs_lu.json (sha256=337d32c052a542b8c80bd9eeccf85aaa22720cbeb6066406d1dff87724ebe1e6, bytes=5755) ---
{
  "id": "set_all_inputs_lu",
  "title": {
    "en": "Set all inputs from JSON (ALL formulas)",
    "no": "Sett alle innganger fra JSON (ALLE formler)",
    "de": "Alle Eingänge von JSON setzen (ALLE Formeln)",
    "nl": "Alle ingangen instellen vanuit JSON (ALLE formules)",
    "fr": "Définir toutes les entrées depuis JSON (TOUTES formules)",
    "da": "Indstil alle indgange fra JSON (ALLE formler)",
    "fi": "Aseta kaikki tulot JSON-muodosta (KAIKKI kaavat)",
    "sv": "Ställ in alla ingångar från JSON (ALLA formler)",
    "pl": "Ustaw wszystkie wejścia z JSON (WSZYSTKIE formuły)",
    "it": "Imposta tutti gli input da JSON (TUTTE le formule)",
    "es": "Establecer todas las entradas desde JSON (TODAS las fórmulas)"
  },
  "titleFormatted": {
    "en": "Set all inputs from JSON: [[values]] (for ALL formulas)",
    "no": "Sett alle innganger fra JSON: [[values]] (for ALLE formler)",
    "de": "Alle Eingänge von JSON setzen: [[values]] (für ALLE Formeln)",
    "nl": "Alle ingangen instellen vanuit JSON: [[values]] (voor ALLE formules)",
    "fr": "Définir toutes les entrées depuis JSON : [[values]] (pour TOUTES les formules)",
    "da": "Indstil alle indgange fra JSON: [[values]] (for ALLE formler)",
    "fi": "Aseta kaikki tulot JSON-muodosta: [[values]] (KAIKILLE kaavoille)",
    "sv": "Ställ in alla ingångar från JSON: [[values]] (för ALLA formler)",
    "pl": "Ustaw wszystkie wejścia z JSON: [[values]] (dla WSZYSTKICH formuł)",
    "it": "Imposta tutti gli input da JSON: [[values]] (per TUTTE le formule)",
    "es": "Establecer todas las entradas desde JSON: [[values]] (para TODAS las fórmulas)"
  },
  "hint": {
    "en": "⚠️ Sets ALL input values at once for ALL formulas in this Logic Unit from a JSON object. All formulas will receive the same input values. Use this when you want to update multiple inputs for all formulas simultaneously.",
    "no": "⚠️ Setter ALLE inngangsverdier samtidig for ALLE formler i denne Logic Unit fra et JSON-objekt. Alle formler vil motta de samme inngangsverdiene. Bruk denne når du vil oppdatere flere innganger for alle formler samtidig.",
    "de": "⚠️ Setzt ALLE Eingangswerte gleichzeitig für ALLE Formeln in dieser Logic Unit aus einem JSON-Objekt. Alle Formeln erhalten die gleichen Eingangswerte. Verwenden Sie dies, wenn Sie mehrere Eingänge für alle Formeln gleichzeitig aktualisieren möchten.",
    "nl": "⚠️ Stelt ALLE ingangswaarden tegelijk in voor ALLE formules in deze Logic Unit vanuit een JSON-object. Alle formules ontvangen dezelfde ingangswaarden. Gebruik dit wanneer u meerdere ingangen voor alle formules tegelijk wilt bijwerken.",
    "fr": "⚠️ Définit TOUTES les valeurs d'entrée en même temps pour TOUTES les formules de cette Logic Unit à partir d'un objet JSON. Toutes les formules recevront les mêmes valeurs d'entrée. Utilisez ceci lorsque vous souhaitez mettre à jour plusieurs entrées pour toutes les formules simultanément.",
    "da": "⚠️ Indstiller ALLE indgangsværdier på én gang for ALLE formler i denne Logic Unit fra et JSON-objekt. Alle formler vil modtage de samme indgangsværdier. Brug dette, når du vil opdatere flere indgange for alle formler samtidigt.",
    "fi": "⚠️ Asettaa KAIKKI tuloarvot kerralla KAIKILLE kaavoille tässä Logic Unitissa JSON-objektista. Kaikki kaavat saavat samat tuloarvot. Käytä tätä, kun haluat päivittää useita tuloja kaikille kaavoille samanaikaisesti.",
    "sv": "⚠️ Ställer in ALLA ingångsvärden på en gång för ALLA formler i denna Logic Unit från ett JSON-objekt. Alla formler kommer att få samma ingångsvärden. Använd detta när du vill uppdatera flera ingångar för alla formler samtidigt.",
    "pl": "⚠️ Ustawia WSZYSTKIE wartości wejściowe jednocześnie dla WSZYSTKICH formuł w tej Logic Unit z obiektu JSON. Wszystkie formuły otrzymają te same wartości wejściowe. Użyj tego, gdy chcesz zaktualizować wiele wejść dla wszystkich formuł jednocześnie.",
    "it": "⚠️ Imposta TUTTI i valori di input contemporaneamente per TUTTE le formule in questa Logic Unit da un oggetto JSON. Tutte le formule riceveranno gli stessi valori di input. Usa questo quando vuoi aggiornare più input per tutte le formule simultaneamente.",
    "es": "⚠️ Establece TODOS los valores de entrada a la vez para TODAS las fórmulas en esta Logic Unit desde un objeto JSON. Todas las fórmulas recibirán los mismos valores de entrada. Usa esto cuando quieras actualizar múltiples entradas para todas las fórmulas simultáneamente."
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    },
    {
      "type": "text",
      "name": "values",
      "title": {
        "en": "JSON values",
        "no": "JSON-verdier",
        "de": "JSON-Werte",
        "nl": "JSON-waarden",
        "fr": "Valeurs JSON",
        "da": "JSON-værdier",
        "fi": "JSON-arvot",
        "sv": "JSON-värden",
        "pl": "Wartości JSON",
        "it": "Valori JSON",
        "es": "Valores JSON"
      },
      "placeholder": {
        "en": "{\"A\": true, \"B\": false}",
        "no": "{\"A\": true, \"B\": false}",
        "de": "{\"A\": true, \"B\": false}",
        "nl": "{\"A\": true, \"B\": false}",
        "fr": "{\"A\": true, \"B\": false}",
        "da": "{\"A\": true, \"B\": false}",
        "fi": "{\"A\": true, \"B\": false}",
        "sv": "{\"A\": true, \"B\": false}",
        "pl": "{\"A\": true, \"B\": false}",
        "it": "{\"A\": true, \"B\": false}",
        "es": "{\"A\": true, \"B\": false}"
      }
    }
  ]
}
--- END: .homeycompose/flow/actions/set_all_inputs_lu.json ---

--- START: .homeycompose/flow/actions/set_input_lu.json (sha256=adbc82eff5b216d87429a0cc2492a41307f2c4729d678e602d9fd8a3a36f63a3, bytes=5962) ---
{
  "id": "set_input_lu",
  "title": {
    "en": "Set input value (ALL formulas)",
    "no": "Sett inngangsverdi (ALLE formler)",
    "de": "Eingangswert setzen (ALLE Formeln)",
    "nl": "Ingangswaarde instellen (ALLE formules)",
    "fr": "Définir la valeur d'entrée (TOUTES formules)",
    "da": "Indstil indgangsværdi (ALLE formler)",
    "fi": "Aseta tuloarvo (KAIKKI kaavat)",
    "sv": "Ställ in ingångsvärde (ALLA formler)",
    "pl": "Ustaw wartość wejściową (WSZYSTKIE formuły)",
    "it": "Imposta valore input (TUTTE le formule)",
    "es": "Establecer valor de entrada (TODAS las fórmulas)"
  },
  "titleFormatted": {
    "en": "Set input [[input]] to [[value]] (for ALL formulas)",
    "no": "Sett inngang [[input]] til [[value]] (for ALLE formler)",
    "de": "Eingang [[input]] auf [[value]] setzen (für ALLE Formeln)",
    "nl": "Ingang [[input]] instellen op [[value]] (voor ALLE formules)",
    "fr": "Mettre l'entrée [[input]] à [[value]] (pour TOUTES les formules)",
    "da": "Indstil indgang [[input]] til [[value]] (for ALLE formler)",
    "fi": "Aseta tulo [[input]] arvoon [[value]] (KAIKILLE kaavoille)",
    "sv": "Ställ in ingång [[input]] till [[value]] (för ALLA formler)",
    "pl": "Ustaw wejście [[input]] na [[value]] (dla WSZYSTKICH formuł)",
    "it": "Imposta input [[input]] a [[value]] (per TUTTE le formule)",
    "es": "Establecer entrada [[input]] a [[value]] (para TODAS las fórmulas)"
  },
  "hint": {
    "en": "⚠️ Sets the same input value for ALL formulas in this Logic Unit. All formulas that use this input will be updated. Use this when you want to control multiple formulas together.",
    "no": "⚠️ Setter samme inngangsverdi for ALLE formler i denne Logic Unit. Alle formler som bruker denne inngangen vil bli oppdatert. Bruk denne når du vil kontrollere flere formler sammen.",
    "de": "⚠️ Setzt den gleichen Eingangswert für ALLE Formeln in dieser Logic Unit. Alle Formeln, die diesen Eingang verwenden, werden aktualisiert. Verwenden Sie dies, wenn Sie mehrere Formeln zusammen steuern möchten.",
    "nl": "⚠️ Stelt dezelfde ingangswaarde in voor ALLE formules in deze Logic Unit. Alle formules die deze ingang gebruiken, worden bijgewerkt. Gebruik dit wanneer u meerdere formules samen wilt besturen.",
    "fr": "⚠️ Définit la même valeur d'entrée pour TOUTES les formules de cette Logic Unit. Toutes les formules qui utilisent cette entrée seront mises à jour. Utilisez ceci lorsque vous souhaitez contrôler plusieurs formules ensemble.",
    "da": "⚠️ Indstiller den samme indgangsværdi for ALLE formler i denne Logic Unit. Alle formler, der bruger denne indgang, vil blive opdateret. Brug dette, når du vil styre flere formler sammen.",
    "fi": "⚠️ Asettaa saman tuloarvon KAIKILLE kaavoille tässä Logic Unitissa. Kaikki tätä tuloa käyttävät kaavat päivitetään. Käytä tätä, kun haluat hallita useita kaavoja yhdessä.",
    "sv": "⚠️ Ställer in samma ingångsvärde för ALLA formler i denna Logic Unit. Alla formler som använder denna ingång kommer att uppdateras. Använd detta när du vill styra flera formler tillsammans.",
    "pl": "⚠️ Ustawia tę samą wartość wejściową dla WSZYSTKICH formuł w tej Logic Unit. Wszystkie formuły używające tego wejścia zostaną zaktualizowane. Użyj tego, gdy chcesz kontrolować wiele formuł razem.",
    "it": "⚠️ Imposta lo stesso valore di input per TUTTE le formule in questa Logic Unit. Tutte le formule che utilizzano questo input verranno aggiornate. Usa questo quando vuoi controllare più formule insieme.",
    "es": "⚠️ Establece el mismo valor de entrada para TODAS las fórmulas en esta Logic Unit. Todas las fórmulas que usan esta entrada se actualizarán. Usa esto cuando quieras controlar múltiples fórmulas juntas."
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    },
    {
      "type": "autocomplete",
      "name": "input",
      "title": {
        "en": "Input",
        "no": "Inngang",
        "de": "Eingang",
        "nl": "Ingang",
        "fr": "Entrée",
        "da": "Indgang",
        "fi": "Tulo",
        "sv": "Ingång",
        "pl": "Wejście",
        "it": "Input",
        "es": "Entrada"
      },
      "placeholder": {
        "en": "Select input",
        "no": "Velg inngang",
        "de": "Eingang wählen",
        "nl": "Selecteer ingang",
        "fr": "Sélectionner l'entrée",
        "da": "Vælg indgang",
        "fi": "Valitse tulo",
        "sv": "Välj ingång",
        "pl": "Wybierz wejście",
        "it": "Seleziona input",
        "es": "Seleccionar entrada"
      }
    },
    {
      "type": "dropdown",
      "name": "value",
      "title": {
        "en": "Value",
        "no": "Verdi",
        "de": "Wert",
        "nl": "Waarde",
        "fr": "Valeur",
        "da": "Værdi",
        "fi": "Arvo",
        "sv": "Värde",
        "pl": "Wartość",
        "it": "Valore",
        "es": "Valor"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "TRUE",
            "no": "SANN",
            "de": "WAHR",
            "nl": "WAAR",
            "fr": "VRAI",
            "da": "SAND",
            "fi": "TOSI",
            "sv": "SANT",
            "pl": "PRAWDA",
            "it": "VERO",
            "es": "VERDADERO"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "FALSE",
            "no": "USANN",
            "de": "FALSCH",
            "nl": "ONWAAR",
            "fr": "FAUX",
            "da": "FALSK",
            "fi": "EPÄTOSI",
            "sv": "FALSKT",
            "pl": "FAŁSZ",
            "it": "FALSO",
            "es": "FALSO"
          }
        }
      ]
    }
  ]
}
--- END: .homeycompose/flow/actions/set_input_lu.json ---

--- START: .homeycompose/flow/actions/set_input_value_lu.json (sha256=f195077d2b4e0f09845fede4ce101abd415d172c6fbe46195a68eb522dd8e11f, bytes=6301) ---
{
  "id": "set_input_value_lu",
  "title": {
    "en": "Set input value (specific formula)",
    "no": "Sett inngangsverdi (spesifikk formel)",
    "de": "Eingangswert setzen (spezifische Formel)",
    "nl": "Ingangswaarde instellen (specifieke formule)",
    "fr": "Définir la valeur d'entrée (formule spécifique)",
    "da": "Indstil indgangsværdi (specifik formel)",
    "fi": "Aseta tuloarvo (tietty kaava)",
    "sv": "Ställ in ingångsvärde (specifik formel)",
    "pl": "Ustaw wartość wejściową (konkretna formuła)",
    "it": "Imposta valore input (formula specifica)",
    "es": "Establecer valor de entrada (fórmula específica)"
  },
  "titleFormatted": {
    "en": "Set input [[input]] to [[value]] for formula [[formula]]",
    "no": "Sett inngang [[input]] til [[value]] for formel [[formula]]",
    "de": "Eingang [[input]] auf [[value]] für Formel [[formula]] setzen",
    "nl": "Ingang [[input]] instellen op [[value]] voor formule [[formula]]",
    "fr": "Mettre l'entrée [[input]] à [[value]] pour la formule [[formula]]",
    "da": "Indstil indgang [[input]] til [[value]] for formel [[formula]]",
    "fi": "Aseta tulo [[input]] arvoon [[value]] kaavalle [[formula]]",
    "sv": "Ställ in ingång [[input]] till [[value]] för formel [[formula]]",
    "pl": "Ustaw wejście [[input]] na [[value]] dla formuły [[formula]]",
    "it": "Imposta input [[input]] a [[value]] per formula [[formula]]",
    "es": "Establecer entrada [[input]] a [[value]] para fórmula [[formula]]"
  },
  "hint": {
    "en": "✅ Sets the input value for ONE specific formula only. Other formulas are not affected. Use this when you want to control formulas independently.",
    "no": "✅ Setter inngangsverdien for KUN ÉN spesifikk formel. Andre formler påvirkes ikke. Bruk denne når du vil kontrollere formler uavhengig.",
    "de": "✅ Setzt den Eingangswert für NUR EINE spezifische Formel. Andere Formeln werden nicht beeinflusst. Verwenden Sie dies, wenn Sie Formeln unabhängig steuern möchten.",
    "nl": "✅ Stelt de ingangswaarde in voor SLECHTS ÉÉN specifieke formule. Andere formules worden niet beïnvloed. Gebruik dit wanneer u formules onafhankelijk wilt besturen.",
    "fr": "✅ Définit la valeur d'entrée pour UNE SEULE formule spécifique. Les autres formules ne sont pas affectées. Utilisez ceci lorsque vous souhaitez contrôler les formules indépendamment.",
    "da": "✅ Indstiller indgangsværdien for KUN ÉN specifik formel. Andre formler påvirkes ikke. Brug dette, når du vil styre formler uafhængigt.",
    "fi": "✅ Asettaa tuloarvon vain YHDELLE tietylle kaavalle. Muut kaavat eivät vaikuta. Käytä tätä, kun haluat hallita kaavoja itsenäisesti.",
    "sv": "✅ Ställer in ingångsvärdet för ENDAST EN specifik formel. Andra formler påverkas inte. Använd detta när du vill styra formler oberoende.",
    "pl": "✅ Ustawia wartość wejściową dla TYLKO JEDNEJ konkretnej formuły. Inne formuły nie są dotknięte. Użyj tego, gdy chcesz kontrolować formuły niezależnie.",
    "it": "✅ Imposta il valore di input per UNA SOLA formula specifica. Le altre formule non sono interessate. Usa questo quando vuoi controllare le formule indipendentemente.",
    "es": "✅ Establece el valor de entrada para UNA SOLA fórmula específica. Otras fórmulas no se ven afectadas. Usa esto cuando quieras controlar fórmulas de forma independiente."
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    },
    {
      "type": "autocomplete",
      "name": "formula",
      "title": {
        "en": "Formula",
        "no": "Formel",
        "de": "Formel",
        "nl": "Formule",
        "fr": "Formule",
        "da": "Formel",
        "fi": "Kaava",
        "sv": "Formel",
        "pl": "Formuła",
        "it": "Formula",
        "es": "Fórmula"
      },
      "placeholder": {
        "en": "Select formula",
        "no": "Velg formel",
        "de": "Wähle Formel",
        "nl": "Selecteer formule",
        "fr": "Sélectionner la formule",
        "da": "Vælg formel",
        "fi": "Valitse kaava",
        "sv": "Välj formel",
        "pl": "Wybierz formułę",
        "it": "Seleziona formula",
        "es": "Seleccionar fórmula"
      }
    },
    {
      "type": "autocomplete",
      "name": "input",
      "title": {
        "en": "Input",
        "no": "Inngang",
        "de": "Eingang",
        "nl": "Ingang",
        "fr": "Entrée",
        "da": "Indgang",
        "fi": "Tulo",
        "sv": "Ingång",
        "pl": "Wejście",
        "it": "Input",
        "es": "Entrada"
      },
      "placeholder": {
        "en": "Select input",
        "no": "Velg inngang",
        "de": "Eingang wählen",
        "nl": "Selecteer ingang",
        "fr": "Sélectionner l'entrée",
        "da": "Vælg indgang",
        "fi": "Valitse tulo",
        "sv": "Välj ingång",
        "pl": "Wybierz wejście",
        "it": "Seleziona input",
        "es": "Seleccionar entrada"
      }
    },
    {
      "type": "dropdown",
      "name": "value",
      "title": {
        "en": "Value",
        "no": "Verdi",
        "de": "Wert",
        "nl": "Waarde",
        "fr": "Valeur",
        "da": "Værdi",
        "fi": "Arvo",
        "sv": "Värde",
        "pl": "Wartość",
        "it": "Valore",
        "es": "Valor"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "TRUE",
            "no": "SANN",
            "de": "WAHR",
            "nl": "WAAR",
            "fr": "VRAI",
            "da": "SAND",
            "fi": "TOSI",
            "sv": "SANT",
            "pl": "PRAWDA",
            "it": "VERO",
            "es": "VERDADERO"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "FALSE",
            "no": "USANN",
            "de": "FALSCH",
            "nl": "ONWAAR",
            "fr": "FAUX",
            "da": "FALSK",
            "fi": "EPÄTOSI",
            "sv": "FALSKT",
            "pl": "FAŁSZ",
            "it": "FALSO",
            "es": "FALSO"
          }
        }
      ]
    }
  ]
}
--- END: .homeycompose/flow/actions/set_input_value_lu.json ---

--- START: .homeycompose/flow/conditions/formula_has_timed_out_ld.json (sha256=a24859e59d7adf6fc7e18e2767786f89672deb52c7235843e49fe6ba616a5d8c, bytes=498) ---
{
  "id": "formula_has_timed_out_ld",
  "title": {
    "en": "Has an error",
    "nl": "Heeft een fout",
    "sv": "Har ett fel",
    "no": "Har en feil",
    "it": "Ha un errore",
    "de": "Hat einen Fehler",
    "da": "Har en fejl",
    "es": "Tiene un error",
    "fi": "Sisältää virheen",
    "fr": "A une erreur",
    "pl": "Wystąpił błąd"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-device"
    }
  ]
}
--- END: .homeycompose/flow/conditions/formula_has_timed_out_ld.json ---

--- START: .homeycompose/flow/conditions/formula_has_timed_out_lu.json (sha256=21e0d740de55c51cc3ab8f1f9abfd8f69629ae303e42305db466a648e983d861, bytes=2331) ---
{
  "id": "formula_has_timed_out_lu",
  "title": {
    "en": "Formula !{{has|has not}} timed out",
    "no": "Formel !{{har|har ikke}} fått timeout",
    "de": "Formel !{{hat|hat nicht}} Zeitüberschreitung",
    "nl": "Formule !{{is|is niet}} verlopen",
    "fr": "Formule !{{a|n'a pas}} expiré",
    "da": "Formel !{{har|har ikke}} fået timeout",
    "fi": "Kaava !{{on|ei ole}} aikakatkaistu",
    "sv": "Formel !{{har|har inte}} fått timeout",
    "pl": "Formuła !{{przekroczyła|nie przekroczyła}} limit czasu",
    "it": "Formula !{{ha|non ha}} timeout",
    "es": "Fórmula !{{ha|no ha}} expirado"
  },
  "titleFormatted": {
    "en": "Formula [[formula]] !{{has|has not}} timed out",
    "no": "Formel [[formula]] !{{har|har ikke}} fått timeout",
    "de": "Formel [[formula]] !{{hat|hat nicht}} Zeitüberschreitung",
    "nl": "Formule [[formula]] !{{is|is niet}} verlopen",
    "fr": "Formule [[formula]] !{{a|n'a pas}} expiré",
    "da": "Formel [[formula]] !{{har|har ikke}} fået timeout",
    "fi": "Kaava [[formula]] !{{on|ei ole}} aikakatkaistu",
    "sv": "Formel [[formula]] !{{har|har inte}} fått timeout",
    "pl": "Formuła [[formula]] !{{przekroczyła|nie przekroczyła}} limit czasu",
    "it": "Formula [[formula]] !{{ha|non ha}} timeout",
    "es": "Fórmula [[formula]] !{{ha|no ha}} expirado"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    },
    {
      "type": "autocomplete",
      "name": "formula",
      "title": {
        "en": "Formula",
        "no": "Formel",
        "de": "Formel",
        "nl": "Formule",
        "fr": "Formule",
        "da": "Formel",
        "fi": "Kaava",
        "sv": "Formel",
        "pl": "Formuła",
        "it": "Formula",
        "es": "Fórmula"
      },
      "placeholder": {
        "en": "Select formula",
        "no": "Velg formel",
        "de": "Wähle Formel",
        "nl": "Selecteer formule",
        "fr": "Sélectionner la formule",
        "da": "Vælg formel",
        "fi": "Valitse kaava",
        "sv": "Välj formel",
        "pl": "Wybierz formułę",
        "it": "Seleziona formula",
        "es": "Seleccionar fórmula"
      }
    }
  ]
}
--- END: .homeycompose/flow/conditions/formula_has_timed_out_lu.json ---

--- START: .homeycompose/flow/conditions/formula_result_is_ld.json (sha256=60851d5dc557a90b9705d4934482d50eea0b23d4af49f48b53a69473f3342213, bytes=1466) ---
{
  "id": "formula_result_is_ld",
  "title": {
    "en": "The result is...",
    "nl": "Het resultaat is...",
    "sv": "Resultatet är...",
    "no": "Resultatet er...",
    "it": "Il risultato è...",
    "de": "Das Ergebnis ist...",
    "da": "Resultatet er...",
    "es": "El resultado es...",
    "fi": "Tulos on...",
    "fr": "Le résultat est...",
    "pl": "Wynik to..."
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-device",
      "values": [
        {
          "id": "true",
          "title": {
            "en": "True (Yes)",
            "nl": "Waar (Ja)",
            "sv": "Sant (Ja)",
            "no": "Sant (Ja)",
            "it": "Vero (Sì)",
            "de": "Wahr (Ja)",
            "da": "Sand (Ja)",
            "es": "Verdadero (Sí)",
            "fi": "Tosi (Kyllä)",
            "fr": "Vrai (Oui)",
            "pl": "Prawda (Tak)"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "False (No)",
            "nl": "Niet waar (Nee)",
            "sv": "Falskt (Nej)",
            "no": "Usant (Nei)",
            "it": "Falso (No)",
            "de": "Falsch (Nein)",
            "da": "Falsk (Nej)",
            "es": "Falso (No)",
            "fi": "Epätosi (Ei)",
            "fr": "Faux (Non)",
            "pl": "Fałsz (Nie)"
          }
        }
      ]
    }
  ]
}
--- END: .homeycompose/flow/conditions/formula_result_is_ld.json ---

--- START: .homeycompose/flow/conditions/formula_result_is_lu.json (sha256=639979053fe61654129abbc22bd0432bc3f667d90599e72cddcb603ca1e410c2, bytes=3217) ---
{
  "id": "formula_result_is_lu",
  "title": {
    "en": "Formula result is...",
    "no": "Formelresultat er...",
    "de": "Formelergebnis ist...",
    "nl": "Formule resultaat is...",
    "fr": "Résultat de la formule est...",
    "da": "Formelresultat er...",
    "fi": "Kaavan tulos on...",
    "sv": "Formelresultat är...",
    "pl": "Wynik formuły to...",
    "it": "Risultato formula è...",
    "es": "Resultado de fórmula es..."
  },
  "titleFormatted": {
    "en": "Formula [[formula]] result is [[what_is]]",
    "no": "Formel [[formula]] resultat er [[what_is]]",
    "de": "Formel [[formula]] Ergebnis ist [[what_is]]",
    "nl": "Formule [[formula]] resultaat is [[what_is]]",
    "fr": "Formule [[formula]] résultat est [[what_is]]",
    "da": "Formel [[formula]] resultat er [[what_is]]",
    "fi": "Kaava [[formula]] tulos on [[what_is]]",
    "sv": "Formel [[formula]] resultat är [[what_is]]",
    "pl": "Formuła [[formula]] wynik to [[what_is]]",
    "it": "Formula [[formula]] risultato è [[what_is]]",
    "es": "Fórmula [[formula]] resultado es [[what_is]]"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    },
    {
      "type": "autocomplete",
      "name": "formula",
      "title": {
        "en": "Formula",
        "no": "Formel",
        "de": "Formel",
        "nl": "Formule",
        "fr": "Formule",
        "da": "Formel",
        "fi": "Kaava",
        "sv": "Formel",
        "pl": "Formuła",
        "it": "Formula",
        "es": "Fórmula"
      },
      "placeholder": {
        "en": "Select formula",
        "no": "Velg formel",
        "de": "Wähle Formel",
        "nl": "Selecteer formule",
        "fr": "Sélectionner la formule",
        "da": "Vælg formel",
        "fi": "Valitse kaava",
        "sv": "Välj formel",
        "pl": "Wybierz formułę",
        "it": "Seleziona formula",
        "es": "Seleccionar fórmula"
      }
    },
    {
      "type": "dropdown",
      "name": "what_is",
      "title": {
        "en": "Value",
        "no": "Verdi",
        "de": "Wert",
        "nl": "Waarde",
        "fr": "Valeur",
        "da": "Værdi",
        "fi": "Arvo",
        "sv": "Värde",
        "pl": "Wartość",
        "it": "Valore",
        "es": "Valor"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "TRUE",
            "no": "SANN",
            "de": "WAHR",
            "nl": "WAAR",
            "fr": "VRAI",
            "da": "SAND",
            "fi": "TOSI",
            "sv": "SANT",
            "pl": "PRAWDA",
            "it": "VERO",
            "es": "VERDADERO"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "FALSE",
            "no": "USANN",
            "de": "FALSCH",
            "nl": "ONWAAR",
            "fr": "FAUX",
            "da": "FALSK",
            "fi": "EPÄTOSI",
            "sv": "FALSKT",
            "pl": "FAŁSZ",
            "it": "FALSO",
            "es": "FALSO"
          }
        }
      ]
    }
  ]
}
--- END: .homeycompose/flow/conditions/formula_result_is_lu.json ---

--- START: .homeycompose/flow/conditions/has_any_error_ld.json (sha256=348a20d5417e63ab93285681aa51d7e345dfaea6d83e87a8046b671dabbcf965, bytes=1201) ---
{
  "id": "has_any_error_ld",
  "title": {
    "en": "Device !{{has|has no}} error",
    "no": "Enhet !{{har|har ingen}} feil",
    "de": "Gerät !{{hat|hat keinen}} Fehler",
    "nl": "Apparaat !{{heeft|heeft geen}} fout",
    "fr": "Appareil !{{a|n'a pas}} d'erreur",
    "da": "Enhed !{{har|har ingen}} fejl",
    "fi": "Laite !{{on|ei ole}} virheellinen",
    "sv": "Enhet !{{har|har inget}} fel",
    "pl": "Urządzenie !{{ma|nie ma}} błędu",
    "it": "Dispositivo !{{ha|non ha}} errori",
    "es": "Dispositivo !{{tiene|no tiene}} error"
  },
  "titleFormatted": {
    "en": "Device !{{has|has no}} error",
    "no": "Enhet !{{har|har ingen}} feil",
    "de": "Gerät !{{hat|hat keinen}} Fehler",
    "nl": "Apparaat !{{heeft|heeft geen}} fout",
    "fr": "Appareil !{{a|n'a pas}} d'erreur",
    "da": "Enhed !{{har|har ingen}} fejl",
    "fi": "Laite !{{on|ei ole}} virheellinen",
    "sv": "Enhet !{{har|har inget}} fel",
    "pl": "Urządzenie !{{ma|nie ma}} błędu",
    "it": "Dispositivo !{{ha|non ha}} errori",
    "es": "Dispositivo !{{tiene|no tiene}} error"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-device"
    }
  ]
}
--- END: .homeycompose/flow/conditions/has_any_error_ld.json ---

--- START: .homeycompose/flow/conditions/has_any_error_lu.json (sha256=efc1f339163c7e95a12fd15973897a01246b084cdc2ba79a947264e4d73ee344, bytes=1317) ---
{
  "id": "has_any_error_lu",
  "title": {
    "en": "Device !{{has|has no}} error",
    "no": "Enhet !{{har|har ingen}} feil",
    "de": "Gerät !{{hat|hat keinen}} Fehler",
    "nl": "Apparaat !{{heeft|heeft geen}} fout",
    "fr": "Appareil !{{a|n'a pas}} d'erreur",
    "da": "Enhed !{{har|har ingen}} fejl",
    "fi": "Laite !{{on|ei ole}} virheellinen",
    "sv": "Enhet !{{har|har inget}} fel",
    "pl": "Urządzenie !{{ma|nie ma}} błędu",
    "it": "Dispositivo !{{ha|non ha}} errori",
    "es": "Dispositivo !{{tiene|no tiene}} error"
  },
  "titleFormatted": {
    "en": "Device !{{has|has no}} error",
    "no": "Enhet !{{har|har ingen}} feil",
    "de": "Gerät !{{hat|hat keinen}} Fehler",
    "nl": "Apparaat !{{heeft|heeft geen}} fout",
    "fr": "Appareil !{{a|n'a pas}} d'erreur",
    "da": "Enhed !{{har|har ingen}} fejl",
    "fi": "Laite !{{on|ei ole}} virheellinen",
    "sv": "Enhet !{{har|har inget}} fel",
    "pl": "Urządzenie !{{ma|nie ma}} błędu",
    "it": "Dispositivo !{{ha|non ha}} errori",
    "es": "Dispositivo !{{tiene|no tiene}} error"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    }
  ]
}
--- END: .homeycompose/flow/conditions/has_any_error_lu.json ---

--- START: .homeycompose/flow/conditions/has_error.json (sha256=2f5658449f9e1bd5997d9571c786ecdfe497a9976f4c7f2cb3a32c2f1de3c0ef, bytes=2111) ---
{
  "title": {
    "en": "!{{Has|Has no}} error",
    "no": "!{{Har|Har ingen}} feil",
    "de": "!{{Hat|Hat keinen}} Fehler",
    "nl": "!{{Heeft|Heeft geen}} fout",
    "fr": "!{{A|N'a pas}} d'erreur",
    "da": "!{{Har|Har ingen}} fejl",
    "fi": "!{{On|Ei ole}} virhe",
    "sv": "!{{Har|Har inget}} fel",
    "pl": "!{{Ma|Nie ma}} błąd",
    "it": "!{{Ha|Non ha}} errore",
    "es": "!{{Tiene|No tiene}} error"
  },
  "titleFormatted": {
    "en": "!{{Has|Has no}} error in [[text_input]]",
    "no": "!{{Har|Har ingen}} feil i [[text_input]]",
    "de": "!{{Hat|Hat keinen}} Fehler in [[text_input]]",
    "nl": "!{{Heeft|Heeft geen}} fout in [[text_input]]",
    "fr": "!{{A|N'a pas}} d'erreur dans [[text_input]]",
    "da": "!{{Har|Har ingen}} fejl i [[text_input]]",
    "fi": "!{{On|Ei ole}} virhe [[text_input]]:ssa",
    "sv": "!{{Har|Har inget}} fel i [[text_input]]",
    "pl": "!{{Ma|Nie ma}} błąd w [[text_input]]",
    "it": "!{{Ha|Non ha}} errore in [[text_input]]",
    "es": "!{{Tiene|No tiene}} error en [[text_input]]"
  },
  "args": [
    {
      "type": "text",
      "name": "text_input",
      "title": {
        "en": "Error message",
        "no": "Feilmelding",
        "de": "Fehlermeldung",
        "nl": "Foutmelding",
        "fr": "Message d'erreur",
        "da": "Fejlmeddelelse",
        "fi": "Virheilmoitus",
        "sv": "Felmeddelande",
        "pl": "Komunikat o błędzie",
        "it": "Messaggio di errore",
        "es": "Mensaje de error"
      },
      "placeholder": {
        "en": "Enter error message or token",
        "no": "Skriv inn feilmelding eller token",
        "de": "Fehlermeldung oder Token eingeben",
        "nl": "Voer foutmelding of token in",
        "fr": "Entrez le message d'erreur ou le jeton",
        "da": "Indtast fejlmeddelelse eller token",
        "fi": "Anna virheilmoitus tai tunniste",
        "sv": "Ange felmeddelande eller token",
        "pl": "Wprowadź komunikat o błędzie lub token",
        "it": "Inserisci messaggio di errore o token",
        "es": "Introducir mensaje de error o token"
      }
    }
  ]
}
--- END: .homeycompose/flow/conditions/has_error.json ---

--- START: .homeycompose/flow/triggers/device_alarm_changed_to_ld.json (sha256=b66d224c37f8a4e977860b82626117bcb454c656707424ccefb99bcc54d34eb7, bytes=5392) ---
{
  "id": "device_alarm_changed_to_ld",
  "title": {
    "en": "Device alarm changed to...",
    "no": "Enhetsalarm endret til...",
    "da": "Enhedsalarm ændret til...",
    "de": "Gerätealarm geändert zu...",
    "es": "Alarma del dispositivo cambió a...",
    "fr": "Alarme de l'appareil changée vers...",
    "it": "Allarme dispositivo cambiato in...",
    "nl": "Apparaat alarm veranderd naar...",
    "sv": "Enhetslarm ändrat till...",
    "pl": "Alarm urządzenia zmieniony na...",
    "ru": "Тревога устройства изменена на...",
    "ko": "장치 알람이 다음으로 변경됨..."
  },
  "titleFormatted": {
    "en": "Device alarm changed to [[alarm_state]]",
    "no": "Enhetsalarm endret til [[alarm_state]]",
    "da": "Enhedsalarm ændret til [[alarm_state]]",
    "de": "Gerätealarm geändert zu [[alarm_state]]",
    "es": "Alarma del dispositivo cambió a [[alarm_state]]",
    "fr": "Alarme de l'appareil changée vers [[alarm_state]]",
    "it": "Allarme dispositivo cambiato in [[alarm_state]]",
    "nl": "Apparaat alarm veranderd naar [[alarm_state]]",
    "sv": "Enhetslarm ändrat till [[alarm_state]]",
    "pl": "Alarm urządzenia zmieniony na [[alarm_state]]",
    "ru": "Тревога устройства изменена на [[alarm_state]]",
    "ko": "장치 알람이 [[alarm_state]](으)로 변경됨"
  },
  "hint": {
    "en": "Triggers when the device's alarm state changes to the selected value.",
    "no": "Utløses når enhetens alarmtilstand endres til den valgte verdien.",
    "da": "Udløser når enhedens alarmstilstand ændres til den valgte værdi.",
    "de": "Wird ausgelöst, wenn sich der Alarmzustand des Geräts auf den ausgewählten Wert ändert.",
    "es": "Se activa cuando el estado de alarma del dispositivo cambia al valor seleccionado.",
    "fr": "Se déclenche lorsque l'état d'alarme de l'appareil change vers la valeur sélectionnée.",
    "it": "Si attiva quando lo stato di allarme del dispositivo cambia al valore selezionato.",
    "nl": "Wordt geactiveerd wanneer de alarmstatus van het apparaat verandert naar de geselecteerde waarde.",
    "sv": "Utlöser när enhetens alarmtillstånd ändras till det valda värdet.",
    "pl": "Wyzwala się, gdy stan alarmu urządzenia zmienia się na wybraną wartość.",
    "ru": "Срабатывает при изменении состояния тревоги устройства на выбранное значение.",
    "ko": "장치의 알람 상태가 선택한 값으로 변경될 때 트리거됩니다."
  },
  "args": [
    {
      "name": "device",
      "type": "device",
      "filter": "driver_id=logic-device"
    },
    {
      "name": "alarm_state",
      "type": "dropdown",
      "title": {
        "en": "Alarm state",
        "no": "Alarmtilstand",
        "da": "Alarmstilstand",
        "de": "Alarmzustand",
        "es": "Estado de alarma",
        "fr": "État d'alarme",
        "it": "Stato allarme",
        "nl": "Alarmstatus",
        "sv": "Alarmtillstånd",
        "pl": "Stan alarmu",
        "ru": "Состояние тревоги",
        "ko": "알람 상태"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "On (active)",
            "no": "På (aktiv)",
            "da": "Til (aktiv)",
            "de": "Ein (aktiv)",
            "es": "Encendido (activo)",
            "fr": "Allumé (actif)",
            "it": "Acceso (attivo)",
            "nl": "Aan (actief)",
            "sv": "På (aktiv)",
            "pl": "Włączony (aktywny)",
            "ru": "Вкл (активно)",
            "ko": "켜짐 (활성)"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "Off (inactive)",
            "no": "Av (inaktiv)",
            "da": "Fra (inaktiv)",
            "de": "Aus (inaktiv)",
            "es": "Apagado (inactivo)",
            "fr": "Éteint (inactif)",
            "it": "Spento (inattivo)",
            "nl": "Uit (inactief)",
            "sv": "Av (inaktiv)",
            "pl": "Wyłączony (nieaktywny)",
            "ru": "Выкл (неактивно)",
            "ko": "꺼짐 (비활성)"
          }
        }
      ]
    }
  ],
  "tokens": [
    {
      "name": "device_name",
      "type": "string",
      "title": {
        "en": "Device name",
        "no": "Enhetsnavn",
        "da": "Enhedsnavn",
        "de": "Gerätename",
        "es": "Nombre del dispositivo",
        "fr": "Nom de l'appareil",
        "it": "Nome dispositivo",
        "nl": "Apparaatnaam",
        "sv": "Enhetsnamn",
        "pl": "Nazwa urządzenia",
        "ru": "Имя устройства",
        "ko": "장치 이름"
      }
    },
    {
      "name": "alarm_state",
      "type": "boolean",
      "title": {
        "en": "Alarm state",
        "no": "Alarmtilstand",
        "da": "Alarmstilstand", 
        "de": "Alarmzustand",
        "es": "Estado de alarma",
        "fr": "État d'alarme",
        "it": "Stato allarme",
        "nl": "Alarmstatus",
        "sv": "Alarmtillstånd",
        "pl": "Stan alarmu",
        "ru": "Состояние тревоги",
        "ko": "알람 상태"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/device_alarm_changed_to_ld.json ---

--- START: .homeycompose/flow/triggers/device_alarm_is_ld.json (sha256=d3e43025a8085b05c1a6fa7dacf636b1c9dc14eacd8af06c0cbe157210759521, bytes=3778) ---
{
  "id": "device_alarm_is_ld",
  "title": {
    "en": "Device alarm is...",
    "no": "Enhetsalarm er...",
    "da": "Enhedsalarm er...",
    "de": "Gerätealarm ist...",
    "es": "La alarma del dispositivo está...",
    "fr": "L'alarme de l'appareil est...",
    "it": "L'allarme del dispositivo è...",
    "nl": "Apparaat alarm is...",
    "sv": "Enhetslarm är...",
    "pl": "Alarm urządzenia jest...",
    "ru": "Тревога устройства...",
    "ko": "장치 알람이..."
  },
  "titleFormatted": {
    "en": "Device alarm !{{is|isn't}} [[alarm_state]]",
    "no": "Enhetsalarm !{{er|er ikke}} [[alarm_state]]",
    "da": "Enhedsalarm !{{er|er ikke}} [[alarm_state]]",
    "de": "Gerätealarm !{{ist|ist nicht}} [[alarm_state]]",
    "es": "La alarma del dispositivo !{{está|no está}} [[alarm_state]]",
    "fr": "L'alarme de l'appareil !{{est|n'est pas}} [[alarm_state]]",
    "it": "L'allarme del dispositivo !{{è|non è}} [[alarm_state]]",
    "nl": "Apparaat alarm !{{is|is niet}} [[alarm_state]]",
    "sv": "Enhetslarm !{{är|är inte}} [[alarm_state]]",
    "pl": "Alarm urządzenia !{{jest|nie jest}} [[alarm_state]]",
    "ru": "Тревога устройства !{{включена|не включена}} [[alarm_state]]",
    "ko": "장치 알람이 !{{켜져|꺼져}} [[alarm_state]] 있음"
  },
  "hint": {
    "en": "Check if the device's alarm is currently on or off.",
    "no": "Sjekk om enhetens alarm er på eller av.",
    "da": "Tjek om enhedens alarm er til eller fra.",
    "de": "Überprüfen Sie, ob der Gerätealarm ein- oder ausgeschaltet ist.",
    "es": "Verifica si la alarma del dispositivo está encendida o apagada.",
    "fr": "Vérifiez si l'alarme de l'appareil est allumée ou éteinte.",
    "it": "Controlla se l'allarme del dispositivo è acceso o spento.",
    "nl": "Controleer of het apparaat alarm aan of uit staat.",
    "sv": "Kontrollera om enhetens alarm är på eller av.",
    "pl": "Sprawdź, czy alarm urządzenia jest włączony lub wyłączony.",
    "ru": "Проверьте, включена или выключена тревога устройства.",
    "ko": "장치의 알람이 현재 켜져 있는지 꺼져 있는지 확인하세요."
  },
  "args": [
    {
      "name": "device",
      "type": "device",
      "filter": "driver_id=logic-device"
    },
    {
      "name": "alarm_state",
      "type": "dropdown",
      "title": {
        "en": "Alarm state",
        "no": "Alarmtilstand",
        "da": "Alarmstilstand",
        "de": "Alarmzustand",
        "es": "Estado de alarma",
        "fr": "État d'alarme",
        "it": "Stato allarme",
        "nl": "Alarmstatus",
        "sv": "Alarmtillstånd",
        "pl": "Stan alarmu",
        "ru": "Состояние тревоги",
        "ko": "알람 상태"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "On",
            "no": "På",
            "da": "Til",
            "de": "Ein",
            "es": "Encendido",
            "fr": "Allumé",
            "it": "Acceso",
            "nl": "Aan",
            "sv": "På",
            "pl": "Włączony",
            "ru": "Вкл",
            "ko": "켜짐"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "Off",
            "no": "Av",
            "da": "Fra",
            "de": "Aus",
            "es": "Apagado",
            "fr": "Éteint",
            "it": "Spento",
            "nl": "Uit",
            "sv": "Av",
            "pl": "Wyłączony",
            "ru": "Выкл",
            "ko": "꺼짐"
          }
        }
      ]
    }
  ]
}
--- END: .homeycompose/flow/triggers/device_alarm_is_ld.json ---

--- START: .homeycompose/flow/triggers/device_alarm_state_changed_ld.json (sha256=52459f8ab2fadc60a0ad8c95c88cf28765221fb573bfcef12b9c82657094b468, bytes=2110) ---
{
  "id": "device_alarm_state_changed_ld",
  "title": {
    "en": "Device alarm state changed",
    "no": "Enhetsalarm-status endret",
    "de": "Gerätealarmstatus geändert",
    "nl": "Apparaat alarmstatus gewijzigd",
    "fr": "État d'alarme de l'appareil modifié",
    "da": "Enhedsalarmstatus ændret",
    "fi": "Laitteen hälytystila muuttunut",
    "sv": "Enhetslarmstatus ändrades",
    "pl": "Stan alarmu urządzenia zmienił się",
    "it": "Stato allarme dispositivo cambiato",
    "es": "Estado de alarma del dispositivo cambiado"
  },
  "hint": {
    "en": "Triggers when the Logic Device's alarm state changes (true/false)",
    "no": "Utløses når Logic Device sin alarmstatus endres (sant/usant)",
    "de": "Wird ausgelöst, wenn sich der Alarmstatus des Logic Device ändert (wahr/falsch)",
    "nl": "Wordt geactiveerd wanneer de alarmstatus van het Logic Device verandert (waar/onwaar)",
    "fr": "Se déclenche lorsque l'état d'alarme du Logic Device change (vrai/faux)",
    "da": "Udløses, når Logic Device's alarmstatus ændres (sand/falsk)",
    "fi": "Laukaistaan, kun Logic Device:n hälytystila muuttuu (tosi/epätosi)",
    "sv": "Utlöses när Logic Device:s larmstatus ändras (sant/falskt)",
    "pl": "Wyzwalane, gdy stan alarmu Logic Device zmienia się (prawda/fałsz)",
    "it": "Si attiva quando lo stato di allarme del Logic Device cambia (vero/falso)",
    "es": "Se activa cuando el estado de alarma del Logic Device cambia (verdadero/falso)"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-device"
    }
  ],
  "tokens": [
    {
      "name": "alarm_state",
      "type": "boolean",
      "title": {
        "en": "Alarm state",
        "no": "Alarmstatus",
        "de": "Alarmstatus",
        "nl": "Alarmstatus",
        "fr": "État d'alarme",
        "da": "Alarmstatus",
        "fi": "Hälytystila",
        "sv": "Larmstatus",
        "pl": "Stan alarmu",
        "it": "Stato allarme",
        "es": "Estado de alarma"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/device_alarm_state_changed_ld.json ---

--- START: .homeycompose/flow/triggers/device_alarm_turned_ld.json (sha256=a284a71cbda5f866dcc376bc4f6e08d6520db68ccb370a0f9813f89206413c16, bytes=4602) ---
{
  "id": "device_alarm_turned_ld",
  "title": {
    "en": "Device alarm turned...",
    "no": "Enhetsalarm skrudd...",
    "da": "Enhedsalarm slået...",
    "de": "Gerätealarm...",
    "es": "Alarma del dispositivo...",
    "fr": "Alarme de l'appareil...",
    "it": "Allarme dispositivo...",
    "nl": "Apparaat alarm...",
    "sv": "Enhetslarm...",
    "pl": "Alarm urządzenia...",
    "ru": "Тревога устройства...",
    "ko": "장치 알람..."
  },
  "titleFormatted": {
    "en": "Device alarm turned [[alarm_state]]",
    "no": "Enhetsalarm skrudd [[alarm_state]]",
    "da": "Enhedsalarm slået [[alarm_state]]",
    "de": "Gerätealarm [[alarm_state]]",
    "es": "Alarma del dispositivo [[alarm_state]]",
    "fr": "Alarme de l'appareil [[alarm_state]]",
    "it": "Allarme dispositivo [[alarm_state]]",
    "nl": "Apparaat alarm [[alarm_state]]",
    "sv": "Enhetslarm [[alarm_state]]",
    "pl": "Alarm urządzenia [[alarm_state]]",
    "ru": "Тревога устройства [[alarm_state]]",
    "ko": "장치 알람 [[alarm_state]]"
  },
  "hint": {
    "en": "Triggers when the device's alarm is turned on or off.",
    "no": "Utløses når enhetens alarm blir skrudd på eller av.",
    "da": "Udløser når enhedens alarm slås til eller fra.",
    "de": "Wird ausgelöst, wenn der Gerätealarm ein- oder ausgeschaltet wird.",
    "es": "Se activa cuando la alarma del dispositivo se enciende o apaga.",
    "fr": "Se déclenche lorsque l'alarme de l'appareil est allumée ou éteinte.",
    "it": "Si attiva quando l'allarme del dispositivo viene acceso o spento.",
    "nl": "Wordt geactiveerd wanneer het apparaat alarm wordt aan- of uitgezet.",
    "sv": "Utlöser när enhetens alarm slås på eller av.",
    "pl": "Wyzwala się, gdy alarm urządzenia jest włączony lub wyłączony.",
    "ru": "Срабатывает при включении или выключении тревоги устройства.",
    "ko": "장치의 알람이 켜지거나 꺼질 때 트리거됩니다."
  },
  "args": [
    {
      "name": "device",
      "type": "device",
      "filter": "driver_id=logic-device"
    },
    {
      "name": "alarm_state",
      "type": "dropdown",
      "title": {
        "en": "Alarm state",
        "no": "Alarmtilstand",
        "da": "Alarmstilstand",
        "de": "Alarmzustand",
        "es": "Estado de alarma",
        "fr": "État d'alarme",
        "it": "Stato allarme",
        "nl": "Alarmstatus",
        "sv": "Alarmtillstånd",
        "pl": "Stan alarmu",
        "ru": "Состояние тревоги",
        "ko": "알람 상태"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "On",
            "no": "På",
            "da": "Til",
            "de": "Ein",
            "es": "Encendido",
            "fr": "Allumé",
            "it": "Acceso",
            "nl": "Aan",
            "sv": "På",
            "pl": "Włączony",
            "ru": "Вкл",
            "ko": "켜짐"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "Off",
            "no": "Av",
            "da": "Fra",
            "de": "Aus",
            "es": "Apagado",
            "fr": "Éteint",
            "it": "Spento",
            "nl": "Uit",
            "sv": "Av",
            "pl": "Wyłączony",
            "ru": "Выкл",
            "ko": "꺼짐"
          }
        }
      ]
    }
  ],
  "tokens": [
    {
      "name": "device_name",
      "type": "string",
      "title": {
        "en": "Device name",
        "no": "Enhetsnavn",
        "da": "Enhedsnavn",
        "de": "Gerätename",
        "es": "Nombre del dispositivo",
        "fr": "Nom de l'appareil",
        "it": "Nome dispositivo",
        "nl": "Apparaatnaam",
        "sv": "Enhetsnamn",
        "pl": "Nazwa urządzenia",
        "ru": "Имя устройства",
        "ko": "장치 이름"
      }
    },
    {
      "name": "alarm_state",
      "type": "boolean",
      "title": {
        "en": "Alarm state",
        "no": "Alarmtilstand",
        "da": "Alarmstilstand",
        "de": "Alarmzustand",
        "es": "Estado de alarma",
        "fr": "État d'alarme",
        "it": "Stato allarme",
        "nl": "Alarmstatus",
        "sv": "Alarmtillstånd",
        "pl": "Stan alarmu",
        "ru": "Состояние тревоги",
        "ko": "알람 상태"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/device_alarm_turned_ld.json ---

--- START: .homeycompose/flow/triggers/device_is_turned_ld.json (sha256=a2a9ff98706f7a8f9e8e7c7cde3eaef8675d1b9f69c3bc48f285ca4b0c6c1aae, bytes=3425) ---
{
  "id": "device_is_turned_ld",
  "title": {
    "en": "Device is turned...",
    "no": "Enheten er skrudd...",
    "da": "Enheden er slået...",
    "de": "Gerät ist...",
    "es": "El dispositivo está...",
    "fr": "L'appareil est...",
    "it": "Il dispositivo è...",
    "nl": "Apparaat is...",
    "sv": "Enheten är...",
    "pl": "Urządzenie jest...",
    "ru": "Устройство...",
    "ko": "장치가..."
  },
  "titleFormatted": {
    "en": "Device !{{is|isn't}} turned [[on_state]]",
    "no": "Enheten !{{er|er ikke}} skrudd [[on_state]]",
    "da": "Enheden !{{er|er ikke}} slået [[on_state]]",
    "de": "Gerät !{{ist|ist nicht}} [[on_state]]",
    "es": "El dispositivo !{{está|no está}} [[on_state]]",
    "fr": "L'appareil !{{est|n'est pas}} [[on_state]]",
    "it": "Il dispositivo !{{è|non è}} [[on_state]]",
    "nl": "Apparaat !{{is|is niet}} [[on_state]]",
    "sv": "Enheten !{{är|är inte}} [[on_state]]",
    "pl": "Urządzenie !{{jest|nie jest}} [[on_state]]",
    "ru": "Устройство !{{включено|не включено}} [[on_state]]",
    "ko": "장치가 !{{켜져|꺼져}} [[on_state]] 있음"
  },
  "hint": {
    "en": "Check if the device is currently turned on or off.",
    "no": "Sjekk om enheten er skrudd på eller av.",
    "da": "Tjek om enheden er slået til eller fra.",
    "de": "Überprüfen Sie, ob das Gerät ein- oder ausgeschaltet ist.",
    "es": "Verifica si el dispositivo está encendido o apagado.",
    "fr": "Vérifiez si l'appareil est allumé ou éteint.",
    "it": "Controlla se il dispositivo è acceso o spento.",
    "nl": "Controleer of het apparaat aan of uit staat.",
    "sv": "Kontrollera om enheten är på eller av.",
    "pl": "Sprawdź, czy urządzenie jest włączone lub wyłączone.",
    "ru": "Проверьте, включено или выключено устройство.",
    "ko": "장치가 현재 켜져 있는지 꺼져 있는지 확인하세요."
  },
  "args": [
    {
      "name": "device",
      "type": "device",
      "filter": "driver_id=logic-device"
    },
    {
      "name": "on_state",
      "type": "dropdown",
      "title": {
        "en": "State",
        "no": "Tilstand",
        "da": "Tilstand",
        "de": "Zustand",
        "es": "Estado",
        "fr": "État",
        "it": "Stato",
        "nl": "Status",
        "sv": "Tillstånd",
        "pl": "Stan",
        "ru": "Состояние",
        "ko": "상태"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "On",
            "no": "På",
            "da": "Til",
            "de": "Ein",
            "es": "Encendido",
            "fr": "Allumé",
            "it": "Acceso",
            "nl": "Aan",
            "sv": "På",
            "pl": "Włączony",
            "ru": "Вкл",
            "ko": "켜짐"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "Off",
            "no": "Av",
            "da": "Fra",
            "de": "Aus",
            "es": "Apagado",
            "fr": "Éteint",
            "it": "Spento",
            "nl": "Uit",
            "sv": "Av",
            "pl": "Wyłączony",
            "ru": "Выкл",
            "ko": "꺼짐"
          }
        }
      ]
    }
  ]
}
--- END: .homeycompose/flow/triggers/device_is_turned_ld.json ---

--- START: .homeycompose/flow/triggers/device_on_state_changed_ld.json (sha256=c517bbdb7bbd49b39e57c02535e6e7e56ca7fd5486f8c22dab5a2b77102cb31e, bytes=2286) ---
{
  "id": "device_on_state_changed_ld",
  "title": {
    "en": "Device on-state changed",
    "no": "Enhet på-status endret",
    "de": "Gerät Ein-Status geändert",
    "nl": "Apparaat aan-status gewijzigd",
    "fr": "État d'activation de l'appareil modifié",
    "da": "Enheds tænd-status ændret",
    "fi": "Laitteen päällä-tila muuttunut",
    "sv": "Enhetens på-status ändrades",
    "pl": "Stan włączenia urządzenia zmienił się",
    "it": "Stato di accensione dispositivo cambiato",
    "es": "Estado de encendido del dispositivo cambiado"
  },
  "hint": {
    "en": "Triggers when the Logic Device's on/off state changes (enabled/disabled)",
    "no": "Utløses når Logic Device sin på/av-status endres (aktivert/deaktivert)",
    "de": "Wird ausgelöst, wenn sich der Ein/Aus-Status des Logic Device ändert (aktiviert/deaktiviert)",
    "nl": "Wordt geactiveerd wanneer de aan/uit-status van het Logic Device verandert (ingeschakeld/uitgeschakeld)",
    "fr": "Se déclenche lorsque l'état marche/arrêt du Logic Device change (activé/désactivé)",
    "da": "Udløses, når Logic Device's tænd/sluk-status ændres (aktiveret/deaktiveret)",
    "fi": "Laukaistaan, kun Logic Device:n päällä/pois-tila muuttuu (aktivoitu/deaktivoitu)",
    "sv": "Utlöses när Logic Device:s på/av-status ändras (aktiverad/inaktiverad)",
    "pl": "Wyzwalane, gdy stan włączenia/wyłączenia Logic Device zmienia się (aktywowany/dezaktywowany)",
    "it": "Si attiva quando lo stato acceso/spento del Logic Device cambia (attivato/disattivato)",
    "es": "Se activa cuando el estado encendido/apagado del Logic Device cambia (activado/desactivado)"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-device"
    }
  ],
  "tokens": [
    {
      "name": "on_state",
      "type": "boolean",
      "title": {
        "en": "On state",
        "no": "På-status",
        "de": "Ein-Status",
        "nl": "Aan-status",
        "fr": "État allumé",
        "da": "Tænd-status",
        "fi": "Päällä-tila",
        "sv": "På-status",
        "pl": "Stan włączenia",
        "it": "Stato acceso",
        "es": "Estado encendido"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/device_on_state_changed_ld.json ---

--- START: .homeycompose/flow/triggers/device_state_changed_ld_deprecated.json (sha256=3c9ee5633731abfdf36a2d1ec375dcfe2baae12a37508a4cdd3744c02cf25bcf, bytes=3667) ---
{
  "id": "device_state_changed_ld",
  "deprecated": true,
  "title": {
    "en": "Logic state changed to...",
    "no": "Logikk-status endret til...",
    "de": "Logikstatus geändert zu...",
    "nl": "Logische status veranderd naar...",
    "fr": "État logique changé vers...",
    "da": "Logisk status ændret til...",
    "fi": "Logiikkatila muuttui...",
    "sv": "Logikstatus ändrades till...",
    "pl": "Stan logiczny zmienił się na...",
    "it": "Stato logico cambiato a...",
    "es": "Estado lógico cambiado a..."
  },
  "titleFormatted": {
    "en": "Logic state changed to [[state]]",
    "no": "Logikk-status endret til [[state]]",
    "de": "Logikstatus geändert zu [[state]]",
    "nl": "Logische status veranderd naar [[state]]",
    "fr": "État logique changé vers [[state]]",
    "da": "Logisk status ændret til [[state]]",
    "fi": "Logiikkatila muuttui [[state]]",
    "sv": "Logikstatus ändrades till [[state]]",
    "pl": "Stan logiczny zmienił się na [[state]]",
    "it": "Stato logico cambiato a [[state]]",
    "es": "Estado lógico cambiado a [[state]]"
  },
  "hint": {
    "en": "Deprecated: Use 'Device alarm changed to...' instead",
    "no": "Utgått: Bruk 'Enhetsalarm endret til...' i stedet",
    "de": "Veraltet: Verwenden Sie stattdessen 'Gerätealarm geändert zu...'",
    "nl": "Vervangen: Gebruik 'Apparaat alarm gewijzigd naar...' in plaats daarvan",
    "fr": "Obsolète: Utilisez 'Alarme de l'appareil changée vers...' à la place",
    "da": "Forældet: Brug 'Enhedsalarm ændret til...' i stedet",
    "fi": "Vanhentunut: Käytä 'Laitteen hälytys muutettu...' sen sijaan",
    "sv": "Föråldrad: Använd 'Enhetslarm ändrades till...' istället",
    "pl": "Przestarzałe: Użyj 'Alarm urządzenia zmieniony na...' zamiast tego",
    "it": "Deprecato: Usa 'Allarme dispositivo cambiato a...' invece",
    "es": "Obsoleto: Use 'Alarma del dispositivo cambiada a...' en su lugar"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-device"
    },
    {
      "type": "dropdown",
      "name": "state",
      "title": {
        "en": "State",
        "no": "Status",
        "de": "Status",
        "nl": "Status",
        "fr": "État",
        "da": "Status",
        "fi": "Tila",
        "sv": "Status",
        "pl": "Stan",
        "it": "Stato",
        "es": "Estado"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "True",
            "no": "Sant",
            "de": "Wahr",
            "nl": "Waar",
            "fr": "Vrai",
            "da": "Sand",
            "fi": "Tosi",
            "sv": "Sant",
            "pl": "Prawda",
            "it": "Vero",
            "es": "Verdadero"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "False",
            "no": "Usant",
            "de": "Falsch",
            "nl": "Onwaar",
            "fr": "Faux",
            "da": "Falsk",
            "fi": "Epätosi",
            "sv": "Falskt",
            "pl": "Fałsz",
            "it": "Falso",
            "es": "Falso"
          }
        }
      ]
    }
  ],
  "tokens": [
    {
      "name": "state",
      "type": "boolean",
      "title": {
        "en": "State",
        "no": "Status",
        "de": "Status",
        "nl": "Status",
        "fr": "État",
        "da": "Status",
        "fi": "Tila",
        "sv": "Status",
        "pl": "Stan",
        "it": "Stato",
        "es": "Estado"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/device_state_changed_ld_deprecated.json ---

--- START: .homeycompose/flow/triggers/device_turned_ld.json (sha256=53e526168550a1666a472dc3923f2095cc03c5d8eab999a2bfb3b4219310b4ce, bytes=4168) ---
{
  "id": "device_turned_ld",
  "title": {
    "en": "Device turned...",
    "no": "Enhet skrudd...",
    "da": "Enhed slået...",
    "de": "Gerät...",
    "es": "Dispositivo...",
    "fr": "Appareil...",
    "it": "Dispositivo...",
    "nl": "Apparaat...",
    "sv": "Enhet...",
    "pl": "Urządzenie...",
    "ru": "Устройство...",
    "ko": "장치..."
  },
  "titleFormatted": {
    "en": "Device turned [[on_state]]",
    "no": "Enhet skrudd [[on_state]]",
    "da": "Enhed slået [[on_state]]",
    "de": "Gerät [[on_state]]",
    "es": "Dispositivo [[on_state]]",
    "fr": "Appareil [[on_state]]",
    "it": "Dispositivo [[on_state]]",
    "nl": "Apparaat [[on_state]]",
    "sv": "Enhet [[on_state]]",
    "pl": "Urządzenie [[on_state]]",
    "ru": "Устройство [[on_state]]",
    "ko": "장치 [[on_state]]"
  },
  "hint": {
    "en": "Triggers when the device is turned on or off.",
    "no": "Utløses når enheten blir skrudd på eller av.",
    "da": "Udløser når enheden slås til eller fra.",
    "de": "Wird ausgelöst, wenn das Gerät ein- oder ausgeschaltet wird.",
    "es": "Se activa cuando el dispositivo se enciende o apaga.",
    "fr": "Se déclenche lorsque l'appareil est allumé ou éteint.",
    "it": "Si attiva quando il dispositivo viene acceso o spento.",
    "nl": "Wordt geactiveerd wanneer het apparaat wordt aan- of uitgezet.",
    "sv": "Utlöser när enheten slås på eller av.",
    "pl": "Wyzwala się, gdy urządzenie jest włączone lub wyłączone.",
    "ru": "Срабатывает при включении или выключении устройства.",
    "ko": "장치가 켜지거나 꺼질 때 트리거됩니다."
  },
  "args": [
    {
      "name": "device",
      "type": "device",
      "filter": "driver_id=logic-device"
    },
    {
      "name": "on_state",
      "type": "dropdown",
      "title": {
        "en": "State",
        "no": "Tilstand",
        "da": "Tilstand",
        "de": "Zustand",
        "es": "Estado",
        "fr": "État",
        "it": "Stato",
        "nl": "Status",
        "sv": "Tillstånd",
        "pl": "Stan",
        "ru": "Состояние",
        "ko": "상태"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "On",
            "no": "På",
            "da": "Til",
            "de": "Ein",
            "es": "Encendido",
            "fr": "Allumé",
            "it": "Acceso",
            "nl": "Aan",
            "sv": "På",
            "pl": "Włączony",
            "ru": "Вкл",
            "ko": "켜짐"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "Off",
            "no": "Av",
            "da": "Fra",
            "de": "Aus",
            "es": "Apagado",
            "fr": "Éteint",
            "it": "Spento",
            "nl": "Uit",
            "sv": "Av",
            "pl": "Wyłączony",
            "ru": "Выкл",
            "ko": "꺼짐"
          }
        }
      ]
    }
  ],
  "tokens": [
    {
      "name": "device_name",
      "type": "string",
      "title": {
        "en": "Device name",
        "no": "Enhetsnavn",
        "da": "Enhedsnavn",
        "de": "Gerätename",
        "es": "Nombre del dispositivo",
        "fr": "Nom de l'appareil",
        "it": "Nome dispositivo",
        "nl": "Apparaatnaam",
        "sv": "Enhetsnamn",
        "pl": "Nazwa urządzenia",
        "ru": "Имя устройства",
        "ko": "장치 이름"
      }
    },
    {
      "name": "on_state",
      "type": "boolean",
      "title": {
        "en": "On state",
        "no": "På-tilstand",
        "da": "Til-tilstand",
        "de": "Ein-Zustand",
        "es": "Estado encendido",
        "fr": "État allumé",
        "it": "Stato acceso",
        "nl": "Aan-status",
        "sv": "På-tillstånd",
        "pl": "Stan włączenia",
        "ru": "Состояние включения",
        "ko": "켜짐 상태"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/device_turned_ld.json ---

--- START: .homeycompose/flow/triggers/formula_changed_to_false_lu_deprecated.json (sha256=b7ee0c536a69154bf66588cb4bfaa0c76a163a45db9c35dc65152fd6d0dc4a2e, bytes=4314) ---
{
  "id": "formula_changed_to_false_lu_deprecated",
  "deprecated": true,
  "title": {
    "en": "Formula changed to FALSE",
    "no": "Formel endret til USANN",
    "da": "Formel ændret til FALSK",
    "de": "Formel geändert zu FALSCH",
    "es": "Fórmula cambió a FALSO",
    "fr": "Formule changée vers FAUX",
    "it": "Formula cambiata in FALSO",
    "nl": "Formule veranderd naar ONWAAR",
    "sv": "Formel ändrad till FALSKT",
    "pl": "Formuła zmieniona na FAŁSZ",
    "ru": "Формула изменена на ЛОЖЬ",
    "ko": "공식이 거짓으로 변경됨"
  },
  "hint": {
    "en": "⚠️ DEPRECATED: Use 'Formula changed to...' instead. This card will be removed in a future update.",
    "no": "⚠️ FORELDET: Bruk 'Formel endret til...' i stedet. Dette kortet vil bli fjernet i en fremtidig oppdatering.",
    "da": "⚠️ FORÆLDET: Brug 'Formel ændret til...' i stedet. Dette kort vil blive fjernet i en fremtidig opdatering.",
    "de": "⚠️ VERALTET: Verwenden Sie stattdessen 'Formel geändert zu...'. Diese Karte wird in einem zukünftigen Update entfernt.",
    "es": "⚠️ OBSOLETO: Use 'Fórmula cambió a...' en su lugar. Esta tarjeta se eliminará en una actualización futura.",
    "fr": "⚠️ OBSOLÈTE: Utilisez 'Formule changée vers...' à la place. Cette carte sera supprimée dans une mise à jour future.",
    "it": "⚠️ DEPRECATO: Usa 'Formula cambiata in...' invece. Questa scheda verrà rimossa in un aggiornamento futuro.",
    "nl": "⚠️ VEROUDERD: Gebruik 'Formule veranderd naar...' in plaats daarvan. Deze kaart wordt verwijderd in een toekomstige update.",
    "sv": "⚠️ FÖRÅLDRAD: Använd 'Formel ändrad till...' istället. Detta kort kommer att tas bort i en framtida uppdatering.",
    "pl": "⚠️ PRZESTARZAŁE: Użyj 'Formuła zmieniona na...' zamiast tego. Ta karta zostanie usunięta w przyszłej aktualizacji.",
    "ru": "⚠️ УСТАРЕЛО: Используйте 'Формула изменена на...' вместо этого. Эта карточка будет удалена в будущем обновлении.",
    "ko": "⚠️ 더 이상 사용되지 않음: 대신 '공식이 다음으로 변경됨...'을 사용하세요. 이 카드는 향후 업데이트에서 제거됩니다."
  },
  "args": [
    {
      "name": "device",
      "type": "device",
      "filter": "driver_id=logic-unit"
    },
    {
      "name": "formula",
      "type": "autocomplete",
      "title": {
        "en": "Formula",
        "no": "Formel",
        "da": "Formel",
        "de": "Formel",
        "es": "Fórmula",
        "fr": "Formule",
        "it": "Formula",
        "nl": "Formule",
        "sv": "Formel",
        "pl": "Formuła",
        "ru": "Формула",
        "ko": "공식"
      },
      "placeholder": {
        "en": "Select a formula...",
        "no": "Velg en formel...",
        "da": "Vælg en formel...",
        "de": "Wählen Sie eine Formel...",
        "es": "Selecciona una fórmula...",
        "fr": "Sélectionnez une formule...",
        "it": "Seleziona una formula...",
        "nl": "Selecteer een formule...",
        "sv": "Välj en formel...",
        "pl": "Wybierz formułę...",
        "ru": "Выберите формулу...",
        "ko": "공식을 선택하세요..."
      }
    }
  ],
  "tokens": [
    {
      "name": "device_name",
      "type": "string",
      "title": {
        "en": "Device name",
        "no": "Enhetsnavn",
        "da": "Enhedsnavn",
        "de": "Gerätename",
        "es": "Nombre del dispositivo",
        "fr": "Nom de l'appareil",
        "it": "Nome dispositivo",
        "nl": "Apparaatnaam",
        "sv": "Enhetsnamn",
        "pl": "Nazwa urządzenia",
        "ru": "Имя устройства",
        "ko": "장치 이름"
      }
    },
    {
      "name": "formula_name",
      "type": "string",
      "title": {
        "en": "Formula name",
        "no": "Formelnavn",
        "da": "Formelnavn",
        "de": "Formelname",
        "es": "Nombre de fórmula",
        "fr": "Nom de la formule",
        "it": "Nome formula",
        "nl": "Formule naam",
        "sv": "Formelnamn",
        "pl": "Nazwa formuły",
        "ru": "Имя формулы",
        "ko": "공식 이름"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/formula_changed_to_false_lu_deprecated.json ---

--- START: .homeycompose/flow/triggers/formula_changed_to_lu.json (sha256=8165a5fc799f4c6b27009140410569ddb20bdbc3c97b8de0359d356e24eff7aa, bytes=6466) ---
{
  "id": "formula_changed_to_lu",
  "title": {
    "en": "Formula changed to...",
    "no": "Formel endret til...",
    "da": "Formel ændret til...",
    "de": "Formel geändert zu...",
    "es": "Fórmula cambió a...",
    "fr": "Formule changée vers...",
    "it": "Formula cambiata in...",
    "nl": "Formule veranderd naar...",
    "sv": "Formel ändrad till...",
    "pl": "Formuła zmieniona na...",
    "ru": "Формула изменена на...",
    "ko": "공식이 다음으로 변경됨..."
  },
  "titleFormatted": {
    "en": "Formula [[formula]] changed to [[result]]",
    "no": "Formel [[formula]] endret til [[result]]",
    "da": "Formel [[formula]] ændret til [[result]]",
    "de": "Formel [[formula]] geändert zu [[result]]",
    "es": "Fórmula [[formula]] cambió a [[result]]",
    "fr": "Formule [[formula]] changée vers [[result]]",
    "it": "Formula [[formula]] cambiata in [[result]]",
    "nl": "Formule [[formula]] veranderd naar [[result]]",
    "sv": "Formel [[formula]] ändrad till [[result]]",
    "pl": "Formuła [[formula]] zmieniona na [[result]]",
    "ru": "Формула [[formula]] изменена на [[result]]",
    "ko": "공식 [[formula]]이(가) [[result]](으)로 변경됨"
  },
  "hint": {
    "en": "Triggers when the selected formula changes to the specified result (TRUE or FALSE).",
    "no": "Utløses når den valgte formelen endres til det spesifiserte resultatet (SANN eller USANN).",
    "da": "Udløser når den valgte formel ændres til det specificerede resultat (SAND eller FALSK).",
    "de": "Wird ausgelöst, wenn die ausgewählte Formel sich zum angegebenen Ergebnis (WAHR oder FALSCH) ändert.",
    "es": "Se activa cuando la fórmula seleccionada cambia al resultado especificado (VERDADERO o FALSO).",
    "fr": "Se déclenche lorsque la formule sélectionnée change vers le résultat spécifié (VRAI ou FAUX).",
    "it": "Si attiva quando la formula selezionata cambia al risultato specificato (VERO o FALSO).",
    "nl": "Wordt geactiveerd wanneer de geselecteerde formule verandert naar het opgegeven resultaat (WAAR of ONWAAR).",
    "sv": "Utlöser när den valda formeln ändras till det specificerade resultatet (SANT eller FALSKT).",
    "pl": "Wyzwala się, gdy wybrana formuła zmienia się na określony wynik (PRAWDA lub FAŁSZ).",
    "ru": "Срабатывает при изменении выбранной формулы на указанный результат (ИСТИНА или ЛОЖЬ).",
    "ko": "선택한 공식이 지정된 결과(참 또는 거짓)로 변경될 때 트리거됩니다."
  },
  "args": [
    {
      "name": "device",
      "type": "device",
      "filter": "driver_id=logic-unit"
    },
    {
      "name": "formula",
      "type": "autocomplete",
      "title": {
        "en": "Formula",
        "no": "Formel",
        "da": "Formel",
        "de": "Formel",
        "es": "Fórmula",
        "fr": "Formule",
        "it": "Formula",
        "nl": "Formule",
        "sv": "Formel",
        "pl": "Formuła",
        "ru": "Формула",
        "ko": "공식"
      },
      "placeholder": {
        "en": "Select a formula...",
        "no": "Velg en formel...",
        "da": "Vælg en formel...",
        "de": "Wählen Sie eine Formel...",
        "es": "Selecciona una fórmula...",
        "fr": "Sélectionnez une formule...",
        "it": "Seleziona una formula...",
        "nl": "Selecteer een formule...",
        "sv": "Välj en formel...",
        "pl": "Wybierz formułę...",
        "ru": "Выберите формулу...",
        "ko": "공식을 선택하세요..."
      }
    },
    {
      "name": "result",
      "type": "dropdown",
      "title": {
        "en": "Result",
        "no": "Resultat",
        "da": "Resultat",
        "de": "Ergebnis",
        "es": "Resultado",
        "fr": "Résultat",
        "it": "Risultato",
        "nl": "Resultaat",
        "sv": "Resultat",
        "pl": "Wynik",
        "ru": "Результат",
        "ko": "결과"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "TRUE",
            "no": "SANN",
            "da": "SAND",
            "de": "WAHR",
            "es": "VERDADERO",
            "fr": "VRAI",
            "it": "VERO",
            "nl": "WAAR",
            "sv": "SANT",
            "pl": "PRAWDA",
            "ru": "ИСТИНА",
            "ko": "참"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "FALSE",
            "no": "USANN",
            "da": "FALSK",
            "de": "FALSCH",
            "es": "FALSO",
            "fr": "FAUX",
            "it": "FALSO",
            "nl": "ONWAAR",
            "sv": "FALSKT",
            "pl": "FAŁSZ",
            "ru": "ЛОЖЬ",
            "ko": "거짓"
          }
        }
      ]
    }
  ],
  "tokens": [
    {
      "name": "device_name",
      "type": "string",
      "title": {
        "en": "Device name",
        "no": "Enhetsnavn",
        "da": "Enhedsnavn",
        "de": "Gerätename",
        "es": "Nombre del dispositivo",
        "fr": "Nom de l'appareil",
        "it": "Nome dispositivo",
        "nl": "Apparaatnaam",
        "sv": "Enhetsnamn",
        "pl": "Nazwa urządzenia",
        "ru": "Имя устройства",
        "ko": "장치 이름"
      }
    },
    {
      "name": "formula_name",
      "type": "string",
      "title": {
        "en": "Formula name",
        "no": "Formelnavn",
        "da": "Formelnavn",
        "de": "Formelname",
        "es": "Nombre de fórmula",
        "fr": "Nom de la formule",
        "it": "Nome formula",
        "nl": "Formule naam",
        "sv": "Formelnamn",
        "pl": "Nazwa formuły",
        "ru": "Имя формулы",
        "ko": "공식 이름"
      }
    },
    {
      "name": "result",
      "type": "boolean",
      "title": {
        "en": "Result",
        "no": "Resultat",
        "da": "Resultat",
        "de": "Ergebnis",
        "es": "Resultado",
        "fr": "Résultat",
        "it": "Risultato",
        "nl": "Resultaat",
        "sv": "Resultat",
        "pl": "Wynik",
        "ru": "Результат",
        "ko": "결과"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/formula_changed_to_lu.json ---

--- START: .homeycompose/flow/triggers/formula_changed_to_true_lu_deprecated.json (sha256=a3970342de40ef2f29ce334d183bf12ac59cde0f3e979319336854b4b05f2da8, bytes=4308) ---
{
  "id": "formula_changed_to_true_lu_deprecated",
  "deprecated": true,
  "title": {
    "en": "Formula changed to TRUE",
    "no": "Formel endret til SANN",
    "da": "Formel ændret til SAND",
    "de": "Formel geändert zu WAHR",
    "es": "Fórmula cambió a VERDADERO",
    "fr": "Formule changée vers VRAI",
    "it": "Formula cambiata in VERO",
    "nl": "Formule veranderd naar WAAR",
    "sv": "Formel ändrad till SANT",
    "pl": "Formuła zmieniona na PRAWDA",
    "ru": "Формула изменена на ИСТИНА",
    "ko": "공식이 참으로 변경됨"
  },
  "hint": {
    "en": "⚠️ DEPRECATED: Use 'Formula changed to...' instead. This card will be removed in a future update.",
    "no": "⚠️ FORELDET: Bruk 'Formel endret til...' i stedet. Dette kortet vil bli fjernet i en fremtidig oppdatering.",
    "da": "⚠️ FORÆLDET: Brug 'Formel ændret til...' i stedet. Dette kort vil blive fjernet i en fremtidig opdatering.",
    "de": "⚠️ VERALTET: Verwenden Sie stattdessen 'Formel geändert zu...'. Diese Karte wird in einem zukünftigen Update entfernt.",
    "es": "⚠️ OBSOLETO: Use 'Fórmula cambió a...' en su lugar. Esta tarjeta se eliminará en una actualización futura.",
    "fr": "⚠️ OBSOLÈTE: Utilisez 'Formule changée vers...' à la place. Cette carte sera supprimée dans une mise à jour future.",
    "it": "⚠️ DEPRECATO: Usa 'Formula cambiata in...' invece. Questa scheda verrà rimossa in un aggiornamento futuro.",
    "nl": "⚠️ VEROUDERD: Gebruik 'Formule veranderd naar...' in plaats daarvan. Deze kaart wordt verwijderd in een toekomstige update.",
    "sv": "⚠️ FÖRÅLDRAD: Använd 'Formel ändrad till...' istället. Detta kort kommer att tas bort i en framtida uppdatering.",
    "pl": "⚠️ PRZESTARZAŁE: Użyj 'Formuła zmieniona na...' zamiast tego. Ta karta zostanie usunięta w przyszłej aktualizacji.",
    "ru": "⚠️ УСТАРЕЛО: Используйте 'Формула изменена на...' вместо этого. Эта карточка будет удалена в будущем обновлении.",
    "ko": "⚠️ 더 이상 사용되지 않음: 대신 '공식이 다음으로 변경됨...'을 사용하세요. 이 카드는 향후 업데이트에서 제거됩니다."
  },
  "args": [
    {
      "name": "device",
      "type": "device",
      "filter": "driver_id=logic-unit"
    },
    {
      "name": "formula",
      "type": "autocomplete",
      "title": {
        "en": "Formula",
        "no": "Formel",
        "da": "Formel",
        "de": "Formel",
        "es": "Fórmula",
        "fr": "Formule",
        "it": "Formula",
        "nl": "Formule",
        "sv": "Formel",
        "pl": "Formuła",
        "ru": "Формула",
        "ko": "공식"
      },
      "placeholder": {
        "en": "Select a formula...",
        "no": "Velg en formel...",
        "da": "Vælg en formel...",
        "de": "Wählen Sie eine Formel...",
        "es": "Selecciona una fórmula...",
        "fr": "Sélectionnez une formule...",
        "it": "Seleziona una formula...",
        "nl": "Selecteer een formule...",
        "sv": "Välj en formel...",
        "pl": "Wybierz formułę...",
        "ru": "Выберите формулу...",
        "ko": "공식을 선택하세요..."
      }
    }
  ],
  "tokens": [
    {
      "name": "device_name",
      "type": "string",
      "title": {
        "en": "Device name",
        "no": "Enhetsnavn",
        "da": "Enhedsnavn",
        "de": "Gerätename",
        "es": "Nombre del dispositivo",
        "fr": "Nom de l'appareil",
        "it": "Nome dispositivo",
        "nl": "Apparaatnaam",
        "sv": "Enhetsnamn",
        "pl": "Nazwa urządzenia",
        "ru": "Имя устройства",
        "ko": "장치 이름"
      }
    },
    {
      "name": "formula_name",
      "type": "string",
      "title": {
        "en": "Formula name",
        "no": "Formelnavn",
        "da": "Formelnavn",
        "de": "Formelname",
        "es": "Nombre de fórmula",
        "fr": "Nom de la formule",
        "it": "Nome formula",
        "nl": "Formule naam",
        "sv": "Formelnamn",
        "pl": "Nazwa formuły",
        "ru": "Имя формулы",
        "ko": "공식 이름"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/formula_changed_to_true_lu_deprecated.json ---

--- START: .homeycompose/flow/triggers/formula_timeout_lu.json (sha256=24dc1c25806166aca6a1ea634659556b3b1408e426d99be3548263db92f7dc52, bytes=1984) ---
{
  "id": "formula_timeout_lu",
  "title": {
    "en": "Formula timed out",
    "no": "Formel fikk timeout",
    "de": "Formel-Zeitüberschreitung",
    "nl": "Formule time-out",
    "fr": "Délai d'attente de la formule expiré",
    "da": "Formel fik timeout",
    "fi": "Kaava aikakatkaistu",
    "sv": "Formel fick timeout",
    "pl": "Formuła przekroczyła limit czasu",
    "it": "Timeout formula",
    "es": "Fórmula agotó tiempo"
  },
  "titleFormatted": {
    "en": "Formula [[formula]] timed out",
    "no": "Formel [[formula]] fikk timeout",
    "de": "Formel [[formula]] Zeitüberschreitung",
    "nl": "Formule [[formula]] time-out",
    "fr": "Délai de formule [[formula]] expiré",
    "da": "Formel [[formula]] fik timeout",
    "fi": "Kaava [[formula]] aikakatkaistu",
    "sv": "Formel [[formula]] fick timeout",
    "pl": "Formuła [[formula]] przekroczyła limit czasu",
    "it": "Timeout formula [[formula]]",
    "es": "Fórmula [[formula]] agotó tiempo"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    },
    {
      "type": "autocomplete",
      "name": "formula",
      "title": {
        "en": "Formula",
        "no": "Formel",
        "de": "Formel",
        "nl": "Formule",
        "fr": "Formule",
        "da": "Formel",
        "fi": "Kaava",
        "sv": "Formel",
        "pl": "Formuła",
        "it": "Formula",
        "es": "Fórmula"
      },
      "placeholder": {
        "en": "Select formula",
        "no": "Velg formel",
        "de": "Wähle Formel",
        "nl": "Selecteer formule",
        "fr": "Sélectionner la formule",
        "da": "Vælg formel",
        "fi": "Valitse kaava",
        "sv": "Välj formel",
        "pl": "Wybierz formułę",
        "it": "Seleziona formula",
        "es": "Seleccionar fórmula"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/formula_timeout_lu.json ---

--- START: .homeycompose/flow/triggers/state_changed_ld_deprecated.json (sha256=bc1eef53fcdd06a4ab9895bd327a0e972377f90abd4dd5bed29951dfbbcf4364, bytes=1849) ---
{
  "id": "state_changed_ld",
  "deprecated": true,
  "title": {
    "en": "Logic state changed",
    "no": "Logikk-status endret",
    "de": "Logikstatus geändert",
    "nl": "Logische status veranderd",
    "fr": "État logique changé",
    "da": "Logisk status ændret",
    "fi": "Logiikkatila muuttui",
    "sv": "Logikstatus ändrades",
    "pl": "Stan logiczny zmienił się",
    "it": "Stato logico cambiato",
    "es": "Estado lógico cambiado"
  },
  "hint": {
    "en": "Deprecated: Use 'Device alarm state changed' instead",
    "no": "Utgått: Bruk 'Enhetsalarm-status endret' i stedet",
    "de": "Veraltet: Verwenden Sie stattdessen 'Gerätealarmstatus geändert'",
    "nl": "Vervangen: Gebruik 'Apparaat alarmstatus gewijzigd' in plaats daarvan",
    "fr": "Obsolète: Utilisez 'État d'alarme de l'appareil modifié' à la place",
    "da": "Forældet: Brug 'Enhedsalarmstatus ændret' i stedet",
    "fi": "Vanhentunut: Käytä 'Laitteen hälytystila muuttunut' sen sijaan",
    "sv": "Föråldrad: Använd 'Enhetslarmstatus ändrades' istället",
    "pl": "Przestarzałe: Użyj 'Stan alarmu urządzenia zmienił się' zamiast tego",
    "it": "Deprecato: Usa 'Stato allarme dispositivo cambiato' invece",
    "es": "Obsoleto: Use 'Estado de alarma del dispositivo cambiado' en su lugar"
  },
  "args": [
    {
      "type": "device",
      "name": "device",
      "filter": "driver_id=logic-device"
    }
  ],
  "tokens": [
    {
      "name": "state",
      "type": "boolean",
      "title": {
        "en": "State",
        "no": "Status",
        "de": "Status",
        "nl": "Status",
        "fr": "État",
        "da": "Status",
        "fi": "Tila",
        "sv": "Status",
        "pl": "Stan",
        "it": "Stato",
        "es": "Estado"
      }
    }
  ]
}
--- END: .homeycompose/flow/triggers/state_changed_ld_deprecated.json ---

--- START: .homeycompose/flow/triggers/unit_alarm_is_lu.json (sha256=c083b7214b3e362e5532d8ed5cfb1057e0d6c49d24ad4257e3fe7392a41354d2, bytes=4122) ---
{
  "id": "unit_alarm_is_lu",
  "title": {
    "en": "Logic Unit alarm is...",
    "no": "Logikkenhet alarm er...",
    "da": "Logikenhed alarm er...",
    "de": "Logikeinheit Alarm ist...",
    "es": "La alarma de la unidad lógica está...",
    "fr": "L'alarme de l'unité logique est...",
    "it": "L'allarme dell'unità logica è...",
    "nl": "Logische eenheid alarm is...",
    "sv": "Logikenhet alarm är...",
    "pl": "Alarm jednostki logicznej jest...",
    "ru": "Тревога логического блока...",
    "ko": "논리 유닛 알람이..."
  },
  "titleFormatted": {
    "en": "Logic Unit alarm !{{is|isn't}} [[alarm_state]]",
    "no": "Logikkenhet alarm !{{er|er ikke}} [[alarm_state]]",
    "da": "Logikenhed alarm !{{er|er ikke}} [[alarm_state]]",
    "de": "Logikeinheit Alarm !{{ist|ist nicht}} [[alarm_state]]",
    "es": "La alarma de la unidad lógica !{{está|no está}} [[alarm_state]]",
    "fr": "L'alarme de l'unité logique !{{est|n'est pas}} [[alarm_state]]",
    "it": "L'allarme dell'unità logica !{{è|non è}} [[alarm_state]]",
    "nl": "Logische eenheid alarm !{{is|is niet}} [[alarm_state]]",
    "sv": "Logikenhet alarm !{{är|är inte}} [[alarm_state]]",
    "pl": "Alarm jednostki logicznej !{{jest|nie jest}} [[alarm_state]]",
    "ru": "Тревога логического блока !{{включена|не включена}} [[alarm_state]]",
    "ko": "논리 유닛 알람이 !{{켜져|꺼져}} [[alarm_state]] 있음"
  },
  "hint": {
    "en": "Check if the Logic Unit's alarm is currently on or off.",
    "no": "Sjekk om logikkenhetens alarm er på eller av.",
    "da": "Tjek om logikenhedens alarm er til eller fra.",
    "de": "Überprüfen Sie, ob der Alarm der Logikeinheit ein- oder ausgeschaltet ist.",
    "es": "Verifica si la alarma de la unidad lógica está encendida o apagada.",
    "fr": "Vérifiez si l'alarme de l'unité logique est allumée ou éteinte.",
    "it": "Controlla se l'allarme dell'unità logica è acceso o spento.",
    "nl": "Controleer of het alarm van de logische eenheid aan of uit staat.",
    "sv": "Kontrollera om logikenhetens alarm är på eller av.",
    "pl": "Sprawdź, czy alarm jednostki logicznej jest włączony lub wyłączony.",
    "ru": "Проверьте, включена или выключена тревога логического блока.",
    "ko": "논리 유닛의 알람이 현재 켜져 있는지 꺼져 있는지 확인하세요."
  },
  "args": [
    {
      "name": "device",
      "type": "device",
      "filter": "driver_id=logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    },
    {
      "name": "alarm_state",
      "type": "dropdown",
      "title": {
        "en": "Alarm state",
        "no": "Alarmtilstand",
        "da": "Alarmstilstand",
        "de": "Alarmzustand",
        "es": "Estado de alarma",
        "fr": "État d'alarme",
        "it": "Stato allarme",
        "nl": "Alarmstatus",
        "sv": "Alarmtillstånd",
        "pl": "Stan alarmu",
        "ru": "Состояние тревоги",
        "ko": "알람 상태"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "On",
            "no": "På",
            "da": "Til",
            "de": "Ein",
            "es": "Encendido",
            "fr": "Allumé",
            "it": "Acceso",
            "nl": "Aan",
            "sv": "På",
            "pl": "Włączony",
            "ru": "Вкл",
            "ko": "켜짐"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "Off",
            "no": "Av",
            "da": "Fra",
            "de": "Aus",
            "es": "Apagado",
            "fr": "Éteint",
            "it": "Spento",
            "nl": "Uit",
            "sv": "Av",
            "pl": "Wyłączony",
            "ru": "Выкл",
            "ko": "꺼짐"
          }
        }
      ]
    }
  ]
}
--- END: .homeycompose/flow/triggers/unit_alarm_is_lu.json ---

--- START: .homeycompose/flow/triggers/unit_is_turned_lu.json (sha256=740295dfcc198dfb3f11a4dafd87559cb4926501620bf6d3e61205a82056de8c, bytes=3710) ---
{
  "id": "unit_is_turned_lu",
  "title": {
    "en": "Logic Unit is turned...",
    "no": "Logikkenhet er skrudd...",
    "da": "Logikenhed er slået...",
    "de": "Logikeinheit ist...",
    "es": "La unidad lógica está...",
    "fr": "L'unité logique est...",
    "it": "L'unità logica è...",
    "nl": "Logische eenheid is...",
    "sv": "Logikenhet är...",
    "pl": "Jednostka logiczna jest...",
    "ru": "Логический блок...",
    "ko": "논리 유닛이..."
  },
  "titleFormatted": {
    "en": "Logic Unit !{{is|isn't}} turned [[on_state]]",
    "no": "Logikkenhet !{{er|er ikke}} skrudd [[on_state]]",
    "da": "Logikenhed !{{er|er ikke}} slået [[on_state]]",
    "de": "Logikeinheit !{{ist|ist nicht}} [[on_state]]",
    "es": "La unidad lógica !{{está|no está}} [[on_state]]",
    "fr": "L'unité logique !{{est|n'est pas}} [[on_state]]",
    "it": "L'unità logica !{{è|non è}} [[on_state]]",
    "nl": "Logische eenheid !{{is|is niet}} [[on_state]]",
    "sv": "Logikenhet !{{är|är inte}} [[on_state]]",
    "pl": "Jednostka logiczna !{{jest|nie jest}} [[on_state]]",
    "ru": "Логический блок !{{включен|не включен}} [[on_state]]",
    "ko": "논리 유닛이 !{{켜져|꺼져}} [[on_state]] 있음"
  },
  "hint": {
    "en": "Check if the Logic Unit is currently turned on or off.",
    "no": "Sjekk om logikkenheten er skrudd på eller av.",
    "da": "Tjek om logikenheden er slået til eller fra.",
    "de": "Überprüfen Sie, ob die Logikeinheit ein- oder ausgeschaltet ist.",
    "es": "Verifica si la unidad lógica está encendida o apagada.",
    "fr": "Vérifiez si l'unité logique est allumée ou éteinte.",
    "it": "Controlla se l'unità logica è accesa o spenta.",
    "nl": "Controleer of de logische eenheid aan of uit staat.",
    "sv": "Kontrollera om logikenheten är på eller av.",
    "pl": "Sprawdź, czy jednostka logiczna jest włączona lub wyłączona.",
    "ru": "Проверьте, включен или выключен логический блок.",
    "ko": "논리 유닛이 현재 켜져 있는지 꺼져 있는지 확인하세요."
  },
  "args": [
    {
      "name": "device",
      "type": "device",
      "filter": "driver_id=logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
    },
    {
      "name": "on_state",
      "type": "dropdown",
      "title": {
        "en": "State",
        "no": "Tilstand",
        "da": "Tilstand",
        "de": "Zustand",
        "es": "Estado",
        "fr": "État",
        "it": "Stato",
        "nl": "Status",
        "sv": "Tillstånd",
        "pl": "Stan",
        "ru": "Состояние",
        "ko": "상태"
      },
      "values": [
        {
          "id": "true",
          "title": {
            "en": "On",
            "no": "På",
            "da": "Til",
            "de": "Ein",
            "es": "Encendido",
            "fr": "Allumé",
            "it": "Acceso",
            "nl": "Aan",
            "sv": "På",
            "pl": "Włączony",
            "ru": "Вкл",
            "ko": "켜짐"
          }
        },
        {
          "id": "false",
          "title": {
            "en": "Off",
            "no": "Av",
            "da": "Fra",
            "de": "Aus",
            "es": "Apagado",
            "fr": "Éteint",
            "it": "Spento",
            "nl": "Uit",
            "sv": "Av",
            "pl": "Wyłączony",
            "ru": "Выкл",
            "ko": "꺼짐"
          }
        }
      ]
    }
  ]
}
--- END: .homeycompose/flow/triggers/unit_is_turned_lu.json ---

--- START: .jestignore (sha256=12cd5083f98420d36d479bfe1e1208e13fd3b1b167383055e4ec764e8a843223, bytes=196) ---
# Ignore Homey build directory
.homeybuild/

# Ignore existing incomplete tests until they are fixed
tests/device.test.js

# Ignore node modules
node_modules/

# Ignore coverage reports
coverage/
--- END: .jestignore ---

--- START: app.js (sha256=c316b2bb65d2ca2d3d97f6b8214822461fece9cdabac524d4de7a73c45f805d6, bytes=12699) ---
"use strict";

const Homey = require("homey");
const Logger = require("./lib/Logger");

// Import autocomplete helpers from BaseLogicDriver
// NOTE: Requires BaseLogicDriver to export them correctly
const {
    formulaAutocompleteHelper,
    inputAutocompleteHelper,
} = require("./lib/BaseLogicDriver");

// Helper function (only for evaluate_expression)
function evaluateCondition(inputValue, operator, ruleValue) {
    switch (operator) {
        case "gt":
            return inputValue > ruleValue;
        case "gte":
            return inputValue >= ruleValue;
        case "lt":
            return inputValue < ruleValue;
        case "lte":
            return inputValue <= ruleValue;
        default:
            return false;
    }
}

module.exports = class BooleanToolboxApp extends Homey.App {
    async onInit() {
        this.logger = new Logger(this, "App");
        try {
            const version = require("./package.json").version;
            this.logger.banner(`BOOLEAN TOOLBOX v${version}`);
        } catch (e) {
            this.logger.error(
                "Failed to load package.json or display banner",
                e,
            );
            this.logger.banner(`BOOLEAN TOOLBOX vUNKNOWN`); // Fallback banner
        }

        // Initialize API
        try {
            const athomApi = require("athom-api");

            this.logger.debug("app.athom_api_loaded");

            const { HomeyAPI } = athomApi;

            this.logger.debug("app.homey_api_extracted", {
                type: typeof HomeyAPI,
            });

            if (typeof HomeyAPI.forCurrentHomey === "function") {
                this.logger.debug("app.initializing_homey_api");
                this.api = await HomeyAPI.forCurrentHomey(this.homey);
            } else {
                this.logger.error("app.homey_api_not_function");

                this.logger.debug("app.homey_api_methods", {
                    keys: Object.keys(HomeyAPI),
                });
            }
        } catch (e) {
            this.logger.error("errors.connection_failed", {
                message: e.message,
            });

            this.logger.debug("app.error_stack", {
                stack: e.stack,
            });
        }

        // Register ALL Flow Cards here using generic methods
        await this.registerAllFlowCards();

        this.logger.info("App initialization complete.", {});
    }

    async getAvailableZones() {
        this.logger.debug("app.getting_zones");
        try {
            if (!this.api) {
                const athomApi = require("athom-api");
                const { HomeyAPI } = athomApi;
                this.api = await HomeyAPI.forCurrentHomey(this.homey);
            }
            const zones = await this.api.zones.getZones();
            const zoneList = Object.values(zones).map((zone) => ({
                id: zone.id,
                name: zone.name,
            }));
            zoneList.sort((a, b) => a.name.localeCompare(b.name));

            this.logger.debug("app.found_zones", {
                count: zoneList.length,
            });
            return zoneList;
        } catch (e) {
            this.logger.error("app.error_getting_zones", {
                message: e.message,
            });
            return [];
        }
    }

    async getDevicesInZone(zoneId) {
        this.logger.debug("app.getting_devices_for_zone", {
            zoneId,
        });
        const deviceList = [];
        try {
            if (!this.api) {
                const athomApi = require("athom-api");
                const { HomeyAPI } = athomApi;
                this.api = await HomeyAPI.forCurrentHomey(this.homey);
            }

            const allDevices = await this.api.devices.getDevices();
            for (const deviceId in allDevices) {
                const device = allDevices[deviceId];
                if (device.zone !== zoneId) continue;
                if (device.driverUri?.includes("logic-device")) continue;

                const capabilities = device.capabilities || [];
                if (capabilities.length === 0) continue;

                const capabilityList = capabilities.map((cap) => {
                    const capObj = device.capabilitiesObj?.[cap];
                    return {
                        id: cap,
                        name:
                            capObj?.title ||
                            cap
                                .replace(/_/g, " ")
                                .replace(/\b\w/g, (l) => l.toUpperCase()),
                        type: capObj?.type || "unknown",
                    };
                });

                deviceList.push({
                    id: deviceId,
                    name: device.name,
                    driverName: device.driverUri?.split(":").pop() || "Unknown",
                    capabilities: capabilityList,
                });
            }

            deviceList.sort((a, b) => a.name.localeCompare(b.name));

            this.logger.debug("app.found_devices_in_zone", {
                count: deviceList.length,
                zoneId,
            });
        } catch (e) {
            this.logger.error("app.error_getting_devices", {
                zoneId,
                message: e.message,
            });
        }
        return deviceList;
    }

    // --- Helper for Autocomplete Registration ---
    registerAutocomplete(card, argName, helperFn) {
        try {
            if (typeof helperFn !== "function") {
                throw new Error(
                    this.homey.__("errors.helper_not_function", { argName }),
                );
            }
            card.registerArgumentAutocompleteListener(
                argName,
                async (query, args) => {
                    const device = args?.device;
                    // For device card arguments, check that we have a device
                    if (argName === "formula" || argName === "input") {
                        if (!device) {
                            this.logger.warn(
                                `Autocomplete for device arg '${argName}' on card '${card.id}' called without device context.`,
                            );
                            return [];
                        }
                        // Check if the device has the required method
                        let requiredMethod = "";
                        if (argName === "formula")
                            requiredMethod = "getFormulas";
                        if (argName === "input")
                            requiredMethod = "getInputOptions";

                        if (typeof device[requiredMethod] !== "function") {
                            this.logger.warn(
                                `Autocomplete for device arg '${argName}' on card '${card.id}': Device ${device.getName()} missing method ${requiredMethod}.`,
                            );
                            return [];
                        }
                    }
                    // Run the helper itself
                    try {
                        return await helperFn(query, args); // Pass the entire args object, the helper must extract the device
                    } catch (autocompleteError) {
                        this.logger.error(
                            `Error during autocomplete for ${argName} on card '${card.id}'`,
                            autocompleteError,
                        );
                        return [];
                    }
                },
            );
            this.logger.debug(
                `Registered ${argName.toUpperCase()} autocomplete for card '${card.id}'`,
            );
        } catch (e) {
            this.logger.error(
                ` -> FAILED to register autocomplete for '${argName}' on card '${card.id}'`,
                e,
            );
        }
    }

    // --- Register ALL Flow Cards Here ---
    async registerAllFlowCards() {
        this.logger.debug("app.registering_flow_cards", {});

        // --- Actions ---
        const actionCards = [
            {
                id: "evaluate_expression",
                type: "app",
            }, // App Action
        ];
        actionCards.forEach((cardInfo) => {
            try {
                const card = this.homey.flow.getActionCard(cardInfo.id);
                card.registerRunListener(async (args, state) => {
                    const device = args.device;
                    if (!device)
                        throw new Error(
                            this.homey.__("errors.invalid_device_instance"),
                        );
                    const methodName = cardInfo.handler;
                    if (typeof device[methodName] !== "function")
                        throw new Error(
                            this.homey.__("errors.method_missing_on_device", {
                                methodName,
                            }),
                        );
                    this.logger.flow(
                        `Executing ACTION '${cardInfo.id}' on device ${device.getName()}`,
                    );
                    return await device[methodName](args, state);
                });

                // --- Autocomplete ---
                if (
                    [
                        "set_input_value_lu",
                        "evaluate_formula_lu",
                        "clear_error_state_lu",
                    ].includes(cardInfo.id)
                ) {
                    this.registerAutocomplete(
                        card,
                        "formula",
                        formulaAutocompleteHelper,
                    );
                }
                if (
                    ["set_input_value_lu", "set_input_lu"].includes(cardInfo.id)
                ) {
                    this.registerAutocomplete(
                        card,
                        "input",
                        inputAutocompleteHelper,
                    );
                }
                this.logger.debug(
                    ` -> OK: ACTION card registered: '${cardInfo.id}'`,
                );
            } catch (e) {
                this.logger.error(
                    ` -> FAILED: Registering ACTION card '${cardInfo.id}'`,
                    e,
                );
            }
        });

        // --- Conditions ---
        const conditionCards = [
            {
                id: "has_error",
                type: "app",
            }, // App Condition
        ];

        conditionCards.forEach((cardInfo) => {
            try {
                const card = this.homey.flow.getConditionCard(cardInfo.id);
                card.registerRunListener(async (args, state) => {
                    const device = args.device;
                    if (!device) return false;
                    if (typeof device.onFlowCondition !== "function")
                        return false;

                    let checkType;
                    if (cardInfo.checkType) {
                        checkType = cardInfo.checkType;
                    } else if (cardInfo.checkTypeFromArg) {
                        checkType = args[cardInfo.checkTypeFromArg] === "true";
                    }

                    this.logger.flow(
                        `Executing CONDITION '${cardInfo.id}' on device ${device.getName()}`,
                    );
                    return await device.onFlowCondition(args, state, checkType);
                });

                if (
                    [
                        "formula_has_timed_out_lu",
                        "formula_result_is_lu",
                    ].includes(cardInfo.id)
                ) {
                    this.registerAutocomplete(
                        card,
                        "formula",
                        formulaAutocompleteHelper,
                    );
                }
                this.logger.debug(
                    ` -> OK: CONDITION card registered: '${cardInfo.id}'`,
                );
            } catch (e) {
                this.logger.error(
                    ` -> FAILED: Registering CONDITION card '${cardInfo.id}'`,
                    e,
                );
            }
        });

        this.logger.info("app.flow_cards_registered", {});
    }
};
--- END: app.js ---

--- START: app.json (sha256=cfc722435b21e4517b2e0bb33ba83fb527c3077ed8cfd3995bcbfe0704df50ba, bytes=191943) ---
{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "no.tiwas.booleantoolbox",
  "support": "https://community.homey.app/t/app-boolean-toolbox-create-advanced-logic-with-simple-formulas/143906",
  "version": "1.4.1",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "permissions": [
    "homey:manager:api"
  ],
  "name": {
    "en": "Boolean Toolbox",
    "no": "Boolean Toolbox",
    "de": "Boolean Toolbox",
    "nl": "Boolean Toolbox",
    "fr": "Boolean Toolbox",
    "da": "Boolean Toolbox",
    "fi": "Boolean Toolbox",
    "sv": "Boolean Toolbox",
    "pl": "Boolean Toolbox",
    "it": "Boolean Toolbox",
    "es": "Boolean Toolbox"
  },
  "description": {
    "en": "Create advanced, state-aware logic units with multiple formulas.",
    "no": "Lag avanserte, tilstandsbevisste logiske enheter med flere formler.",
    "de": "Erstellen Sie erweiterte, zustandsbewusste Logikeinheiten mit mehreren Formeln.",
    "nl": "Maak geavanceerde, toestandsbewuste logische eenheden met meerdere formules.",
    "fr": "Créez des unités logiques avancées et conscientes de l'état avec plusieurs formules.",
    "da": "Opret avancerede, tilstandsbevidste logiske enheder med flere formler.",
    "fi": "Luo edistyneitä, tilatietoisia logiikkayksiköitä useilla kaavoilla.",
    "sv": "Skapa avancerade, tillståndsmedvetna logikenheter med flera formler.",
    "pl": "Twórz zaawansowane, świadome stanu jednostki logiczne z wieloma formułami.",
    "it": "Crea unità logiche avanzate e consapevoli dello stato con formule multiple.",
    "es": "Crea unidades lógicas avanzadas y conscientes del estado con múltiples fórmulas."
  },
  "category": "tools",
  "brandColor": "#FF0000",
  "author": {
    "name": "Lars Kvanum"
  },
  "contributing": {
    "donate": {
      "paypal": {
        "username": "tiwasno"
      }
    }
  },
  "bugs": {
    "url": "https://github.com/Tiwas/HomeyBooleanToolbox/issues"
  },
  "source": "https://github.com/Tiwas/HomeyBooleanToolbox",
  "homepage": "https://tiwas.github.io/HomeyBooleanToolbox/",
  "images": {
    "xlarge": "/assets/images/xlarge.jpeg",
    "large": "/assets/images/large.jpeg",
    "small": "/assets/images/small.jpeg"
  },
  "flow": {
    "triggers": [
      {
        "id": "device_alarm_changed_to_ld",
        "title": {
          "en": "Device alarm changed to...",
          "no": "Enhetsalarm endret til...",
          "de": "Gerätealarm geändert zu...",
          "nl": "Apparaat alarm gewijzigd naar...",
          "fr": "Alarme de l'appareil changée vers...",
          "da": "Enhedsalarm ændret til...",
          "fi": "Laitteen hälytys muutettu...",
          "sv": "Enhetslarm ändrades till...",
          "pl": "Alarm urządzenia zmieniony na...",
          "it": "Allarme dispositivo cambiato a...",
          "es": "Alarma del dispositivo cambiada a..."
        },
        "titleFormatted": {
          "en": "Device alarm changed to [[alarm_state]]",
          "no": "Enhetsalarm endret til [[alarm_state]]",
          "de": "Gerätealarm geändert zu [[alarm_state]]",
          "nl": "Apparaat alarm gewijzigd naar [[alarm_state]]",
          "fr": "Alarme de l'appareil changée vers [[alarm_state]]",
          "da": "Enhedsalarm ændret til [[alarm_state]]",
          "fi": "Laitteen hälytys muutettu [[alarm_state]]",
          "sv": "Enhetslarm ändrades till [[alarm_state]]",
          "pl": "Alarm urządzenia zmieniony na [[alarm_state]]",
          "it": "Allarme dispositivo cambiato a [[alarm_state]]",
          "es": "Alarma del dispositivo cambiada a [[alarm_state]]"
        },
        "hint": {
          "en": "Triggers when the Logic Device's alarm state changes to the selected value",
          "no": "Utløses når Logic Device sin alarmstatus endres til den valgte verdien",
          "de": "Wird ausgelöst, wenn der Alarmstatus des Logic Device zum gewählten Wert wechselt",
          "nl": "Wordt geactiveerd wanneer de alarmstatus van het Logic Device naar de geselecteerde waarde verandert",
          "fr": "Se déclenche lorsque l'état d'alarme du Logic Device change vers la valeur sélectionnée",
          "da": "Udløses, når Logic Device's alarmstatus ændres til den valgte værdi",
          "fi": "Laukaistaan, kun Logic Device:n hälytystila muuttuu valittuun arvoon",
          "sv": "Utlöses när Logic Device:s larmstatus ändras till det valda värdet",
          "pl": "Wyzwalane, gdy stan alarmu Logic Device zmienia się na wybraną wartość",
          "it": "Si attiva quando lo stato di allarme del Logic Device cambia al valore selezionato",
          "es": "Se activa cuando el estado de alarma del Logic Device cambia al valor seleccionado"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device"
          },
          {
            "type": "dropdown",
            "name": "alarm_state",
            "title": {
              "en": "Alarm state",
              "no": "Alarmstatus",
              "de": "Alarmstatus",
              "nl": "Alarmstatus",
              "fr": "État d'alarme",
              "da": "Alarmstatus",
              "fi": "Hälytystila",
              "sv": "Larmstatus",
              "pl": "Stan alarmu",
              "it": "Stato allarme",
              "es": "Estado de alarma"
            },
            "values": [
              {
                "id": "true",
                "title": {
                  "en": "TRUE (Active)",
                  "no": "SANT (Aktiv)",
                  "de": "WAHR (Aktiv)",
                  "nl": "WAAR (Actief)",
                  "fr": "VRAI (Actif)",
                  "da": "SAND (Aktiv)",
                  "fi": "TOSI (Aktiivinen)",
                  "sv": "SANT (Aktiv)",
                  "pl": "PRAWDA (Aktywny)",
                  "it": "VERO (Attivo)",
                  "es": "VERDADERO (Activo)"
                }
              },
              {
                "id": "false",
                "title": {
                  "en": "FALSE (Inactive)",
                  "no": "USANT (Inaktiv)",
                  "de": "FALSCH (Inaktiv)",
                  "nl": "ONWAAR (Inactief)",
                  "fr": "FAUX (Inactif)",
                  "da": "FALSK (Inaktiv)",
                  "fi": "EPÄTOSI (Ei-aktiivinen)",
                  "sv": "FALSKT (Inaktiv)",
                  "pl": "FAŁSZ (Nieaktywny)",
                  "it": "FALSO (Inattivo)",
                  "es": "FALSO (Inactivo)"
                }
              }
            ]
          }
        ],
        "tokens": [
          {
            "name": "alarm_state",
            "type": "boolean",
            "title": {
              "en": "Alarm state",
              "no": "Alarmstatus",
              "de": "Alarmstatus",
              "nl": "Alarmstatus",
              "fr": "État d'alarme",
              "da": "Alarmstatus",
              "fi": "Hälytystila",
              "sv": "Larmstatus",
              "pl": "Stan alarmu",
              "it": "Stato allarme",
              "es": "Estado de alarma"
            }
          }
        ]
      },
      {
        "id": "device_alarm_state_changed_ld",
        "title": {
          "en": "Device alarm state changed",
          "no": "Enhetsalarm-status endret",
          "de": "Gerätealarmstatus geändert",
          "nl": "Apparaat alarmstatus gewijzigd",
          "fr": "État d'alarme de l'appareil modifié",
          "da": "Enhedsalarmstatus ændret",
          "fi": "Laitteen hälytystila muuttunut",
          "sv": "Enhetslarmstatus ändrades",
          "pl": "Stan alarmu urządzenia zmienił się",
          "it": "Stato allarme dispositivo cambiato",
          "es": "Estado de alarma del dispositivo cambiado"
        },
        "hint": {
          "en": "Triggers when the Logic Device's alarm state changes (true/false)",
          "no": "Utløses når Logic Device sin alarmstatus endres (sant/usant)",
          "de": "Wird ausgelöst, wenn sich der Alarmstatus des Logic Device ändert (wahr/falsch)",
          "nl": "Wordt geactiveerd wanneer de alarmstatus van het Logic Device verandert (waar/onwaar)",
          "fr": "Se déclenche lorsque l'état d'alarme du Logic Device change (vrai/faux)",
          "da": "Udløses, når Logic Device's alarmstatus ændres (sand/falsk)",
          "fi": "Laukaistaan, kun Logic Device:n hälytystila muuttuu (tosi/epätosi)",
          "sv": "Utlöses när Logic Device:s larmstatus ändras (sant/falskt)",
          "pl": "Wyzwalane, gdy stan alarmu Logic Device zmienia się (prawda/fałsz)",
          "it": "Si attiva quando lo stato di allarme del Logic Device cambia (vero/falso)",
          "es": "Se activa cuando el estado de alarma del Logic Device cambia (verdadero/falso)"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device"
          }
        ],
        "tokens": [
          {
            "name": "alarm_state",
            "type": "boolean",
            "title": {
              "en": "Alarm state",
              "no": "Alarmstatus",
              "de": "Alarmstatus",
              "nl": "Alarmstatus",
              "fr": "État d'alarme",
              "da": "Alarmstatus",
              "fi": "Hälytystila",
              "sv": "Larmstatus",
              "pl": "Stan alarmu",
              "it": "Stato allarme",
              "es": "Estado de alarma"
            }
          }
        ]
      },
      {
        "id": "device_on_state_changed_ld",
        "title": {
          "en": "Device on-state changed",
          "no": "Enhet på-status endret",
          "de": "Gerät Ein-Status geändert",
          "nl": "Apparaat aan-status gewijzigd",
          "fr": "État d'activation de l'appareil modifié",
          "da": "Enheds tænd-status ændret",
          "fi": "Laitteen päällä-tila muuttunut",
          "sv": "Enhetens på-status ändrades",
          "pl": "Stan włączenia urządzenia zmienił się",
          "it": "Stato di accensione dispositivo cambiato",
          "es": "Estado de encendido del dispositivo cambiado"
        },
        "hint": {
          "en": "Triggers when the Logic Device's on/off state changes (enabled/disabled)",
          "no": "Utløses når Logic Device sin på/av-status endres (aktivert/deaktivert)",
          "de": "Wird ausgelöst, wenn sich der Ein/Aus-Status des Logic Device ändert (aktiviert/deaktiviert)",
          "nl": "Wordt geactiveerd wanneer de aan/uit-status van het Logic Device verandert (ingeschakeld/uitgeschakeld)",
          "fr": "Se déclenche lorsque l'état marche/arrêt du Logic Device change (activé/désactivé)",
          "da": "Udløses, når Logic Device's tænd/sluk-status ændres (aktiveret/deaktiveret)",
          "fi": "Laukaistaan, kun Logic Device:n päällä/pois-tila muuttuu (aktivoitu/deaktivoitu)",
          "sv": "Utlöses när Logic Device:s på/av-status ändras (aktiverad/inaktiverad)",
          "pl": "Wyzwalane, gdy stan włączenia/wyłączenia Logic Device zmienia się (aktywowany/dezaktywowany)",
          "it": "Si attiva quando lo stato acceso/spento del Logic Device cambia (attivato/disattivato)",
          "es": "Se activa cuando el estado encendido/apagado del Logic Device cambia (activado/desactivado)"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device"
          }
        ],
        "tokens": [
          {
            "name": "on_state",
            "type": "boolean",
            "title": {
              "en": "On state",
              "no": "På-status",
              "de": "Ein-Status",
              "nl": "Aan-status",
              "fr": "État allumé",
              "da": "Tænd-status",
              "fi": "Päällä-tila",
              "sv": "På-status",
              "pl": "Stan włączenia",
              "it": "Stato acceso",
              "es": "Estado encendido"
            }
          }
        ]
      },
      {
        "id": "device_state_changed_ld",
        "deprecated": true,
        "title": {
          "en": "Logic state changed to...",
          "no": "Logikk-status endret til...",
          "de": "Logikstatus geändert zu...",
          "nl": "Logische status veranderd naar...",
          "fr": "État logique changé vers...",
          "da": "Logisk status ændret til...",
          "fi": "Logiikkatila muuttui...",
          "sv": "Logikstatus ändrades till...",
          "pl": "Stan logiczny zmienił się na...",
          "it": "Stato logico cambiato a...",
          "es": "Estado lógico cambiado a..."
        },
        "titleFormatted": {
          "en": "Logic state changed to [[state]]",
          "no": "Logikk-status endret til [[state]]",
          "de": "Logikstatus geändert zu [[state]]",
          "nl": "Logische status veranderd naar [[state]]",
          "fr": "État logique changé vers [[state]]",
          "da": "Logisk status ændret til [[state]]",
          "fi": "Logiikkatila muuttui [[state]]",
          "sv": "Logikstatus ändrades till [[state]]",
          "pl": "Stan logiczny zmienił się na [[state]]",
          "it": "Stato logico cambiato a [[state]]",
          "es": "Estado lógico cambiado a [[state]]"
        },
        "hint": {
          "en": "Deprecated: Use 'Device alarm changed to...' instead",
          "no": "Utgått: Bruk 'Enhetsalarm endret til...' i stedet",
          "de": "Veraltet: Verwenden Sie stattdessen 'Gerätealarm geändert zu...'",
          "nl": "Vervangen: Gebruik 'Apparaat alarm gewijzigd naar...' in plaats daarvan",
          "fr": "Obsolète: Utilisez 'Alarme de l'appareil changée vers...' à la place",
          "da": "Forældet: Brug 'Enhedsalarm ændret til...' i stedet",
          "fi": "Vanhentunut: Käytä 'Laitteen hälytys muutettu...' sen sijaan",
          "sv": "Föråldrad: Använd 'Enhetslarm ändrades till...' istället",
          "pl": "Przestarzałe: Użyj 'Alarm urządzenia zmieniony na...' zamiast tego",
          "it": "Deprecato: Usa 'Allarme dispositivo cambiato a...' invece",
          "es": "Obsoleto: Use 'Alarma del dispositivo cambiada a...' en su lugar"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device"
          },
          {
            "type": "dropdown",
            "name": "state",
            "title": {
              "en": "State",
              "no": "Status",
              "de": "Status",
              "nl": "Status",
              "fr": "État",
              "da": "Status",
              "fi": "Tila",
              "sv": "Status",
              "pl": "Stan",
              "it": "Stato",
              "es": "Estado"
            },
            "values": [
              {
                "id": "true",
                "title": {
                  "en": "True",
                  "no": "Sant",
                  "de": "Wahr",
                  "nl": "Waar",
                  "fr": "Vrai",
                  "da": "Sand",
                  "fi": "Tosi",
                  "sv": "Sant",
                  "pl": "Prawda",
                  "it": "Vero",
                  "es": "Verdadero"
                }
              },
              {
                "id": "false",
                "title": {
                  "en": "False",
                  "no": "Usant",
                  "de": "Falsch",
                  "nl": "Onwaar",
                  "fr": "Faux",
                  "da": "Falsk",
                  "fi": "Epätosi",
                  "sv": "Falskt",
                  "pl": "Fałsz",
                  "it": "Falso",
                  "es": "Falso"
                }
              }
            ]
          }
        ],
        "tokens": [
          {
            "name": "state",
            "type": "boolean",
            "title": {
              "en": "State",
              "no": "Status",
              "de": "Status",
              "nl": "Status",
              "fr": "État",
              "da": "Status",
              "fi": "Tila",
              "sv": "Status",
              "pl": "Stan",
              "it": "Stato",
              "es": "Estado"
            }
          }
        ]
      },
      {
        "id": "device_turned_ld",
        "title": {
          "en": "Device turned...",
          "no": "Enhet slått...",
          "de": "Gerät...",
          "nl": "Apparaat...",
          "fr": "Appareil...",
          "da": "Enhed...",
          "fi": "Laite...",
          "sv": "Enhet...",
          "pl": "Urządzenie...",
          "it": "Dispositivo...",
          "es": "Dispositivo..."
        },
        "titleFormatted": {
          "en": "Device turned [[on_state]]",
          "no": "Enhet slått [[on_state]]",
          "de": "Gerät [[on_state]]",
          "nl": "Apparaat [[on_state]]",
          "fr": "Appareil [[on_state]]",
          "da": "Enhed [[on_state]]",
          "fi": "Laite [[on_state]]",
          "sv": "Enhet [[on_state]]",
          "pl": "Urządzenie [[on_state]]",
          "it": "Dispositivo [[on_state]]",
          "es": "Dispositivo [[on_state]]"
        },
        "hint": {
          "en": "Triggers when the Logic Device is turned on or off (enabled/disabled)",
          "no": "Utløses når Logic Device slås på eller av (aktiveres/deaktiveres)",
          "de": "Wird ausgelöst, wenn das Logic Device ein- oder ausgeschaltet wird (aktiviert/deaktiviert)",
          "nl": "Wordt geactiveerd wanneer het Logic Device wordt aan- of uitgezet (ingeschakeld/uitgeschakeld)",
          "fr": "Se déclenche lorsque le Logic Device est allumé ou éteint (activé/désactivé)",
          "da": "Udløses, når Logic Device tændes eller slukkes (aktiveres/deaktiveres)",
          "fi": "Laukaistaan, kun Logic Device kytketään päälle tai pois päältä (aktivoidaan/deaktivoidaan)",
          "sv": "Utlöses när Logic Device slås på eller av (aktiveras/inaktiveras)",
          "pl": "Wyzwalane, gdy Logic Device zostaje włączone lub wyłączone (aktywowane/dezaktywowane)",
          "it": "Si attiva quando il Logic Device viene acceso o spento (attivato/disattivato)",
          "es": "Se activa cuando el Logic Device se enciende o apaga (se activa/desactiva)"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device"
          },
          {
            "type": "dropdown",
            "name": "on_state",
            "title": {
              "en": "On state",
              "no": "På-status",
              "de": "Ein-Status",
              "nl": "Aan-status",
              "fr": "État",
              "da": "Status",
              "fi": "Tila",
              "sv": "Status",
              "pl": "Stan",
              "it": "Stato",
              "es": "Estado"
            },
            "values": [
              {
                "id": "true",
                "title": {
                  "en": "ON (Enabled)",
                  "no": "PÅ (Aktivert)",
                  "de": "EIN (Aktiviert)",
                  "nl": "AAN (Ingeschakeld)",
                  "fr": "ALLUMÉ (Activé)",
                  "da": "TÆNDT (Aktiveret)",
                  "fi": "PÄÄLLÄ (Aktivoitu)",
                  "sv": "PÅ (Aktiverad)",
                  "pl": "WŁĄCZONY (Aktywowany)",
                  "it": "ACCESO (Attivato)",
                  "es": "ENCENDIDO (Activado)"
                }
              },
              {
                "id": "false",
                "title": {
                  "en": "OFF (Disabled)",
                  "no": "AV (Deaktivert)",
                  "de": "AUS (Deaktiviert)",
                  "nl": "UIT (Uitgeschakeld)",
                  "fr": "ÉTEINT (Désactivé)",
                  "da": "SLUKKET (Deaktiveret)",
                  "fi": "POIS PÄÄLTÄ (Deaktivoitu)",
                  "sv": "AV (Inaktiverad)",
                  "pl": "WYŁĄCZONY (Dezaktywowany)",
                  "it": "SPENTO (Disattivato)",
                  "es": "APAGADO (Desactivado)"
                }
              }
            ]
          }
        ],
        "tokens": [
          {
            "name": "on_state",
            "type": "boolean",
            "title": {
              "en": "On state",
              "no": "På-status",
              "de": "Ein-Status",
              "nl": "Aan-status",
              "fr": "État allumé",
              "da": "Tænd-status",
              "fi": "Päällä-tila",
              "sv": "På-status",
              "pl": "Stan włączenia",
              "it": "Stato acceso",
              "es": "Estado encendido"
            }
          }
        ]
      },
      {
        "id": "formula_changed_to_false_lu",
        "title": {
          "en": "Formula changed to FALSE",
          "no": "Formel endret til USANN",
          "de": "Formel auf FALSCH geändert",
          "nl": "Formule veranderde naar ONWAAR",
          "fr": "Formule changée en FAUX",
          "da": "Formel ændret til FALSK",
          "fi": "Kaava muuttui EPÄTODEKSI",
          "sv": "Formel ändrades till FALSK",
          "pl": "Formuła zmieniona na FAŁSZ",
          "it": "Formula cambiata in FALSO",
          "es": "Fórmula cambiada a FALSO"
        },
        "titleFormatted": {
          "en": "Formula [[formula]] changed to FALSE",
          "no": "Formel [[formula]] endret til USANN",
          "de": "Formel [[formula]] auf FALSCH geändert",
          "nl": "Formule [[formula]] veranderde naar ONWAAR",
          "fr": "Formule [[formula]] changée en FAUX",
          "da": "Formel [[formula]] ændret til FALSK",
          "fi": "Kaava [[formula]] muuttui EPÄTODEKSI",
          "sv": "Formel [[formula]] ändrades till FALSK",
          "pl": "Formuła [[formula]] zmieniona na FAŁSZ",
          "it": "Formula [[formula]] cambiata in FALSO",
          "es": "Fórmula [[formula]] cambiada a FALSO"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          },
          {
            "type": "autocomplete",
            "name": "formula",
            "title": {
              "en": "Formula",
              "no": "Formel",
              "de": "Formel",
              "nl": "Formule",
              "fr": "Formule",
              "da": "Formel",
              "fi": "Kaava",
              "sv": "Formel",
              "pl": "Formuła",
              "it": "Formula",
              "es": "Fórmula"
            },
            "placeholder": {
              "en": "Select formula",
              "no": "Velg formel",
              "de": "Wähle Formel",
              "nl": "Selecteer formule",
              "fr": "Sélectionner la formule",
              "da": "Vælg formel",
              "fi": "Valitse kaava",
              "sv": "Välj formel",
              "pl": "Wybierz formułę",
              "it": "Seleziona formula",
              "es": "Seleccionar fórmula"
            }
          }
        ]
      },
      {
        "id": "formula_changed_to_true_lu",
        "title": {
          "en": "Formula changed to TRUE",
          "no": "Formel endret til SANN",
          "de": "Formel auf WAHR geändert",
          "nl": "Formule veranderde naar WAAR",
          "fr": "Formule changée en VRAI",
          "da": "Formel ændret til SAND",
          "fi": "Kaava muuttui TODEKSI",
          "sv": "Formel ändrades till SANN",
          "pl": "Formuła zmieniona na PRAWDA",
          "it": "Formula cambiata in VERO",
          "es": "Fórmula cambiada a VERDADERO"
        },
        "titleFormatted": {
          "en": "Formula [[formula]] changed to TRUE",
          "no": "Formel [[formula]] endret til SANN",
          "de": "Formel [[formula]] auf WAHR geändert",
          "nl": "Formule [[formula]] veranderde naar WAAR",
          "fr": "Formule [[formula]] changée en VRAI",
          "da": "Formel [[formula]] ændret til SAND",
          "fi": "Kaava [[formula]] muuttui TODEKSI",
          "sv": "Formel [[formula]] ändrades till SANN",
          "pl": "Formuła [[formula]] zmieniona na PRAWDA",
          "it": "Formula [[formula]] cambiata in VERO",
          "es": "Fórmula [[formula]] cambiada a VERDADERO"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          },
          {
            "type": "autocomplete",
            "name": "formula",
            "title": {
              "en": "Formula",
              "no": "Formel",
              "de": "Formel",
              "nl": "Formule",
              "fr": "Formule",
              "da": "Formel",
              "fi": "Kaava",
              "sv": "Formel",
              "pl": "Formuła",
              "it": "Formula",
              "es": "Fórmula"
            },
            "placeholder": {
              "en": "Select formula",
              "no": "Velg formel",
              "de": "Wähle Formel",
              "nl": "Selecteer formule",
              "fr": "Sélectionner la formule",
              "da": "Vælg formel",
              "fi": "Valitse kaava",
              "sv": "Välj formel",
              "pl": "Wybierz formułę",
              "it": "Seleziona formula",
              "es": "Seleccionar fórmula"
            }
          }
        ]
      },
      {
        "id": "formula_timeout_lu",
        "title": {
          "en": "Formula timed out",
          "no": "Formel fikk timeout",
          "de": "Formel-Zeitüberschreitung",
          "nl": "Formule time-out",
          "fr": "Délai d'attente de la formule expiré",
          "da": "Formel fik timeout",
          "fi": "Kaava aikakatkaistu",
          "sv": "Formel fick timeout",
          "pl": "Formuła przekroczyła limit czasu",
          "it": "Timeout formula",
          "es": "Fórmula agotó tiempo"
        },
        "titleFormatted": {
          "en": "Formula [[formula]] timed out",
          "no": "Formel [[formula]] fikk timeout",
          "de": "Formel [[formula]] Zeitüberschreitung",
          "nl": "Formule [[formula]] time-out",
          "fr": "Délai de formule [[formula]] expiré",
          "da": "Formel [[formula]] fik timeout",
          "fi": "Kaava [[formula]] aikakatkaistu",
          "sv": "Formel [[formula]] fick timeout",
          "pl": "Formuła [[formula]] przekroczyła limit czasu",
          "it": "Timeout formula [[formula]]",
          "es": "Fórmula [[formula]] agotó tiempo"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          },
          {
            "type": "autocomplete",
            "name": "formula",
            "title": {
              "en": "Formula",
              "no": "Formel",
              "de": "Formel",
              "nl": "Formule",
              "fr": "Formule",
              "da": "Formel",
              "fi": "Kaava",
              "sv": "Formel",
              "pl": "Formuła",
              "it": "Formula",
              "es": "Fórmula"
            },
            "placeholder": {
              "en": "Select formula",
              "no": "Velg formel",
              "de": "Wähle Formel",
              "nl": "Selecteer formule",
              "fr": "Sélectionner la formule",
              "da": "Vælg formel",
              "fi": "Valitse kaava",
              "sv": "Välj formel",
              "pl": "Wybierz formułę",
              "it": "Seleziona formula",
              "es": "Seleccionar fórmula"
            }
          }
        ]
      },
      {
        "id": "state_changed_ld",
        "deprecated": true,
        "title": {
          "en": "Logic state changed",
          "no": "Logikk-status endret",
          "de": "Logikstatus geändert",
          "nl": "Logische status veranderd",
          "fr": "État logique changé",
          "da": "Logisk status ændret",
          "fi": "Logiikkatila muuttui",
          "sv": "Logikstatus ändrades",
          "pl": "Stan logiczny zmienił się",
          "it": "Stato logico cambiato",
          "es": "Estado lógico cambiado"
        },
        "hint": {
          "en": "Deprecated: Use 'Device alarm state changed' instead",
          "no": "Utgått: Bruk 'Enhetsalarm-status endret' i stedet",
          "de": "Veraltet: Verwenden Sie stattdessen 'Gerätealarmstatus geändert'",
          "nl": "Vervangen: Gebruik 'Apparaat alarmstatus gewijzigd' in plaats daarvan",
          "fr": "Obsolète: Utilisez 'État d'alarme de l'appareil modifié' à la place",
          "da": "Forældet: Brug 'Enhedsalarmstatus ændret' i stedet",
          "fi": "Vanhentunut: Käytä 'Laitteen hälytystila muuttunut' sen sijaan",
          "sv": "Föråldrad: Använd 'Enhetslarmstatus ändrades' istället",
          "pl": "Przestarzałe: Użyj 'Stan alarmu urządzenia zmienił się' zamiast tego",
          "it": "Deprecato: Usa 'Stato allarme dispositivo cambiato' invece",
          "es": "Obsoleto: Use 'Estado de alarma del dispositivo cambiado' en su lugar"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device"
          }
        ],
        "tokens": [
          {
            "name": "state",
            "type": "boolean",
            "title": {
              "en": "State",
              "no": "Status",
              "de": "Status",
              "nl": "Status",
              "fr": "État",
              "da": "Status",
              "fi": "Tila",
              "sv": "Status",
              "pl": "Stan",
              "it": "Stato",
              "es": "Estado"
            }
          }
        ]
      }
    ],
    "conditions": [
      {
        "id": "formula_has_timed_out_ld",
        "title": {
          "en": "Has an error",
          "nl": "Heeft een fout",
          "sv": "Har ett fel",
          "no": "Har en feil",
          "it": "Ha un errore",
          "de": "Hat einen Fehler",
          "da": "Har en fejl",
          "es": "Tiene un error",
          "fi": "Sisältää virheen",
          "fr": "A une erreur",
          "pl": "Wystąpił błąd"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device"
          }
        ]
      },
      {
        "id": "formula_has_timed_out_lu",
        "title": {
          "en": "Formula !{{has|has not}} timed out",
          "no": "Formel !{{har|har ikke}} fått timeout",
          "de": "Formel !{{hat|hat nicht}} Zeitüberschreitung",
          "nl": "Formule !{{is|is niet}} verlopen",
          "fr": "Formule !{{a|n'a pas}} expiré",
          "da": "Formel !{{har|har ikke}} fået timeout",
          "fi": "Kaava !{{on|ei ole}} aikakatkaistu",
          "sv": "Formel !{{har|har inte}} fått timeout",
          "pl": "Formuła !{{przekroczyła|nie przekroczyła}} limit czasu",
          "it": "Formula !{{ha|non ha}} timeout",
          "es": "Fórmula !{{ha|no ha}} expirado"
        },
        "titleFormatted": {
          "en": "Formula [[formula]] !{{has|has not}} timed out",
          "no": "Formel [[formula]] !{{har|har ikke}} fått timeout",
          "de": "Formel [[formula]] !{{hat|hat nicht}} Zeitüberschreitung",
          "nl": "Formule [[formula]] !{{is|is niet}} verlopen",
          "fr": "Formule [[formula]] !{{a|n'a pas}} expiré",
          "da": "Formel [[formula]] !{{har|har ikke}} fået timeout",
          "fi": "Kaava [[formula]] !{{on|ei ole}} aikakatkaistu",
          "sv": "Formel [[formula]] !{{har|har inte}} fått timeout",
          "pl": "Formuła [[formula]] !{{przekroczyła|nie przekroczyła}} limit czasu",
          "it": "Formula [[formula]] !{{ha|non ha}} timeout",
          "es": "Fórmula [[formula]] !{{ha|no ha}} expirado"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          },
          {
            "type": "autocomplete",
            "name": "formula",
            "title": {
              "en": "Formula",
              "no": "Formel",
              "de": "Formel",
              "nl": "Formule",
              "fr": "Formule",
              "da": "Formel",
              "fi": "Kaava",
              "sv": "Formel",
              "pl": "Formuła",
              "it": "Formula",
              "es": "Fórmula"
            },
            "placeholder": {
              "en": "Select formula",
              "no": "Velg formel",
              "de": "Wähle Formel",
              "nl": "Selecteer formule",
              "fr": "Sélectionner la formule",
              "da": "Vælg formel",
              "fi": "Valitse kaava",
              "sv": "Välj formel",
              "pl": "Wybierz formułę",
              "it": "Seleziona formula",
              "es": "Seleccionar fórmula"
            }
          }
        ]
      },
      {
        "id": "formula_result_is_ld",
        "title": {
          "en": "The result is...",
          "nl": "Het resultaat is...",
          "sv": "Resultatet är...",
          "no": "Resultatet er...",
          "it": "Il risultato è...",
          "de": "Das Ergebnis ist...",
          "da": "Resultatet er...",
          "es": "El resultado es...",
          "fi": "Tulos on...",
          "fr": "Le résultat est...",
          "pl": "Wynik to..."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device",
            "values": [
              {
                "id": "true",
                "title": {
                  "en": "True (Yes)",
                  "nl": "Waar (Ja)",
                  "sv": "Sant (Ja)",
                  "no": "Sant (Ja)",
                  "it": "Vero (Sì)",
                  "de": "Wahr (Ja)",
                  "da": "Sand (Ja)",
                  "es": "Verdadero (Sí)",
                  "fi": "Tosi (Kyllä)",
                  "fr": "Vrai (Oui)",
                  "pl": "Prawda (Tak)"
                }
              },
              {
                "id": "false",
                "title": {
                  "en": "False (No)",
                  "nl": "Niet waar (Nee)",
                  "sv": "Falskt (Nej)",
                  "no": "Usant (Nei)",
                  "it": "Falso (No)",
                  "de": "Falsch (Nein)",
                  "da": "Falsk (Nej)",
                  "es": "Falso (No)",
                  "fi": "Epätosi (Ei)",
                  "fr": "Faux (Non)",
                  "pl": "Fałsz (Nie)"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "formula_result_is_lu",
        "title": {
          "en": "Formula result is...",
          "no": "Formelresultat er...",
          "de": "Formelergebnis ist...",
          "nl": "Formule resultaat is...",
          "fr": "Résultat de la formule est...",
          "da": "Formelresultat er...",
          "fi": "Kaavan tulos on...",
          "sv": "Formelresultat är...",
          "pl": "Wynik formuły to...",
          "it": "Risultato formula è...",
          "es": "Resultado de fórmula es..."
        },
        "titleFormatted": {
          "en": "Formula [[formula]] result is [[what_is]]",
          "no": "Formel [[formula]] resultat er [[what_is]]",
          "de": "Formel [[formula]] Ergebnis ist [[what_is]]",
          "nl": "Formule [[formula]] resultaat is [[what_is]]",
          "fr": "Formule [[formula]] résultat est [[what_is]]",
          "da": "Formel [[formula]] resultat er [[what_is]]",
          "fi": "Kaava [[formula]] tulos on [[what_is]]",
          "sv": "Formel [[formula]] resultat är [[what_is]]",
          "pl": "Formuła [[formula]] wynik to [[what_is]]",
          "it": "Formula [[formula]] risultato è [[what_is]]",
          "es": "Fórmula [[formula]] resultado es [[what_is]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          },
          {
            "type": "autocomplete",
            "name": "formula",
            "title": {
              "en": "Formula",
              "no": "Formel",
              "de": "Formel",
              "nl": "Formule",
              "fr": "Formule",
              "da": "Formel",
              "fi": "Kaava",
              "sv": "Formel",
              "pl": "Formuła",
              "it": "Formula",
              "es": "Fórmula"
            },
            "placeholder": {
              "en": "Select formula",
              "no": "Velg formel",
              "de": "Wähle Formel",
              "nl": "Selecteer formule",
              "fr": "Sélectionner la formule",
              "da": "Vælg formel",
              "fi": "Valitse kaava",
              "sv": "Välj formel",
              "pl": "Wybierz formułę",
              "it": "Seleziona formula",
              "es": "Seleccionar fórmula"
            }
          },
          {
            "type": "dropdown",
            "name": "what_is",
            "title": {
              "en": "Value",
              "no": "Verdi",
              "de": "Wert",
              "nl": "Waarde",
              "fr": "Valeur",
              "da": "Værdi",
              "fi": "Arvo",
              "sv": "Värde",
              "pl": "Wartość",
              "it": "Valore",
              "es": "Valor"
            },
            "values": [
              {
                "id": "true",
                "title": {
                  "en": "TRUE",
                  "no": "SANN",
                  "de": "WAHR",
                  "nl": "WAAR",
                  "fr": "VRAI",
                  "da": "SAND",
                  "fi": "TOSI",
                  "sv": "SANT",
                  "pl": "PRAWDA",
                  "it": "VERO",
                  "es": "VERDADERO"
                }
              },
              {
                "id": "false",
                "title": {
                  "en": "FALSE",
                  "no": "USANN",
                  "de": "FALSCH",
                  "nl": "ONWAAR",
                  "fr": "FAUX",
                  "da": "FALSK",
                  "fi": "EPÄTOSI",
                  "sv": "FALSKT",
                  "pl": "FAŁSZ",
                  "it": "FALSO",
                  "es": "FALSO"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "has_any_error_ld",
        "title": {
          "en": "Device !{{has|has no}} error",
          "no": "Enhet !{{har|har ingen}} feil",
          "de": "Gerät !{{hat|hat keinen}} Fehler",
          "nl": "Apparaat !{{heeft|heeft geen}} fout",
          "fr": "Appareil !{{a|n'a pas}} d'erreur",
          "da": "Enhed !{{har|har ingen}} fejl",
          "fi": "Laite !{{on|ei ole}} virheellinen",
          "sv": "Enhet !{{har|har inget}} fel",
          "pl": "Urządzenie !{{ma|nie ma}} błędu",
          "it": "Dispositivo !{{ha|non ha}} errori",
          "es": "Dispositivo !{{tiene|no tiene}} error"
        },
        "titleFormatted": {
          "en": "Device !{{has|has no}} error",
          "no": "Enhet !{{har|har ingen}} feil",
          "de": "Gerät !{{hat|hat keinen}} Fehler",
          "nl": "Apparaat !{{heeft|heeft geen}} fout",
          "fr": "Appareil !{{a|n'a pas}} d'erreur",
          "da": "Enhed !{{har|har ingen}} fejl",
          "fi": "Laite !{{on|ei ole}} virheellinen",
          "sv": "Enhet !{{har|har inget}} fel",
          "pl": "Urządzenie !{{ma|nie ma}} błędu",
          "it": "Dispositivo !{{ha|non ha}} errori",
          "es": "Dispositivo !{{tiene|no tiene}} error"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device"
          }
        ]
      },
      {
        "id": "has_any_error_lu",
        "title": {
          "en": "Device !{{has|has no}} error",
          "no": "Enhet !{{har|har ingen}} feil",
          "de": "Gerät !{{hat|hat keinen}} Fehler",
          "nl": "Apparaat !{{heeft|heeft geen}} fout",
          "fr": "Appareil !{{a|n'a pas}} d'erreur",
          "da": "Enhed !{{har|har ingen}} fejl",
          "fi": "Laite !{{on|ei ole}} virheellinen",
          "sv": "Enhet !{{har|har inget}} fel",
          "pl": "Urządzenie !{{ma|nie ma}} błędu",
          "it": "Dispositivo !{{ha|non ha}} errori",
          "es": "Dispositivo !{{tiene|no tiene}} error"
        },
        "titleFormatted": {
          "en": "Device !{{has|has no}} error",
          "no": "Enhet !{{har|har ingen}} feil",
          "de": "Gerät !{{hat|hat keinen}} Fehler",
          "nl": "Apparaat !{{heeft|heeft geen}} fout",
          "fr": "Appareil !{{a|n'a pas}} d'erreur",
          "da": "Enhed !{{har|har ingen}} fejl",
          "fi": "Laite !{{on|ei ole}} virheellinen",
          "sv": "Enhet !{{har|har inget}} fel",
          "pl": "Urządzenie !{{ma|nie ma}} błędu",
          "it": "Dispositivo !{{ha|non ha}} errori",
          "es": "Dispositivo !{{tiene|no tiene}} error"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          }
        ]
      },
      {
        "title": {
          "en": "!{{Has|Has no}} error",
          "no": "!{{Har|Har ingen}} feil",
          "de": "!{{Hat|Hat keinen}} Fehler",
          "nl": "!{{Heeft|Heeft geen}} fout",
          "fr": "!{{A|N'a pas}} d'erreur",
          "da": "!{{Har|Har ingen}} fejl",
          "fi": "!{{On|Ei ole}} virhe",
          "sv": "!{{Har|Har inget}} fel",
          "pl": "!{{Ma|Nie ma}} błąd",
          "it": "!{{Ha|Non ha}} errore",
          "es": "!{{Tiene|No tiene}} error"
        },
        "titleFormatted": {
          "en": "!{{Has|Has no}} error in [[text_input]]",
          "no": "!{{Har|Har ingen}} feil i [[text_input]]",
          "de": "!{{Hat|Hat keinen}} Fehler in [[text_input]]",
          "nl": "!{{Heeft|Heeft geen}} fout in [[text_input]]",
          "fr": "!{{A|N'a pas}} d'erreur dans [[text_input]]",
          "da": "!{{Har|Har ingen}} fejl i [[text_input]]",
          "fi": "!{{On|Ei ole}} virhe [[text_input]]:ssa",
          "sv": "!{{Har|Har inget}} fel i [[text_input]]",
          "pl": "!{{Ma|Nie ma}} błąd w [[text_input]]",
          "it": "!{{Ha|Non ha}} errore in [[text_input]]",
          "es": "!{{Tiene|No tiene}} error en [[text_input]]"
        },
        "args": [
          {
            "type": "text",
            "name": "text_input",
            "title": {
              "en": "Error message",
              "no": "Feilmelding",
              "de": "Fehlermeldung",
              "nl": "Foutmelding",
              "fr": "Message d'erreur",
              "da": "Fejlmeddelelse",
              "fi": "Virheilmoitus",
              "sv": "Felmeddelande",
              "pl": "Komunikat o błędzie",
              "it": "Messaggio di errore",
              "es": "Mensaje de error"
            },
            "placeholder": {
              "en": "Enter error message or token",
              "no": "Skriv inn feilmelding eller token",
              "de": "Fehlermeldung oder Token eingeben",
              "nl": "Voer foutmelding of token in",
              "fr": "Entrez le message d'erreur ou le jeton",
              "da": "Indtast fejlmeddelelse eller token",
              "fi": "Anna virheilmoitus tai tunniste",
              "sv": "Ange felmeddelande eller token",
              "pl": "Wprowadź komunikat o błędzie lub token",
              "it": "Inserisci messaggio di errore o token",
              "es": "Introducir mensaje de error o token"
            }
          }
        ],
        "id": "has_error"
      }
    ],
    "actions": [
      {
        "id": "clear_error_ld",
        "title": {
          "en": "Clear error",
          "nl": "Fout wissen",
          "sv": "Rensa fel",
          "no": "Fjern feil",
          "it": "Cancella errore",
          "de": "Fehler löschen",
          "da": "Ryd fejl",
          "es": "Borrar error",
          "fi": "Tyhjennä virhe",
          "fr": "Effacer l'erreur",
          "pl": "Wyczyść błąd"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device"
          }
        ]
      },
      {
        "id": "clear_error_state_lu",
        "title": {
          "en": "Clear formula error state",
          "no": "Fjern formel-feilstatus",
          "de": "Formel-Fehlerstatus löschen",
          "nl": "Formule-foutstatus wissen",
          "fr": "Effacer l'état d'erreur de la formule",
          "da": "Ryd formel fejlstatus",
          "fi": "Tyhjennä kaavan virhetila",
          "sv": "Rensa formelfelstatus",
          "pl": "Wyczyść stan błędu formuły",
          "it": "Cancella stato di errore formula",
          "es": "Limpiar estado de error de fórmula"
        },
        "titleFormatted": {
          "en": "Clear error state for formula [[formula]]",
          "no": "Fjern feilstatus for formel [[formula]]",
          "de": "Fehlerstatus für Formel [[formula]] löschen",
          "nl": "Foutstatus voor formule [[formula]] wissen",
          "fr": "Effacer l'erreur pour formule [[formula]]",
          "da": "Ryd fejlstatus for formel [[formula]]",
          "fi": "Tyhjennä virhetila kaavalle [[formula]]",
          "sv": "Rensa felstatus för formel [[formula]]",
          "pl": "Wyczyść stan błędu dla formuły [[formula]]",
          "it": "Cancella errore per formula [[formula]]",
          "es": "Limpiar error para fórmula [[formula]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          },
          {
            "type": "autocomplete",
            "name": "formula",
            "title": {
              "en": "Formula",
              "no": "Formel",
              "de": "Formel",
              "nl": "Formule",
              "fr": "Formule",
              "da": "Formel",
              "fi": "Kaava",
              "sv": "Formel",
              "pl": "Formuła",
              "it": "Formula",
              "es": "Fórmula"
            },
            "placeholder": {
              "en": "Select formula",
              "no": "Velg formel",
              "de": "Wähle Formel",
              "nl": "Selecteer formule",
              "fr": "Sélectionner la formule",
              "da": "Vælg formel",
              "fi": "Valitse kaava",
              "sv": "Välj formel",
              "pl": "Wybierz formułę",
              "it": "Seleziona formula",
              "es": "Seleccionar fórmula"
            }
          }
        ]
      },
      {
        "id": "evaluate_all_formulas_lu",
        "title": {
          "en": "Re-evaluate all formulas",
          "no": "Re-evaluer alle formler",
          "de": "Alle Formeln neu bewerten",
          "nl": "Alle formules opnieuw evalueren",
          "fr": "Réévaluer toutes les formules",
          "da": "Gentag evaluering af alle formler",
          "fi": "Arvioi kaikki kaavat uudelleen",
          "sv": "Omvärdera alla formler",
          "pl": "Ponownie oceń wszystkie formuły",
          "it": "Rivaluta tutte le formule",
          "es": "Re-evaluar todas las fórmulas"
        },
        "titleFormatted": {
          "en": "Re-evaluate all formulas",
          "no": "Re-evaluer alle formler",
          "de": "Alle Formeln neu bewerten",
          "nl": "Alle formules opnieuw evalueren",
          "fr": "Réévaluer toutes les formules",
          "da": "Gentag evaluering af alle formler",
          "fi": "Arvioi kaikki kaavat uudelleen",
          "sv": "Omvärdera alla formler",
          "pl": "Ponownie oceń wszystkie formuły",
          "it": "Rivaluta tutte le formule",
          "es": "Re-evaluar todas las fórmulas"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          }
        ]
      },
      {
        "title": {
          "en": "Evaluate expression",
          "no": "Evaluer uttrykk",
          "de": "Ausdruck auswerten",
          "nl": "Uitdrukking evalueren",
          "fr": "Évaluer l'expression",
          "da": "Evaluer udtryk",
          "fi": "Arvioi lauseke",
          "sv": "Utvärdera uttryck",
          "pl": "Oceń wyrażenie",
          "it": "Valuta espressione",
          "es": "Evaluar expresión"
        },
        "titleFormatted": {
          "en": "Evaluate [[input]] [[op1]] min [[logical_op]] [[op2]] max with rules [[rules]]",
          "no": "Evaluer [[input]] [[op1]] min [[logical_op]] [[op2]] maks med regler [[rules]]",
          "de": "Bewerte [[input]] [[op1]] min [[logical_op]] [[op2]] max mit Regeln [[rules]]",
          "nl": "Evalueer [[input]] [[op1]] min [[logical_op]] [[op2]] max met regels [[rules]]",
          "fr": "Évaluer [[input]] [[op1]] min [[logical_op]] [[op2]] max avec règles [[rules]]",
          "da": "Evaluer [[input]] [[op1]] min [[logical_op]] [[op2]] max med regler [[rules]]",
          "fi": "Arvioi [[input]] [[op1]] min [[logical_op]] [[op2]] max säännöillä [[rules]]",
          "sv": "Utvärdera [[input]] [[op1]] min [[logical_op]] [[op2]] max med regler [[rules]]",
          "pl": "Oceń [[input]] [[op1]] min [[logical_op]] [[op2]] max z regułami [[rules]]",
          "it": "Valuta [[input]] [[op1]] min [[logical_op]] [[op2]] max con regole [[rules]]",
          "es": "Evaluar [[input]] [[op1]] min [[logical_op]] [[op2]] max con reglas [[rules]]"
        },
        "args": [
          {
            "type": "number",
            "name": "input",
            "title": {
              "en": "Input value",
              "no": "Inngangsverdi",
              "de": "Eingangswert",
              "nl": "Invoerwaarde",
              "fr": "Valeur d'entrée",
              "da": "Indgangsværdi",
              "fi": "Tuloarvo",
              "sv": "Ingångsvärde",
              "pl": "Wartość wejściowa",
              "it": "Valore di input",
              "es": "Valor de entrada"
            },
            "placeholder": {
              "en": "Enter number",
              "no": "Skriv inn tall",
              "de": "Nummer eingeben",
              "nl": "Voer nummer in",
              "fr": "Entrez un nombre",
              "da": "Indtast tal",
              "fi": "Anna numero",
              "sv": "Ange nummer",
              "pl": "Wprowadź numer",
              "it": "Inserisci numero",
              "es": "Introducir número"
            }
          },
          {
            "type": "text",
            "name": "rules",
            "title": {
              "en": "Rules",
              "no": "Regler",
              "de": "Regeln",
              "nl": "Regels",
              "fr": "Règles",
              "da": "Regler",
              "fi": "Säännöt",
              "sv": "Regler",
              "pl": "Reguły",
              "it": "Regole",
              "es": "Reglas"
            },
            "placeholder": {
              "en": "min,max,output; ...",
              "no": "min,maks,utgang; ...",
              "de": "min,max,ausgabe; ...",
              "nl": "min,max,uitvoer; ...",
              "fr": "min,max,sortie; ...",
              "da": "min,maks,output; ...",
              "fi": "min,max,lähtö; ...",
              "sv": "min,max,utgång; ...",
              "pl": "min,max,wyjście; ...",
              "it": "min,max,uscita; ...",
              "es": "min,max,salida; ..."
            }
          },
          {
            "type": "dropdown",
            "name": "op1",
            "title": {
              "en": "First operator",
              "no": "Første operator",
              "de": "Erster Operator",
              "nl": "Eerste operator",
              "fr": "Premier opérateur",
              "da": "Første operatør",
              "fi": "Ensimmäinen operaattori",
              "sv": "Första operator",
              "pl": "Pierwszy operator",
              "it": "Primo operatore",
              "es": "Primer operador"
            },
            "values": [
              {
                "id": "gt",
                "title": {
                  "en": ">",
                  "no": ">"
                }
              },
              {
                "id": "gte",
                "title": {
                  "en": "≥",
                  "no": "≥"
                }
              },
              {
                "id": "lt",
                "title": {
                  "en": "<",
                  "no": "<"
                }
              },
              {
                "id": "lte",
                "title": {
                  "en": "≤",
                  "no": "≤"
                }
              }
            ]
          },
          {
            "type": "dropdown",
            "name": "op2",
            "title": {
              "en": "Second operator",
              "no": "Andre operator",
              "de": "Zweiter Operator",
              "nl": "Tweede operator",
              "fr": "Deuxième opérateur",
              "da": "Anden operatør",
              "fi": "Toinen operaattori",
              "sv": "Andra operator",
              "pl": "Drugi operator",
              "it": "Secondo operatore",
              "es": "Segundo operador"
            },
            "values": [
              {
                "id": "gt",
                "title": {
                  "en": ">",
                  "no": ">"
                }
              },
              {
                "id": "gte",
                "title": {
                  "en": "≥",
                  "no": "≥"
                }
              },
              {
                "id": "lt",
                "title": {
                  "en": "<",
                  "no": "<"
                }
              },
              {
                "id": "lte",
                "title": {
                  "en": "≤",
                  "no": "≤"
                }
              }
            ]
          },
          {
            "type": "dropdown",
            "name": "logical_op",
            "title": {
              "en": "Logical operator",
              "no": "Logisk operator",
              "de": "Logischer Operator",
              "nl": "Logische operator",
              "fr": "Opérateur logique",
              "da": "Logisk operatør",
              "fi": "Looginen operaattori",
              "sv": "Logisk operator",
              "pl": "Operator logiczny",
              "it": "Operatore logico",
              "es": "Operador lógico"
            },
            "values": [
              {
                "id": "AND",
                "title": {
                  "en": "AND",
                  "no": "OG",
                  "de": "UND",
                  "nl": "EN",
                  "fr": "ET",
                  "da": "OG",
                  "fi": "JA",
                  "sv": "OCH",
                  "pl": "I",
                  "it": "E",
                  "es": "Y"
                }
              },
              {
                "id": "OR",
                "title": {
                  "en": "OR",
                  "no": "ELLER",
                  "de": "ODER",
                  "nl": "OF",
                  "fr": "OU",
                  "da": "ELLER",
                  "fi": "TAI",
                  "sv": "ELLER",
                  "pl": "LUB",
                  "it": "O",
                  "es": "O"
                }
              }
            ]
          }
        ],
        "tokens": [
          {
            "name": "outputValue",
            "type": "number",
            "title": {
              "en": "Output value",
              "no": "Utgangsverdi",
              "de": "Ausgabewert",
              "nl": "Uitvoerwaarde",
              "fr": "Valeur de sortie",
              "da": "Udgangsværdi",
              "fi": "Lähtöarvo",
              "sv": "Utgångsvärde",
              "pl": "Wartość wyjściowa",
              "it": "Valore di output",
              "es": "Valor de salida"
            },
            "example": 100
          },
          {
            "name": "errorMessage",
            "type": "string",
            "title": {
              "en": "Error message",
              "no": "Feilmelding",
              "de": "Fehlermeldung",
              "nl": "Foutmelding",
              "fr": "Message d'erreur",
              "da": "Fejlmeddelelse",
              "fi": "Virheilmoitus",
              "sv": "Felmeddelande",
              "pl": "Komunikat o błędzie",
              "it": "Messaggio di errore",
              "es": "Mensaje de error"
            },
            "example": "No error"
          }
        ],
        "id": "evaluate_expression"
      },
      {
        "id": "evaluate_formula_ld",
        "title": {
          "en": "Evaluate formula",
          "no": "Evaluer formel",
          "de": "Formel auswerten",
          "nl": "Formule evalueren",
          "fr": "Évaluer la formule",
          "da": "Evaluer formel",
          "fi": "Arvioi kaava",
          "sv": "Utvärdera formel",
          "pl": "Oceń formułę",
          "it": "Valuta formula",
          "es": "Evaluar fórmula"
        },
        "titleFormatted": {
          "en": "Evaluate formula",
          "no": "Evaluer formel",
          "de": "Formel auswerten",
          "nl": "Formule evalueren",
          "fr": "Évaluer la formule",
          "da": "Evaluer formel",
          "fi": "Arvioi kaava",
          "sv": "Utvärdera formel",
          "pl": "Oceń formułę",
          "it": "Valuta formula",
          "es": "Evaluar fórmula"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-device"
          }
        ]
      },
      {
        "id": "evaluate_formula_lu",
        "title": {
          "en": "Evaluate specific formula",
          "no": "Evaluer spesifikk formel",
          "de": "Spezifische Formel auswerten",
          "nl": "Specifieke formule evalueren",
          "fr": "Évaluer la formule spécifique",
          "da": "Evaluer specifik formel",
          "fi": "Arvioi tietty kaava",
          "sv": "Utvärdera specifik formel",
          "pl": "Oceń konkretną formułę",
          "it": "Valuta formula specifica",
          "es": "Evaluar fórmula específica"
        },
        "titleFormatted": {
          "en": "Evaluate formula [[formula]]",
          "no": "Evaluer formel [[formula]]",
          "de": "Formel [[formula]] auswerten",
          "nl": "Formule [[formula]] evalueren",
          "fr": "Évaluer la formule [[formula]]",
          "da": "Evaluer formel [[formula]]",
          "fi": "Arvioi kaava [[formula]]",
          "sv": "Utvärdera formel [[formula]]",
          "pl": "Oceń formułę [[formula]]",
          "it": "Valuta formula [[formula]]",
          "es": "Evaluar fórmula [[formula]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          },
          {
            "type": "autocomplete",
            "name": "formula",
            "title": {
              "en": "Formula",
              "no": "Formel",
              "de": "Formel",
              "nl": "Formule",
              "fr": "Formule",
              "da": "Formel",
              "fi": "Kaava",
              "sv": "Formel",
              "pl": "Formuła",
              "it": "Formula",
              "es": "Fórmula"
            },
            "placeholder": {
              "en": "Select formula",
              "no": "Velg formel",
              "de": "Wähle Formel",
              "nl": "Selecteer formule",
              "fr": "Sélectionner la formule",
              "da": "Vælg formel",
              "fi": "Valitse kaava",
              "sv": "Välj formel",
              "pl": "Wybierz formułę",
              "it": "Seleziona formula",
              "es": "Seleccionar fórmula"
            }
          }
        ]
      },
      {
        "id": "set_all_inputs_lu",
        "title": {
          "en": "Set all inputs from JSON (ALL formulas)",
          "no": "Sett alle innganger fra JSON (ALLE formler)",
          "de": "Alle Eingänge von JSON setzen (ALLE Formeln)",
          "nl": "Alle ingangen instellen vanuit JSON (ALLE formules)",
          "fr": "Définir toutes les entrées depuis JSON (TOUTES formules)",
          "da": "Indstil alle indgange fra JSON (ALLE formler)",
          "fi": "Aseta kaikki tulot JSON-muodosta (KAIKKI kaavat)",
          "sv": "Ställ in alla ingångar från JSON (ALLA formler)",
          "pl": "Ustaw wszystkie wejścia z JSON (WSZYSTKIE formuły)",
          "it": "Imposta tutti gli input da JSON (TUTTE le formule)",
          "es": "Establecer todas las entradas desde JSON (TODAS las fórmulas)"
        },
        "titleFormatted": {
          "en": "Set all inputs from JSON: [[values]] (for ALL formulas)",
          "no": "Sett alle innganger fra JSON: [[values]] (for ALLE formler)",
          "de": "Alle Eingänge von JSON setzen: [[values]] (für ALLE Formeln)",
          "nl": "Alle ingangen instellen vanuit JSON: [[values]] (voor ALLE formules)",
          "fr": "Définir toutes les entrées depuis JSON : [[values]] (pour TOUTES les formules)",
          "da": "Indstil alle indgange fra JSON: [[values]] (for ALLE formler)",
          "fi": "Aseta kaikki tulot JSON-muodosta: [[values]] (KAIKILLE kaavoille)",
          "sv": "Ställ in alla ingångar från JSON: [[values]] (för ALLA formler)",
          "pl": "Ustaw wszystkie wejścia z JSON: [[values]] (dla WSZYSTKICH formuł)",
          "it": "Imposta tutti gli input da JSON: [[values]] (per TUTTE le formule)",
          "es": "Establecer todas las entradas desde JSON: [[values]] (para TODAS las fórmulas)"
        },
        "hint": {
          "en": "⚠️ Sets ALL input values at once for ALL formulas in this Logic Unit from a JSON object. All formulas will receive the same input values. Use this when you want to update multiple inputs for all formulas simultaneously.",
          "no": "⚠️ Setter ALLE inngangsverdier samtidig for ALLE formler i denne Logic Unit fra et JSON-objekt. Alle formler vil motta de samme inngangsverdiene. Bruk denne når du vil oppdatere flere innganger for alle formler samtidig.",
          "de": "⚠️ Setzt ALLE Eingangswerte gleichzeitig für ALLE Formeln in dieser Logic Unit aus einem JSON-Objekt. Alle Formeln erhalten die gleichen Eingangswerte. Verwenden Sie dies, wenn Sie mehrere Eingänge für alle Formeln gleichzeitig aktualisieren möchten.",
          "nl": "⚠️ Stelt ALLE ingangswaarden tegelijk in voor ALLE formules in deze Logic Unit vanuit een JSON-object. Alle formules ontvangen dezelfde ingangswaarden. Gebruik dit wanneer u meerdere ingangen voor alle formules tegelijk wilt bijwerken.",
          "fr": "⚠️ Définit TOUTES les valeurs d'entrée en même temps pour TOUTES les formules de cette Logic Unit à partir d'un objet JSON. Toutes les formules recevront les mêmes valeurs d'entrée. Utilisez ceci lorsque vous souhaitez mettre à jour plusieurs entrées pour toutes les formules simultanément.",
          "da": "⚠️ Indstiller ALLE indgangsværdier på én gang for ALLE formler i denne Logic Unit fra et JSON-objekt. Alle formler vil modtage de samme indgangsværdier. Brug dette, når du vil opdatere flere indgange for alle formler samtidigt.",
          "fi": "⚠️ Asettaa KAIKKI tuloarvot kerralla KAIKILLE kaavoille tässä Logic Unitissa JSON-objektista. Kaikki kaavat saavat samat tuloarvot. Käytä tätä, kun haluat päivittää useita tuloja kaikille kaavoille samanaikaisesti.",
          "sv": "⚠️ Ställer in ALLA ingångsvärden på en gång för ALLA formler i denna Logic Unit från ett JSON-objekt. Alla formler kommer att få samma ingångsvärden. Använd detta när du vill uppdatera flera ingångar för alla formler samtidigt.",
          "pl": "⚠️ Ustawia WSZYSTKIE wartości wejściowe jednocześnie dla WSZYSTKICH formuł w tej Logic Unit z obiektu JSON. Wszystkie formuły otrzymają te same wartości wejściowe. Użyj tego, gdy chcesz zaktualizować wiele wejść dla wszystkich formuł jednocześnie.",
          "it": "⚠️ Imposta TUTTI i valori di input contemporaneamente per TUTTE le formule in questa Logic Unit da un oggetto JSON. Tutte le formule riceveranno gli stessi valori di input. Usa questo quando vuoi aggiornare più input per tutte le formule simultaneamente.",
          "es": "⚠️ Establece TODOS los valores de entrada a la vez para TODAS las fórmulas en esta Logic Unit desde un objeto JSON. Todas las fórmulas recibirán los mismos valores de entrada. Usa esto cuando quieras actualizar múltiples entradas para todas las fórmulas simultáneamente."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          },
          {
            "type": "text",
            "name": "values",
            "title": {
              "en": "JSON values",
              "no": "JSON-verdier",
              "de": "JSON-Werte",
              "nl": "JSON-waarden",
              "fr": "Valeurs JSON",
              "da": "JSON-værdier",
              "fi": "JSON-arvot",
              "sv": "JSON-värden",
              "pl": "Wartości JSON",
              "it": "Valori JSON",
              "es": "Valores JSON"
            },
            "placeholder": {
              "en": "{\"A\": true, \"B\": false}",
              "no": "{\"A\": true, \"B\": false}",
              "de": "{\"A\": true, \"B\": false}",
              "nl": "{\"A\": true, \"B\": false}",
              "fr": "{\"A\": true, \"B\": false}",
              "da": "{\"A\": true, \"B\": false}",
              "fi": "{\"A\": true, \"B\": false}",
              "sv": "{\"A\": true, \"B\": false}",
              "pl": "{\"A\": true, \"B\": false}",
              "it": "{\"A\": true, \"B\": false}",
              "es": "{\"A\": true, \"B\": false}"
            }
          }
        ]
      },
      {
        "id": "set_input_lu",
        "title": {
          "en": "Set input value (ALL formulas)",
          "no": "Sett inngangsverdi (ALLE formler)",
          "de": "Eingangswert setzen (ALLE Formeln)",
          "nl": "Ingangswaarde instellen (ALLE formules)",
          "fr": "Définir la valeur d'entrée (TOUTES formules)",
          "da": "Indstil indgangsværdi (ALLE formler)",
          "fi": "Aseta tuloarvo (KAIKKI kaavat)",
          "sv": "Ställ in ingångsvärde (ALLA formler)",
          "pl": "Ustaw wartość wejściową (WSZYSTKIE formuły)",
          "it": "Imposta valore input (TUTTE le formule)",
          "es": "Establecer valor de entrada (TODAS las fórmulas)"
        },
        "titleFormatted": {
          "en": "Set input [[input]] to [[value]] (for ALL formulas)",
          "no": "Sett inngang [[input]] til [[value]] (for ALLE formler)",
          "de": "Eingang [[input]] auf [[value]] setzen (für ALLE Formeln)",
          "nl": "Ingang [[input]] instellen op [[value]] (voor ALLE formules)",
          "fr": "Mettre l'entrée [[input]] à [[value]] (pour TOUTES les formules)",
          "da": "Indstil indgang [[input]] til [[value]] (for ALLE formler)",
          "fi": "Aseta tulo [[input]] arvoon [[value]] (KAIKILLE kaavoille)",
          "sv": "Ställ in ingång [[input]] till [[value]] (för ALLA formler)",
          "pl": "Ustaw wejście [[input]] na [[value]] (dla WSZYSTKICH formuł)",
          "it": "Imposta input [[input]] a [[value]] (per TUTTE le formule)",
          "es": "Establecer entrada [[input]] a [[value]] (para TODAS las fórmulas)"
        },
        "hint": {
          "en": "⚠️ Sets the same input value for ALL formulas in this Logic Unit. All formulas that use this input will be updated. Use this when you want to control multiple formulas together.",
          "no": "⚠️ Setter samme inngangsverdi for ALLE formler i denne Logic Unit. Alle formler som bruker denne inngangen vil bli oppdatert. Bruk denne når du vil kontrollere flere formler sammen.",
          "de": "⚠️ Setzt den gleichen Eingangswert für ALLE Formeln in dieser Logic Unit. Alle Formeln, die diesen Eingang verwenden, werden aktualisiert. Verwenden Sie dies, wenn Sie mehrere Formeln zusammen steuern möchten.",
          "nl": "⚠️ Stelt dezelfde ingangswaarde in voor ALLE formules in deze Logic Unit. Alle formules die deze ingang gebruiken, worden bijgewerkt. Gebruik dit wanneer u meerdere formules samen wilt besturen.",
          "fr": "⚠️ Définit la même valeur d'entrée pour TOUTES les formules de cette Logic Unit. Toutes les formules qui utilisent cette entrée seront mises à jour. Utilisez ceci lorsque vous souhaitez contrôler plusieurs formules ensemble.",
          "da": "⚠️ Indstiller den samme indgangsværdi for ALLE formler i denne Logic Unit. Alle formler, der bruger denne indgang, vil blive opdateret. Brug dette, når du vil styre flere formler sammen.",
          "fi": "⚠️ Asettaa saman tuloarvon KAIKILLE kaavoille tässä Logic Unitissa. Kaikki tätä tuloa käyttävät kaavat päivitetään. Käytä tätä, kun haluat hallita useita kaavoja yhdessä.",
          "sv": "⚠️ Ställer in samma ingångsvärde för ALLA formler i denna Logic Unit. Alla formler som använder denna ingång kommer att uppdateras. Använd detta när du vill styra flera formler tillsammans.",
          "pl": "⚠️ Ustawia tę samą wartość wejściową dla WSZYSTKICH formuł w tej Logic Unit. Wszystkie formuły używające tego wejścia zostaną zaktualizowane. Użyj tego, gdy chcesz kontrolować wiele formuł razem.",
          "it": "⚠️ Imposta lo stesso valore di input per TUTTE le formule in questa Logic Unit. Tutte le formule che utilizzano questo input verranno aggiornate. Usa questo quando vuoi controllare più formule insieme.",
          "es": "⚠️ Establece el mismo valor de entrada para TODAS las fórmulas en esta Logic Unit. Todas las fórmulas que usan esta entrada se actualizarán. Usa esto cuando quieras controlar múltiples fórmulas juntas."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          },
          {
            "type": "autocomplete",
            "name": "input",
            "title": {
              "en": "Input",
              "no": "Inngang",
              "de": "Eingang",
              "nl": "Ingang",
              "fr": "Entrée",
              "da": "Indgang",
              "fi": "Tulo",
              "sv": "Ingång",
              "pl": "Wejście",
              "it": "Input",
              "es": "Entrada"
            },
            "placeholder": {
              "en": "Select input",
              "no": "Velg inngang",
              "de": "Eingang wählen",
              "nl": "Selecteer ingang",
              "fr": "Sélectionner l'entrée",
              "da": "Vælg indgang",
              "fi": "Valitse tulo",
              "sv": "Välj ingång",
              "pl": "Wybierz wejście",
              "it": "Seleziona input",
              "es": "Seleccionar entrada"
            }
          },
          {
            "type": "dropdown",
            "name": "value",
            "title": {
              "en": "Value",
              "no": "Verdi",
              "de": "Wert",
              "nl": "Waarde",
              "fr": "Valeur",
              "da": "Værdi",
              "fi": "Arvo",
              "sv": "Värde",
              "pl": "Wartość",
              "it": "Valore",
              "es": "Valor"
            },
            "values": [
              {
                "id": "true",
                "title": {
                  "en": "TRUE",
                  "no": "SANN",
                  "de": "WAHR",
                  "nl": "WAAR",
                  "fr": "VRAI",
                  "da": "SAND",
                  "fi": "TOSI",
                  "sv": "SANT",
                  "pl": "PRAWDA",
                  "it": "VERO",
                  "es": "VERDADERO"
                }
              },
              {
                "id": "false",
                "title": {
                  "en": "FALSE",
                  "no": "USANN",
                  "de": "FALSCH",
                  "nl": "ONWAAR",
                  "fr": "FAUX",
                  "da": "FALSK",
                  "fi": "EPÄTOSI",
                  "sv": "FALSKT",
                  "pl": "FAŁSZ",
                  "it": "FALSO",
                  "es": "FALSO"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "set_input_value_lu",
        "title": {
          "en": "Set input value (specific formula)",
          "no": "Sett inngangsverdi (spesifikk formel)",
          "de": "Eingangswert setzen (spezifische Formel)",
          "nl": "Ingangswaarde instellen (specifieke formule)",
          "fr": "Définir la valeur d'entrée (formule spécifique)",
          "da": "Indstil indgangsværdi (specifik formel)",
          "fi": "Aseta tuloarvo (tietty kaava)",
          "sv": "Ställ in ingångsvärde (specifik formel)",
          "pl": "Ustaw wartość wejściową (konkretna formuła)",
          "it": "Imposta valore input (formula specifica)",
          "es": "Establecer valor de entrada (fórmula específica)"
        },
        "titleFormatted": {
          "en": "Set input [[input]] to [[value]] for formula [[formula]]",
          "no": "Sett inngang [[input]] til [[value]] for formel [[formula]]",
          "de": "Eingang [[input]] auf [[value]] für Formel [[formula]] setzen",
          "nl": "Ingang [[input]] instellen op [[value]] voor formule [[formula]]",
          "fr": "Mettre l'entrée [[input]] à [[value]] pour la formule [[formula]]",
          "da": "Indstil indgang [[input]] til [[value]] for formel [[formula]]",
          "fi": "Aseta tulo [[input]] arvoon [[value]] kaavalle [[formula]]",
          "sv": "Ställ in ingång [[input]] till [[value]] för formel [[formula]]",
          "pl": "Ustaw wejście [[input]] na [[value]] dla formuły [[formula]]",
          "it": "Imposta input [[input]] a [[value]] per formula [[formula]]",
          "es": "Establecer entrada [[input]] a [[value]] para fórmula [[formula]]"
        },
        "hint": {
          "en": "✅ Sets the input value for ONE specific formula only. Other formulas are not affected. Use this when you want to control formulas independently.",
          "no": "✅ Setter inngangsverdien for KUN ÉN spesifikk formel. Andre formler påvirkes ikke. Bruk denne når du vil kontrollere formler uavhengig.",
          "de": "✅ Setzt den Eingangswert für NUR EINE spezifische Formel. Andere Formeln werden nicht beeinflusst. Verwenden Sie dies, wenn Sie Formeln unabhängig steuern möchten.",
          "nl": "✅ Stelt de ingangswaarde in voor SLECHTS ÉÉN specifieke formule. Andere formules worden niet beïnvloed. Gebruik dit wanneer u formules onafhankelijk wilt besturen.",
          "fr": "✅ Définit la valeur d'entrée pour UNE SEULE formule spécifique. Les autres formules ne sont pas affectées. Utilisez ceci lorsque vous souhaitez contrôler les formules indépendamment.",
          "da": "✅ Indstiller indgangsværdien for KUN ÉN specifik formel. Andre formler påvirkes ikke. Brug dette, når du vil styre formler uafhængigt.",
          "fi": "✅ Asettaa tuloarvon vain YHDELLE tietylle kaavalle. Muut kaavat eivät vaikuta. Käytä tätä, kun haluat hallita kaavoja itsenäisesti.",
          "sv": "✅ Ställer in ingångsvärdet för ENDAST EN specifik formel. Andra formler påverkas inte. Använd detta när du vill styra formler oberoende.",
          "pl": "✅ Ustawia wartość wejściową dla TYLKO JEDNEJ konkretnej formuły. Inne formuły nie są dotknięte. Użyj tego, gdy chcesz kontrolować formuły niezależnie.",
          "it": "✅ Imposta il valore di input per UNA SOLA formula specifica. Le altre formule non sono interessate. Usa questo quando vuoi controllare le formule indipendentemente.",
          "es": "✅ Establece el valor de entrada para UNA SOLA fórmula específica. Otras fórmulas no se ven afectadas. Usa esto cuando quieras controlar fórmulas de forma independiente."
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=logic-unit|logic-unit-2|logic-unit-3|logic-unit-4|logic-unit-5|logic-unit-6|logic-unit-7|logic-unit-8|logic-unit-9|logic-unit-10"
          },
          {
            "type": "autocomplete",
            "name": "formula",
            "title": {
              "en": "Formula",
              "no": "Formel",
              "de": "Formel",
              "nl": "Formule",
              "fr": "Formule",
              "da": "Formel",
              "fi": "Kaava",
              "sv": "Formel",
              "pl": "Formuła",
              "it": "Formula",
              "es": "Fórmula"
            },
            "placeholder": {
              "en": "Select formula",
              "no": "Velg formel",
              "de": "Wähle Formel",
              "nl": "Selecteer formule",
              "fr": "Sélectionner la formule",
              "da": "Vælg formel",
              "fi": "Valitse kaava",
              "sv": "Välj formel",
              "pl": "Wybierz formułę",
              "it": "Seleziona formula",
              "es": "Seleccionar fórmula"
            }
          },
          {
            "type": "autocomplete",
            "name": "input",
            "title": {
              "en": "Input",
              "no": "Inngang",
              "de": "Eingang",
              "nl": "Ingang",
              "fr": "Entrée",
              "da": "Indgang",
              "fi": "Tulo",
              "sv": "Ingång",
              "pl": "Wejście",
              "it": "Input",
              "es": "Entrada"
            },
            "placeholder": {
              "en": "Select input",
              "no": "Velg inngang",
              "de": "Eingang wählen",
              "nl": "Selecteer ingang",
              "fr": "Sélectionner l'entrée",
              "da": "Vælg indgang",
              "fi": "Valitse tulo",
              "sv": "Välj ingång",
              "pl": "Wybierz wejście",
              "it": "Seleziona input",
              "es": "Seleccionar entrada"
            }
          },
          {
            "type": "dropdown",
            "name": "value",
            "title": {
              "en": "Value",
              "no": "Verdi",
              "de": "Wert",
              "nl": "Waarde",
              "fr": "Valeur",
              "da": "Værdi",
              "fi": "Arvo",
              "sv": "Värde",
              "pl": "Wartość",
              "it": "Valore",
              "es": "Valor"
            },
            "values": [
              {
                "id": "true",
                "title": {
                  "en": "TRUE",
                  "no": "SANN",
                  "de": "WAHR",
                  "nl": "WAAR",
                  "fr": "VRAI",
                  "da": "SAND",
                  "fi": "TOSI",
                  "sv": "SANT",
                  "pl": "PRAWDA",
                  "it": "VERO",
                  "es": "VERDADERO"
                }
              },
              {
                "id": "false",
                "title": {
                  "en": "FALSE",
                  "no": "USANN",
                  "de": "FALSCH",
                  "nl": "ONWAAR",
                  "fr": "FAUX",
                  "da": "FALSK",
                  "fi": "EPÄTOSI",
                  "sv": "FALSKT",
                  "pl": "FAŁSZ",
                  "it": "FALSO",
                  "es": "FALSO"
                }
              }
            ]
          }
        ]
      }
    ]
  },
  "drivers": [
    {
      "name": {
        "en": "Logic Device",
        "no": "Logisk Enhet",
        "de": "Logikgerät",
        "nl": "Logisch Apparaat",
        "fr": "Appareil Logique",
        "da": "Logisk Enhed",
        "fi": "Logiikkalaite",
        "sv": "Logikenhet",
        "pl": "Urządzenie Logiczne",
        "it": "Dispositivo Logico",
        "es": "Dispositivo Lógico"
      },
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "capabilitiesOptions": {
        "alarm_generic": {
          "title": {
            "en": "Logic State",
            "no": "Logikk-status",
            "de": "Logikzustand",
            "nl": "Logische Status",
            "fr": "État Logique",
            "da": "Logisk Status",
            "fi": "Logiikkatila",
            "sv": "Logikstatus",
            "pl": "Stan Logiczny",
            "it": "Stato Logico",
            "es": "Estado Lógico"
          },
          "uiComponent": "sensor",
          "getable": true,
          "setable": false,
          "units": {
            "en": ""
          },
          "icon": "/assets/icon.svg"
        }
      },
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_device/large.png",
        "small": "/assets/images_logic_device/small.png"
      },
      "pair": [
        {
          "id": "select_num_inputs"
        },
        {
          "id": "configure_inputs"
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Formulas",
            "no": "Formler",
            "de": "Formeln",
            "nl": "Formules",
            "fr": "Formules",
            "da": "Formler",
            "fi": "Kaavat",
            "sv": "Formler",
            "pl": "Formuły",
            "it": "Formule",
            "es": "Fórmulas"
          },
          "children": [
            {
              "id": "formulas",
              "type": "textarea",
              "label": {
                "en": "Formulas (JSON)",
                "no": "Formler (JSON)",
                "de": "Formeln (JSON)",
                "nl": "Formules (JSON)",
                "fr": "Formules (JSON)",
                "da": "Formler (JSON)",
                "fi": "Kaavat (JSON)",
                "sv": "Formler (JSON)",
                "pl": "Formuły (JSON)",
                "it": "Formule (JSON)",
                "es": "Fórmulas (JSON)"
              },
              "hint": {
                "en": "JSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON will be auto-formatted when you save.\n\nExample:\n[{\"id\":\"f1\",\"name\":\"Main Logic\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: false (default) = reactive mode, true/1 = lock inputs at first value",
                "no": "JSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON vil bli auto-formatert når du lagrer.\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Hovedlogikk\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: false (standard) = reaktiv modus, true/1 = lås inputs ved første verdi",
                "de": "JSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON wird beim Speichern automatisch formatiert.\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Hauptlogik\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: Sekunden vor Zeitüberschreitung (weglassen/0 = unendlich)\nfirstImpression: false (Standard) = reaktiver Modus, true/1 = Eingänge beim ersten Wert sperren",
                "nl": "JSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON wordt automatisch opgemaakt bij het opslaan.\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Hoofdlogica\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: seconden voor time-out (weglaten/0 = oneindig)\nfirstImpression: false (standaard) = reactieve modus, true/1 = vergrendel invoer bij eerste waarde",
                "fr": "Tableau JSON. Chaque formule a son propre état d'entrée. Opérateurs : AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nLe JSON sera formaté automatiquement lors de l'enregistrement.\n\nExemple :\n[{\"id\":\"f1\",\"name\":\"Logique Principale\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout : secondes avant l'expiration (omettre/0 = infini)\nfirstImpression : false (par défaut) = mode réactif, true/1 = verrouiller les entrées à la première valeur",
                "da": "JSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON bliver auto-formateret, når du gemmer.\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Hovedlogik\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: false (standard) = reaktiv tilstand, true/1 = lås input ved første værdi",
                "fi": "JSON-taulukko. Jokaisella kaavalla on oma syötetila. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON muotoillaan automaattisesti tallennettaessa.\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Päälogiikka\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: sekuntia ennen aikakatkaisua (jätä pois/0 = ääretön)\nfirstImpression: false (oletus) = reaktiivinen tila, true/1 = lukitse syötteet ensimmäiseen arvoon",
                "sv": "JSON-array. Varje formel har sin egen ingångsstatus. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON kommer att autoformateras när du sparar.\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Huvudlogik\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: false (standard) = reaktivt läge, true/1 = lås ingångar vid första värdet",
                "pl": "Tablica JSON. Każda formuła ma swój własny stan wejściowy. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON zostanie automatycznie sformatowany po zapisaniu.\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Główna Logika\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: sekundy do przekroczenia limitu czasu (pomiń/0 = nieskończony)\nfirstImpression: false (domyślnie) = tryb reaktywny, true/1 = zablokuj wejścia przy pierwszej wartości",
                "it": "Array JSON. Ogni formula ha il proprio stato di input. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nIl JSON verrà formattato automaticamente al salvataggio.\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"Logica Principale\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: secondi prima del timeout (omettere/0 = infinito)\nfirstImpression: false (predefinito) = modalità reattiva, true/1 = blocca gli input al primo valore",
                "es": "Array JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEl JSON se formateará automáticamente al guardar.\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Lógica Principal\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: false (predeterminado) = modo reactivo, true/1 = bloquear entradas en el primer valor"
              },
              "value": "[]"
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Input Links",
            "no": "Inngangs-koblinger",
            "de": "Eingangsverknüpfungen",
            "nl": "Invoerkoppelingen",
            "fr": "Liens d'Entrée",
            "da": "Input-links",
            "fi": "Tulolinkit",
            "sv": "Ingångslänkar",
            "pl": "Linki Wejściowe",
            "it": "Collegamenti di Ingresso",
            "es": "Enlaces de Entrada"
          },
          "children": [
            {
              "id": "input_links",
              "type": "textarea",
              "label": {
                "en": "Input Links (JSON)",
                "no": "Inngangs-koblinger (JSON)",
                "de": "Eingangsverknüpfungen (JSON)",
                "nl": "Invoerkoppelingen (JSON)",
                "fr": "Liens d'Entrée (JSON)",
                "da": "Input-links (JSON)",
                "fi": "Tulolinkit (JSON)",
                "sv": "Ingångslänkar (JSON)",
                "pl": "Linki Wejściowe (JSON)",
                "it": "Collegamenti di Ingresso (JSON)",
                "es": "Enlaces de Entrada (JSON)"
              },
              "hint": {
                "en": "Links between inputs and devices. JSON will be auto-formatted when you save.\n\nExample:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Kitchen Light\"}]",
                "no": "Koblinger mellom innganger og enheter. JSON vil bli auto-formatert når du lagrer.\n\nEksempel:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Kjøkkenlys\"}]",
                "de": "Verknüpfungen zwischen Eingängen und Geräten. JSON wird beim Speichern automatisch formatiert.\n\nBeispiel:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Küchenlicht\"}]",
                "nl": "Koppelingen tussen ingangen en apparaten. JSON wordt automatisch opgemaakt bij het opslaan.\n\nVoorbeeld:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Keukenlamp\"}]",
                "fr": "Liens entre les entrées et les appareils. Le JSON sera formaté automatiquement lors de l'enregistrement.\n\nExemple :\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Lumière Cuisine\"}]",
                "da": "Links mellem inputs og enheder. JSON bliver auto-formateret, når du gemmer.\n\nEksempel:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Køkkenlys\"}]",
                "fi": "Linkit syötteiden ja laitteiden välillä. JSON muotoillaan automaattisesti tallennettaessa.\n\nEsimerkki:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Keittiön Valo\"}]",
                "sv": "Länkar mellan ingångar och enheter. JSON kommer att autoformateras när du sparar.\n\nExempel:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Kökslampa\"}]",
                "pl": "Powiązania między wejściami a urządzeniami. JSON zostanie automatycznie sformatowany po zapisaniu.\n\nPrzykład:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Światło w kuchni\"}]",
                "it": "Collegamenti tra input e dispositivi. Il JSON verrà formattato automaticamente al salvataggio.\n\nEsempio:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Luce Cucina\"}]",
                "es": "Enlaces entre entradas y dispositivos. El JSON se formateará automáticamente al guardar.\n\nEjemplo:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Luz de la Cocina\"}]"
              },
              "value": "[]"
            }
          ]
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "device_state_changed",
          "titleFormatted": "flow.triggers.device_state_changed.titleFormatted",
          "tokens": [
            {
              "name": "state",
              "type": "string",
              "title": "flow.tokens.state.title"
            }
          ]
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_ld"
        },
        {
          "type": "condition",
          "id": "formula_result_is_ld"
        },
        {
          "type": "condition",
          "id": "has_any_error_ld"
        },
        {
          "type": "action",
          "id": "evaluate_formula_ld"
        },
        {
          "type": "action",
          "id": "clear_error_ld"
        }
      ],
      "id": "logic-device"
    },
    {
      "name": {
        "en": "Logic Unit (Dynamic)",
        "no": "Logisk Enhet (Dynamisk)",
        "de": "Logikeinheit (Dynamisch)",
        "nl": "Logische Eenheid (Dynamisch)",
        "fr": "Unité Logique (Dynamique)",
        "da": "Logisk Enhed (Dynamisk)",
        "fi": "Logiikkayksikkö (Dynaaminen)",
        "sv": "Logikenhet (Dynamisk)",
        "pl": "Jednostka Logiczna (Dynamiczna)",
        "it": "Unità Logica (Dinamica)",
        "es": "Unidad Lógica (Dinámica)"
      },
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_unit/large.png",
        "small": "/assets/images_logic_unit/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "JSON array. Number of inputs (2-10) is automatically detected from formulas. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
            "no": "JSON-array. Antall innganger (2-10) detekteres automatisk fra formler. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
            "de": "JSON-Array. Anzahl der Eingänge (2-10) wird automatisch aus Formeln erkannt. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
            "nl": "JSON-array. Aantal ingangen (2-10) wordt automatisch gedetecteerd uit formules. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
            "fr": "Tableau JSON. Le nombre d'entrées (2-10) est automatiquement détecté à partir des formules. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
            "da": "JSON-array. Antal indgange (2-10) detekteres automatisk fra formler. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
            "fi": "JSON-taulukko. Tulojen määrä (2-10) tunnistetaan automaattisesti kaavoista. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
            "sv": "JSON-array. Antal ingångar (2-10) detekteras automatiskt från formler. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
            "pl": "Tablica JSON. Liczba wejść (2-10) jest automatycznie wykrywana z formuł. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
            "it": "Array JSON. Il numero di ingressi (2-10) viene rilevato automaticamente dalle formule. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
            "es": "Matriz JSON. El número de entradas (2-10) se detecta automáticamente desde las fórmulas. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
          },
          "value": "[]"
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "formula_changed_to_false_lu"
        },
        {
          "type": "trigger",
          "id": "formula_changed_to_true_lu"
        },
        {
          "type": "trigger",
          "id": "formula_timeout_lu"
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_lu"
        },
        {
          "type": "condition",
          "id": "formula_result_is_lu"
        },
        {
          "type": "condition",
          "id": "has_any_error_lu"
        },
        {
          "type": "action",
          "id": "set_input_value_lu"
        },
        {
          "type": "action",
          "id": "evaluate_formula_lu"
        },
        {
          "type": "action",
          "id": "evaluate_all_formulas_lu"
        },
        {
          "type": "action",
          "id": "clear_error_state_lu"
        },
        {
          "type": "action",
          "id": "set_all_inputs_lu"
        },
        {
          "type": "action",
          "id": "set_input_lu"
        }
      ],
      "id": "logic-unit"
    },
    {
      "name": {
        "en": "Logic Unit (10 inputs) [DEPRECATED]",
        "no": "Logisk Enhet (10 innganger) [UTGÅTT]",
        "de": "Logikeinheit (10 Eingänge) [VERALTET]",
        "nl": "Logische Eenheid (10 ingangen) [VEROUDERD]",
        "fr": "Unité Logique (10 entrées) [OBSOLÈTE]",
        "da": "Logisk Enhed (10 indgange) [FORÆLDET]",
        "fi": "Logiikkayksikkö (10 tuloa) [VANHENTUNUT]",
        "sv": "Logikenhet (10 ingångar) [FÖRÅLDRAD]",
        "pl": "Jednostka Logiczna (10 wejścia) [PRZESTARZAŁE]",
        "it": "Unità Logica (10 ingressi) [DEPRECATO]",
        "es": "Unidad Lógica (10 entradas) [OBSOLETO]"
      },
      "deprecated": true,
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_unit/large.png",
        "small": "/assets/images_logic_unit/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
            "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
            "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
            "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
            "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
            "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
            "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
            "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
            "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
            "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
            "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
          },
          "value": "[]"
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "formula_changed_to_false_lu"
        },
        {
          "type": "trigger",
          "id": "formula_changed_to_true_lu"
        },
        {
          "type": "trigger",
          "id": "formula_timeout_lu"
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_lu"
        },
        {
          "type": "condition",
          "id": "formula_result_is_lu"
        },
        {
          "type": "condition",
          "id": "has_any_error_lu"
        },
        {
          "type": "action",
          "id": "set_input_value_lu"
        },
        {
          "type": "action",
          "id": "evaluate_formula_lu"
        },
        {
          "type": "action",
          "id": "evaluate_all_formulas_lu"
        },
        {
          "type": "action",
          "id": "clear_error_state_lu"
        },
        {
          "type": "action",
          "id": "set_all_inputs_lu"
        },
        {
          "type": "action",
          "id": "set_input_lu"
        }
      ],
      "id": "logic-unit-10"
    },
    {
      "name": {
        "en": "Logic Unit (2 inputs) [DEPRECATED]",
        "no": "Logisk Enhet (2 innganger) [UTGÅTT]",
        "de": "Logikeinheit (2 Eingänge) [VERALTET]",
        "nl": "Logische Eenheid (2 ingangen) [VEROUDERD]",
        "fr": "Unité Logique (2 entrées) [OBSOLÈTE]",
        "da": "Logisk Enhed (2 indgange) [FORÆLDET]",
        "fi": "Logiikkayksikkö (2 tuloa) [VANHENTUNUT]",
        "sv": "Logikenhet (2 ingångar) [FÖRÅLDRAD]",
        "pl": "Jednostka Logiczna (2 wejścia) [PRZESTARZAŁE]",
        "it": "Unità Logica (2 ingressi) [DEPRECATO]",
        "es": "Unidad Lógica (2 entradas) [OBSOLETO]"
      },
      "deprecated": true,
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_unit/large.png",
        "small": "/assets/images_logic_unit/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
            "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
            "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
            "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
            "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
            "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
            "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
            "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
            "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
            "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
            "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
          },
          "value": "[]"
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "formula_changed_to_false_lu"
        },
        {
          "type": "trigger",
          "id": "formula_changed_to_true_lu"
        },
        {
          "type": "trigger",
          "id": "formula_timeout_lu"
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_lu"
        },
        {
          "type": "condition",
          "id": "formula_result_is_lu"
        },
        {
          "type": "condition",
          "id": "has_any_error_lu"
        },
        {
          "type": "action",
          "id": "set_input_value_lu"
        },
        {
          "type": "action",
          "id": "evaluate_formula_lu"
        },
        {
          "type": "action",
          "id": "evaluate_all_formulas_lu"
        },
        {
          "type": "action",
          "id": "clear_error_state_lu"
        },
        {
          "type": "action",
          "id": "set_all_inputs_lu"
        },
        {
          "type": "action",
          "id": "set_input_lu"
        }
      ],
      "id": "logic-unit-2"
    },
    {
      "name": {
        "en": "Logic Unit (3 inputs) [DEPRECATED]",
        "no": "Logisk Enhet (3 innganger) [UTGÅTT]",
        "de": "Logikeinheit (3 Eingänge) [VERALTET]",
        "nl": "Logische Eenheid (3 ingangen) [VEROUDERD]",
        "fr": "Unité Logique (3 entrées) [OBSOLÈTE]",
        "da": "Logisk Enhed (3 indgange) [FORÆLDET]",
        "fi": "Logiikkayksikkö (3 tuloa) [VANHENTUNUT]",
        "sv": "Logikenhet (3 ingångar) [FÖRÅLDRAD]",
        "pl": "Jednostka Logiczna (3 wejścia) [PRZESTARZAŁE]",
        "it": "Unità Logica (3 ingressi) [DEPRECATO]",
        "es": "Unidad Lógica (3 entradas) [OBSOLETO]"
      },
      "deprecated": true,
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_unit/large.png",
        "small": "/assets/images_logic_unit/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
            "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
            "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
            "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
            "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
            "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
            "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
            "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
            "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
            "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
            "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
          },
          "value": "[]"
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "formula_changed_to_false_lu"
        },
        {
          "type": "trigger",
          "id": "formula_changed_to_true_lu"
        },
        {
          "type": "trigger",
          "id": "formula_timeout_lu"
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_lu"
        },
        {
          "type": "condition",
          "id": "formula_result_is_lu"
        },
        {
          "type": "condition",
          "id": "has_any_error_lu"
        },
        {
          "type": "action",
          "id": "set_input_value_lu"
        },
        {
          "type": "action",
          "id": "evaluate_formula_lu"
        },
        {
          "type": "action",
          "id": "evaluate_all_formulas_lu"
        },
        {
          "type": "action",
          "id": "clear_error_state_lu"
        },
        {
          "type": "action",
          "id": "set_all_inputs_lu"
        },
        {
          "type": "action",
          "id": "set_input_lu"
        }
      ],
      "id": "logic-unit-3"
    },
    {
      "name": {
        "en": "Logic Unit (4 inputs) [DEPRECATED]",
        "no": "Logisk Enhet (4 innganger) [UTGÅTT]",
        "de": "Logikeinheit (4 Eingänge) [VERALTET]",
        "nl": "Logische Eenheid (4 ingangen) [VEROUDERD]",
        "fr": "Unité Logique (4 entrées) [OBSOLÈTE]",
        "da": "Logisk Enhed (4 indgange) [FORÆLDET]",
        "fi": "Logiikkayksikkö (4 tuloa) [VANHENTUNUT]",
        "sv": "Logikenhet (4 ingångar) [FÖRÅLDRAD]",
        "pl": "Jednostka Logiczna (4 wejścia) [PRZESTARZAŁE]",
        "it": "Unità Logica (4 ingressi) [DEPRECATO]",
        "es": "Unidad Lógica (4 entradas) [OBSOLETO]"
      },
      "deprecated": true,
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_unit/large.png",
        "small": "/assets/images_logic_unit/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
            "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
            "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
            "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
            "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
            "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
            "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
            "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
            "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
            "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
            "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
          },
          "value": "[]"
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "formula_changed_to_false_lu"
        },
        {
          "type": "trigger",
          "id": "formula_changed_to_true_lu"
        },
        {
          "type": "trigger",
          "id": "formula_timeout_lu"
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_lu"
        },
        {
          "type": "condition",
          "id": "formula_result_is_lu"
        },
        {
          "type": "condition",
          "id": "has_any_error_lu"
        },
        {
          "type": "action",
          "id": "set_input_value_lu"
        },
        {
          "type": "action",
          "id": "evaluate_formula_lu"
        },
        {
          "type": "action",
          "id": "evaluate_all_formulas_lu"
        },
        {
          "type": "action",
          "id": "clear_error_state_lu"
        },
        {
          "type": "action",
          "id": "set_all_inputs_lu"
        },
        {
          "type": "action",
          "id": "set_input_lu"
        }
      ],
      "id": "logic-unit-4"
    },
    {
      "name": {
        "en": "Logic Unit (5 inputs) [DEPRECATED]",
        "no": "Logisk Enhet (5 innganger) [UTGÅTT]",
        "de": "Logikeinheit (5 Eingänge) [VERALTET]",
        "nl": "Logische Eenheid (5 ingangen) [VEROUDERD]",
        "fr": "Unité Logique (5 entrées) [OBSOLÈTE]",
        "da": "Logisk Enhed (5 indgange) [FORÆLDET]",
        "fi": "Logiikkayksikkö (5 tuloa) [VANHENTUNUT]",
        "sv": "Logikenhet (5 ingångar) [FÖRÅLDRAD]",
        "pl": "Jednostka Logiczna (5 wejścia) [PRZESTARZAŁE]",
        "it": "Unità Logica (5 ingressi) [DEPRECATO]",
        "es": "Unidad Lógica (5 entradas) [OBSOLETO]"
      },
      "deprecated": true,
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_unit/large.png",
        "small": "/assets/images_logic_unit/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
            "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
            "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
            "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
            "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
            "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
            "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
            "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
            "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
            "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
            "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
          },
          "value": "[]"
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "formula_changed_to_false_lu"
        },
        {
          "type": "trigger",
          "id": "formula_changed_to_true_lu"
        },
        {
          "type": "trigger",
          "id": "formula_timeout_lu"
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_lu"
        },
        {
          "type": "condition",
          "id": "formula_result_is_lu"
        },
        {
          "type": "condition",
          "id": "has_any_error_lu"
        },
        {
          "type": "action",
          "id": "set_input_value_lu"
        },
        {
          "type": "action",
          "id": "evaluate_formula_lu"
        },
        {
          "type": "action",
          "id": "evaluate_all_formulas_lu"
        },
        {
          "type": "action",
          "id": "clear_error_state_lu"
        },
        {
          "type": "action",
          "id": "set_all_inputs_lu"
        },
        {
          "type": "action",
          "id": "set_input_lu"
        }
      ],
      "id": "logic-unit-5"
    },
    {
      "name": {
        "en": "Logic Unit (6 inputs) [DEPRECATED]",
        "no": "Logisk Enhet (6 innganger) [UTGÅTT]",
        "de": "Logikeinheit (6 Eingänge) [VERALTET]",
        "nl": "Logische Eenheid (6 ingangen) [VEROUDERD]",
        "fr": "Unité Logique (6 entrées) [OBSOLÈTE]",
        "da": "Logisk Enhed (6 indgange) [FORÆLDET]",
        "fi": "Logiikkayksikkö (6 tuloa) [VANHENTUNUT]",
        "sv": "Logikenhet (6 ingångar) [FÖRÅLDRAD]",
        "pl": "Jednostka Logiczna (6 wejścia) [PRZESTARZAŁE]",
        "it": "Unità Logica (6 ingressi) [DEPRECATO]",
        "es": "Unidad Lógica (6 entradas) [OBSOLETO]"
      },
      "deprecated": true,
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_unit/large.png",
        "small": "/assets/images_logic_unit/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
            "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
            "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
            "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
            "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
            "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
            "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
            "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
            "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
            "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
            "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
          },
          "value": "[]"
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "formula_changed_to_false_lu"
        },
        {
          "type": "trigger",
          "id": "formula_changed_to_true_lu"
        },
        {
          "type": "trigger",
          "id": "formula_timeout_lu"
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_lu"
        },
        {
          "type": "condition",
          "id": "formula_result_is_lu"
        },
        {
          "type": "condition",
          "id": "has_any_error_lu"
        },
        {
          "type": "action",
          "id": "set_input_value_lu"
        },
        {
          "type": "action",
          "id": "evaluate_formula_lu"
        },
        {
          "type": "action",
          "id": "evaluate_all_formulas_lu"
        },
        {
          "type": "action",
          "id": "clear_error_state_lu"
        },
        {
          "type": "action",
          "id": "set_all_inputs_lu"
        },
        {
          "type": "action",
          "id": "set_input_lu"
        }
      ],
      "id": "logic-unit-6"
    },
    {
      "name": {
        "en": "Logic Unit (7 inputs) [DEPRECATED]",
        "no": "Logisk Enhet (7 innganger) [UTGÅTT]",
        "de": "Logikeinheit (7 Eingänge) [VERALTET]",
        "nl": "Logische Eenheid (7 ingangen) [VEROUDERD]",
        "fr": "Unité Logique (7 entrées) [OBSOLÈTE]",
        "da": "Logisk Enhed (7 indgange) [FORÆLDET]",
        "fi": "Logiikkayksikkö (7 tuloa) [VANHENTUNUT]",
        "sv": "Logikenhet (7 ingångar) [FÖRÅLDRAD]",
        "pl": "Jednostka Logiczna (7 wejścia) [PRZESTARZAŁE]",
        "it": "Unità Logica (7 ingressi) [DEPRECATO]",
        "es": "Unidad Lógica (7 entradas) [OBSOLETO]"
      },
      "deprecated": true,
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_unit/large.png",
        "small": "/assets/images_logic_unit/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
            "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
            "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
            "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
            "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
            "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
            "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
            "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
            "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
            "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
            "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
          },
          "value": "[]"
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "formula_changed_to_false_lu"
        },
        {
          "type": "trigger",
          "id": "formula_changed_to_true_lu"
        },
        {
          "type": "trigger",
          "id": "formula_timeout_lu"
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_lu"
        },
        {
          "type": "condition",
          "id": "formula_result_is_lu"
        },
        {
          "type": "condition",
          "id": "has_any_error_lu"
        },
        {
          "type": "action",
          "id": "set_input_value_lu"
        },
        {
          "type": "action",
          "id": "evaluate_formula_lu"
        },
        {
          "type": "action",
          "id": "evaluate_all_formulas_lu"
        },
        {
          "type": "action",
          "id": "clear_error_state_lu"
        },
        {
          "type": "action",
          "id": "set_all_inputs_lu"
        },
        {
          "type": "action",
          "id": "set_input_lu"
        }
      ],
      "id": "logic-unit-7"
    },
    {
      "name": {
        "en": "Logic Unit (8 inputs) [DEPRECATED]",
        "no": "Logisk Enhet (8 innganger) [UTGÅTT]",
        "de": "Logikeinheit (8 Eingänge) [VERALTET]",
        "nl": "Logische Eenheid (8 ingangen) [VEROUDERD]",
        "fr": "Unité Logique (8 entrées) [OBSOLÈTE]",
        "da": "Logisk Enhed (8 indgange) [FORÆLDET]",
        "fi": "Logiikkayksikkö (8 tuloa) [VANHENTUNUT]",
        "sv": "Logikenhet (8 ingångar) [FÖRÅLDRAD]",
        "pl": "Jednostka Logiczna (8 wejścia) [PRZESTARZAŁE]",
        "it": "Unità Logica (8 ingressi) [DEPRECATO]",
        "es": "Unidad Lógica (8 entradas) [OBSOLETO]"
      },
      "deprecated": true,
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_unit/large.png",
        "small": "/assets/images_logic_unit/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
            "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
            "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
            "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
            "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
            "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
            "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
            "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
            "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
            "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
            "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
          },
          "value": "[]"
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "formula_changed_to_false_lu"
        },
        {
          "type": "trigger",
          "id": "formula_changed_to_true_lu"
        },
        {
          "type": "trigger",
          "id": "formula_timeout_lu"
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_lu"
        },
        {
          "type": "condition",
          "id": "formula_result_is_lu"
        },
        {
          "type": "condition",
          "id": "has_any_error_lu"
        },
        {
          "type": "action",
          "id": "set_input_value_lu"
        },
        {
          "type": "action",
          "id": "evaluate_formula_lu"
        },
        {
          "type": "action",
          "id": "evaluate_all_formulas_lu"
        },
        {
          "type": "action",
          "id": "clear_error_state_lu"
        },
        {
          "type": "action",
          "id": "set_all_inputs_lu"
        },
        {
          "type": "action",
          "id": "set_input_lu"
        }
      ],
      "id": "logic-unit-8"
    },
    {
      "name": {
        "en": "Logic Unit (9 inputs) [DEPRECATED]",
        "no": "Logisk Enhet (9 innganger) [UTGÅTT]",
        "de": "Logikeinheit (9 Eingänge) [VERALTET]",
        "nl": "Logische Eenheid (9 ingangen) [VEROUDERD]",
        "fr": "Unité Logique (9 entrées) [OBSOLÈTE]",
        "da": "Logisk Enhed (9 indgange) [FORÆLDET]",
        "fi": "Logiikkayksikkö (9 tuloa) [VANHENTUNUT]",
        "sv": "Logikenhet (9 ingångar) [FÖRÅLDRAD]",
        "pl": "Jednostka Logiczna (9 wejścia) [PRZESTARZAŁE]",
        "it": "Unità Logica (9 ingressi) [DEPRECATO]",
        "es": "Unidad Lógica (9 entradas) [OBSOLETO]"
      },
      "deprecated": true,
      "class": "other",
      "capabilities": [
        "onoff",
        "alarm_generic"
      ],
      "energy": {
        "approximation": {
          "usageConstant": 0
        }
      },
      "images": {
        "large": "/assets/images_logic_unit/large.png",
        "small": "/assets/images_logic_unit/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
            "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
            "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
            "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
            "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
            "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
            "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
            "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
            "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
            "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
            "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
          },
          "value": "[]"
        }
      ],
      "flow": [
        {
          "type": "trigger",
          "id": "formula_changed_to_false_lu"
        },
        {
          "type": "trigger",
          "id": "formula_changed_to_true_lu"
        },
        {
          "type": "trigger",
          "id": "formula_timeout_lu"
        },
        {
          "type": "condition",
          "id": "formula_has_timed_out_lu"
        },
        {
          "type": "condition",
          "id": "formula_result_is_lu"
        },
        {
          "type": "condition",
          "id": "has_any_error_lu"
        },
        {
          "type": "action",
          "id": "set_input_value_lu"
        },
        {
          "type": "action",
          "id": "evaluate_formula_lu"
        },
        {
          "type": "action",
          "id": "evaluate_all_formulas_lu"
        },
        {
          "type": "action",
          "id": "clear_error_state_lu"
        },
        {
          "type": "action",
          "id": "set_all_inputs_lu"
        },
        {
          "type": "action",
          "id": "set_input_lu"
        }
      ],
      "id": "logic-unit-9"
    }
  ]
}
--- END: app.json ---

--- START: coverage/base.css (sha256=3f876e51f0a46864ffa7665b4b7a1f5fb5f6f37fb6a28f014e2b12d82962c852, bytes=5394) ---
body, html {
  margin:0; padding: 0;
  height: 100%;
}
body {
    font-family: Helvetica Neue, Helvetica, Arial;
    font-size: 14px;
    color:#333;
}
.small { font-size: 12px; }
*, *:after, *:before {
  -webkit-box-sizing:border-box;
     -moz-box-sizing:border-box;
          box-sizing:border-box;
  }
h1 { font-size: 20px; margin: 0;}
h2 { font-size: 14px; }
pre {
    font: 12px/1.4 Consolas, "Liberation Mono", Menlo, Courier, monospace;
    margin: 0;
    padding: 0;
    -moz-tab-size: 2;
    -o-tab-size:  2;
    tab-size: 2;
}
a { color:#0074D9; text-decoration:none; }
a:hover { text-decoration:underline; }
.strong { font-weight: bold; }
.space-top1 { padding: 10px 0 0 0; }
.pad2y { padding: 20px 0; }
.pad1y { padding: 10px 0; }
.pad2x { padding: 0 20px; }
.pad2 { padding: 20px; }
.pad1 { padding: 10px; }
.space-left2 { padding-left:55px; }
.space-right2 { padding-right:20px; }
.center { text-align:center; }
.clearfix { display:block; }
.clearfix:after {
  content:'';
  display:block;
  height:0;
  clear:both;
  visibility:hidden;
  }
.fl { float: left; }
@media only screen and (max-width:640px) {
  .col3 { width:100%; max-width:100%; }
  .hide-mobile { display:none!important; }
}

.quiet {
  color: #7f7f7f;
  color: rgba(0,0,0,0.5);
}
.quiet a { opacity: 0.7; }

.fraction {
  font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace;
  font-size: 10px;
  color: #555;
  background: #E8E8E8;
  padding: 4px 5px;
  border-radius: 3px;
  vertical-align: middle;
}

div.path a:link, div.path a:visited { color: #333; }
table.coverage {
  border-collapse: collapse;
  margin: 10px 0 0 0;
  padding: 0;
}

table.coverage td {
  margin: 0;
  padding: 0;
  vertical-align: top;
}
table.coverage td.line-count {
    text-align: right;
    padding: 0 5px 0 20px;
}
table.coverage td.line-coverage {
    text-align: right;
    padding-right: 10px;
    min-width:20px;
}

table.coverage td span.cline-any {
    display: inline-block;
    padding: 0 5px;
    width: 100%;
}
.missing-if-branch {
    display: inline-block;
    margin-right: 5px;
    border-radius: 3px;
    position: relative;
    padding: 0 4px;
    background: #333;
    color: yellow;
}

.skip-if-branch {
    display: none;
    margin-right: 10px;
    position: relative;
    padding: 0 4px;
    background: #ccc;
    color: white;
}
.missing-if-branch .typ, .skip-if-branch .typ {
    color: inherit !important;
}
.coverage-summary {
  border-collapse: collapse;
  width: 100%;
}
.coverage-summary tr { border-bottom: 1px solid #bbb; }
.keyline-all { border: 1px solid #ddd; }
.coverage-summary td, .coverage-summary th { padding: 10px; }
.coverage-summary tbody { border: 1px solid #bbb; }
.coverage-summary td { border-right: 1px solid #bbb; }
.coverage-summary td:last-child { border-right: none; }
.coverage-summary th {
  text-align: left;
  font-weight: normal;
  white-space: nowrap;
}
.coverage-summary th.file { border-right: none !important; }
.coverage-summary th.pct { }
.coverage-summary th.pic,
.coverage-summary th.abs,
.coverage-summary td.pct,
.coverage-summary td.abs { text-align: right; }
.coverage-summary td.file { white-space: nowrap;  }
.coverage-summary td.pic { min-width: 120px !important;  }
.coverage-summary tfoot td { }

.coverage-summary .sorter {
    height: 10px;
    width: 7px;
    display: inline-block;
    margin-left: 0.5em;
    background: url(sort-arrow-sprite.png) no-repeat scroll 0 0 transparent;
}
.coverage-summary .sorted .sorter {
    background-position: 0 -20px;
}
.coverage-summary .sorted-desc .sorter {
    background-position: 0 -10px;
}
.status-line {  height: 10px; }
/* yellow */
.cbranch-no { background: yellow !important; color: #111; }
/* dark red */
.red.solid, .status-line.low, .low .cover-fill { background:#C21F39 }
.low .chart { border:1px solid #C21F39 }
.highlighted,
.highlighted .cstat-no, .highlighted .fstat-no, .highlighted .cbranch-no{
  background: #C21F39 !important;
}
/* medium red */
.cstat-no, .fstat-no, .cbranch-no, .cbranch-no { background:#F6C6CE }
/* light red */
.low, .cline-no { background:#FCE1E5 }
/* light green */
.high, .cline-yes { background:rgb(230,245,208) }
/* medium green */
.cstat-yes { background:rgb(161,215,106) }
/* dark green */
.status-line.high, .high .cover-fill { background:rgb(77,146,33) }
.high .chart { border:1px solid rgb(77,146,33) }
/* dark yellow (gold) */
.status-line.medium, .medium .cover-fill { background: #f9cd0b; }
.medium .chart { border:1px solid #f9cd0b; }
/* light yellow */
.medium { background: #fff4c2; }

.cstat-skip { background: #ddd; color: #111; }
.fstat-skip { background: #ddd; color: #111 !important; }
.cbranch-skip { background: #ddd !important; color: #111; }

span.cline-neutral { background: #eaeaea; }

.coverage-summary td.empty {
    opacity: .5;
    padding-top: 4px;
    padding-bottom: 4px;
    line-height: 1;
    color: #888;
}

.cover-fill, .cover-empty {
  display:inline-block;
  height: 12px;
}
.chart {
  line-height: 0;
}
.cover-empty {
    background: white;
}
.cover-full {
    border-right: none !important;
}
pre.prettyprint {
    border: none !important;
    padding: 0 !important;
    margin: 0 !important;
}
.com { color: #999 !important; }
.ignore-none { color: #999; font-weight: normal; }

.wrapper {
  min-height: 100%;
  height: auto !important;
  height: 100%;
  margin: 0 auto -48px;
}
.footer, .push {
  height: 48px;
}
--- END: coverage/base.css ---

--- START: coverage/BaseLogicDriver.js.html (sha256=c21b24298379139e4ba4222b602cfc2abedbf7fc677cd3c1ca34c057b05d764b, bytes=76709) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for BaseLogicDriver.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> BaseLogicDriver.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/178</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/107</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/19</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/174</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a>
<a name='L253'></a><a href='#L253'>253</a>
<a name='L254'></a><a href='#L254'>254</a>
<a name='L255'></a><a href='#L255'>255</a>
<a name='L256'></a><a href='#L256'>256</a>
<a name='L257'></a><a href='#L257'>257</a>
<a name='L258'></a><a href='#L258'>258</a>
<a name='L259'></a><a href='#L259'>259</a>
<a name='L260'></a><a href='#L260'>260</a>
<a name='L261'></a><a href='#L261'>261</a>
<a name='L262'></a><a href='#L262'>262</a>
<a name='L263'></a><a href='#L263'>263</a>
<a name='L264'></a><a href='#L264'>264</a>
<a name='L265'></a><a href='#L265'>265</a>
<a name='L266'></a><a href='#L266'>266</a>
<a name='L267'></a><a href='#L267'>267</a>
<a name='L268'></a><a href='#L268'>268</a>
<a name='L269'></a><a href='#L269'>269</a>
<a name='L270'></a><a href='#L270'>270</a>
<a name='L271'></a><a href='#L271'>271</a>
<a name='L272'></a><a href='#L272'>272</a>
<a name='L273'></a><a href='#L273'>273</a>
<a name='L274'></a><a href='#L274'>274</a>
<a name='L275'></a><a href='#L275'>275</a>
<a name='L276'></a><a href='#L276'>276</a>
<a name='L277'></a><a href='#L277'>277</a>
<a name='L278'></a><a href='#L278'>278</a>
<a name='L279'></a><a href='#L279'>279</a>
<a name='L280'></a><a href='#L280'>280</a>
<a name='L281'></a><a href='#L281'>281</a>
<a name='L282'></a><a href='#L282'>282</a>
<a name='L283'></a><a href='#L283'>283</a>
<a name='L284'></a><a href='#L284'>284</a>
<a name='L285'></a><a href='#L285'>285</a>
<a name='L286'></a><a href='#L286'>286</a>
<a name='L287'></a><a href='#L287'>287</a>
<a name='L288'></a><a href='#L288'>288</a>
<a name='L289'></a><a href='#L289'>289</a>
<a name='L290'></a><a href='#L290'>290</a>
<a name='L291'></a><a href='#L291'>291</a>
<a name='L292'></a><a href='#L292'>292</a>
<a name='L293'></a><a href='#L293'>293</a>
<a name='L294'></a><a href='#L294'>294</a>
<a name='L295'></a><a href='#L295'>295</a>
<a name='L296'></a><a href='#L296'>296</a>
<a name='L297'></a><a href='#L297'>297</a>
<a name='L298'></a><a href='#L298'>298</a>
<a name='L299'></a><a href='#L299'>299</a>
<a name='L300'></a><a href='#L300'>300</a>
<a name='L301'></a><a href='#L301'>301</a>
<a name='L302'></a><a href='#L302'>302</a>
<a name='L303'></a><a href='#L303'>303</a>
<a name='L304'></a><a href='#L304'>304</a>
<a name='L305'></a><a href='#L305'>305</a>
<a name='L306'></a><a href='#L306'>306</a>
<a name='L307'></a><a href='#L307'>307</a>
<a name='L308'></a><a href='#L308'>308</a>
<a name='L309'></a><a href='#L309'>309</a>
<a name='L310'></a><a href='#L310'>310</a>
<a name='L311'></a><a href='#L311'>311</a>
<a name='L312'></a><a href='#L312'>312</a>
<a name='L313'></a><a href='#L313'>313</a>
<a name='L314'></a><a href='#L314'>314</a>
<a name='L315'></a><a href='#L315'>315</a>
<a name='L316'></a><a href='#L316'>316</a>
<a name='L317'></a><a href='#L317'>317</a>
<a name='L318'></a><a href='#L318'>318</a>
<a name='L319'></a><a href='#L319'>319</a>
<a name='L320'></a><a href='#L320'>320</a>
<a name='L321'></a><a href='#L321'>321</a>
<a name='L322'></a><a href='#L322'>322</a>
<a name='L323'></a><a href='#L323'>323</a>
<a name='L324'></a><a href='#L324'>324</a>
<a name='L325'></a><a href='#L325'>325</a>
<a name='L326'></a><a href='#L326'>326</a>
<a name='L327'></a><a href='#L327'>327</a>
<a name='L328'></a><a href='#L328'>328</a>
<a name='L329'></a><a href='#L329'>329</a>
<a name='L330'></a><a href='#L330'>330</a>
<a name='L331'></a><a href='#L331'>331</a>
<a name='L332'></a><a href='#L332'>332</a>
<a name='L333'></a><a href='#L333'>333</a>
<a name='L334'></a><a href='#L334'>334</a>
<a name='L335'></a><a href='#L335'>335</a>
<a name='L336'></a><a href='#L336'>336</a>
<a name='L337'></a><a href='#L337'>337</a>
<a name='L338'></a><a href='#L338'>338</a>
<a name='L339'></a><a href='#L339'>339</a>
<a name='L340'></a><a href='#L340'>340</a>
<a name='L341'></a><a href='#L341'>341</a>
<a name='L342'></a><a href='#L342'>342</a>
<a name='L343'></a><a href='#L343'>343</a>
<a name='L344'></a><a href='#L344'>344</a>
<a name='L345'></a><a href='#L345'>345</a>
<a name='L346'></a><a href='#L346'>346</a>
<a name='L347'></a><a href='#L347'>347</a>
<a name='L348'></a><a href='#L348'>348</a>
<a name='L349'></a><a href='#L349'>349</a>
<a name='L350'></a><a href='#L350'>350</a>
<a name='L351'></a><a href='#L351'>351</a>
<a name='L352'></a><a href='#L352'>352</a>
<a name='L353'></a><a href='#L353'>353</a>
<a name='L354'></a><a href='#L354'>354</a>
<a name='L355'></a><a href='#L355'>355</a>
<a name='L356'></a><a href='#L356'>356</a>
<a name='L357'></a><a href='#L357'>357</a>
<a name='L358'></a><a href='#L358'>358</a>
<a name='L359'></a><a href='#L359'>359</a>
<a name='L360'></a><a href='#L360'>360</a>
<a name='L361'></a><a href='#L361'>361</a>
<a name='L362'></a><a href='#L362'>362</a>
<a name='L363'></a><a href='#L363'>363</a>
<a name='L364'></a><a href='#L364'>364</a>
<a name='L365'></a><a href='#L365'>365</a>
<a name='L366'></a><a href='#L366'>366</a>
<a name='L367'></a><a href='#L367'>367</a>
<a name='L368'></a><a href='#L368'>368</a>
<a name='L369'></a><a href='#L369'>369</a>
<a name='L370'></a><a href='#L370'>370</a>
<a name='L371'></a><a href='#L371'>371</a>
<a name='L372'></a><a href='#L372'>372</a>
<a name='L373'></a><a href='#L373'>373</a>
<a name='L374'></a><a href='#L374'>374</a>
<a name='L375'></a><a href='#L375'>375</a>
<a name='L376'></a><a href='#L376'>376</a>
<a name='L377'></a><a href='#L377'>377</a>
<a name='L378'></a><a href='#L378'>378</a>
<a name='L379'></a><a href='#L379'>379</a>
<a name='L380'></a><a href='#L380'>380</a>
<a name='L381'></a><a href='#L381'>381</a>
<a name='L382'></a><a href='#L382'>382</a>
<a name='L383'></a><a href='#L383'>383</a>
<a name='L384'></a><a href='#L384'>384</a>
<a name='L385'></a><a href='#L385'>385</a>
<a name='L386'></a><a href='#L386'>386</a>
<a name='L387'></a><a href='#L387'>387</a>
<a name='L388'></a><a href='#L388'>388</a>
<a name='L389'></a><a href='#L389'>389</a>
<a name='L390'></a><a href='#L390'>390</a>
<a name='L391'></a><a href='#L391'>391</a>
<a name='L392'></a><a href='#L392'>392</a>
<a name='L393'></a><a href='#L393'>393</a>
<a name='L394'></a><a href='#L394'>394</a>
<a name='L395'></a><a href='#L395'>395</a>
<a name='L396'></a><a href='#L396'>396</a>
<a name='L397'></a><a href='#L397'>397</a>
<a name='L398'></a><a href='#L398'>398</a>
<a name='L399'></a><a href='#L399'>399</a>
<a name='L400'></a><a href='#L400'>400</a>
<a name='L401'></a><a href='#L401'>401</a>
<a name='L402'></a><a href='#L402'>402</a>
<a name='L403'></a><a href='#L403'>403</a>
<a name='L404'></a><a href='#L404'>404</a>
<a name='L405'></a><a href='#L405'>405</a>
<a name='L406'></a><a href='#L406'>406</a>
<a name='L407'></a><a href='#L407'>407</a>
<a name='L408'></a><a href='#L408'>408</a>
<a name='L409'></a><a href='#L409'>409</a>
<a name='L410'></a><a href='#L410'>410</a>
<a name='L411'></a><a href='#L411'>411</a>
<a name='L412'></a><a href='#L412'>412</a>
<a name='L413'></a><a href='#L413'>413</a>
<a name='L414'></a><a href='#L414'>414</a>
<a name='L415'></a><a href='#L415'>415</a>
<a name='L416'></a><a href='#L416'>416</a>
<a name='L417'></a><a href='#L417'>417</a>
<a name='L418'></a><a href='#L418'>418</a>
<a name='L419'></a><a href='#L419'>419</a>
<a name='L420'></a><a href='#L420'>420</a>
<a name='L421'></a><a href='#L421'>421</a>
<a name='L422'></a><a href='#L422'>422</a>
<a name='L423'></a><a href='#L423'>423</a>
<a name='L424'></a><a href='#L424'>424</a>
<a name='L425'></a><a href='#L425'>425</a>
<a name='L426'></a><a href='#L426'>426</a>
<a name='L427'></a><a href='#L427'>427</a>
<a name='L428'></a><a href='#L428'>428</a>
<a name='L429'></a><a href='#L429'>429</a>
<a name='L430'></a><a href='#L430'>430</a>
<a name='L431'></a><a href='#L431'>431</a>
<a name='L432'></a><a href='#L432'>432</a>
<a name='L433'></a><a href='#L433'>433</a>
<a name='L434'></a><a href='#L434'>434</a>
<a name='L435'></a><a href='#L435'>435</a>
<a name='L436'></a><a href='#L436'>436</a>
<a name='L437'></a><a href='#L437'>437</a>
<a name='L438'></a><a href='#L438'>438</a>
<a name='L439'></a><a href='#L439'>439</a>
<a name='L440'></a><a href='#L440'>440</a>
<a name='L441'></a><a href='#L441'>441</a>
<a name='L442'></a><a href='#L442'>442</a>
<a name='L443'></a><a href='#L443'>443</a>
<a name='L444'></a><a href='#L444'>444</a>
<a name='L445'></a><a href='#L445'>445</a>
<a name='L446'></a><a href='#L446'>446</a>
<a name='L447'></a><a href='#L447'>447</a>
<a name='L448'></a><a href='#L448'>448</a>
<a name='L449'></a><a href='#L449'>449</a>
<a name='L450'></a><a href='#L450'>450</a>
<a name='L451'></a><a href='#L451'>451</a>
<a name='L452'></a><a href='#L452'>452</a>
<a name='L453'></a><a href='#L453'>453</a>
<a name='L454'></a><a href='#L454'>454</a>
<a name='L455'></a><a href='#L455'>455</a>
<a name='L456'></a><a href='#L456'>456</a>
<a name='L457'></a><a href='#L457'>457</a>
<a name='L458'></a><a href='#L458'>458</a>
<a name='L459'></a><a href='#L459'>459</a>
<a name='L460'></a><a href='#L460'>460</a>
<a name='L461'></a><a href='#L461'>461</a>
<a name='L462'></a><a href='#L462'>462</a>
<a name='L463'></a><a href='#L463'>463</a>
<a name='L464'></a><a href='#L464'>464</a>
<a name='L465'></a><a href='#L465'>465</a>
<a name='L466'></a><a href='#L466'>466</a>
<a name='L467'></a><a href='#L467'>467</a>
<a name='L468'></a><a href='#L468'>468</a>
<a name='L469'></a><a href='#L469'>469</a>
<a name='L470'></a><a href='#L470'>470</a>
<a name='L471'></a><a href='#L471'>471</a>
<a name='L472'></a><a href='#L472'>472</a>
<a name='L473'></a><a href='#L473'>473</a>
<a name='L474'></a><a href='#L474'>474</a>
<a name='L475'></a><a href='#L475'>475</a>
<a name='L476'></a><a href='#L476'>476</a>
<a name='L477'></a><a href='#L477'>477</a>
<a name='L478'></a><a href='#L478'>478</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";
const Homey = <span class="cstat-no" title="statement not covered" >require("homey");</span>
const Logger = <span class="cstat-no" title="statement not covered" >require("./Logger");</span>
&nbsp;
async function <span class="fstat-no" title="function not covered" >formulaAutocompleteHelper(</span>query, args) {
    const device = <span class="cstat-no" title="statement not covered" >args.device;</span>
<span class="cstat-no" title="statement not covered" >    if (!device || typeof device.getFormulas !== "function") {</span>
<span class="cstat-no" title="statement not covered" >        console.warn(</span>
            `formulaAutocompleteHelper: Invalid device or missing getFormulas in args for autocomplete.`,
        );
<span class="cstat-no" title="statement not covered" >        return [];</span>
    }
<span class="cstat-no" title="statement not covered" >    try {</span>
        const formulas = <span class="cstat-no" title="statement not covered" >device.getFormulas();</span>
<span class="cstat-no" title="statement not covered" >        if (!Array.isArray(formulas)) {</span>
<span class="cstat-no" title="statement not covered" >            console.warn(</span>
                `getFormulas didn't return array for ${device.getName()}.`,
            );
<span class="cstat-no" title="statement not covered" >            return [];</span>
        }
        const lowerQuery = <span class="cstat-no" title="statement not covered" >query ? query.toLowerCase() : "";</span>
<span class="cstat-no" title="statement not covered" >        return formulas.filter(</span>
<span class="fstat-no" title="function not covered" >            (f</span>) =&gt;
<span class="cstat-no" title="statement not covered" >                f &amp;&amp;</span>
                f.name &amp;&amp;
                (!query || f.name.toLowerCase().includes(lowerQuery)),
        );
    } catch (e) {
<span class="cstat-no" title="statement not covered" >        console.error(</span>
            `Error in formulaAutocompleteHelper for ${device.getName()}`,
            e,
        );
<span class="cstat-no" title="statement not covered" >        return [];</span>
    }
}
&nbsp;
async function <span class="fstat-no" title="function not covered" >inputAutocompleteHelper(</span>query, args) {
    const device = <span class="cstat-no" title="statement not covered" >args.device;</span>
<span class="cstat-no" title="statement not covered" >    if (!device || typeof device.getInputOptions !== "function") {</span>
<span class="cstat-no" title="statement not covered" >        console.warn(</span>
            `inputAutocompleteHelper: Invalid device or missing getInputOptions in args for autocomplete.`,
        );
<span class="cstat-no" title="statement not covered" >        return [];</span>
    }
<span class="cstat-no" title="statement not covered" >    try {</span>
        const inputs = <span class="cstat-no" title="statement not covered" >device.getInputOptions(args);</span>
<span class="cstat-no" title="statement not covered" >        if (!Array.isArray(inputs)) {</span>
<span class="cstat-no" title="statement not covered" >            console.warn(</span>
                `getInputOptions didn't return array for ${device.getName()}.`,
            );
<span class="cstat-no" title="statement not covered" >            return [];</span>
        }
        const lowerQuery = <span class="cstat-no" title="statement not covered" >query ? query.toLowerCase() : "";</span>
<span class="cstat-no" title="statement not covered" >        return inputs.filter(</span>
<span class="fstat-no" title="function not covered" >            (i</span>) =&gt;
<span class="cstat-no" title="statement not covered" >                i &amp;&amp;</span>
                i.name &amp;&amp;
                (!query || i.name.toLowerCase().includes(lowerQuery)),
        );
    } catch (e) {
<span class="cstat-no" title="statement not covered" >        console.error(</span>
            `Error in inputAutocompleteHelper for ${device.getName()}`,
            e,
        );
<span class="cstat-no" title="statement not covered" >        return [];</span>
    }
}
// --- End Autocomplete Helper Functions ---
&nbsp;
class BaseLogicDriver extends Homey.Driver {
    static logicUnitCardsRegistered = <span class="cstat-no" title="statement not covered" >false;</span>
&nbsp;
<span class="fstat-no" title="function not covered" >    as</span>ync onInit() {
        const driverName = <span class="cstat-no" title="statement not covered" >`Driver: ${this.id}`;</span>
<span class="cstat-no" title="statement not covered" >        this.logger = new Logger(this, driverName);</span>
&nbsp;
        // Set numInputs based on driver ID
        const driverId = <span class="cstat-no" title="statement not covered" >this.id;</span>
        let numInputsParsed = <span class="cstat-no" title="statement not covered" >2;</span>
<span class="cstat-no" title="statement not covered" >        try {</span>
            const parts = <span class="cstat-no" title="statement not covered" >driverId.split("-");</span>
            const numStr = <span class="cstat-no" title="statement not covered" >parts[parts.length - 1];</span>
            const num = <span class="cstat-no" title="statement not covered" >parseInt(numStr);</span>
<span class="cstat-no" title="statement not covered" >            if (!isNaN(num) &amp;&amp; num &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                numInputsParsed = num;</span>
            } else <span class="cstat-no" title="statement not covered" >if (driverId !== "logic-device") {</span>
<span class="cstat-no" title="statement not covered" >                this.logger.warn(</span>
                    `Could not parse number of inputs from driver ID '${driverId}'. Using default: ${numInputsParsed}.`,
                    {},
                );
            }
        } catch (e) {
<span class="cstat-no" title="statement not covered" >            this.logger.error(</span>
                `Error parsing numInputs from driver ID '${driverId}'. Using default: ${numInputsParsed}.`,
                e,
            );
        }
<span class="cstat-no" title="statement not covered" >        this.numInputs = numInputsParsed;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        this.logger.info("driver.ready", {</span>
            driverId: this.id,
            numInputs: this.numInputs,
        });
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (!BaseLogicDriver.logicUnitCardsRegistered) {</span>
<span class="cstat-no" title="statement not covered" >            this.logger.info(</span>
                "First Logic Unit driver initializing. Registering shared flow cards...",
            );
<span class="cstat-no" title="statement not covered" >            await this.registerFlowCards();</span>
<span class="cstat-no" title="statement not covered" >            BaseLogicDriver.logicUnitCardsRegistered = true;</span>
        } else {
<span class="cstat-no" title="statement not covered" >            this.logger.debug(</span>
                "Shared flow cards already registered by another Logic Unit driver.",
            );
        }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    as</span>ync registerFlowCards() {
<span class="cstat-no" title="statement not covered" >        this.logger.debug("driver.registering_flow_cards");</span>
&nbsp;
        // --- Triggers ---
        const triggerCards = <span class="cstat-no" title="statement not covered" >[</span>
            {
                id: "formula_changed_to_false_lu",
            },
            {
                id: "formula_changed_to_true_lu",
            },
            {
                id: "formula_timeout_lu",
            },
        ];
<span class="cstat-no" title="statement not covered" >        triggerCards.forEach(<span class="fstat-no" title="function not covered" >(c</span>ardInfo) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            try {</span>
                const card = <span class="cstat-no" title="statement not covered" >this.homey.flow.getTriggerCard(cardInfo.id);</span>
<span class="cstat-no" title="statement not covered" >                card.registerRunListener(<span class="fstat-no" title="function not covered" >as</span>ync (args, state) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >                    return (</span>
                        args &amp;&amp;
                        args.device &amp;&amp;
                        args.device.driver &amp;&amp;
                        args.device.driver.id &amp;&amp;
                        args.device.driver.id.startsWith("logic-unit-")
                    );
                });
<span class="cstat-no" title="statement not covered" >                this.registerAutocomplete(</span>
                    card,
                    "formula",
                    formulaAutocompleteHelper,
                );
<span class="cstat-no" title="statement not covered" >                this.logger.debug(</span>
                    ` -&gt; OK: TRIGGER card registered: '${cardInfo.id}'`,
                );
            } catch (e) {
<span class="cstat-no" title="statement not covered" >                this.logger.error(</span>
                    ` -&gt; FAILED: Registering TRIGGER card '${cardInfo.id}'`,
                    e,
                );
            }
        });
&nbsp;
        // --- Actions ---
        const actionCards = <span class="cstat-no" title="statement not covered" >[</span>
            {
                id: "set_input_value_lu",
                handler: "onFlowActionSetInput",
            },
            {
                id: "evaluate_formula_lu",
                handler: "onFlowActionEvaluateFormula",
            },
            {
                id: "evaluate_all_formulas_lu",
                handler: "onFlowActionReEvaluateAll",
            },
            {
                id: "clear_error_state_lu",
                handler: "onFlowActionClearError",
            },
            {
                id: "set_all_inputs_lu",
                handler: "setAllInputsFromFlow",
            },
            {
                id: "set_input_lu",
                handler: "setInputForAllFormulasFromFlow",
            },
        ];
<span class="cstat-no" title="statement not covered" >        actionCards.forEach(<span class="fstat-no" title="function not covered" >(c</span>ardInfo) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            try {</span>
                const card = <span class="cstat-no" title="statement not covered" >this.homey.flow.getActionCard(cardInfo.id);</span>
<span class="cstat-no" title="statement not covered" >                card.registerRunListener(<span class="fstat-no" title="function not covered" >as</span>ync (args, state) =&gt; {</span>
                    const device = <span class="cstat-no" title="statement not covered" >args.device;</span>
<span class="cstat-no" title="statement not covered" >                    if (!device)</span>
<span class="cstat-no" title="statement not covered" >                        throw new Error(</span>
                            this.homey.__("errors.invalid_device_instance"),
                        );
                    const methodName = <span class="cstat-no" title="statement not covered" >cardInfo.handler;</span>
<span class="cstat-no" title="statement not covered" >                    if (typeof device[methodName] !== "function")</span>
<span class="cstat-no" title="statement not covered" >                        throw new Error(</span>
                            this.homey.__("errors.method_missing_on_device", {
                                methodName,
                            }),
                        );
<span class="cstat-no" title="statement not covered" >                    this.logger.flow(</span>
                        `Executing ACTION '${cardInfo.id}' on device ${device.getName()}`,
                    );
<span class="cstat-no" title="statement not covered" >                    return await device[methodName](args, state);</span>
                });
&nbsp;
                // --- Autocomplete ---
<span class="cstat-no" title="statement not covered" >                if (</span>
                    [
                        "set_input_value_lu",
                        "evaluate_formula_lu",
                        "clear_error_state_lu",
                    ].includes(cardInfo.id)
                ) {
<span class="cstat-no" title="statement not covered" >                    this.registerAutocomplete(</span>
                        card,
                        "formula",
                        formulaAutocompleteHelper,
                    );
                }
<span class="cstat-no" title="statement not covered" >                if (</span>
                    ["set_input_value_lu", "set_input_lu"].includes(cardInfo.id)
                ) {
<span class="cstat-no" title="statement not covered" >                    this.registerAutocomplete(</span>
                        card,
                        "input",
                        inputAutocompleteHelper,
                    );
                }
<span class="cstat-no" title="statement not covered" >                this.logger.debug(</span>
                    ` -&gt; OK: ACTION card registered: '${cardInfo.id}'`,
                );
            } catch (e) {
<span class="cstat-no" title="statement not covered" >                this.logger.error(</span>
                    ` -&gt; FAILED: Registering ACTION card '${cardInfo.id}'`,
                    e,
                );
            }
        });
&nbsp;
        // --- Conditions ---
        const conditionCards = <span class="cstat-no" title="statement not covered" >[</span>
            {
                id: "formula_has_timed_out_lu",
                checkType: "timeout",
            },
            {
                id: "formula_result_is_lu",
                checkTypeFromArg: "what_is",
            },
            {
                id: "has_any_error_lu",
                checkType: "has_error",
            },
        ];
<span class="cstat-no" title="statement not covered" >        conditionCards.forEach(<span class="fstat-no" title="function not covered" >(c</span>ardInfo) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            try {</span>
                const card = <span class="cstat-no" title="statement not covered" >this.homey.flow.getConditionCard(cardInfo.id);</span>
<span class="cstat-no" title="statement not covered" >                card.registerRunListener(<span class="fstat-no" title="function not covered" >as</span>ync (args, state) =&gt; {</span>
                    const device = <span class="cstat-no" title="statement not covered" >args.device;</span>
<span class="cstat-no" title="statement not covered" >                    if (!device) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >                    if (typeof device.onFlowCondition !== "function")</span>
<span class="cstat-no" title="statement not covered" >                        return false;</span>
&nbsp;
                    let checkType;
<span class="cstat-no" title="statement not covered" >                    if (cardInfo.checkType) {</span>
<span class="cstat-no" title="statement not covered" >                        checkType = cardInfo.checkType;</span>
                    } else <span class="cstat-no" title="statement not covered" >if (cardInfo.checkTypeFromArg) {</span>
<span class="cstat-no" title="statement not covered" >                        checkType = args[cardInfo.checkTypeFromArg] === "true";</span>
                    }
&nbsp;
<span class="cstat-no" title="statement not covered" >                    this.logger.flow(</span>
                        `Executing CONDITION '${cardInfo.id}' on device ${device.getName()}`,
                    );
<span class="cstat-no" title="statement not covered" >                    return await device.onFlowCondition(args, state, checkType);</span>
                });
&nbsp;
<span class="cstat-no" title="statement not covered" >                if (</span>
                    [
                        "formula_has_timed_out_lu",
                        "formula_result_is_lu",
                    ].includes(cardInfo.id)
                ) {
<span class="cstat-no" title="statement not covered" >                    this.registerAutocomplete(</span>
                        card,
                        "formula",
                        formulaAutocompleteHelper,
                    );
                }
<span class="cstat-no" title="statement not covered" >                this.logger.debug(</span>
                    ` -&gt; OK: CONDITION card registered: '${cardInfo.id}'`,
                );
            } catch (e) {
<span class="cstat-no" title="statement not covered" >                this.logger.error(</span>
                    ` -&gt; FAILED: Registering CONDITION card '${cardInfo.id}'`,
                    e,
                );
            }
        });
    }
&nbsp;
    // --- Helper for Autocomplete Registration ---
<span class="fstat-no" title="function not covered" >    re</span>gisterAutocomplete(card, argName, helperFn) {
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            if (typeof helperFn !== "function") {</span>
<span class="cstat-no" title="statement not covered" >                throw new Error(</span>
                    this.homey.__("errors.helper_not_function", { argName }),
                );
            }
<span class="cstat-no" title="statement not covered" >            card.registerArgumentAutocompleteListener(</span>
                argName,
<span class="fstat-no" title="function not covered" >                as</span>ync (query, args) =&gt; {
                    const device = <span class="cstat-no" title="statement not covered" >args?.device;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                    if (argName === "formula" || argName === "input") {</span>
<span class="cstat-no" title="statement not covered" >                        if (!device) {</span>
<span class="cstat-no" title="statement not covered" >                            this.logger.warn(</span>
                                `Autocomplete for device arg '${argName}' on card '${card.id}' called without device context.`,
                            );
<span class="cstat-no" title="statement not covered" >                            return [];</span>
                        }
&nbsp;
                        let requiredMethod = <span class="cstat-no" title="statement not covered" >"";</span>
<span class="cstat-no" title="statement not covered" >                        if (argName === "formula")</span>
<span class="cstat-no" title="statement not covered" >                            requiredMethod = "getFormulas";</span>
<span class="cstat-no" title="statement not covered" >                        if (argName === "input")</span>
<span class="cstat-no" title="statement not covered" >                            requiredMethod = "getInputOptions";</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                        if (typeof device[requiredMethod] !== "function") {</span>
<span class="cstat-no" title="statement not covered" >                            this.logger.warn(</span>
                                `Autocomplete for device arg '${argName}' on card '${card.id}': Device ${device.getName()} missing method ${requiredMethod}.`,
                            );
<span class="cstat-no" title="statement not covered" >                            return [];</span>
                        }
                    }
&nbsp;
<span class="cstat-no" title="statement not covered" >                    try {</span>
<span class="cstat-no" title="statement not covered" >                        return await helperFn(query, args);</span>
                    } catch (autocompleteError) {
<span class="cstat-no" title="statement not covered" >                        this.logger.error(</span>
                            `Error during autocomplete for ${argName} on card '${card.id}'`,
                            autocompleteError,
                        );
<span class="cstat-no" title="statement not covered" >                        return [];</span>
                    }
                },
            );
<span class="cstat-no" title="statement not covered" >            this.logger.debug(</span>
                `Registered ${argName.toUpperCase()} autocomplete for card '${card.id}'`,
            );
        } catch (e) {
<span class="cstat-no" title="statement not covered" >            this.logger.error(</span>
                ` -&gt; FAILED to register autocomplete for '${argName}' on card '${card.id}'`,
                e,
            );
        }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    as</span>ync ensureUniqueDeviceName(name) {
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            if (</span>
                !this.homey.app ||
                !this.homey.app.api ||
                !this.homey.app.api.devices ||
                typeof this.homey.app.api.devices.getDevices !== "function"
            ) {
<span class="cstat-no" title="statement not covered" >                this.logger.warn(</span>
                    "ensureUniqueDeviceName: Homey API not ready, returning original name.",
                    {},
                );
<span class="cstat-no" title="statement not covered" >                return String(name || "");</span>
            }
            const all = <span class="cstat-no" title="statement not covered" >await this.homey.app.api.devices.getDevices();</span>
<span class="cstat-no" title="statement not covered" >            if (!all || typeof all !== "object") {</span>
<span class="cstat-no" title="statement not covered" >                this.logger.error(</span>
                    "ensureUniqueDeviceName: Unexpected response from getDevices:",
                    all,
                );
<span class="cstat-no" title="statement not covered" >                return String(name || "");</span>
            }
            const existing = <span class="cstat-no" title="statement not covered" >new Set(</span>
                Object.values(all)
                    .map(<span class="fstat-no" title="function not covered" >(d</span>) =&gt;
<span class="cstat-no" title="statement not covered" >                        d &amp;&amp; typeof d === "object"</span>
                            ? String(d.name || "").trim()
                            : "",
                    )
                    .filter(Boolean),
            );
            const nameStr = <span class="cstat-no" title="statement not covered" >String(name || "");</span>
<span class="cstat-no" title="statement not covered" >            if (!existing.has(nameStr)) <span class="cstat-no" title="statement not covered" >return nameStr;</span></span>
            const base = <span class="cstat-no" title="statement not covered" >nameStr.replace(/\s+\d+$/, "").trim();</span>
            const m = <span class="cstat-no" title="statement not covered" >nameStr.match(/\s+(\d+)$/);</span>
            let n = <span class="cstat-no" title="statement not covered" >m ? parseInt(m[1], 10) + 1 : 2;</span>
<span class="cstat-no" title="statement not covered" >            if (isNaN(n)) <span class="cstat-no" title="statement not covered" >n = 2;</span></span>
            let candidate = <span class="cstat-no" title="statement not covered" >`${base} ${n}`;</span>
            let safetyCounter = <span class="cstat-no" title="statement not covered" >0;</span>
<span class="cstat-no" title="statement not covered" >            while (existing.has(candidate) &amp;&amp; safetyCounter &lt; 100) {</span>
<span class="cstat-no" title="statement not covered" >                n++;</span>
<span class="cstat-no" title="statement not covered" >                candidate = `${base} ${n}`;</span>
<span class="cstat-no" title="statement not covered" >                safetyCounter++;</span>
            }
<span class="cstat-no" title="statement not covered" >            if (safetyCounter &gt;= 100) {</span>
<span class="cstat-no" title="statement not covered" >                this.logger.error(</span>
                    "ensureUniqueDeviceName: Could not find unique name after 100 attempts, returning original + timestamp.",
                    {},
                );
<span class="cstat-no" title="statement not covered" >                return `${nameStr}-${Date.now()}`;</span>
            }
<span class="cstat-no" title="statement not covered" >            return candidate;</span>
        } catch (e) {
<span class="cstat-no" title="statement not covered" >            this.logger.error("driver.ensure_unique_failed", e);</span>
<span class="cstat-no" title="statement not covered" >            return String(name || "");</span>
        }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    as</span>ync onPair(session) {
<span class="cstat-no" title="statement not covered" >        this.logger.info("pair.session_started", {});</span>
<span class="cstat-no" title="statement not covered" >        session.setHandler("list_devices", <span class="fstat-no" title="function not covered" >as</span>ync () =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            try {</span>
<span class="cstat-no" title="statement not covered" >                this.logger.debug("Pair handler: list_devices called", {});</span>
                let localeString;
<span class="cstat-no" title="statement not covered" >                try {</span>
<span class="cstat-no" title="statement not covered" >                    localeString = this.homey.__("device.logic_unit_name");</span>
                } catch (e) {
<span class="cstat-no" title="statement not covered" >                    this.logger.error(</span>
                        "Error getting localization for 'device.logic_unit_name'",
                        e,
                    );
<span class="cstat-no" title="statement not covered" >                    localeString = this.homey.__(</span>
                        "device.logic_unit_name_fallback",
                    );
                }
                const baseName = <span class="cstat-no" title="statement not covered" >String(localeString || "").replace(</span>
                    "{count}",
                    this.numInputs,
                );
                const name = <span class="cstat-no" title="statement not covered" >await this.ensureUniqueDeviceName(baseName);</span>
                const defaultFormulaName = <span class="cstat-no" title="statement not covered" >this.homey.__(</span>
                    "pair.default_formula_name",
                );
                const deviceData = <span class="cstat-no" title="statement not covered" >{</span>
                    name: name,
                    data: {
                        id: `${this.id}-${Math.random().toString(16).slice(2)}`,
                        numInputs: this.numInputs,
                    },
                    settings: {
                        formulas: `[{"id":"f1","name":"${defaultFormulaName}","expression":"${this.getDefaultExpression()}","enabled":true,"timeout":0,"firstImpression":false}]`,
                    },
                };
<span class="cstat-no" title="statement not covered" >                this.logger.debug(</span>
                    "Pair handler: list_devices returning:",
                    deviceData,
                );
<span class="cstat-no" title="statement not covered" >                return [deviceData];</span>
            } catch (e) {
<span class="cstat-no" title="statement not covered" >                this.logger.error("Error in list_devices pair handler", e);</span>
<span class="cstat-no" title="statement not covered" >                throw e;</span>
            }
        });
<span class="cstat-no" title="statement not covered" >        this.logger.debug("Pair handler: list_devices registered", {});</span>
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    ge</span>tDefaultExpression() {
        const letters = <span class="cstat-no" title="statement not covered" >["A", "B", "C", "D", "E", "F", "G", "H", "I", "J"];</span>
        const inputsToUse = <span class="cstat-no" title="statement not covered" >Math.min(this.numInputs, letters.length);</span>
<span class="cstat-no" title="statement not covered" >        if (inputsToUse &lt;= 0) <span class="cstat-no" title="statement not covered" >return "true";</span></span>
<span class="cstat-no" title="statement not covered" >        return letters.slice(0, inputsToUse).join(" AND ");</span>
    }
}
&nbsp;
<span class="cstat-no" title="statement not covered" >module.exports = BaseLogicDriver;</span>
<span class="cstat-no" title="statement not covered" >module.exports.formulaAutocompleteHelper = formulaAutocompleteHelper;</span>
<span class="cstat-no" title="statement not covered" >module.exports.inputAutocompleteHelper = inputAutocompleteHelper;</span></pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.263Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/BaseLogicDriver.js.html ---

--- START: coverage/BaseLogicUnit.js.html (sha256=4e5295cdf8afdc965a9d90ac396ac9ff2961192da5a227c8314cb6dcdd0305df, bytes=164167) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for BaseLogicUnit.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> BaseLogicUnit.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/459</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/283</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/67</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/438</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a>
<a name='L253'></a><a href='#L253'>253</a>
<a name='L254'></a><a href='#L254'>254</a>
<a name='L255'></a><a href='#L255'>255</a>
<a name='L256'></a><a href='#L256'>256</a>
<a name='L257'></a><a href='#L257'>257</a>
<a name='L258'></a><a href='#L258'>258</a>
<a name='L259'></a><a href='#L259'>259</a>
<a name='L260'></a><a href='#L260'>260</a>
<a name='L261'></a><a href='#L261'>261</a>
<a name='L262'></a><a href='#L262'>262</a>
<a name='L263'></a><a href='#L263'>263</a>
<a name='L264'></a><a href='#L264'>264</a>
<a name='L265'></a><a href='#L265'>265</a>
<a name='L266'></a><a href='#L266'>266</a>
<a name='L267'></a><a href='#L267'>267</a>
<a name='L268'></a><a href='#L268'>268</a>
<a name='L269'></a><a href='#L269'>269</a>
<a name='L270'></a><a href='#L270'>270</a>
<a name='L271'></a><a href='#L271'>271</a>
<a name='L272'></a><a href='#L272'>272</a>
<a name='L273'></a><a href='#L273'>273</a>
<a name='L274'></a><a href='#L274'>274</a>
<a name='L275'></a><a href='#L275'>275</a>
<a name='L276'></a><a href='#L276'>276</a>
<a name='L277'></a><a href='#L277'>277</a>
<a name='L278'></a><a href='#L278'>278</a>
<a name='L279'></a><a href='#L279'>279</a>
<a name='L280'></a><a href='#L280'>280</a>
<a name='L281'></a><a href='#L281'>281</a>
<a name='L282'></a><a href='#L282'>282</a>
<a name='L283'></a><a href='#L283'>283</a>
<a name='L284'></a><a href='#L284'>284</a>
<a name='L285'></a><a href='#L285'>285</a>
<a name='L286'></a><a href='#L286'>286</a>
<a name='L287'></a><a href='#L287'>287</a>
<a name='L288'></a><a href='#L288'>288</a>
<a name='L289'></a><a href='#L289'>289</a>
<a name='L290'></a><a href='#L290'>290</a>
<a name='L291'></a><a href='#L291'>291</a>
<a name='L292'></a><a href='#L292'>292</a>
<a name='L293'></a><a href='#L293'>293</a>
<a name='L294'></a><a href='#L294'>294</a>
<a name='L295'></a><a href='#L295'>295</a>
<a name='L296'></a><a href='#L296'>296</a>
<a name='L297'></a><a href='#L297'>297</a>
<a name='L298'></a><a href='#L298'>298</a>
<a name='L299'></a><a href='#L299'>299</a>
<a name='L300'></a><a href='#L300'>300</a>
<a name='L301'></a><a href='#L301'>301</a>
<a name='L302'></a><a href='#L302'>302</a>
<a name='L303'></a><a href='#L303'>303</a>
<a name='L304'></a><a href='#L304'>304</a>
<a name='L305'></a><a href='#L305'>305</a>
<a name='L306'></a><a href='#L306'>306</a>
<a name='L307'></a><a href='#L307'>307</a>
<a name='L308'></a><a href='#L308'>308</a>
<a name='L309'></a><a href='#L309'>309</a>
<a name='L310'></a><a href='#L310'>310</a>
<a name='L311'></a><a href='#L311'>311</a>
<a name='L312'></a><a href='#L312'>312</a>
<a name='L313'></a><a href='#L313'>313</a>
<a name='L314'></a><a href='#L314'>314</a>
<a name='L315'></a><a href='#L315'>315</a>
<a name='L316'></a><a href='#L316'>316</a>
<a name='L317'></a><a href='#L317'>317</a>
<a name='L318'></a><a href='#L318'>318</a>
<a name='L319'></a><a href='#L319'>319</a>
<a name='L320'></a><a href='#L320'>320</a>
<a name='L321'></a><a href='#L321'>321</a>
<a name='L322'></a><a href='#L322'>322</a>
<a name='L323'></a><a href='#L323'>323</a>
<a name='L324'></a><a href='#L324'>324</a>
<a name='L325'></a><a href='#L325'>325</a>
<a name='L326'></a><a href='#L326'>326</a>
<a name='L327'></a><a href='#L327'>327</a>
<a name='L328'></a><a href='#L328'>328</a>
<a name='L329'></a><a href='#L329'>329</a>
<a name='L330'></a><a href='#L330'>330</a>
<a name='L331'></a><a href='#L331'>331</a>
<a name='L332'></a><a href='#L332'>332</a>
<a name='L333'></a><a href='#L333'>333</a>
<a name='L334'></a><a href='#L334'>334</a>
<a name='L335'></a><a href='#L335'>335</a>
<a name='L336'></a><a href='#L336'>336</a>
<a name='L337'></a><a href='#L337'>337</a>
<a name='L338'></a><a href='#L338'>338</a>
<a name='L339'></a><a href='#L339'>339</a>
<a name='L340'></a><a href='#L340'>340</a>
<a name='L341'></a><a href='#L341'>341</a>
<a name='L342'></a><a href='#L342'>342</a>
<a name='L343'></a><a href='#L343'>343</a>
<a name='L344'></a><a href='#L344'>344</a>
<a name='L345'></a><a href='#L345'>345</a>
<a name='L346'></a><a href='#L346'>346</a>
<a name='L347'></a><a href='#L347'>347</a>
<a name='L348'></a><a href='#L348'>348</a>
<a name='L349'></a><a href='#L349'>349</a>
<a name='L350'></a><a href='#L350'>350</a>
<a name='L351'></a><a href='#L351'>351</a>
<a name='L352'></a><a href='#L352'>352</a>
<a name='L353'></a><a href='#L353'>353</a>
<a name='L354'></a><a href='#L354'>354</a>
<a name='L355'></a><a href='#L355'>355</a>
<a name='L356'></a><a href='#L356'>356</a>
<a name='L357'></a><a href='#L357'>357</a>
<a name='L358'></a><a href='#L358'>358</a>
<a name='L359'></a><a href='#L359'>359</a>
<a name='L360'></a><a href='#L360'>360</a>
<a name='L361'></a><a href='#L361'>361</a>
<a name='L362'></a><a href='#L362'>362</a>
<a name='L363'></a><a href='#L363'>363</a>
<a name='L364'></a><a href='#L364'>364</a>
<a name='L365'></a><a href='#L365'>365</a>
<a name='L366'></a><a href='#L366'>366</a>
<a name='L367'></a><a href='#L367'>367</a>
<a name='L368'></a><a href='#L368'>368</a>
<a name='L369'></a><a href='#L369'>369</a>
<a name='L370'></a><a href='#L370'>370</a>
<a name='L371'></a><a href='#L371'>371</a>
<a name='L372'></a><a href='#L372'>372</a>
<a name='L373'></a><a href='#L373'>373</a>
<a name='L374'></a><a href='#L374'>374</a>
<a name='L375'></a><a href='#L375'>375</a>
<a name='L376'></a><a href='#L376'>376</a>
<a name='L377'></a><a href='#L377'>377</a>
<a name='L378'></a><a href='#L378'>378</a>
<a name='L379'></a><a href='#L379'>379</a>
<a name='L380'></a><a href='#L380'>380</a>
<a name='L381'></a><a href='#L381'>381</a>
<a name='L382'></a><a href='#L382'>382</a>
<a name='L383'></a><a href='#L383'>383</a>
<a name='L384'></a><a href='#L384'>384</a>
<a name='L385'></a><a href='#L385'>385</a>
<a name='L386'></a><a href='#L386'>386</a>
<a name='L387'></a><a href='#L387'>387</a>
<a name='L388'></a><a href='#L388'>388</a>
<a name='L389'></a><a href='#L389'>389</a>
<a name='L390'></a><a href='#L390'>390</a>
<a name='L391'></a><a href='#L391'>391</a>
<a name='L392'></a><a href='#L392'>392</a>
<a name='L393'></a><a href='#L393'>393</a>
<a name='L394'></a><a href='#L394'>394</a>
<a name='L395'></a><a href='#L395'>395</a>
<a name='L396'></a><a href='#L396'>396</a>
<a name='L397'></a><a href='#L397'>397</a>
<a name='L398'></a><a href='#L398'>398</a>
<a name='L399'></a><a href='#L399'>399</a>
<a name='L400'></a><a href='#L400'>400</a>
<a name='L401'></a><a href='#L401'>401</a>
<a name='L402'></a><a href='#L402'>402</a>
<a name='L403'></a><a href='#L403'>403</a>
<a name='L404'></a><a href='#L404'>404</a>
<a name='L405'></a><a href='#L405'>405</a>
<a name='L406'></a><a href='#L406'>406</a>
<a name='L407'></a><a href='#L407'>407</a>
<a name='L408'></a><a href='#L408'>408</a>
<a name='L409'></a><a href='#L409'>409</a>
<a name='L410'></a><a href='#L410'>410</a>
<a name='L411'></a><a href='#L411'>411</a>
<a name='L412'></a><a href='#L412'>412</a>
<a name='L413'></a><a href='#L413'>413</a>
<a name='L414'></a><a href='#L414'>414</a>
<a name='L415'></a><a href='#L415'>415</a>
<a name='L416'></a><a href='#L416'>416</a>
<a name='L417'></a><a href='#L417'>417</a>
<a name='L418'></a><a href='#L418'>418</a>
<a name='L419'></a><a href='#L419'>419</a>
<a name='L420'></a><a href='#L420'>420</a>
<a name='L421'></a><a href='#L421'>421</a>
<a name='L422'></a><a href='#L422'>422</a>
<a name='L423'></a><a href='#L423'>423</a>
<a name='L424'></a><a href='#L424'>424</a>
<a name='L425'></a><a href='#L425'>425</a>
<a name='L426'></a><a href='#L426'>426</a>
<a name='L427'></a><a href='#L427'>427</a>
<a name='L428'></a><a href='#L428'>428</a>
<a name='L429'></a><a href='#L429'>429</a>
<a name='L430'></a><a href='#L430'>430</a>
<a name='L431'></a><a href='#L431'>431</a>
<a name='L432'></a><a href='#L432'>432</a>
<a name='L433'></a><a href='#L433'>433</a>
<a name='L434'></a><a href='#L434'>434</a>
<a name='L435'></a><a href='#L435'>435</a>
<a name='L436'></a><a href='#L436'>436</a>
<a name='L437'></a><a href='#L437'>437</a>
<a name='L438'></a><a href='#L438'>438</a>
<a name='L439'></a><a href='#L439'>439</a>
<a name='L440'></a><a href='#L440'>440</a>
<a name='L441'></a><a href='#L441'>441</a>
<a name='L442'></a><a href='#L442'>442</a>
<a name='L443'></a><a href='#L443'>443</a>
<a name='L444'></a><a href='#L444'>444</a>
<a name='L445'></a><a href='#L445'>445</a>
<a name='L446'></a><a href='#L446'>446</a>
<a name='L447'></a><a href='#L447'>447</a>
<a name='L448'></a><a href='#L448'>448</a>
<a name='L449'></a><a href='#L449'>449</a>
<a name='L450'></a><a href='#L450'>450</a>
<a name='L451'></a><a href='#L451'>451</a>
<a name='L452'></a><a href='#L452'>452</a>
<a name='L453'></a><a href='#L453'>453</a>
<a name='L454'></a><a href='#L454'>454</a>
<a name='L455'></a><a href='#L455'>455</a>
<a name='L456'></a><a href='#L456'>456</a>
<a name='L457'></a><a href='#L457'>457</a>
<a name='L458'></a><a href='#L458'>458</a>
<a name='L459'></a><a href='#L459'>459</a>
<a name='L460'></a><a href='#L460'>460</a>
<a name='L461'></a><a href='#L461'>461</a>
<a name='L462'></a><a href='#L462'>462</a>
<a name='L463'></a><a href='#L463'>463</a>
<a name='L464'></a><a href='#L464'>464</a>
<a name='L465'></a><a href='#L465'>465</a>
<a name='L466'></a><a href='#L466'>466</a>
<a name='L467'></a><a href='#L467'>467</a>
<a name='L468'></a><a href='#L468'>468</a>
<a name='L469'></a><a href='#L469'>469</a>
<a name='L470'></a><a href='#L470'>470</a>
<a name='L471'></a><a href='#L471'>471</a>
<a name='L472'></a><a href='#L472'>472</a>
<a name='L473'></a><a href='#L473'>473</a>
<a name='L474'></a><a href='#L474'>474</a>
<a name='L475'></a><a href='#L475'>475</a>
<a name='L476'></a><a href='#L476'>476</a>
<a name='L477'></a><a href='#L477'>477</a>
<a name='L478'></a><a href='#L478'>478</a>
<a name='L479'></a><a href='#L479'>479</a>
<a name='L480'></a><a href='#L480'>480</a>
<a name='L481'></a><a href='#L481'>481</a>
<a name='L482'></a><a href='#L482'>482</a>
<a name='L483'></a><a href='#L483'>483</a>
<a name='L484'></a><a href='#L484'>484</a>
<a name='L485'></a><a href='#L485'>485</a>
<a name='L486'></a><a href='#L486'>486</a>
<a name='L487'></a><a href='#L487'>487</a>
<a name='L488'></a><a href='#L488'>488</a>
<a name='L489'></a><a href='#L489'>489</a>
<a name='L490'></a><a href='#L490'>490</a>
<a name='L491'></a><a href='#L491'>491</a>
<a name='L492'></a><a href='#L492'>492</a>
<a name='L493'></a><a href='#L493'>493</a>
<a name='L494'></a><a href='#L494'>494</a>
<a name='L495'></a><a href='#L495'>495</a>
<a name='L496'></a><a href='#L496'>496</a>
<a name='L497'></a><a href='#L497'>497</a>
<a name='L498'></a><a href='#L498'>498</a>
<a name='L499'></a><a href='#L499'>499</a>
<a name='L500'></a><a href='#L500'>500</a>
<a name='L501'></a><a href='#L501'>501</a>
<a name='L502'></a><a href='#L502'>502</a>
<a name='L503'></a><a href='#L503'>503</a>
<a name='L504'></a><a href='#L504'>504</a>
<a name='L505'></a><a href='#L505'>505</a>
<a name='L506'></a><a href='#L506'>506</a>
<a name='L507'></a><a href='#L507'>507</a>
<a name='L508'></a><a href='#L508'>508</a>
<a name='L509'></a><a href='#L509'>509</a>
<a name='L510'></a><a href='#L510'>510</a>
<a name='L511'></a><a href='#L511'>511</a>
<a name='L512'></a><a href='#L512'>512</a>
<a name='L513'></a><a href='#L513'>513</a>
<a name='L514'></a><a href='#L514'>514</a>
<a name='L515'></a><a href='#L515'>515</a>
<a name='L516'></a><a href='#L516'>516</a>
<a name='L517'></a><a href='#L517'>517</a>
<a name='L518'></a><a href='#L518'>518</a>
<a name='L519'></a><a href='#L519'>519</a>
<a name='L520'></a><a href='#L520'>520</a>
<a name='L521'></a><a href='#L521'>521</a>
<a name='L522'></a><a href='#L522'>522</a>
<a name='L523'></a><a href='#L523'>523</a>
<a name='L524'></a><a href='#L524'>524</a>
<a name='L525'></a><a href='#L525'>525</a>
<a name='L526'></a><a href='#L526'>526</a>
<a name='L527'></a><a href='#L527'>527</a>
<a name='L528'></a><a href='#L528'>528</a>
<a name='L529'></a><a href='#L529'>529</a>
<a name='L530'></a><a href='#L530'>530</a>
<a name='L531'></a><a href='#L531'>531</a>
<a name='L532'></a><a href='#L532'>532</a>
<a name='L533'></a><a href='#L533'>533</a>
<a name='L534'></a><a href='#L534'>534</a>
<a name='L535'></a><a href='#L535'>535</a>
<a name='L536'></a><a href='#L536'>536</a>
<a name='L537'></a><a href='#L537'>537</a>
<a name='L538'></a><a href='#L538'>538</a>
<a name='L539'></a><a href='#L539'>539</a>
<a name='L540'></a><a href='#L540'>540</a>
<a name='L541'></a><a href='#L541'>541</a>
<a name='L542'></a><a href='#L542'>542</a>
<a name='L543'></a><a href='#L543'>543</a>
<a name='L544'></a><a href='#L544'>544</a>
<a name='L545'></a><a href='#L545'>545</a>
<a name='L546'></a><a href='#L546'>546</a>
<a name='L547'></a><a href='#L547'>547</a>
<a name='L548'></a><a href='#L548'>548</a>
<a name='L549'></a><a href='#L549'>549</a>
<a name='L550'></a><a href='#L550'>550</a>
<a name='L551'></a><a href='#L551'>551</a>
<a name='L552'></a><a href='#L552'>552</a>
<a name='L553'></a><a href='#L553'>553</a>
<a name='L554'></a><a href='#L554'>554</a>
<a name='L555'></a><a href='#L555'>555</a>
<a name='L556'></a><a href='#L556'>556</a>
<a name='L557'></a><a href='#L557'>557</a>
<a name='L558'></a><a href='#L558'>558</a>
<a name='L559'></a><a href='#L559'>559</a>
<a name='L560'></a><a href='#L560'>560</a>
<a name='L561'></a><a href='#L561'>561</a>
<a name='L562'></a><a href='#L562'>562</a>
<a name='L563'></a><a href='#L563'>563</a>
<a name='L564'></a><a href='#L564'>564</a>
<a name='L565'></a><a href='#L565'>565</a>
<a name='L566'></a><a href='#L566'>566</a>
<a name='L567'></a><a href='#L567'>567</a>
<a name='L568'></a><a href='#L568'>568</a>
<a name='L569'></a><a href='#L569'>569</a>
<a name='L570'></a><a href='#L570'>570</a>
<a name='L571'></a><a href='#L571'>571</a>
<a name='L572'></a><a href='#L572'>572</a>
<a name='L573'></a><a href='#L573'>573</a>
<a name='L574'></a><a href='#L574'>574</a>
<a name='L575'></a><a href='#L575'>575</a>
<a name='L576'></a><a href='#L576'>576</a>
<a name='L577'></a><a href='#L577'>577</a>
<a name='L578'></a><a href='#L578'>578</a>
<a name='L579'></a><a href='#L579'>579</a>
<a name='L580'></a><a href='#L580'>580</a>
<a name='L581'></a><a href='#L581'>581</a>
<a name='L582'></a><a href='#L582'>582</a>
<a name='L583'></a><a href='#L583'>583</a>
<a name='L584'></a><a href='#L584'>584</a>
<a name='L585'></a><a href='#L585'>585</a>
<a name='L586'></a><a href='#L586'>586</a>
<a name='L587'></a><a href='#L587'>587</a>
<a name='L588'></a><a href='#L588'>588</a>
<a name='L589'></a><a href='#L589'>589</a>
<a name='L590'></a><a href='#L590'>590</a>
<a name='L591'></a><a href='#L591'>591</a>
<a name='L592'></a><a href='#L592'>592</a>
<a name='L593'></a><a href='#L593'>593</a>
<a name='L594'></a><a href='#L594'>594</a>
<a name='L595'></a><a href='#L595'>595</a>
<a name='L596'></a><a href='#L596'>596</a>
<a name='L597'></a><a href='#L597'>597</a>
<a name='L598'></a><a href='#L598'>598</a>
<a name='L599'></a><a href='#L599'>599</a>
<a name='L600'></a><a href='#L600'>600</a>
<a name='L601'></a><a href='#L601'>601</a>
<a name='L602'></a><a href='#L602'>602</a>
<a name='L603'></a><a href='#L603'>603</a>
<a name='L604'></a><a href='#L604'>604</a>
<a name='L605'></a><a href='#L605'>605</a>
<a name='L606'></a><a href='#L606'>606</a>
<a name='L607'></a><a href='#L607'>607</a>
<a name='L608'></a><a href='#L608'>608</a>
<a name='L609'></a><a href='#L609'>609</a>
<a name='L610'></a><a href='#L610'>610</a>
<a name='L611'></a><a href='#L611'>611</a>
<a name='L612'></a><a href='#L612'>612</a>
<a name='L613'></a><a href='#L613'>613</a>
<a name='L614'></a><a href='#L614'>614</a>
<a name='L615'></a><a href='#L615'>615</a>
<a name='L616'></a><a href='#L616'>616</a>
<a name='L617'></a><a href='#L617'>617</a>
<a name='L618'></a><a href='#L618'>618</a>
<a name='L619'></a><a href='#L619'>619</a>
<a name='L620'></a><a href='#L620'>620</a>
<a name='L621'></a><a href='#L621'>621</a>
<a name='L622'></a><a href='#L622'>622</a>
<a name='L623'></a><a href='#L623'>623</a>
<a name='L624'></a><a href='#L624'>624</a>
<a name='L625'></a><a href='#L625'>625</a>
<a name='L626'></a><a href='#L626'>626</a>
<a name='L627'></a><a href='#L627'>627</a>
<a name='L628'></a><a href='#L628'>628</a>
<a name='L629'></a><a href='#L629'>629</a>
<a name='L630'></a><a href='#L630'>630</a>
<a name='L631'></a><a href='#L631'>631</a>
<a name='L632'></a><a href='#L632'>632</a>
<a name='L633'></a><a href='#L633'>633</a>
<a name='L634'></a><a href='#L634'>634</a>
<a name='L635'></a><a href='#L635'>635</a>
<a name='L636'></a><a href='#L636'>636</a>
<a name='L637'></a><a href='#L637'>637</a>
<a name='L638'></a><a href='#L638'>638</a>
<a name='L639'></a><a href='#L639'>639</a>
<a name='L640'></a><a href='#L640'>640</a>
<a name='L641'></a><a href='#L641'>641</a>
<a name='L642'></a><a href='#L642'>642</a>
<a name='L643'></a><a href='#L643'>643</a>
<a name='L644'></a><a href='#L644'>644</a>
<a name='L645'></a><a href='#L645'>645</a>
<a name='L646'></a><a href='#L646'>646</a>
<a name='L647'></a><a href='#L647'>647</a>
<a name='L648'></a><a href='#L648'>648</a>
<a name='L649'></a><a href='#L649'>649</a>
<a name='L650'></a><a href='#L650'>650</a>
<a name='L651'></a><a href='#L651'>651</a>
<a name='L652'></a><a href='#L652'>652</a>
<a name='L653'></a><a href='#L653'>653</a>
<a name='L654'></a><a href='#L654'>654</a>
<a name='L655'></a><a href='#L655'>655</a>
<a name='L656'></a><a href='#L656'>656</a>
<a name='L657'></a><a href='#L657'>657</a>
<a name='L658'></a><a href='#L658'>658</a>
<a name='L659'></a><a href='#L659'>659</a>
<a name='L660'></a><a href='#L660'>660</a>
<a name='L661'></a><a href='#L661'>661</a>
<a name='L662'></a><a href='#L662'>662</a>
<a name='L663'></a><a href='#L663'>663</a>
<a name='L664'></a><a href='#L664'>664</a>
<a name='L665'></a><a href='#L665'>665</a>
<a name='L666'></a><a href='#L666'>666</a>
<a name='L667'></a><a href='#L667'>667</a>
<a name='L668'></a><a href='#L668'>668</a>
<a name='L669'></a><a href='#L669'>669</a>
<a name='L670'></a><a href='#L670'>670</a>
<a name='L671'></a><a href='#L671'>671</a>
<a name='L672'></a><a href='#L672'>672</a>
<a name='L673'></a><a href='#L673'>673</a>
<a name='L674'></a><a href='#L674'>674</a>
<a name='L675'></a><a href='#L675'>675</a>
<a name='L676'></a><a href='#L676'>676</a>
<a name='L677'></a><a href='#L677'>677</a>
<a name='L678'></a><a href='#L678'>678</a>
<a name='L679'></a><a href='#L679'>679</a>
<a name='L680'></a><a href='#L680'>680</a>
<a name='L681'></a><a href='#L681'>681</a>
<a name='L682'></a><a href='#L682'>682</a>
<a name='L683'></a><a href='#L683'>683</a>
<a name='L684'></a><a href='#L684'>684</a>
<a name='L685'></a><a href='#L685'>685</a>
<a name='L686'></a><a href='#L686'>686</a>
<a name='L687'></a><a href='#L687'>687</a>
<a name='L688'></a><a href='#L688'>688</a>
<a name='L689'></a><a href='#L689'>689</a>
<a name='L690'></a><a href='#L690'>690</a>
<a name='L691'></a><a href='#L691'>691</a>
<a name='L692'></a><a href='#L692'>692</a>
<a name='L693'></a><a href='#L693'>693</a>
<a name='L694'></a><a href='#L694'>694</a>
<a name='L695'></a><a href='#L695'>695</a>
<a name='L696'></a><a href='#L696'>696</a>
<a name='L697'></a><a href='#L697'>697</a>
<a name='L698'></a><a href='#L698'>698</a>
<a name='L699'></a><a href='#L699'>699</a>
<a name='L700'></a><a href='#L700'>700</a>
<a name='L701'></a><a href='#L701'>701</a>
<a name='L702'></a><a href='#L702'>702</a>
<a name='L703'></a><a href='#L703'>703</a>
<a name='L704'></a><a href='#L704'>704</a>
<a name='L705'></a><a href='#L705'>705</a>
<a name='L706'></a><a href='#L706'>706</a>
<a name='L707'></a><a href='#L707'>707</a>
<a name='L708'></a><a href='#L708'>708</a>
<a name='L709'></a><a href='#L709'>709</a>
<a name='L710'></a><a href='#L710'>710</a>
<a name='L711'></a><a href='#L711'>711</a>
<a name='L712'></a><a href='#L712'>712</a>
<a name='L713'></a><a href='#L713'>713</a>
<a name='L714'></a><a href='#L714'>714</a>
<a name='L715'></a><a href='#L715'>715</a>
<a name='L716'></a><a href='#L716'>716</a>
<a name='L717'></a><a href='#L717'>717</a>
<a name='L718'></a><a href='#L718'>718</a>
<a name='L719'></a><a href='#L719'>719</a>
<a name='L720'></a><a href='#L720'>720</a>
<a name='L721'></a><a href='#L721'>721</a>
<a name='L722'></a><a href='#L722'>722</a>
<a name='L723'></a><a href='#L723'>723</a>
<a name='L724'></a><a href='#L724'>724</a>
<a name='L725'></a><a href='#L725'>725</a>
<a name='L726'></a><a href='#L726'>726</a>
<a name='L727'></a><a href='#L727'>727</a>
<a name='L728'></a><a href='#L728'>728</a>
<a name='L729'></a><a href='#L729'>729</a>
<a name='L730'></a><a href='#L730'>730</a>
<a name='L731'></a><a href='#L731'>731</a>
<a name='L732'></a><a href='#L732'>732</a>
<a name='L733'></a><a href='#L733'>733</a>
<a name='L734'></a><a href='#L734'>734</a>
<a name='L735'></a><a href='#L735'>735</a>
<a name='L736'></a><a href='#L736'>736</a>
<a name='L737'></a><a href='#L737'>737</a>
<a name='L738'></a><a href='#L738'>738</a>
<a name='L739'></a><a href='#L739'>739</a>
<a name='L740'></a><a href='#L740'>740</a>
<a name='L741'></a><a href='#L741'>741</a>
<a name='L742'></a><a href='#L742'>742</a>
<a name='L743'></a><a href='#L743'>743</a>
<a name='L744'></a><a href='#L744'>744</a>
<a name='L745'></a><a href='#L745'>745</a>
<a name='L746'></a><a href='#L746'>746</a>
<a name='L747'></a><a href='#L747'>747</a>
<a name='L748'></a><a href='#L748'>748</a>
<a name='L749'></a><a href='#L749'>749</a>
<a name='L750'></a><a href='#L750'>750</a>
<a name='L751'></a><a href='#L751'>751</a>
<a name='L752'></a><a href='#L752'>752</a>
<a name='L753'></a><a href='#L753'>753</a>
<a name='L754'></a><a href='#L754'>754</a>
<a name='L755'></a><a href='#L755'>755</a>
<a name='L756'></a><a href='#L756'>756</a>
<a name='L757'></a><a href='#L757'>757</a>
<a name='L758'></a><a href='#L758'>758</a>
<a name='L759'></a><a href='#L759'>759</a>
<a name='L760'></a><a href='#L760'>760</a>
<a name='L761'></a><a href='#L761'>761</a>
<a name='L762'></a><a href='#L762'>762</a>
<a name='L763'></a><a href='#L763'>763</a>
<a name='L764'></a><a href='#L764'>764</a>
<a name='L765'></a><a href='#L765'>765</a>
<a name='L766'></a><a href='#L766'>766</a>
<a name='L767'></a><a href='#L767'>767</a>
<a name='L768'></a><a href='#L768'>768</a>
<a name='L769'></a><a href='#L769'>769</a>
<a name='L770'></a><a href='#L770'>770</a>
<a name='L771'></a><a href='#L771'>771</a>
<a name='L772'></a><a href='#L772'>772</a>
<a name='L773'></a><a href='#L773'>773</a>
<a name='L774'></a><a href='#L774'>774</a>
<a name='L775'></a><a href='#L775'>775</a>
<a name='L776'></a><a href='#L776'>776</a>
<a name='L777'></a><a href='#L777'>777</a>
<a name='L778'></a><a href='#L778'>778</a>
<a name='L779'></a><a href='#L779'>779</a>
<a name='L780'></a><a href='#L780'>780</a>
<a name='L781'></a><a href='#L781'>781</a>
<a name='L782'></a><a href='#L782'>782</a>
<a name='L783'></a><a href='#L783'>783</a>
<a name='L784'></a><a href='#L784'>784</a>
<a name='L785'></a><a href='#L785'>785</a>
<a name='L786'></a><a href='#L786'>786</a>
<a name='L787'></a><a href='#L787'>787</a>
<a name='L788'></a><a href='#L788'>788</a>
<a name='L789'></a><a href='#L789'>789</a>
<a name='L790'></a><a href='#L790'>790</a>
<a name='L791'></a><a href='#L791'>791</a>
<a name='L792'></a><a href='#L792'>792</a>
<a name='L793'></a><a href='#L793'>793</a>
<a name='L794'></a><a href='#L794'>794</a>
<a name='L795'></a><a href='#L795'>795</a>
<a name='L796'></a><a href='#L796'>796</a>
<a name='L797'></a><a href='#L797'>797</a>
<a name='L798'></a><a href='#L798'>798</a>
<a name='L799'></a><a href='#L799'>799</a>
<a name='L800'></a><a href='#L800'>800</a>
<a name='L801'></a><a href='#L801'>801</a>
<a name='L802'></a><a href='#L802'>802</a>
<a name='L803'></a><a href='#L803'>803</a>
<a name='L804'></a><a href='#L804'>804</a>
<a name='L805'></a><a href='#L805'>805</a>
<a name='L806'></a><a href='#L806'>806</a>
<a name='L807'></a><a href='#L807'>807</a>
<a name='L808'></a><a href='#L808'>808</a>
<a name='L809'></a><a href='#L809'>809</a>
<a name='L810'></a><a href='#L810'>810</a>
<a name='L811'></a><a href='#L811'>811</a>
<a name='L812'></a><a href='#L812'>812</a>
<a name='L813'></a><a href='#L813'>813</a>
<a name='L814'></a><a href='#L814'>814</a>
<a name='L815'></a><a href='#L815'>815</a>
<a name='L816'></a><a href='#L816'>816</a>
<a name='L817'></a><a href='#L817'>817</a>
<a name='L818'></a><a href='#L818'>818</a>
<a name='L819'></a><a href='#L819'>819</a>
<a name='L820'></a><a href='#L820'>820</a>
<a name='L821'></a><a href='#L821'>821</a>
<a name='L822'></a><a href='#L822'>822</a>
<a name='L823'></a><a href='#L823'>823</a>
<a name='L824'></a><a href='#L824'>824</a>
<a name='L825'></a><a href='#L825'>825</a>
<a name='L826'></a><a href='#L826'>826</a>
<a name='L827'></a><a href='#L827'>827</a>
<a name='L828'></a><a href='#L828'>828</a>
<a name='L829'></a><a href='#L829'>829</a>
<a name='L830'></a><a href='#L830'>830</a>
<a name='L831'></a><a href='#L831'>831</a>
<a name='L832'></a><a href='#L832'>832</a>
<a name='L833'></a><a href='#L833'>833</a>
<a name='L834'></a><a href='#L834'>834</a>
<a name='L835'></a><a href='#L835'>835</a>
<a name='L836'></a><a href='#L836'>836</a>
<a name='L837'></a><a href='#L837'>837</a>
<a name='L838'></a><a href='#L838'>838</a>
<a name='L839'></a><a href='#L839'>839</a>
<a name='L840'></a><a href='#L840'>840</a>
<a name='L841'></a><a href='#L841'>841</a>
<a name='L842'></a><a href='#L842'>842</a>
<a name='L843'></a><a href='#L843'>843</a>
<a name='L844'></a><a href='#L844'>844</a>
<a name='L845'></a><a href='#L845'>845</a>
<a name='L846'></a><a href='#L846'>846</a>
<a name='L847'></a><a href='#L847'>847</a>
<a name='L848'></a><a href='#L848'>848</a>
<a name='L849'></a><a href='#L849'>849</a>
<a name='L850'></a><a href='#L850'>850</a>
<a name='L851'></a><a href='#L851'>851</a>
<a name='L852'></a><a href='#L852'>852</a>
<a name='L853'></a><a href='#L853'>853</a>
<a name='L854'></a><a href='#L854'>854</a>
<a name='L855'></a><a href='#L855'>855</a>
<a name='L856'></a><a href='#L856'>856</a>
<a name='L857'></a><a href='#L857'>857</a>
<a name='L858'></a><a href='#L858'>858</a>
<a name='L859'></a><a href='#L859'>859</a>
<a name='L860'></a><a href='#L860'>860</a>
<a name='L861'></a><a href='#L861'>861</a>
<a name='L862'></a><a href='#L862'>862</a>
<a name='L863'></a><a href='#L863'>863</a>
<a name='L864'></a><a href='#L864'>864</a>
<a name='L865'></a><a href='#L865'>865</a>
<a name='L866'></a><a href='#L866'>866</a>
<a name='L867'></a><a href='#L867'>867</a>
<a name='L868'></a><a href='#L868'>868</a>
<a name='L869'></a><a href='#L869'>869</a>
<a name='L870'></a><a href='#L870'>870</a>
<a name='L871'></a><a href='#L871'>871</a>
<a name='L872'></a><a href='#L872'>872</a>
<a name='L873'></a><a href='#L873'>873</a>
<a name='L874'></a><a href='#L874'>874</a>
<a name='L875'></a><a href='#L875'>875</a>
<a name='L876'></a><a href='#L876'>876</a>
<a name='L877'></a><a href='#L877'>877</a>
<a name='L878'></a><a href='#L878'>878</a>
<a name='L879'></a><a href='#L879'>879</a>
<a name='L880'></a><a href='#L880'>880</a>
<a name='L881'></a><a href='#L881'>881</a>
<a name='L882'></a><a href='#L882'>882</a>
<a name='L883'></a><a href='#L883'>883</a>
<a name='L884'></a><a href='#L884'>884</a>
<a name='L885'></a><a href='#L885'>885</a>
<a name='L886'></a><a href='#L886'>886</a>
<a name='L887'></a><a href='#L887'>887</a>
<a name='L888'></a><a href='#L888'>888</a>
<a name='L889'></a><a href='#L889'>889</a>
<a name='L890'></a><a href='#L890'>890</a>
<a name='L891'></a><a href='#L891'>891</a>
<a name='L892'></a><a href='#L892'>892</a>
<a name='L893'></a><a href='#L893'>893</a>
<a name='L894'></a><a href='#L894'>894</a>
<a name='L895'></a><a href='#L895'>895</a>
<a name='L896'></a><a href='#L896'>896</a>
<a name='L897'></a><a href='#L897'>897</a>
<a name='L898'></a><a href='#L898'>898</a>
<a name='L899'></a><a href='#L899'>899</a>
<a name='L900'></a><a href='#L900'>900</a>
<a name='L901'></a><a href='#L901'>901</a>
<a name='L902'></a><a href='#L902'>902</a>
<a name='L903'></a><a href='#L903'>903</a>
<a name='L904'></a><a href='#L904'>904</a>
<a name='L905'></a><a href='#L905'>905</a>
<a name='L906'></a><a href='#L906'>906</a>
<a name='L907'></a><a href='#L907'>907</a>
<a name='L908'></a><a href='#L908'>908</a>
<a name='L909'></a><a href='#L909'>909</a>
<a name='L910'></a><a href='#L910'>910</a>
<a name='L911'></a><a href='#L911'>911</a>
<a name='L912'></a><a href='#L912'>912</a>
<a name='L913'></a><a href='#L913'>913</a>
<a name='L914'></a><a href='#L914'>914</a>
<a name='L915'></a><a href='#L915'>915</a>
<a name='L916'></a><a href='#L916'>916</a>
<a name='L917'></a><a href='#L917'>917</a>
<a name='L918'></a><a href='#L918'>918</a>
<a name='L919'></a><a href='#L919'>919</a>
<a name='L920'></a><a href='#L920'>920</a>
<a name='L921'></a><a href='#L921'>921</a>
<a name='L922'></a><a href='#L922'>922</a>
<a name='L923'></a><a href='#L923'>923</a>
<a name='L924'></a><a href='#L924'>924</a>
<a name='L925'></a><a href='#L925'>925</a>
<a name='L926'></a><a href='#L926'>926</a>
<a name='L927'></a><a href='#L927'>927</a>
<a name='L928'></a><a href='#L928'>928</a>
<a name='L929'></a><a href='#L929'>929</a>
<a name='L930'></a><a href='#L930'>930</a>
<a name='L931'></a><a href='#L931'>931</a>
<a name='L932'></a><a href='#L932'>932</a>
<a name='L933'></a><a href='#L933'>933</a>
<a name='L934'></a><a href='#L934'>934</a>
<a name='L935'></a><a href='#L935'>935</a>
<a name='L936'></a><a href='#L936'>936</a>
<a name='L937'></a><a href='#L937'>937</a>
<a name='L938'></a><a href='#L938'>938</a>
<a name='L939'></a><a href='#L939'>939</a>
<a name='L940'></a><a href='#L940'>940</a>
<a name='L941'></a><a href='#L941'>941</a>
<a name='L942'></a><a href='#L942'>942</a>
<a name='L943'></a><a href='#L943'>943</a>
<a name='L944'></a><a href='#L944'>944</a>
<a name='L945'></a><a href='#L945'>945</a>
<a name='L946'></a><a href='#L946'>946</a>
<a name='L947'></a><a href='#L947'>947</a>
<a name='L948'></a><a href='#L948'>948</a>
<a name='L949'></a><a href='#L949'>949</a>
<a name='L950'></a><a href='#L950'>950</a>
<a name='L951'></a><a href='#L951'>951</a>
<a name='L952'></a><a href='#L952'>952</a>
<a name='L953'></a><a href='#L953'>953</a>
<a name='L954'></a><a href='#L954'>954</a>
<a name='L955'></a><a href='#L955'>955</a>
<a name='L956'></a><a href='#L956'>956</a>
<a name='L957'></a><a href='#L957'>957</a>
<a name='L958'></a><a href='#L958'>958</a>
<a name='L959'></a><a href='#L959'>959</a>
<a name='L960'></a><a href='#L960'>960</a>
<a name='L961'></a><a href='#L961'>961</a>
<a name='L962'></a><a href='#L962'>962</a>
<a name='L963'></a><a href='#L963'>963</a>
<a name='L964'></a><a href='#L964'>964</a>
<a name='L965'></a><a href='#L965'>965</a>
<a name='L966'></a><a href='#L966'>966</a>
<a name='L967'></a><a href='#L967'>967</a>
<a name='L968'></a><a href='#L968'>968</a>
<a name='L969'></a><a href='#L969'>969</a>
<a name='L970'></a><a href='#L970'>970</a>
<a name='L971'></a><a href='#L971'>971</a>
<a name='L972'></a><a href='#L972'>972</a>
<a name='L973'></a><a href='#L973'>973</a>
<a name='L974'></a><a href='#L974'>974</a>
<a name='L975'></a><a href='#L975'>975</a>
<a name='L976'></a><a href='#L976'>976</a>
<a name='L977'></a><a href='#L977'>977</a>
<a name='L978'></a><a href='#L978'>978</a>
<a name='L979'></a><a href='#L979'>979</a>
<a name='L980'></a><a href='#L980'>980</a>
<a name='L981'></a><a href='#L981'>981</a>
<a name='L982'></a><a href='#L982'>982</a>
<a name='L983'></a><a href='#L983'>983</a>
<a name='L984'></a><a href='#L984'>984</a>
<a name='L985'></a><a href='#L985'>985</a>
<a name='L986'></a><a href='#L986'>986</a>
<a name='L987'></a><a href='#L987'>987</a>
<a name='L988'></a><a href='#L988'>988</a>
<a name='L989'></a><a href='#L989'>989</a>
<a name='L990'></a><a href='#L990'>990</a>
<a name='L991'></a><a href='#L991'>991</a>
<a name='L992'></a><a href='#L992'>992</a>
<a name='L993'></a><a href='#L993'>993</a>
<a name='L994'></a><a href='#L994'>994</a>
<a name='L995'></a><a href='#L995'>995</a>
<a name='L996'></a><a href='#L996'>996</a>
<a name='L997'></a><a href='#L997'>997</a>
<a name='L998'></a><a href='#L998'>998</a>
<a name='L999'></a><a href='#L999'>999</a>
<a name='L1000'></a><a href='#L1000'>1000</a>
<a name='L1001'></a><a href='#L1001'>1001</a>
<a name='L1002'></a><a href='#L1002'>1002</a>
<a name='L1003'></a><a href='#L1003'>1003</a>
<a name='L1004'></a><a href='#L1004'>1004</a>
<a name='L1005'></a><a href='#L1005'>1005</a>
<a name='L1006'></a><a href='#L1006'>1006</a>
<a name='L1007'></a><a href='#L1007'>1007</a>
<a name='L1008'></a><a href='#L1008'>1008</a>
<a name='L1009'></a><a href='#L1009'>1009</a>
<a name='L1010'></a><a href='#L1010'>1010</a>
<a name='L1011'></a><a href='#L1011'>1011</a>
<a name='L1012'></a><a href='#L1012'>1012</a>
<a name='L1013'></a><a href='#L1013'>1013</a>
<a name='L1014'></a><a href='#L1014'>1014</a>
<a name='L1015'></a><a href='#L1015'>1015</a>
<a name='L1016'></a><a href='#L1016'>1016</a>
<a name='L1017'></a><a href='#L1017'>1017</a>
<a name='L1018'></a><a href='#L1018'>1018</a>
<a name='L1019'></a><a href='#L1019'>1019</a>
<a name='L1020'></a><a href='#L1020'>1020</a>
<a name='L1021'></a><a href='#L1021'>1021</a>
<a name='L1022'></a><a href='#L1022'>1022</a>
<a name='L1023'></a><a href='#L1023'>1023</a>
<a name='L1024'></a><a href='#L1024'>1024</a>
<a name='L1025'></a><a href='#L1025'>1025</a>
<a name='L1026'></a><a href='#L1026'>1026</a>
<a name='L1027'></a><a href='#L1027'>1027</a>
<a name='L1028'></a><a href='#L1028'>1028</a>
<a name='L1029'></a><a href='#L1029'>1029</a>
<a name='L1030'></a><a href='#L1030'>1030</a>
<a name='L1031'></a><a href='#L1031'>1031</a>
<a name='L1032'></a><a href='#L1032'>1032</a>
<a name='L1033'></a><a href='#L1033'>1033</a>
<a name='L1034'></a><a href='#L1034'>1034</a>
<a name='L1035'></a><a href='#L1035'>1035</a>
<a name='L1036'></a><a href='#L1036'>1036</a>
<a name='L1037'></a><a href='#L1037'>1037</a>
<a name='L1038'></a><a href='#L1038'>1038</a>
<a name='L1039'></a><a href='#L1039'>1039</a>
<a name='L1040'></a><a href='#L1040'>1040</a>
<a name='L1041'></a><a href='#L1041'>1041</a>
<a name='L1042'></a><a href='#L1042'>1042</a>
<a name='L1043'></a><a href='#L1043'>1043</a>
<a name='L1044'></a><a href='#L1044'>1044</a>
<a name='L1045'></a><a href='#L1045'>1045</a>
<a name='L1046'></a><a href='#L1046'>1046</a>
<a name='L1047'></a><a href='#L1047'>1047</a>
<a name='L1048'></a><a href='#L1048'>1048</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";
const Homey = <span class="cstat-no" title="statement not covered" >require("homey");</span>
const Logger = <span class="cstat-no" title="statement not covered" >require("./Logger");</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >module.exports = class BaseLogicUnit extends Homey.Device {</span>
<span class="fstat-no" title="function not covered" >  as</span>ync safeSetCapabilityValue(cap, value) {
<span class="cstat-no" title="statement not covered" >    if (this._isDeleting) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      if (!this.hasCapability(cap)) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
<span class="cstat-no" title="statement not covered" >      await this.setCapabilityValue(cap, value);</span>
    } catch (e) {
      const msg = <span class="cstat-no" title="statement not covered" >e?.message || String(e);</span>
<span class="cstat-no" title="statement not covered" >      if (e?.statusCode === 404 || /not\s*found/i.test(msg)) {</span>
<span class="cstat-no" title="statement not covered" >        this.logger.debug("device.capability_skip_deleted", {</span>
          capability: cap,
        });
      } else {
<span class="cstat-no" title="statement not covered" >        this.logger.error("device.capability_update_failed", {</span>
          capability: cap,
          message: msg,
        });
      }
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onInit() {
    const driverName = <span class="cstat-no" title="statement not covered" >`Device: ${this.driver ? this.driver.id : "unknown-driver"}`;</span>
<span class="cstat-no" title="statement not covered" >    this.logger = new Logger(this, driverName);</span>
<span class="cstat-no" title="statement not covered" >    this.logger.device("device.initializing", {</span>
      name: this.getName(),
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!this.hasCapability("onoff")) {</span>
<span class="cstat-no" title="statement not covered" >      await this.addCapability("onoff").catch(<span class="fstat-no" title="function not covered" >(e</span>) =&gt;</span>
<span class="cstat-no" title="statement not covered" >        this.logger.error("Failed to add 'onoff' capability", e),</span>
      );
    }
<span class="cstat-no" title="statement not covered" >    if (!this.hasCapability("alarm_generic")) {</span>
<span class="cstat-no" title="statement not covered" >      await this.addCapability("alarm_generic").catch(<span class="fstat-no" title="function not covered" >(e</span>) =&gt;</span>
<span class="cstat-no" title="statement not covered" >        this.logger.error("Failed to add 'alarm_generic' capability", e),</span>
      );
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.numInputs = this.getData().numInputs ?? 2;</span>
<span class="cstat-no" title="statement not covered" >    this.availableInputs = this.getAvailableInputIds();</span>
<span class="cstat-no" title="statement not covered" >    this.logger.debug(</span>
      `Device initialized with ${this.numInputs} inputs: ${this.availableInputs.join(", ")}`,
      {},
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    await this.initializeFormulas();</span>
<span class="cstat-no" title="statement not covered" >    await this.evaluateAllFormulasInitial();</span>
<span class="cstat-no" title="statement not covered" >    this.startTimeoutChecks();</span>
&nbsp;
    // REGISTRATION IS REMOVED FROM HERE
<span class="cstat-no" title="statement not covered" >    this.logger.info("device.initialized", {</span>
      name: this.getName(),
      count: this.numInputs,
    });
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onFlowCondition(args, state, checkType) {
<span class="cstat-no" title="statement not covered" >    this.logger.flow(`onFlowCondition called for checkType: '${checkType}'`, {</span>
      formulaId: args.formula?.id,
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (checkType === "has_error") {</span>
      const hasTimeout = <span class="cstat-no" title="statement not covered" >this.formulas.some(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.timedOut === true)</span>;</span>
<span class="cstat-no" title="statement not covered" >      this.logger.flow(`Condition 'has_any_error' check result: ${hasTimeout}`);</span>
<span class="cstat-no" title="statement not covered" >      return hasTimeout;</span>
    }
&nbsp;
    const cardIdFromArgs = <span class="cstat-no" title="statement not covered" >args.cardId;</span>
<span class="cstat-no" title="statement not covered" >    if (</span>
      (cardIdFromArgs === "formula_result_is_ld" ||
        cardIdFromArgs === "formula_has_timed_out_ld") &amp;&amp;
      !args.formula
    ) {
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        "onFlowCondition: _ld card called without formula on LU device. Checking first formula as fallback.",
      );
<span class="cstat-no" title="statement not covered" >      if (this.formulas.length &gt; 0) <span class="cstat-no" title="statement not covered" >args.formula = this.formulas[0];</span></span>
      else <span class="cstat-no" title="statement not covered" >return false;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!args.formula || !args.formula.id) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        "onFlowCondition: No formula specified in args for formula-specific check.",
        {
          checkType,
        },
      );
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
    const formulaId = <span class="cstat-no" title="statement not covered" >args.formula.id;</span>
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!formula) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowCondition: Invalid formula ID received.", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (checkType === "timeout") {</span>
      const isTimedOut = <span class="cstat-no" title="statement not covered" >formula.timedOut === true;</span>
<span class="cstat-no" title="statement not covered" >      this.logger.flow(</span>
        `Condition 'formula_has_timed_out' check for '${formula.name}': Result=${isTimedOut}`,
      );
<span class="cstat-no" title="statement not covered" >      return isTimedOut;</span>
    } else <span class="cstat-no" title="statement not covered" >if (typeof checkType === "boolean") {</span>
      const currentResult = <span class="cstat-no" title="statement not covered" >formula.result;</span>
      const desiredResult = <span class="cstat-no" title="statement not covered" >checkType;</span>
      const evaluatedResult = <span class="cstat-no" title="statement not covered" >currentResult === true;</span>
      const conditionMet = <span class="cstat-no" title="statement not covered" >evaluatedResult === desiredResult;</span>
<span class="cstat-no" title="statement not covered" >      this.logger.flow(</span>
        `Condition 'formula_result_is' check for '${formula.name}': Current=${currentResult}, Desired=${desiredResult}, Match=${conditionMet}`,
      );
<span class="cstat-no" title="statement not covered" >      return conditionMet;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      this.logger.error(</span>
        `onFlowCondition: Unknown checkType received: '${checkType}'`,
      );
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onFlowActionSetInput(args, state) {
<span class="cstat-no" title="statement not covered" >    if (!args.formula || !args.input || !args.formula.id || !args.input.id) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowActionSetInput: Missing formula or input ID.", {</span>
        args,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
    const formulaId = <span class="cstat-no" title="statement not covered" >args.formula.id;</span>
    const inputId = <span class="cstat-no" title="statement not covered" >args.input.id;</span>
    const value = <span class="cstat-no" title="statement not covered" >args.value === "true";</span>
<span class="cstat-no" title="statement not covered" >    this.logger.flow("onFlowActionSetInput: Setting input", {</span>
      formula: formulaId,
      input: inputId,
      value: value,
    });
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      await this.setInputForFormula(formulaId, inputId, value);</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error(</span>
        `Error during onFlowActionSetInput for ${formulaId}/${inputId}`,
        e,
      );
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onFlowActionEvaluateFormula(args, state) {
    const cardIdFromArgs = <span class="cstat-no" title="statement not covered" >args.cardId;</span>
<span class="cstat-no" title="statement not covered" >    if (</span>
      (!args.formula || !args.formula.id) &amp;&amp;
      cardIdFromArgs === "evaluate_formula_ld"
    ) {
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        `onFlowActionEvaluateFormula (LD) called on LU device ${this.getName()}. Falling back to re-evaluate all.`,
      );
<span class="cstat-no" title="statement not covered" >      return this.onFlowActionReEvaluateAll(args, state);</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!args.formula || !args.formula.id) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowActionEvaluateFormula: Missing formula ID.", {</span>
        args,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
    const formulaId = <span class="cstat-no" title="statement not covered" >args.formula.id;</span>
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    if (!formula) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowActionEvaluateFormula: Invalid formula ID.", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.logger.flow(</span>
      `onFlowActionEvaluateFormula: Evaluating '${formula.name}' (Resetting locks)`,
    );
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      await this.evaluateFormula(formulaId, true);</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error(</span>
        `Error during onFlowActionEvaluateFormula for ${formulaId}`,
        e,
      );
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onFlowActionClearError(args, state) {
    const cardIdFromArgs = <span class="cstat-no" title="statement not covered" >args.cardId;</span>
<span class="cstat-no" title="statement not covered" >    if (</span>
      (!args.formula || !args.formula.id) &amp;&amp;
      cardIdFromArgs === "clear_error_ld"
    ) {
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        `onFlowActionClearError (LD) called on LU device ${this.getName()}. Clearing all formula timeouts.`,
      );
<span class="cstat-no" title="statement not covered" >      this.formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        f.timedOut = false;</span>
      });
<span class="cstat-no" title="statement not covered" >      this.logger.info("notifications.error_cleared_all", {});</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!args.formula || !args.formula.id) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowActionClearError: Missing formula ID.", {</span>
        args,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
    const formulaId = <span class="cstat-no" title="statement not covered" >args.formula.id;</span>
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    if (!formula) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowActionClearError: Invalid formula ID.", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.logger.flow(</span>
      `onFlowActionClearError: Clearing timeout state for '${formula.name}'`,
    );
<span class="cstat-no" title="statement not covered" >    formula.timedOut = false;</span>
<span class="cstat-no" title="statement not covered" >    this.logger.info("notifications.error_cleared", {</span>
      formulaName: formula.name,
    });
<span class="cstat-no" title="statement not covered" >    return true;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onFlowActionReEvaluateAll(args, state) {
<span class="cstat-no" title="statement not covered" >    this.logger.flow(</span>
      "onFlowActionReEvaluateAll: Re-evaluating all formulas",
      {},
    );
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      await this.evaluateAllFormulas();</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error("Error during onFlowActionReEvaluateAll", e);</span>
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync setAllInputsFromFlow(args, state) {
    const device = <span class="cstat-no" title="statement not covered" >this;</span>
    const valuesJson = <span class="cstat-no" title="statement not covered" >args.values;</span>
<span class="cstat-no" title="statement not covered" >    this.logger.flow(</span>
      `Executing Action 'set_all_inputs' on device '${device.getName()}'`,
    );
<span class="cstat-no" title="statement not covered" >    if (typeof valuesJson !== "string" || valuesJson.trim() === "") {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        `RunListener set_all_inputs: Empty or invalid JSON provided.`,
      );
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
<span class="cstat-no" title="statement not covered" >    try {</span>
      const values = <span class="cstat-no" title="statement not covered" >JSON.parse(valuesJson);</span>
<span class="cstat-no" title="statement not covered" >      if (typeof values !== "object" || values === null) {</span>
<span class="cstat-no" title="statement not covered" >        throw new Error("Parsed JSON is not an object.");</span>
      }
      const promises = <span class="cstat-no" title="statement not covered" >[];</span>
      const inputs = <span class="cstat-no" title="statement not covered" >device.getAvailableInputIds</span>
        ? device.getAvailableInputIds()
        : [];
      const formulas = <span class="cstat-no" title="statement not covered" >Array.isArray(device.formulas) ? device.formulas : [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      for (const key in values) {</span>
<span class="cstat-no" title="statement not covered" >        if (!inputs.includes(key.toLowerCase())) {</span>
<span class="cstat-no" title="statement not covered" >          this.logger.warn(</span>
            `setAllInputsFromFlow: JSON contains invalid input key '${key}' for this device.`,
          );
        }
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      for (const inputId of inputs) {</span>
        const key = <span class="cstat-no" title="statement not covered" >inputId.toUpperCase();</span>
<span class="cstat-no" title="statement not covered" >        if (values.hasOwnProperty(key)) {</span>
<span class="cstat-no" title="statement not covered" >          formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            if (</span>
              f &amp;&amp;
              f.enabled &amp;&amp;
              typeof device.setInputForFormula === "function"
            ) {
              const boolValue =
<span class="cstat-no" title="statement not covered" >                values[key] === true ||</span>
                String(values[key]).toLowerCase() === "true";
<span class="cstat-no" title="statement not covered" >              promises.push(</span>
                device.setInputForFormula(f.id, inputId, boolValue),
              );
            }
          });
        }
      }
<span class="cstat-no" title="statement not covered" >      await Promise.all(promises);</span>
<span class="cstat-no" title="statement not covered" >      this.logger.info(`set_all_inputs OK for ${device.getName()}`, {});</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error(`Error set_all_inputs for ${device.getName()}`, e);</span>
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync setInputForAllFormulasFromFlow(args, state) {
    const device = <span class="cstat-no" title="statement not covered" >this;</span>
    const inputId = <span class="cstat-no" title="statement not covered" >args.input?.id;</span>
    const value = <span class="cstat-no" title="statement not covered" >args.value === "true";</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.logger.flow(</span>
      `Executing Action 'set_input' on device '${device.getName()}'`,
      {
        input: inputId,
        value,
      },
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!inputId || !this.availableInputs.includes(inputId)) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.error(</span>
        `RunListener set_input: Invalid or missing input ID: ${inputId}. Available: ${this.availableInputs.join(",")}`,
      );
&nbsp;
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
&nbsp;
    const promises = <span class="cstat-no" title="statement not covered" >[];</span>
    const formulas = <span class="cstat-no" title="statement not covered" >Array.isArray(device.formulas) ? device.formulas : [];</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        if (f &amp;&amp; f.enabled &amp;&amp; typeof device.setInputForFormula === "function") {</span>
<span class="cstat-no" title="statement not covered" >          promises.push(device.setInputForFormula(f.id, inputId, value));</span>
        }
      });
<span class="cstat-no" title="statement not covered" >      await Promise.all(promises);</span>
<span class="cstat-no" title="statement not covered" >      this.logger.info(`set_input OK for ${device.getName()}`, {});</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error(`Error set_input for ${device.getName()}`, e);</span>
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tAvailableInputIds() {
    const allInputs = <span class="cstat-no" title="statement not covered" >["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];</span>
    const count = <span class="cstat-no" title="statement not covered" >Math.max(</span>
      0,
      Math.min(allInputs.length, Number(this.numInputs) || 0),
    );
<span class="cstat-no" title="statement not covered" >    return allInputs.slice(0, count);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tAvailableInputsUppercase() {
<span class="cstat-no" title="statement not covered" >    return this.availableInputs.map(<span class="fstat-no" title="function not covered" >(i</span>) =&gt; <span class="cstat-no" title="statement not covered" >i.toUpperCase())</span>;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  in</span>itializeFormulas() {
<span class="cstat-no" title="statement not covered" >    this.logger.debug("Initializing formulas from settings...", {});</span>
    const settings = <span class="cstat-no" title="statement not covered" >this.getSettings();</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
      const formulasData = <span class="cstat-no" title="statement not covered" >settings.formulas</span>
        ? JSON.parse(settings.formulas)
        : [];
<span class="cstat-no" title="statement not covered" >      if (!Array.isArray(formulasData)) {</span>
<span class="cstat-no" title="statement not covered" >        this.logger.error("errors.invalid_formula", {</span>
          message: "Formulas setting is not an array.",
        });
<span class="cstat-no" title="statement not covered" >        this.formulas = [];</span>
      } else {
<span class="cstat-no" title="statement not covered" >        this.formulas = formulasData.map(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; (<span class="cstat-no" title="statement not covered" >{</span></span>
          id: f.id || `formula_${Math.random().toString(16).slice(2)}`,
          name: f.name || this.homey.__("formula.unnamed_formula"),
          expression: f.expression || "",
          enabled: f.enabled !== false,
          timeout: Number(f.timeout) || 0,
          firstImpression: !!f.firstImpression,
          inputStates: {},
          lockedInputs: {},
          lastInputTime: null,
          result: null,
          timedOut: false,
        }));
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      this.formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>ormula) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        this.availableInputs.forEach(<span class="fstat-no" title="function not covered" >(i</span>d) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >          formula.inputStates[id] = "undefined";</span>
<span class="cstat-no" title="statement not covered" >          formula.lockedInputs[id] = false;</span>
        });
      });
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error("errors.invalid_formula", e);</span>
<span class="cstat-no" title="statement not covered" >      this.formulas = [];</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (this.formulas.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        "No valid formulas found in settings, creating default.",
        {},
      );
      const defaultFormula = <span class="cstat-no" title="statement not covered" >{</span>
        id: "formula_1",
        name: this.homey.__
          ? this.homey.__("formula.default_name_alt")
          : this.homey.__("formula.default_name_alt_fallback"),
        expression: this.getDefaultExpression(),
        enabled: true,
        timeout: 0,
        firstImpression: false,
        inputStates: {},
        lockedInputs: {},
        lastInputTime: null,
        result: null,
        timedOut: false,
      };
&nbsp;
<span class="cstat-no" title="statement not covered" >      this.availableInputs.forEach(<span class="fstat-no" title="function not covered" >(i</span>d) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        defaultFormula.inputStates[id] = "undefined";</span>
<span class="cstat-no" title="statement not covered" >        defaultFormula.lockedInputs[id] = false;</span>
      });
<span class="cstat-no" title="statement not covered" >      this.formulas = [defaultFormula];</span>
    }
<span class="cstat-no" title="statement not covered" >    this.logger.info("formula.initialized", {</span>
      count: this.formulas.length,
    });
<span class="cstat-no" title="statement not covered" >    this.formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>) =&gt;</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("formula.details", {</span>
        name: f.name,
        expression: f.expression,
        enabled: f.enabled,
      }),
    );
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tDefaultExpression() {
    const inputs = <span class="cstat-no" title="statement not covered" >this.getAvailableInputsUppercase();</span>
<span class="cstat-no" title="statement not covered" >    return inputs.length &gt; 0 ? inputs.join(" AND ") : "true";</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tFormulas() {
<span class="cstat-no" title="statement not covered" >    return this.formulas</span>
      .filter(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.enabled)</span>
      .map(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; (<span class="cstat-no" title="statement not covered" >{</span>
        id: f.id,
        name: f.name,
        description:
          f.expression ||
          (this.homey.__
            ? this.homey.__("formula.no_expression")
            : "(no expression)"),
      }));
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tInputOptions() {
<span class="cstat-no" title="statement not covered" >    return this.getAvailableInputsUppercase().map(<span class="fstat-no" title="function not covered" >(i</span>nput) =&gt; (<span class="cstat-no" title="statement not covered" >{</span></span>
      id: input.toLowerCase(),
      name: input,
    }));
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  va</span>lidateExpression(expression) {
<span class="cstat-no" title="statement not covered" >    this.logger.debug(`Validating expression: "${expression || ""}"`, {});</span>
<span class="cstat-no" title="statement not covered" >    if (</span>
      !expression ||
      typeof expression !== "string" ||
      expression.trim() === ""
    ) {
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.expression_empty")
          : "Expression empty",
      };
    }
    const upper = <span class="cstat-no" title="statement not covered" >expression.toUpperCase();</span>
    const inputs = <span class="cstat-no" title="statement not covered" >this.getAvailableInputsUppercase();</span>
<span class="cstat-no" title="statement not covered" >    if (!inputs.length &amp;&amp; upper.match(/[A-J]/)) {</span>
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: false,
        error: this.homey.__("formula.error_inputs_used_but_none_configured"),
      };
    }
    let validationInputs = <span class="cstat-no" title="statement not covered" >inputs.length &gt; 0 ? inputs : ["TEMP_VALIDATION_VAR"];</span>
&nbsp;
    const tokenRe = <span class="cstat-no" title="statement not covered" >new RegExp(</span>
      `\\b(?:AND|OR|XOR|NOT)\\b|&amp;&amp;|\\|\\||\\^|!=|\\*|\\+|!|\\(|\\)|\\b(?:${validationInputs.join("|")})\\b|\\bTRUE\\b|\\bFALSE\\b`,
      "gi",
    );
    const stripped = <span class="cstat-no" title="statement not covered" >upper.replace(tokenRe, "").replace(/\s+/g, "");</span>
<span class="cstat-no" title="statement not covered" >    if (stripped.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.invalid_tokens", {
              tokens: stripped,
            })
          : `Invalid tokens: ${stripped}`,
      };
    }
&nbsp;
    let depth = <span class="cstat-no" title="statement not covered" >0;</span>
<span class="cstat-no" title="statement not covered" >    for (const ch of upper) {</span>
<span class="cstat-no" title="statement not covered" >      if (ch === "(") <span class="cstat-no" title="statement not covered" >depth++;</span></span>
      else <span class="cstat-no" title="statement not covered" >if (ch === ")") <span class="cstat-no" title="statement not covered" >depth--;</span></span>
<span class="cstat-no" title="statement not covered" >      if (depth &lt; 0)</span>
<span class="cstat-no" title="statement not covered" >        return {</span>
          valid: false,
          error: this.homey.__("formula.error_unbalanced_parentheses"),
        };
    }
<span class="cstat-no" title="statement not covered" >    if (depth !== 0)</span>
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: false,
        error: "Unbalanced parentheses",
      };
&nbsp;
    // Attempt to evaluate with dummy values to catch syntax errors
    let testExpr = <span class="cstat-no" title="statement not covered" >upper</span>
      .replace(/\bAND\b|&amp;|\*/gi, "&amp;&amp;") // Normalize AND operators
      .replace(/\bOR\b|\||\+/gi, "||") // Normalize OR operators
      .replace(/\bXOR\b|\^|!=/gi, "!=") // Normalize XOR operators (use JS !=)
      .replace(/\bNOT\b|!/gi, "!"); // Normalize NOT operator
&nbsp;
    // Replace input letters and TRUE/FALSE with boolean literals
<span class="cstat-no" title="statement not covered" >    for (const key of validationInputs) {</span>
      const re = <span class="cstat-no" title="statement not covered" >new RegExp(`\\b${key}\\b`, "g");</span>
<span class="cstat-no" title="statement not covered" >      testExpr = testExpr.replace(re, "true");</span>
    }
<span class="cstat-no" title="statement not covered" >    testExpr = testExpr</span>
      .replace(/\bTRUE\b/g, "true")
      .replace(/\bFALSE\b/g, "false");
&nbsp;
    // Try creating a function to catch final syntax errors
<span class="cstat-no" title="statement not covered" >    try {</span>
      const fn = <span class="cstat-no" title="statement not covered" >new Function(`return ${testExpr};`);</span>
<span class="cstat-no" title="statement not covered" >      fn(); </span>// Execute once to be sure
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: true,
      };
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.invalid_syntax", {
              message: e.message,
            })
          : `Syntax error: ${e.message}`,
      };
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  pa</span>rseExpression(expression) {
<span class="cstat-no" title="statement not covered" >    if (!expression || typeof expression !== "string") <span class="cstat-no" title="statement not covered" >return [];</span></span>
    const inputs = <span class="cstat-no" title="statement not covered" >this.getAvailableInputsUppercase();</span>
<span class="cstat-no" title="statement not covered" >    if (!inputs.length) <span class="cstat-no" title="statement not covered" >return [];</span></span>
    const varRe = <span class="cstat-no" title="statement not covered" >new RegExp(`\\b(${inputs.join("|")})\\b`, "gi");</span>
    const matches = <span class="cstat-no" title="statement not covered" >expression.match(varRe);</span>
<span class="cstat-no" title="statement not covered" >    return matches ? [...new Set(matches.map(<span class="fstat-no" title="function not covered" >(c</span>) =&gt; <span class="cstat-no" title="statement not covered" >c.toUpperCase())</span>)] : [];</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync setInputForFormula(formulaId, inputId, value) {
<span class="cstat-no" title="statement not covered" >    if (this._isDeleting) <span class="cstat-no" title="statement not covered" >return null;</span></span>
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    if (!formula) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("errors.invalid_formula", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!this.availableInputs.includes(inputId)) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        `setInputForFormula: Invalid inputId '${inputId}' for device with ${this.numInputs} inputs.`,
      );
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (</span>
      formula.firstImpression === true &amp;&amp;
      formula.lockedInputs[inputId] === true
    ) {
<span class="cstat-no" title="statement not covered" >      this.logger.debug("inputs.locked", {</span>
        input: inputId.toUpperCase(),
        formula: formula.name,
      });
<span class="cstat-no" title="statement not covered" >      return formula.result;</span>
    }
&nbsp;
    const oldValue = <span class="cstat-no" title="statement not covered" >formula.inputStates[inputId];</span>
<span class="cstat-no" title="statement not covered" >    formula.inputStates[inputId] =</span>
      value === true || value === false ? value : "undefined";
<span class="cstat-no" title="statement not covered" >    formula.timedOut = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (</span>
      formula.firstImpression === true &amp;&amp;
      formula.inputStates[inputId] !== "undefined" &amp;&amp;
      formula.lockedInputs[inputId] !== true
    ) {
<span class="cstat-no" title="statement not covered" >      formula.lockedInputs[inputId] = true;</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("inputs.locked_at_value", {</span>
        input: inputId.toUpperCase(),
        value: formula.inputStates[inputId],
        formula: formula.name,
      });
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (formula.inputStates[inputId] !== "undefined") {</span>
<span class="cstat-no" title="statement not covered" >      formula.lastInputTime = Date.now();</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return await this.evaluateFormula(formulaId, false);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync evaluateFormula(formulaId, resetLocks = <span class="branch-0 cbranch-no" title="branch not covered" >false)</span> {
<span class="cstat-no" title="statement not covered" >    if (this._isDeleting) <span class="cstat-no" title="statement not covered" >return null;</span></span>
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    if (!formula || !formula.enabled) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("errors.invalid_formula", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (resetLocks === true &amp;&amp; formula.firstImpression === true) {</span>
<span class="cstat-no" title="statement not covered" >      this.availableInputs.forEach(<span class="fstat-no" title="function not covered" >(i</span>d) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        formula.lockedInputs[id] = false;</span>
      });
<span class="cstat-no" title="statement not covered" >      this.logger.debug("inputs.unlocked", {</span>
        formula: formula.name,
      });
    }
&nbsp;
    const expression = <span class="cstat-no" title="statement not covered" >formula.expression;</span>
<span class="cstat-no" title="statement not covered" >    if (!expression) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("formula.invalid", {</span>
        formula: formula.name,
        reason: "No expression",
      });
<span class="cstat-no" title="statement not covered" >      formula.result = null;</span>
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
&nbsp;
    const requiredInputs = <span class="cstat-no" title="statement not covered" >this.parseExpression(expression);</span>
    const allDefined = <span class="cstat-no" title="statement not covered" >requiredInputs.every(</span>
<span class="fstat-no" title="function not covered" >      (i</span>nputIdUpper) =&gt;
<span class="cstat-no" title="statement not covered" >        formula.inputStates[inputIdUpper.toLowerCase()] !== "undefined",</span>
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!allDefined &amp;&amp; requiredInputs.length &gt; 0) {</span>
      const missing = <span class="cstat-no" title="statement not covered" >requiredInputs.filter(</span>
<span class="fstat-no" title="function not covered" >        (i</span>d) =&gt; <span class="cstat-no" title="statement not covered" >formula.inputStates[id.toLowerCase()] === "undefined",</span>
      );
<span class="cstat-no" title="statement not covered" >      this.logger.debug("inputs.waiting", {</span>
        formula: formula.name,
        missing: missing.join(", "),
      });
<span class="cstat-no" title="statement not covered" >      return formula.result;</span>
    }
&nbsp;
    const values = <span class="cstat-no" title="statement not covered" >{};</span>
<span class="cstat-no" title="statement not covered" >    this.availableInputs.forEach(<span class="fstat-no" title="function not covered" >(i</span>d) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      values[id.toUpperCase()] = formula.inputStates[id];</span>
    });
<span class="cstat-no" title="statement not covered" >    this.logger.debug("formula.evaluating", {</span>
      formula: formula.name,
    });
&nbsp;
    let evalExpression = <span class="cstat-no" title="statement not covered" >expression</span>
      .replace(/\bAND\b|&amp;|\*/gi, "&amp;&amp;")
      .replace(/\bOR\b|\||\+/gi, "||")
      .replace(/\bXOR\b|\^|!=/gi, "!=")
      .replace(/\bNOT\b|!/gi, "!");
&nbsp;
<span class="cstat-no" title="statement not covered" >    for (const key in values) {</span>
<span class="cstat-no" title="statement not covered" >      if (requiredInputs.includes(key) &amp;&amp; values[key] !== "undefined") {</span>
        const re = <span class="cstat-no" title="statement not covered" >new RegExp(`\\b${key}\\b`, "gi");</span>
<span class="cstat-no" title="statement not covered" >        evalExpression = evalExpression.replace(</span>
          re,
          String(values[key] === true),
        );
      }
    }
<span class="cstat-no" title="statement not covered" >    evalExpression = evalExpression</span>
      .replace(/\bTRUE\b/gi, "true")
      .replace(/\bFALSE\b/gi, "false");
<span class="cstat-no" title="statement not covered" >    this.logger.formula("formula.evaluating_expression", {</span>
      expression: expression,
      evalExpression: evalExpression,
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
      const evaluateFn = <span class="cstat-no" title="statement not covered" >new Function(`return ${evalExpression};`);</span>
      const result = <span class="cstat-no" title="statement not covered" >!!evaluateFn();</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("formula.evaluated", {</span>
        formula: formula.name,
        result: result,
      });
&nbsp;
      const previous = <span class="cstat-no" title="statement not covered" >formula.result;</span>
<span class="cstat-no" title="statement not covered" >      formula.result = result;</span>
<span class="cstat-no" title="statement not covered" >      formula.timedOut = false;</span>
&nbsp;
      const overallDeviceState = <span class="cstat-no" title="statement not covered" >this.formulas.some(</span>
<span class="fstat-no" title="function not covered" >        (f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.enabled &amp;&amp; f.result === true,</span>
      );
      const currentOnOffState = <span class="cstat-no" title="statement not covered" >this.getCapabilityValue("onoff");</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (currentOnOffState !== overallDeviceState) {</span>
<span class="cstat-no" title="statement not covered" >        await this.safeSetCapabilityValue("onoff", overallDeviceState);</span>
<span class="cstat-no" title="statement not covered" >        await this.safeSetCapabilityValue("alarm_generic", overallDeviceState);</span>
<span class="cstat-no" title="statement not covered" >        this.logger.info(</span>
          `Overall device capability updated: ${overallDeviceState}`,
        );
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (result !== previous &amp;&amp; previous !== null) {</span>
        const triggerData = <span class="cstat-no" title="statement not covered" >{</span>
          formula: {
            id: formula.id,
            name: formula.name,
          },
        };
        const state = <span class="cstat-no" title="statement not covered" >{</span>
          formulaId: formula.id,
        };
        const triggerCardId = <span class="cstat-no" title="statement not covered" >result</span>
          ? "formula_changed_to_true"
          : "formula_changed_to_false";
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >          this.logger.flow(</span>
            `Triggering flow '${triggerCardId}' for '${formula.name}'`,
          );
          const card = <span class="cstat-no" title="statement not covered" >this.homey.flow.getDeviceTriggerCard(triggerCardId);</span>
<span class="cstat-no" title="statement not covered" >          await card.trigger(this, triggerData, state);</span>
        } catch (e) {
<span class="cstat-no" title="statement not covered" >          if (e.message &amp;&amp; e.message.includes("Invalid Flow Card ID")) {</span>
<span class="cstat-no" title="statement not covered" >            this.logger.error(</span>
              `FATAL: Trigger card '${triggerCardId}' not found. Check app.json/compose flow definitions.`,
              e,
            );
          } else {
<span class="cstat-no" title="statement not covered" >            this.logger.error("flow.trigger_error", e);</span>
          }
        }
      }
<span class="cstat-no" title="statement not covered" >      return result;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error("errors.evaluation_failed", e);</span>
<span class="cstat-no" title="statement not covered" >      formula.result = null;</span>
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync evaluateAllFormulas() {
<span class="cstat-no" title="statement not covered" >    this.logger.info("notifications.reevaluating", {});</span>
    const results = <span class="cstat-no" title="statement not covered" >[];</span>
<span class="cstat-no" title="statement not covered" >    for (const formula of this.formulas) {</span>
<span class="cstat-no" title="statement not covered" >      if (formula.enabled) {</span>
<span class="cstat-no" title="statement not covered" >        if (formula.firstImpression) {</span>
<span class="cstat-no" title="statement not covered" >          this.availableInputs.forEach(<span class="fstat-no" title="function not covered" >(i</span>d) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            formula.lockedInputs[id] = false;</span>
          });
<span class="cstat-no" title="statement not covered" >          this.logger.debug("inputs.unlocked", {</span>
            formula: formula.name,
          });
        }
        const result = <span class="cstat-no" title="statement not covered" >await this.evaluateFormula(formula.id, false);</span>
<span class="cstat-no" title="statement not covered" >        results.push({</span>
          id: formula.id,
          name: formula.name,
          result,
        });
      } else {
<span class="cstat-no" title="statement not covered" >        formula.result = null;</span>
      }
    }
    const overallDeviceState = <span class="cstat-no" title="statement not covered" >this.formulas.some(</span>
<span class="fstat-no" title="function not covered" >      (f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.enabled &amp;&amp; f.result === true,</span>
    );
<span class="cstat-no" title="statement not covered" >    if (this.getCapabilityValue("onoff") !== overallDeviceState) {</span>
<span class="cstat-no" title="statement not covered" >      await this.safeSetCapabilityValue("onoff", overallDeviceState);</span>
<span class="cstat-no" title="statement not covered" >      await this.safeSetCapabilityValue("alarm_generic", overallDeviceState);</span>
<span class="cstat-no" title="statement not covered" >      this.logger.info(</span>
        `Overall device capability updated after re-evaluating all: ${overallDeviceState}`,
      );
    }
<span class="cstat-no" title="statement not covered" >    this.logger.debug("formula.evaluated_count", {</span>
      count: results.length,
    });
<span class="cstat-no" title="statement not covered" >    return results;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync evaluateAllFormulasInitial() {
<span class="cstat-no" title="statement not covered" >    this.logger.info("evaluation.initial_complete", {});</span>
    let anyEvaluated = <span class="cstat-no" title="statement not covered" >false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    for (const formula of this.formulas) {</span>
<span class="cstat-no" title="statement not covered" >      if (!formula.enabled) {</span>
<span class="cstat-no" title="statement not covered" >        formula.result = null;</span>
<span class="cstat-no" title="statement not covered" >        continue;</span>
      }
      const expr = <span class="cstat-no" title="statement not covered" >formula.expression;</span>
<span class="cstat-no" title="statement not covered" >      if (!expr) {</span>
<span class="cstat-no" title="statement not covered" >        formula.result = null;</span>
<span class="cstat-no" title="statement not covered" >        continue;</span>
      }
      const required = <span class="cstat-no" title="statement not covered" >this.parseExpression(expr);</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("debug.checking_formula", {</span>
        name: formula.name,
        expression: expr,
      });
<span class="cstat-no" title="statement not covered" >      if (required.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >        this.logger.debug("debug.required_inputs", {</span>
          inputs: required.join(", "),
        });
      }
&nbsp;
      const allDefined = <span class="cstat-no" title="statement not covered" >required.every(</span>
<span class="fstat-no" title="function not covered" >        (i</span>d) =&gt; <span class="cstat-no" title="statement not covered" >formula.inputStates[id.toLowerCase()] !== "undefined",</span>
      );
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (allDefined || required.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >        this.logger.debug("formula.all_inputs_defined", {</span>
          name: formula.name,
        });
        const result = <span class="cstat-no" title="statement not covered" >await this.evaluateFormula(formula.id);</span>
<span class="cstat-no" title="statement not covered" >        if (result !== null) {</span>
<span class="cstat-no" title="statement not covered" >          anyEvaluated = true;</span>
        }
      } else {
        const missing = <span class="cstat-no" title="statement not covered" >required.filter(</span>
<span class="fstat-no" title="function not covered" >          (i</span>d) =&gt; <span class="cstat-no" title="statement not covered" >formula.inputStates[id.toLowerCase()] === "undefined",</span>
        );
<span class="cstat-no" title="statement not covered" >        this.logger.debug("inputs.waiting", {</span>
          formula: formula.name,
          missing: missing.join(", "),
        });
<span class="cstat-no" title="statement not covered" >        formula.result = null;</span>
      }
    }
&nbsp;
    const finalState = <span class="cstat-no" title="statement not covered" >this.formulas.some(</span>
<span class="fstat-no" title="function not covered" >      (f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.enabled &amp;&amp; f.result === true,</span>
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.logger.info(</span>
      `Initial evaluation complete. Final state: ${finalState} (anyEvaluated=${anyEvaluated})`,
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    await this.safeSetCapabilityValue("onoff", finalState);</span>
<span class="cstat-no" title="statement not covered" >    await this.safeSetCapabilityValue("alarm_generic", finalState);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (</span>
      !anyEvaluated &amp;&amp;
      this.formulas.some(
<span class="fstat-no" title="function not covered" >        (f</span>) =&gt;
<span class="cstat-no" title="statement not covered" >          f.enabled &amp;&amp;</span>
          f.expression &amp;&amp;
          this.parseExpression(f.expression).length &gt; 0,
      )
    ) {
<span class="cstat-no" title="statement not covered" >      this.logger.warn("evaluation.no_formulas_ready", {});</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tFormulaResult(formulaId) {
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    if (!formula) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("errors.invalid_formula", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.logger.debug("formula.result_debug", {</span>
      name: formula.name,
      id: formulaId,
      result: formula.result,
      type: typeof formula.result,
    });
<span class="cstat-no" title="statement not covered" >    return formula.result === true;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ha</span>sFormulaTimedOut(formulaId) {
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    return !!(formula &amp;&amp; formula.timedOut);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  st</span>artTimeoutChecks() {
<span class="cstat-no" title="statement not covered" >    if (this.timeoutInterval) {</span>
<span class="cstat-no" title="statement not covered" >      clearInterval(this.timeoutInterval);</span>
    }
<span class="cstat-no" title="statement not covered" >    this.timeoutInterval = setInterval(<span class="fstat-no" title="function not covered" >()</span> =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      this.checkTimeouts();</span>
    }, 1000);
<span class="cstat-no" title="statement not covered" >    this.logger.debug("Started timeout check interval.", {});</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ch</span>eckTimeouts() {
    const now = <span class="cstat-no" title="statement not covered" >Date.now();</span>
<span class="cstat-no" title="statement not covered" >    this.formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>ormula) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      if (</span>
        !formula.enabled ||
        formula.timedOut ||
        !formula.timeout ||
        formula.timeout &lt;= 0
      )
<span class="cstat-no" title="statement not covered" >        return;</span>
&nbsp;
      const requiredInputs = <span class="cstat-no" title="statement not covered" >this.parseExpression(formula.expression);</span>
<span class="cstat-no" title="statement not covered" >      if (</span>
        requiredInputs.length === 0 ||
        requiredInputs.every(
<span class="fstat-no" title="function not covered" >          (i</span>d) =&gt; <span class="cstat-no" title="statement not covered" >formula.inputStates[id.toLowerCase()] !== "undefined",</span>
        )
      ) {
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (!formula.lastInputTime) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
      const timeoutMs = <span class="cstat-no" title="statement not covered" >formula.timeout * 1000;</span>
      const elapsed = <span class="cstat-no" title="statement not covered" >now - formula.lastInputTime;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (elapsed &gt;= timeoutMs) {</span>
<span class="cstat-no" title="statement not covered" >        this.logger.info("formula.timed_out", {</span>
          name: formula.name,
          timeout: formula.timeout,
        });
<span class="cstat-no" title="statement not covered" >        formula.timedOut = true;</span>
&nbsp;
        const triggerData = <span class="cstat-no" title="statement not covered" >{</span>
          formula: {
            id: formula.id,
            name: formula.name,
          },
        };
        const state = <span class="cstat-no" title="statement not covered" >{</span>
          formulaId: formula.id,
        };
<span class="cstat-no" title="statement not covered" >        try {</span>
          const card = <span class="cstat-no" title="statement not covered" >this.homey.flow.getDeviceTriggerCard("formula_timeout");</span>
<span class="cstat-no" title="statement not covered" >          card</span>
            .trigger(this, triggerData, state)
            .catch(<span class="fstat-no" title="function not covered" >(e</span>rr) =&gt; <span class="cstat-no" title="statement not covered" >this.logger.error("timeout.error", err))</span>;
        } catch (e) {
<span class="cstat-no" title="statement not covered" >          if (e.message &amp;&amp; e.message.includes("Invalid Flow Card ID")) {</span>
<span class="cstat-no" title="statement not covered" >            this.logger.error(</span>
              `FATAL: Trigger card 'formula_timeout' not found. Check app.json/compose flow definitions.`,
              e,
            );
          } else {
<span class="cstat-no" title="statement not covered" >            this.logger.error(</span>
              this.homey.__("errors.trigger_timeout_card_failed"),
              e,
            );
          }
        }
      }
    });
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onSettings({ oldSettings, newSettings, changedKeys }) {
<span class="cstat-no" title="statement not covered" >    this.logger.info("settings.changed", {</span>
      keys: changedKeys.join(", "),
    });
<span class="cstat-no" title="statement not covered" >    if (this.timeoutInterval) {</span>
<span class="cstat-no" title="statement not covered" >      clearInterval(this.timeoutInterval);</span>
<span class="cstat-no" title="statement not covered" >      this.timeoutInterval = null;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    await this.initializeFormulas();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (changedKeys.includes("formulas")) {</span>
<span class="cstat-no" title="statement not covered" >      for (const formula of this.formulas) {</span>
        const validation = <span class="cstat-no" title="statement not covered" >this.validateExpression(formula.expression);</span>
<span class="cstat-no" title="statement not covered" >        if (!validation.valid) {</span>
<span class="cstat-no" title="statement not covered" >          this.homey.notifications</span>
            .createNotification({
              excerpt: this.homey.__("notifications.invalid_formula_config", {
                formulaName: formula.name,
                error: validation.error,
              }),
            })
            .catch(<span class="fstat-no" title="function not covered" >(e</span>) =&gt;
<span class="cstat-no" title="statement not covered" >              this.logger.error(</span>
                this.homey.__("errors.notification_failed_invalid_formula"),
                e,
              ),
            );
<span class="cstat-no" title="statement not covered" >          this.logger.error(</span>
            `Invalid formula configuration saved for '${formula.name}'`,
            {
              error: validation.error,
            },
          );
        }
      }
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    await this.evaluateAllFormulasInitial();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.startTimeoutChecks();</span>
<span class="cstat-no" title="statement not covered" >    this.logger.info("settings.applied", {});</span>
&nbsp;
    const formatSettings = <span class="cstat-no" title="statement not covered" >{};</span>
    let needsFormat = <span class="cstat-no" title="statement not covered" >false;</span>
<span class="cstat-no" title="statement not covered" >    if (changedKeys.includes("formulas")) {</span>
<span class="cstat-no" title="statement not covered" >      try {</span>
        const parsed = <span class="cstat-no" title="statement not covered" >JSON.parse(newSettings.formulas);</span>
        const formatted = <span class="cstat-no" title="statement not covered" >JSON.stringify(parsed, null, 2);</span>
<span class="cstat-no" title="statement not covered" >        if (formatted !== newSettings.formulas) {</span>
<span class="cstat-no" title="statement not covered" >          formatSettings.formulas = formatted;</span>
<span class="cstat-no" title="statement not covered" >          needsFormat = true;</span>
<span class="cstat-no" title="statement not covered" >          this.logger.debug("settings.formatting", {</span>
            type: "formulas",
          });
        }
      } catch (e) {}
    }
<span class="cstat-no" title="statement not covered" >    if (needsFormat) {</span>
<span class="cstat-no" title="statement not covered" >      setTimeout(<span class="fstat-no" title="function not covered" >as</span>ync () =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >          this.logger.debug("settings.applying_formatted", {});</span>
<span class="cstat-no" title="statement not covered" >          await this.setSettings(formatSettings);</span>
<span class="cstat-no" title="statement not covered" >          this.logger.info("settings.auto_formatted", {});</span>
        } catch (e) {
<span class="cstat-no" title="statement not covered" >          this.logger.error("settings.format_failed", e);</span>
        }
      }, 500);
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onDeleted() {
<span class="cstat-no" title="statement not covered" >    this._isDeleting = true;</span>
<span class="cstat-no" title="statement not covered" >    this.logger.device("device.deleted_cleanup", {</span>
      name: this.getName(),
    });
<span class="cstat-no" title="statement not covered" >    if (this.timeoutInterval) {</span>
<span class="cstat-no" title="statement not covered" >      clearInterval(this.timeoutInterval);</span>
<span class="cstat-no" title="statement not covered" >      this.timeoutInterval = null;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.logger.info("device.cleanup_complete", {</span>
      name: this.getName(),
    });
  }
};</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.263Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/BaseLogicUnit.js.html ---

--- START: coverage/block-navigation.js (sha256=cd8db34b1fbeb973354a93f8b4133c7c7eab34cdda9429a0434be91384783b7e, bytes=2655) ---
/* eslint-disable */
var jumpToCode = (function init() {
    // Classes of code we would like to highlight in the file view
    var missingCoverageClasses = ['.cbranch-no', '.cstat-no', '.fstat-no'];

    // Elements to highlight in the file listing view
    var fileListingElements = ['td.pct.low'];

    // We don't want to select elements that are direct descendants of another match
    var notSelector = ':not(' + missingCoverageClasses.join('):not(') + ') > '; // becomes `:not(a):not(b) > `

    // Selector that finds elements on the page to which we can jump
    var selector =
        fileListingElements.join(', ') +
        ', ' +
        notSelector +
        missingCoverageClasses.join(', ' + notSelector); // becomes `:not(a):not(b) > a, :not(a):not(b) > b`

    // The NodeList of matching elements
    var missingCoverageElements = document.querySelectorAll(selector);

    var currentIndex;

    function toggleClass(index) {
        missingCoverageElements
            .item(currentIndex)
            .classList.remove('highlighted');
        missingCoverageElements.item(index).classList.add('highlighted');
    }

    function makeCurrent(index) {
        toggleClass(index);
        currentIndex = index;
        missingCoverageElements.item(index).scrollIntoView({
            behavior: 'smooth',
            block: 'center',
            inline: 'center'
        });
    }

    function goToPrevious() {
        var nextIndex = 0;
        if (typeof currentIndex !== 'number' || currentIndex === 0) {
            nextIndex = missingCoverageElements.length - 1;
        } else if (missingCoverageElements.length > 1) {
            nextIndex = currentIndex - 1;
        }

        makeCurrent(nextIndex);
    }

    function goToNext() {
        var nextIndex = 0;

        if (
            typeof currentIndex === 'number' &&
            currentIndex < missingCoverageElements.length - 1
        ) {
            nextIndex = currentIndex + 1;
        }

        makeCurrent(nextIndex);
    }

    return function jump(event) {
        if (
            document.getElementById('fileSearch') === document.activeElement &&
            document.activeElement != null
        ) {
            // if we're currently focused on the search input, we don't want to navigate
            return;
        }

        switch (event.which) {
            case 78: // n
            case 74: // j
                goToNext();
                break;
            case 66: // b
            case 75: // k
            case 80: // p
                goToPrevious();
                break;
        }
    };
})();
window.addEventListener('keydown', jumpToCode);
--- END: coverage/block-navigation.js ---

--- START: coverage/FormulaEvaluator.js.html (sha256=b55325b4ff376a9a08b3b2c09e266b9544b35b2d7405a845914c05e3eade810a, bytes=46014) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for FormulaEvaluator.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> FormulaEvaluator.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">97.5% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>156/160</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">96.03% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>97/101</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">100% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>10/10</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">97.5% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>156/160</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line high'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a>
<a name='L253'></a><a href='#L253'>253</a>
<a name='L254'></a><a href='#L254'>254</a>
<a name='L255'></a><a href='#L255'>255</a>
<a name='L256'></a><a href='#L256'>256</a>
<a name='L257'></a><a href='#L257'>257</a>
<a name='L258'></a><a href='#L258'>258</a>
<a name='L259'></a><a href='#L259'>259</a>
<a name='L260'></a><a href='#L260'>260</a>
<a name='L261'></a><a href='#L261'>261</a>
<a name='L262'></a><a href='#L262'>262</a>
<a name='L263'></a><a href='#L263'>263</a>
<a name='L264'></a><a href='#L264'>264</a>
<a name='L265'></a><a href='#L265'>265</a>
<a name='L266'></a><a href='#L266'>266</a>
<a name='L267'></a><a href='#L267'>267</a>
<a name='L268'></a><a href='#L268'>268</a>
<a name='L269'></a><a href='#L269'>269</a>
<a name='L270'></a><a href='#L270'>270</a>
<a name='L271'></a><a href='#L271'>271</a>
<a name='L272'></a><a href='#L272'>272</a>
<a name='L273'></a><a href='#L273'>273</a>
<a name='L274'></a><a href='#L274'>274</a>
<a name='L275'></a><a href='#L275'>275</a>
<a name='L276'></a><a href='#L276'>276</a>
<a name='L277'></a><a href='#L277'>277</a>
<a name='L278'></a><a href='#L278'>278</a>
<a name='L279'></a><a href='#L279'>279</a>
<a name='L280'></a><a href='#L280'>280</a>
<a name='L281'></a><a href='#L281'>281</a>
<a name='L282'></a><a href='#L282'>282</a>
<a name='L283'></a><a href='#L283'>283</a>
<a name='L284'></a><a href='#L284'>284</a>
<a name='L285'></a><a href='#L285'>285</a>
<a name='L286'></a><a href='#L286'>286</a>
<a name='L287'></a><a href='#L287'>287</a>
<a name='L288'></a><a href='#L288'>288</a>
<a name='L289'></a><a href='#L289'>289</a>
<a name='L290'></a><a href='#L290'>290</a>
<a name='L291'></a><a href='#L291'>291</a>
<a name='L292'></a><a href='#L292'>292</a>
<a name='L293'></a><a href='#L293'>293</a>
<a name='L294'></a><a href='#L294'>294</a>
<a name='L295'></a><a href='#L295'>295</a>
<a name='L296'></a><a href='#L296'>296</a>
<a name='L297'></a><a href='#L297'>297</a>
<a name='L298'></a><a href='#L298'>298</a>
<a name='L299'></a><a href='#L299'>299</a>
<a name='L300'></a><a href='#L300'>300</a>
<a name='L301'></a><a href='#L301'>301</a>
<a name='L302'></a><a href='#L302'>302</a>
<a name='L303'></a><a href='#L303'>303</a>
<a name='L304'></a><a href='#L304'>304</a>
<a name='L305'></a><a href='#L305'>305</a>
<a name='L306'></a><a href='#L306'>306</a>
<a name='L307'></a><a href='#L307'>307</a>
<a name='L308'></a><a href='#L308'>308</a>
<a name='L309'></a><a href='#L309'>309</a>
<a name='L310'></a><a href='#L310'>310</a>
<a name='L311'></a><a href='#L311'>311</a>
<a name='L312'></a><a href='#L312'>312</a>
<a name='L313'></a><a href='#L313'>313</a>
<a name='L314'></a><a href='#L314'>314</a>
<a name='L315'></a><a href='#L315'>315</a>
<a name='L316'></a><a href='#L316'>316</a>
<a name='L317'></a><a href='#L317'>317</a>
<a name='L318'></a><a href='#L318'>318</a>
<a name='L319'></a><a href='#L319'>319</a>
<a name='L320'></a><a href='#L320'>320</a>
<a name='L321'></a><a href='#L321'>321</a>
<a name='L322'></a><a href='#L322'>322</a>
<a name='L323'></a><a href='#L323'>323</a>
<a name='L324'></a><a href='#L324'>324</a>
<a name='L325'></a><a href='#L325'>325</a>
<a name='L326'></a><a href='#L326'>326</a>
<a name='L327'></a><a href='#L327'>327</a>
<a name='L328'></a><a href='#L328'>328</a>
<a name='L329'></a><a href='#L329'>329</a>
<a name='L330'></a><a href='#L330'>330</a>
<a name='L331'></a><a href='#L331'>331</a>
<a name='L332'></a><a href='#L332'>332</a>
<a name='L333'></a><a href='#L333'>333</a>
<a name='L334'></a><a href='#L334'>334</a>
<a name='L335'></a><a href='#L335'>335</a>
<a name='L336'></a><a href='#L336'>336</a>
<a name='L337'></a><a href='#L337'>337</a>
<a name='L338'></a><a href='#L338'>338</a>
<a name='L339'></a><a href='#L339'>339</a>
<a name='L340'></a><a href='#L340'>340</a>
<a name='L341'></a><a href='#L341'>341</a>
<a name='L342'></a><a href='#L342'>342</a>
<a name='L343'></a><a href='#L343'>343</a>
<a name='L344'></a><a href='#L344'>344</a>
<a name='L345'></a><a href='#L345'>345</a>
<a name='L346'></a><a href='#L346'>346</a>
<a name='L347'></a><a href='#L347'>347</a>
<a name='L348'></a><a href='#L348'>348</a>
<a name='L349'></a><a href='#L349'>349</a>
<a name='L350'></a><a href='#L350'>350</a>
<a name='L351'></a><a href='#L351'>351</a>
<a name='L352'></a><a href='#L352'>352</a>
<a name='L353'></a><a href='#L353'>353</a>
<a name='L354'></a><a href='#L354'>354</a>
<a name='L355'></a><a href='#L355'>355</a>
<a name='L356'></a><a href='#L356'>356</a>
<a name='L357'></a><a href='#L357'>357</a>
<a name='L358'></a><a href='#L358'>358</a>
<a name='L359'></a><a href='#L359'>359</a>
<a name='L360'></a><a href='#L360'>360</a>
<a name='L361'></a><a href='#L361'>361</a>
<a name='L362'></a><a href='#L362'>362</a>
<a name='L363'></a><a href='#L363'>363</a>
<a name='L364'></a><a href='#L364'>364</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">52x</span>
<span class="cline-any cline-yes">52x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">108x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">102x</span>
<span class="cline-any cline-yes">102x</span>
<span class="cline-any cline-yes">102x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">102x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">630x</span>
<span class="cline-any cline-yes">242x</span>
<span class="cline-any cline-yes">242x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">388x</span>
<span class="cline-any cline-yes">25x</span>
<span class="cline-any cline-yes">25x</span>
<span class="cline-any cline-yes">25x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">363x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">339x</span>
<span class="cline-any cline-yes">263x</span>
<span class="cline-any cline-yes">263x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">261x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">259x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">333x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">330x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">327x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">324x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">321x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">319x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">317x</span>
<span class="cline-any cline-yes">302x</span>
<span class="cline-any cline-yes">302x</span>
<span class="cline-any cline-yes">526x</span>
<span class="cline-any cline-yes">526x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">302x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">302x</span>
<span class="cline-any cline-yes">72x</span>
<span class="cline-any cline-yes">230x</span>
<span class="cline-any cline-yes">16x</span>
<span class="cline-any cline-yes">214x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">212x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-yes">200x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-yes">194x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">190x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">187x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">299x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15x</span>
<span class="cline-any cline-yes">11x</span>
<span class="cline-any cline-yes">11x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9x</span>
<span class="cline-any cline-yes">9x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">93x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">71x</span>
<span class="cline-any cline-yes">71x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">71x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">70x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">64x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">61x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">94x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">88x</span>
<span class="cline-any cline-yes">20x</span>
<span class="cline-any cline-yes">20x</span>
<span class="cline-any cline-yes">20x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">88x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">114x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">108x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">108x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">117x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">113x</span>
<span class="cline-any cline-yes">71x</span>
<span class="cline-any cline-yes">71x</span>
<span class="cline-any cline-yes">69x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">111x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">200x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">188x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">188x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">186x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">186x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21x</span>
<span class="cline-any cline-yes">21x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">162x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">150x</span>
<span class="cline-any cline-yes">149x</span>
<span class="cline-any cline-yes">149x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">270x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">270x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">153x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">150x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11x</span>
<span class="cline-any cline-yes">11x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">92x</span>
<span class="cline-any cline-yes">92x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">90x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">62x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">67x</span>
<span class="cline-any cline-yes">60x</span>
<span class="cline-any cline-yes">54x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * AST-Based Formula Evaluator
 * 
 * Securely evaluates boolean formulas without using eval() or new Function()
 * by parsing expressions into an Abstract Syntax Tree (AST) and evaluating it.
 * 
 * Supported operators:
 * - AND: AND, &amp;&amp;, *, &amp;
 * - OR: OR, ||, +, |
 * - XOR: XOR, ^, !=
 * - NOT: NOT, !
 * 
 * Supported values:
 * - Variables: A-J (case-insensitive)
 * - Literals: TRUE, FALSE, true, false, 1, 0
 * - Parentheses: ( )
 */
&nbsp;
class FormulaEvaluator {
  constructor() {
    this.tokens = [];
    this.position = 0;
  }
&nbsp;
  /**
   * Tokenize the expression into tokens
   * @param {string} expression - The formula expression to tokenize
   * @returns {Array} Array of tokens
   */
  tokenize(expression) {
    if (!expression || typeof expression !== 'string') {
      throw new Error('Expression must be a non-empty string');
    }
&nbsp;
    const tokens = [];
    const expr = expression.trim();
    let i = 0;
&nbsp;
    while (i &lt; expr.length) {
      // Skip whitespace
      if (/\s/.test(expr[i])) {
        i++;
        continue;
      }
&nbsp;
      // Parentheses
      if (expr[i] === '(') {
        tokens.push({ type: 'LPAREN', value: '(' });
        i++;
        continue;
      }
      if (expr[i] === ')') {
        tokens.push({ type: 'RPAREN', value: ')' });
        i++;
        continue;
      }
&nbsp;
      // Two-character operators
      if (i &lt; expr.length - 1) {
        const twoChar = expr.substring(i, i + 2);
        if (twoChar === '&amp;&amp;') {
          tokens.push({ type: 'AND', value: '&amp;&amp;' });
          i += 2;
          continue;
        }
        if (twoChar === '||') {
          tokens.push({ type: 'OR', value: '||' });
          i += 2;
          continue;
        }
        if (twoChar === '!=') {
          tokens.push({ type: 'XOR', value: '!=' });
          i += 2;
          continue;
        }
      }
&nbsp;
      // Single-character operators
      if (expr[i] === '&amp;') {
        tokens.push({ type: 'AND', value: '&amp;' });
        i++;
        continue;
      }
      if (expr[i] === '*') {
        tokens.push({ type: 'AND', value: '*' });
        i++;
        continue;
      }
      if (expr[i] === '|') {
        tokens.push({ type: 'OR', value: '|' });
        i++;
        continue;
      }
      if (expr[i] === '+') {
        tokens.push({ type: 'OR', value: '+' });
        i++;
        continue;
      }
      if (expr[i] === '^') {
        tokens.push({ type: 'XOR', value: '^' });
        i++;
        continue;
      }
      if (expr[i] === '!') {
        tokens.push({ type: 'NOT', value: '!' });
        i++;
        continue;
      }
&nbsp;
      // Keywords and variables
      if (/[a-zA-Z]/.test(expr[i])) {
        let word = '';
        while (i &lt; expr.length &amp;&amp; /[a-zA-Z0-9]/.test(expr[i])) {
          word += expr[i];
          i++;
        }
&nbsp;
        const upper = word.toUpperCase();
        
        // Keywords
        if (upper === 'AND') {
          tokens.push({ type: 'AND', value: 'AND' });
        } else if (upper === 'OR') {
          tokens.push({ type: 'OR', value: 'OR' });
        } else if (upper === 'XOR') {
          tokens.push({ type: 'XOR', value: 'XOR' });
        } else if (upper === 'NOT') {
          tokens.push({ type: 'NOT', value: 'NOT' });
        } else if (upper === 'TRUE') {
          tokens.push({ type: 'LITERAL', value: true });
        } else if (upper === 'FALSE') {
          tokens.push({ type: 'LITERAL', value: false });
        } else if (/^[A-J]$/.test(upper)) {
          // Variables A-J
          tokens.push({ type: 'VARIABLE', value: upper });
        } else {
          throw new Error(`Invalid identifier: ${word}`);
        }
        continue;
      }
&nbsp;
      // Numbers (0 or 1 as boolean literals)
      if (/[0-9]/.test(expr[i])) {
        const num = expr[i];
        if (num === '0') {
          tokens.push({ type: 'LITERAL', value: false });
        } else if (num === '1') {
          tokens.push({ type: 'LITERAL', value: true });
        } else {
          throw new Error(`Invalid number: ${num}. Only 0 and 1 are allowed.`);
        }
        i++;
        continue;
      }
&nbsp;
      // Unknown character
      throw new Error(`Unexpected character: ${expr[i]}`);
    }
&nbsp;
    return tokens;
  }
&nbsp;
  /**
   * Parse tokens into an Abstract Syntax Tree (AST)
   * @param {Array} tokens - Array of tokens from tokenize()
   * @returns {Object} AST root node
   */
  parse(tokens) {
    this.tokens = tokens;
    this.position = 0;
&nbsp;
    if (tokens.length === 0) {
      throw new Error('Empty expression');
    }
&nbsp;
    const ast = this.parseOr();
&nbsp;
    if (this.position &lt; this.tokens.length) {
      throw new Error(`Unexpected token: ${this.tokens[this.position].value}`);
    }
&nbsp;
    return ast;
  }
&nbsp;
  /**
   * Parse OR expressions (lowest precedence)
   */
  parseOr() {
    let left = this.parseXor();
&nbsp;
    while (this.position &lt; this.tokens.length &amp;&amp; this.tokens[this.position].type === 'OR') {
      this.position++;
      const right = this.parseXor();
      left = {
        type: 'BinaryOp',
        operator: 'OR',
        left: left,
        right: right
      };
    }
&nbsp;
    return left;
  }
&nbsp;
  /**
   * Parse XOR expressions
   */
  parseXor() {
    let left = this.parseAnd();
&nbsp;
    while (this.position &lt; this.tokens.length &amp;&amp; this.tokens[this.position].type === 'XOR') {
      this.position++;
      const right = this.parseAnd();
      left = {
        type: 'BinaryOp',
        operator: 'XOR',
        left: left,
        right: right
      };
    }
&nbsp;
    return left;
  }
&nbsp;
  /**
   * Parse AND expressions
   */
  parseAnd() {
    let left = this.parseUnary();
&nbsp;
    while (this.position &lt; this.tokens.length &amp;&amp; this.tokens[this.position].type === 'AND') {
      this.position++;
      const right = this.parseUnary();
      left = {
        type: 'BinaryOp',
        operator: 'AND',
        left: left,
        right: right
      };
    }
&nbsp;
    return left;
  }
&nbsp;
  /**
   * Parse unary expressions (NOT)
   */
  parseUnary() {
    if (this.position &lt; this.tokens.length &amp;&amp; this.tokens[this.position].type === 'NOT') {
      this.position++;
      const operand = this.parseUnary(); // Allow multiple NOTs
      return {
        type: 'UnaryOp',
        operator: 'NOT',
        operand: operand
      };
    }
&nbsp;
    return this.parsePrimary();
  }
&nbsp;
  /**
   * Parse primary expressions (literals, variables, parentheses)
   */
  parsePrimary() {
    if (this.position &gt;= this.tokens.length) {
      throw new Error('Unexpected end of expression');
    }
&nbsp;
    const token = this.tokens[this.position];
&nbsp;
    // Parentheses
    if (token.type === 'LPAREN') {
      this.position++;
      const expr = this.parseOr();
      if (this.position &gt;= this.tokens.length || this.tokens[this.position].type !== 'RPAREN') {
        throw new Error('Unbalanced parentheses');
      }
      this.position++;
      return expr;
    }
&nbsp;
    // Literals
    if (token.type === 'LITERAL') {
      this.position++;
      return {
        type: 'Literal',
        value: token.value
      };
    }
&nbsp;
    // Variables
    if (token.type === 'VARIABLE') {
      this.position++;
      return {
        type: 'Variable',
        name: token.value
      };
    }
&nbsp;
    throw new Error(`Unexpected token: ${token.value}`);
  }
&nbsp;
  /**
   * Evaluate an AST with given variable values
   * @param {Object} ast - The AST to evaluate
   * @param {Object} variables - Object mapping variable names to boolean values
   * @returns {boolean} The result of the evaluation
   */
  evaluateAST(ast, variables = {}) {
    <span class="missing-if-branch" title="if path not taken" >I</span>if (!ast) {
<span class="cstat-no" title="statement not covered" >      throw new Error('Invalid AST');</span>
    }
&nbsp;
    switch (ast.type) {
      case 'Literal':
        return !!ast.value;
&nbsp;
      case 'Variable':
        if (!(ast.name in variables)) {
          throw new Error(`Undefined variable: ${ast.name}`);
        }
        return !!variables[ast.name];
&nbsp;
      case 'UnaryOp':
        <span class="missing-if-branch" title="else path not taken" >E</span>if (ast.operator === 'NOT') {
          return !this.evaluateAST(ast.operand, variables);
        }
<span class="cstat-no" title="statement not covered" >        throw new Error(`Unknown unary operator: ${ast.operator}`);</span>
&nbsp;
      case 'BinaryOp':
        const left = this.evaluateAST(ast.left, variables);
        const right = this.evaluateAST(ast.right, variables);
&nbsp;
        switch (ast.operator) {
          case 'AND':
            return left &amp;&amp; right;
          case 'OR':
            return left || right;
          case 'XOR':
            return left !== right;
<span class="branch-3 cbranch-no" title="branch not covered" >          default:</span>
<span class="cstat-no" title="statement not covered" >            throw new Error(`Unknown binary operator: ${ast.operator}`);</span>
        }
&nbsp;
<span class="branch-4 cbranch-no" title="branch not covered" >      default:</span>
<span class="cstat-no" title="statement not covered" >        throw new Error(`Unknown AST node type: ${ast.type}`);</span>
    }
  }
&nbsp;
  /**
   * Validate and evaluate an expression
   * @param {string} expression - The formula expression
   * @param {Object} variables - Object mapping variable names to boolean values
   * @returns {boolean} The result of the evaluation
   */
  evaluate(expression, variables = {}) {
    const tokens = this.tokenize(expression);
    const ast = this.parse(tokens);
    return this.evaluateAST(ast, variables);
  }
}
&nbsp;
module.exports = FormulaEvaluator;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.263Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/FormulaEvaluator.js.html ---

--- START: coverage/index.html (sha256=7952bd6655aa2e5d5a6148051016a2441606eb320d49dd6480a07e45aa852587, bytes=7049) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for All files</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1>All files</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">16.79% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>156/929</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">16.75% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>97/579</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">8.06% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>10/124</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">17.25% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>156/904</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <div class="pad1">
<table class="coverage-summary">
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="BaseLogicDriver.js"><a href="BaseLogicDriver.js.html">BaseLogicDriver.js</a></td>
	<td data-value="0" class="pic low">
	<div class="chart"><div class="cover-fill" style="width: 0%"></div><div class="cover-empty" style="width: 100%"></div></div>
	</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="178" class="abs low">0/178</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="107" class="abs low">0/107</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="19" class="abs low">0/19</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="174" class="abs low">0/174</td>
	</tr>

<tr>
	<td class="file low" data-value="BaseLogicUnit.js"><a href="BaseLogicUnit.js.html">BaseLogicUnit.js</a></td>
	<td data-value="0" class="pic low">
	<div class="chart"><div class="cover-fill" style="width: 0%"></div><div class="cover-empty" style="width: 100%"></div></div>
	</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="459" class="abs low">0/459</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="283" class="abs low">0/283</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="67" class="abs low">0/67</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="438" class="abs low">0/438</td>
	</tr>

<tr>
	<td class="file high" data-value="FormulaEvaluator.js"><a href="FormulaEvaluator.js.html">FormulaEvaluator.js</a></td>
	<td data-value="97.5" class="pic high">
	<div class="chart"><div class="cover-fill" style="width: 97%"></div><div class="cover-empty" style="width: 3%"></div></div>
	</td>
	<td data-value="97.5" class="pct high">97.5%</td>
	<td data-value="160" class="abs high">156/160</td>
	<td data-value="96.03" class="pct high">96.03%</td>
	<td data-value="101" class="abs high">97/101</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="10" class="abs high">10/10</td>
	<td data-value="97.5" class="pct high">97.5%</td>
	<td data-value="160" class="abs high">156/160</td>
	</tr>

<tr>
	<td class="file low" data-value="Logger.js"><a href="Logger.js.html">Logger.js</a></td>
	<td data-value="0" class="pic low">
	<div class="chart"><div class="cover-fill" style="width: 0%"></div><div class="cover-empty" style="width: 100%"></div></div>
	</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="131" class="abs low">0/131</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="88" class="abs low">0/88</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="28" class="abs low">0/28</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="131" class="abs low">0/131</td>
	</tr>

<tr>
	<td class="file low" data-value="loggerConfig.js"><a href="loggerConfig.js.html">loggerConfig.js</a></td>
	<td data-value="0" class="pic low">
	<div class="chart"><div class="cover-fill" style="width: 0%"></div><div class="cover-empty" style="width: 100%"></div></div>
	</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="1" class="abs low">0/1</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">0/0</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">0/0</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="1" class="abs low">0/1</td>
	</tr>

</tbody>
</table>
</div>
                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.263Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/index.html ---

--- START: coverage/lcov-report/base.css (sha256=3f876e51f0a46864ffa7665b4b7a1f5fb5f6f37fb6a28f014e2b12d82962c852, bytes=5394) ---
body, html {
  margin:0; padding: 0;
  height: 100%;
}
body {
    font-family: Helvetica Neue, Helvetica, Arial;
    font-size: 14px;
    color:#333;
}
.small { font-size: 12px; }
*, *:after, *:before {
  -webkit-box-sizing:border-box;
     -moz-box-sizing:border-box;
          box-sizing:border-box;
  }
h1 { font-size: 20px; margin: 0;}
h2 { font-size: 14px; }
pre {
    font: 12px/1.4 Consolas, "Liberation Mono", Menlo, Courier, monospace;
    margin: 0;
    padding: 0;
    -moz-tab-size: 2;
    -o-tab-size:  2;
    tab-size: 2;
}
a { color:#0074D9; text-decoration:none; }
a:hover { text-decoration:underline; }
.strong { font-weight: bold; }
.space-top1 { padding: 10px 0 0 0; }
.pad2y { padding: 20px 0; }
.pad1y { padding: 10px 0; }
.pad2x { padding: 0 20px; }
.pad2 { padding: 20px; }
.pad1 { padding: 10px; }
.space-left2 { padding-left:55px; }
.space-right2 { padding-right:20px; }
.center { text-align:center; }
.clearfix { display:block; }
.clearfix:after {
  content:'';
  display:block;
  height:0;
  clear:both;
  visibility:hidden;
  }
.fl { float: left; }
@media only screen and (max-width:640px) {
  .col3 { width:100%; max-width:100%; }
  .hide-mobile { display:none!important; }
}

.quiet {
  color: #7f7f7f;
  color: rgba(0,0,0,0.5);
}
.quiet a { opacity: 0.7; }

.fraction {
  font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace;
  font-size: 10px;
  color: #555;
  background: #E8E8E8;
  padding: 4px 5px;
  border-radius: 3px;
  vertical-align: middle;
}

div.path a:link, div.path a:visited { color: #333; }
table.coverage {
  border-collapse: collapse;
  margin: 10px 0 0 0;
  padding: 0;
}

table.coverage td {
  margin: 0;
  padding: 0;
  vertical-align: top;
}
table.coverage td.line-count {
    text-align: right;
    padding: 0 5px 0 20px;
}
table.coverage td.line-coverage {
    text-align: right;
    padding-right: 10px;
    min-width:20px;
}

table.coverage td span.cline-any {
    display: inline-block;
    padding: 0 5px;
    width: 100%;
}
.missing-if-branch {
    display: inline-block;
    margin-right: 5px;
    border-radius: 3px;
    position: relative;
    padding: 0 4px;
    background: #333;
    color: yellow;
}

.skip-if-branch {
    display: none;
    margin-right: 10px;
    position: relative;
    padding: 0 4px;
    background: #ccc;
    color: white;
}
.missing-if-branch .typ, .skip-if-branch .typ {
    color: inherit !important;
}
.coverage-summary {
  border-collapse: collapse;
  width: 100%;
}
.coverage-summary tr { border-bottom: 1px solid #bbb; }
.keyline-all { border: 1px solid #ddd; }
.coverage-summary td, .coverage-summary th { padding: 10px; }
.coverage-summary tbody { border: 1px solid #bbb; }
.coverage-summary td { border-right: 1px solid #bbb; }
.coverage-summary td:last-child { border-right: none; }
.coverage-summary th {
  text-align: left;
  font-weight: normal;
  white-space: nowrap;
}
.coverage-summary th.file { border-right: none !important; }
.coverage-summary th.pct { }
.coverage-summary th.pic,
.coverage-summary th.abs,
.coverage-summary td.pct,
.coverage-summary td.abs { text-align: right; }
.coverage-summary td.file { white-space: nowrap;  }
.coverage-summary td.pic { min-width: 120px !important;  }
.coverage-summary tfoot td { }

.coverage-summary .sorter {
    height: 10px;
    width: 7px;
    display: inline-block;
    margin-left: 0.5em;
    background: url(sort-arrow-sprite.png) no-repeat scroll 0 0 transparent;
}
.coverage-summary .sorted .sorter {
    background-position: 0 -20px;
}
.coverage-summary .sorted-desc .sorter {
    background-position: 0 -10px;
}
.status-line {  height: 10px; }
/* yellow */
.cbranch-no { background: yellow !important; color: #111; }
/* dark red */
.red.solid, .status-line.low, .low .cover-fill { background:#C21F39 }
.low .chart { border:1px solid #C21F39 }
.highlighted,
.highlighted .cstat-no, .highlighted .fstat-no, .highlighted .cbranch-no{
  background: #C21F39 !important;
}
/* medium red */
.cstat-no, .fstat-no, .cbranch-no, .cbranch-no { background:#F6C6CE }
/* light red */
.low, .cline-no { background:#FCE1E5 }
/* light green */
.high, .cline-yes { background:rgb(230,245,208) }
/* medium green */
.cstat-yes { background:rgb(161,215,106) }
/* dark green */
.status-line.high, .high .cover-fill { background:rgb(77,146,33) }
.high .chart { border:1px solid rgb(77,146,33) }
/* dark yellow (gold) */
.status-line.medium, .medium .cover-fill { background: #f9cd0b; }
.medium .chart { border:1px solid #f9cd0b; }
/* light yellow */
.medium { background: #fff4c2; }

.cstat-skip { background: #ddd; color: #111; }
.fstat-skip { background: #ddd; color: #111 !important; }
.cbranch-skip { background: #ddd !important; color: #111; }

span.cline-neutral { background: #eaeaea; }

.coverage-summary td.empty {
    opacity: .5;
    padding-top: 4px;
    padding-bottom: 4px;
    line-height: 1;
    color: #888;
}

.cover-fill, .cover-empty {
  display:inline-block;
  height: 12px;
}
.chart {
  line-height: 0;
}
.cover-empty {
    background: white;
}
.cover-full {
    border-right: none !important;
}
pre.prettyprint {
    border: none !important;
    padding: 0 !important;
    margin: 0 !important;
}
.com { color: #999 !important; }
.ignore-none { color: #999; font-weight: normal; }

.wrapper {
  min-height: 100%;
  height: auto !important;
  height: 100%;
  margin: 0 auto -48px;
}
.footer, .push {
  height: 48px;
}
--- END: coverage/lcov-report/base.css ---

--- START: coverage/lcov-report/BaseLogicDriver.js.html (sha256=5ef1eb733c8816768533bdea21b3d86d5fd93f50f625e168eeec5ca6fb9396ea, bytes=76709) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for BaseLogicDriver.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> BaseLogicDriver.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/178</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/107</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/19</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/174</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a>
<a name='L253'></a><a href='#L253'>253</a>
<a name='L254'></a><a href='#L254'>254</a>
<a name='L255'></a><a href='#L255'>255</a>
<a name='L256'></a><a href='#L256'>256</a>
<a name='L257'></a><a href='#L257'>257</a>
<a name='L258'></a><a href='#L258'>258</a>
<a name='L259'></a><a href='#L259'>259</a>
<a name='L260'></a><a href='#L260'>260</a>
<a name='L261'></a><a href='#L261'>261</a>
<a name='L262'></a><a href='#L262'>262</a>
<a name='L263'></a><a href='#L263'>263</a>
<a name='L264'></a><a href='#L264'>264</a>
<a name='L265'></a><a href='#L265'>265</a>
<a name='L266'></a><a href='#L266'>266</a>
<a name='L267'></a><a href='#L267'>267</a>
<a name='L268'></a><a href='#L268'>268</a>
<a name='L269'></a><a href='#L269'>269</a>
<a name='L270'></a><a href='#L270'>270</a>
<a name='L271'></a><a href='#L271'>271</a>
<a name='L272'></a><a href='#L272'>272</a>
<a name='L273'></a><a href='#L273'>273</a>
<a name='L274'></a><a href='#L274'>274</a>
<a name='L275'></a><a href='#L275'>275</a>
<a name='L276'></a><a href='#L276'>276</a>
<a name='L277'></a><a href='#L277'>277</a>
<a name='L278'></a><a href='#L278'>278</a>
<a name='L279'></a><a href='#L279'>279</a>
<a name='L280'></a><a href='#L280'>280</a>
<a name='L281'></a><a href='#L281'>281</a>
<a name='L282'></a><a href='#L282'>282</a>
<a name='L283'></a><a href='#L283'>283</a>
<a name='L284'></a><a href='#L284'>284</a>
<a name='L285'></a><a href='#L285'>285</a>
<a name='L286'></a><a href='#L286'>286</a>
<a name='L287'></a><a href='#L287'>287</a>
<a name='L288'></a><a href='#L288'>288</a>
<a name='L289'></a><a href='#L289'>289</a>
<a name='L290'></a><a href='#L290'>290</a>
<a name='L291'></a><a href='#L291'>291</a>
<a name='L292'></a><a href='#L292'>292</a>
<a name='L293'></a><a href='#L293'>293</a>
<a name='L294'></a><a href='#L294'>294</a>
<a name='L295'></a><a href='#L295'>295</a>
<a name='L296'></a><a href='#L296'>296</a>
<a name='L297'></a><a href='#L297'>297</a>
<a name='L298'></a><a href='#L298'>298</a>
<a name='L299'></a><a href='#L299'>299</a>
<a name='L300'></a><a href='#L300'>300</a>
<a name='L301'></a><a href='#L301'>301</a>
<a name='L302'></a><a href='#L302'>302</a>
<a name='L303'></a><a href='#L303'>303</a>
<a name='L304'></a><a href='#L304'>304</a>
<a name='L305'></a><a href='#L305'>305</a>
<a name='L306'></a><a href='#L306'>306</a>
<a name='L307'></a><a href='#L307'>307</a>
<a name='L308'></a><a href='#L308'>308</a>
<a name='L309'></a><a href='#L309'>309</a>
<a name='L310'></a><a href='#L310'>310</a>
<a name='L311'></a><a href='#L311'>311</a>
<a name='L312'></a><a href='#L312'>312</a>
<a name='L313'></a><a href='#L313'>313</a>
<a name='L314'></a><a href='#L314'>314</a>
<a name='L315'></a><a href='#L315'>315</a>
<a name='L316'></a><a href='#L316'>316</a>
<a name='L317'></a><a href='#L317'>317</a>
<a name='L318'></a><a href='#L318'>318</a>
<a name='L319'></a><a href='#L319'>319</a>
<a name='L320'></a><a href='#L320'>320</a>
<a name='L321'></a><a href='#L321'>321</a>
<a name='L322'></a><a href='#L322'>322</a>
<a name='L323'></a><a href='#L323'>323</a>
<a name='L324'></a><a href='#L324'>324</a>
<a name='L325'></a><a href='#L325'>325</a>
<a name='L326'></a><a href='#L326'>326</a>
<a name='L327'></a><a href='#L327'>327</a>
<a name='L328'></a><a href='#L328'>328</a>
<a name='L329'></a><a href='#L329'>329</a>
<a name='L330'></a><a href='#L330'>330</a>
<a name='L331'></a><a href='#L331'>331</a>
<a name='L332'></a><a href='#L332'>332</a>
<a name='L333'></a><a href='#L333'>333</a>
<a name='L334'></a><a href='#L334'>334</a>
<a name='L335'></a><a href='#L335'>335</a>
<a name='L336'></a><a href='#L336'>336</a>
<a name='L337'></a><a href='#L337'>337</a>
<a name='L338'></a><a href='#L338'>338</a>
<a name='L339'></a><a href='#L339'>339</a>
<a name='L340'></a><a href='#L340'>340</a>
<a name='L341'></a><a href='#L341'>341</a>
<a name='L342'></a><a href='#L342'>342</a>
<a name='L343'></a><a href='#L343'>343</a>
<a name='L344'></a><a href='#L344'>344</a>
<a name='L345'></a><a href='#L345'>345</a>
<a name='L346'></a><a href='#L346'>346</a>
<a name='L347'></a><a href='#L347'>347</a>
<a name='L348'></a><a href='#L348'>348</a>
<a name='L349'></a><a href='#L349'>349</a>
<a name='L350'></a><a href='#L350'>350</a>
<a name='L351'></a><a href='#L351'>351</a>
<a name='L352'></a><a href='#L352'>352</a>
<a name='L353'></a><a href='#L353'>353</a>
<a name='L354'></a><a href='#L354'>354</a>
<a name='L355'></a><a href='#L355'>355</a>
<a name='L356'></a><a href='#L356'>356</a>
<a name='L357'></a><a href='#L357'>357</a>
<a name='L358'></a><a href='#L358'>358</a>
<a name='L359'></a><a href='#L359'>359</a>
<a name='L360'></a><a href='#L360'>360</a>
<a name='L361'></a><a href='#L361'>361</a>
<a name='L362'></a><a href='#L362'>362</a>
<a name='L363'></a><a href='#L363'>363</a>
<a name='L364'></a><a href='#L364'>364</a>
<a name='L365'></a><a href='#L365'>365</a>
<a name='L366'></a><a href='#L366'>366</a>
<a name='L367'></a><a href='#L367'>367</a>
<a name='L368'></a><a href='#L368'>368</a>
<a name='L369'></a><a href='#L369'>369</a>
<a name='L370'></a><a href='#L370'>370</a>
<a name='L371'></a><a href='#L371'>371</a>
<a name='L372'></a><a href='#L372'>372</a>
<a name='L373'></a><a href='#L373'>373</a>
<a name='L374'></a><a href='#L374'>374</a>
<a name='L375'></a><a href='#L375'>375</a>
<a name='L376'></a><a href='#L376'>376</a>
<a name='L377'></a><a href='#L377'>377</a>
<a name='L378'></a><a href='#L378'>378</a>
<a name='L379'></a><a href='#L379'>379</a>
<a name='L380'></a><a href='#L380'>380</a>
<a name='L381'></a><a href='#L381'>381</a>
<a name='L382'></a><a href='#L382'>382</a>
<a name='L383'></a><a href='#L383'>383</a>
<a name='L384'></a><a href='#L384'>384</a>
<a name='L385'></a><a href='#L385'>385</a>
<a name='L386'></a><a href='#L386'>386</a>
<a name='L387'></a><a href='#L387'>387</a>
<a name='L388'></a><a href='#L388'>388</a>
<a name='L389'></a><a href='#L389'>389</a>
<a name='L390'></a><a href='#L390'>390</a>
<a name='L391'></a><a href='#L391'>391</a>
<a name='L392'></a><a href='#L392'>392</a>
<a name='L393'></a><a href='#L393'>393</a>
<a name='L394'></a><a href='#L394'>394</a>
<a name='L395'></a><a href='#L395'>395</a>
<a name='L396'></a><a href='#L396'>396</a>
<a name='L397'></a><a href='#L397'>397</a>
<a name='L398'></a><a href='#L398'>398</a>
<a name='L399'></a><a href='#L399'>399</a>
<a name='L400'></a><a href='#L400'>400</a>
<a name='L401'></a><a href='#L401'>401</a>
<a name='L402'></a><a href='#L402'>402</a>
<a name='L403'></a><a href='#L403'>403</a>
<a name='L404'></a><a href='#L404'>404</a>
<a name='L405'></a><a href='#L405'>405</a>
<a name='L406'></a><a href='#L406'>406</a>
<a name='L407'></a><a href='#L407'>407</a>
<a name='L408'></a><a href='#L408'>408</a>
<a name='L409'></a><a href='#L409'>409</a>
<a name='L410'></a><a href='#L410'>410</a>
<a name='L411'></a><a href='#L411'>411</a>
<a name='L412'></a><a href='#L412'>412</a>
<a name='L413'></a><a href='#L413'>413</a>
<a name='L414'></a><a href='#L414'>414</a>
<a name='L415'></a><a href='#L415'>415</a>
<a name='L416'></a><a href='#L416'>416</a>
<a name='L417'></a><a href='#L417'>417</a>
<a name='L418'></a><a href='#L418'>418</a>
<a name='L419'></a><a href='#L419'>419</a>
<a name='L420'></a><a href='#L420'>420</a>
<a name='L421'></a><a href='#L421'>421</a>
<a name='L422'></a><a href='#L422'>422</a>
<a name='L423'></a><a href='#L423'>423</a>
<a name='L424'></a><a href='#L424'>424</a>
<a name='L425'></a><a href='#L425'>425</a>
<a name='L426'></a><a href='#L426'>426</a>
<a name='L427'></a><a href='#L427'>427</a>
<a name='L428'></a><a href='#L428'>428</a>
<a name='L429'></a><a href='#L429'>429</a>
<a name='L430'></a><a href='#L430'>430</a>
<a name='L431'></a><a href='#L431'>431</a>
<a name='L432'></a><a href='#L432'>432</a>
<a name='L433'></a><a href='#L433'>433</a>
<a name='L434'></a><a href='#L434'>434</a>
<a name='L435'></a><a href='#L435'>435</a>
<a name='L436'></a><a href='#L436'>436</a>
<a name='L437'></a><a href='#L437'>437</a>
<a name='L438'></a><a href='#L438'>438</a>
<a name='L439'></a><a href='#L439'>439</a>
<a name='L440'></a><a href='#L440'>440</a>
<a name='L441'></a><a href='#L441'>441</a>
<a name='L442'></a><a href='#L442'>442</a>
<a name='L443'></a><a href='#L443'>443</a>
<a name='L444'></a><a href='#L444'>444</a>
<a name='L445'></a><a href='#L445'>445</a>
<a name='L446'></a><a href='#L446'>446</a>
<a name='L447'></a><a href='#L447'>447</a>
<a name='L448'></a><a href='#L448'>448</a>
<a name='L449'></a><a href='#L449'>449</a>
<a name='L450'></a><a href='#L450'>450</a>
<a name='L451'></a><a href='#L451'>451</a>
<a name='L452'></a><a href='#L452'>452</a>
<a name='L453'></a><a href='#L453'>453</a>
<a name='L454'></a><a href='#L454'>454</a>
<a name='L455'></a><a href='#L455'>455</a>
<a name='L456'></a><a href='#L456'>456</a>
<a name='L457'></a><a href='#L457'>457</a>
<a name='L458'></a><a href='#L458'>458</a>
<a name='L459'></a><a href='#L459'>459</a>
<a name='L460'></a><a href='#L460'>460</a>
<a name='L461'></a><a href='#L461'>461</a>
<a name='L462'></a><a href='#L462'>462</a>
<a name='L463'></a><a href='#L463'>463</a>
<a name='L464'></a><a href='#L464'>464</a>
<a name='L465'></a><a href='#L465'>465</a>
<a name='L466'></a><a href='#L466'>466</a>
<a name='L467'></a><a href='#L467'>467</a>
<a name='L468'></a><a href='#L468'>468</a>
<a name='L469'></a><a href='#L469'>469</a>
<a name='L470'></a><a href='#L470'>470</a>
<a name='L471'></a><a href='#L471'>471</a>
<a name='L472'></a><a href='#L472'>472</a>
<a name='L473'></a><a href='#L473'>473</a>
<a name='L474'></a><a href='#L474'>474</a>
<a name='L475'></a><a href='#L475'>475</a>
<a name='L476'></a><a href='#L476'>476</a>
<a name='L477'></a><a href='#L477'>477</a>
<a name='L478'></a><a href='#L478'>478</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";
const Homey = <span class="cstat-no" title="statement not covered" >require("homey");</span>
const Logger = <span class="cstat-no" title="statement not covered" >require("./Logger");</span>
&nbsp;
async function <span class="fstat-no" title="function not covered" >formulaAutocompleteHelper(</span>query, args) {
    const device = <span class="cstat-no" title="statement not covered" >args.device;</span>
<span class="cstat-no" title="statement not covered" >    if (!device || typeof device.getFormulas !== "function") {</span>
<span class="cstat-no" title="statement not covered" >        console.warn(</span>
            `formulaAutocompleteHelper: Invalid device or missing getFormulas in args for autocomplete.`,
        );
<span class="cstat-no" title="statement not covered" >        return [];</span>
    }
<span class="cstat-no" title="statement not covered" >    try {</span>
        const formulas = <span class="cstat-no" title="statement not covered" >device.getFormulas();</span>
<span class="cstat-no" title="statement not covered" >        if (!Array.isArray(formulas)) {</span>
<span class="cstat-no" title="statement not covered" >            console.warn(</span>
                `getFormulas didn't return array for ${device.getName()}.`,
            );
<span class="cstat-no" title="statement not covered" >            return [];</span>
        }
        const lowerQuery = <span class="cstat-no" title="statement not covered" >query ? query.toLowerCase() : "";</span>
<span class="cstat-no" title="statement not covered" >        return formulas.filter(</span>
<span class="fstat-no" title="function not covered" >            (f</span>) =&gt;
<span class="cstat-no" title="statement not covered" >                f &amp;&amp;</span>
                f.name &amp;&amp;
                (!query || f.name.toLowerCase().includes(lowerQuery)),
        );
    } catch (e) {
<span class="cstat-no" title="statement not covered" >        console.error(</span>
            `Error in formulaAutocompleteHelper for ${device.getName()}`,
            e,
        );
<span class="cstat-no" title="statement not covered" >        return [];</span>
    }
}
&nbsp;
async function <span class="fstat-no" title="function not covered" >inputAutocompleteHelper(</span>query, args) {
    const device = <span class="cstat-no" title="statement not covered" >args.device;</span>
<span class="cstat-no" title="statement not covered" >    if (!device || typeof device.getInputOptions !== "function") {</span>
<span class="cstat-no" title="statement not covered" >        console.warn(</span>
            `inputAutocompleteHelper: Invalid device or missing getInputOptions in args for autocomplete.`,
        );
<span class="cstat-no" title="statement not covered" >        return [];</span>
    }
<span class="cstat-no" title="statement not covered" >    try {</span>
        const inputs = <span class="cstat-no" title="statement not covered" >device.getInputOptions(args);</span>
<span class="cstat-no" title="statement not covered" >        if (!Array.isArray(inputs)) {</span>
<span class="cstat-no" title="statement not covered" >            console.warn(</span>
                `getInputOptions didn't return array for ${device.getName()}.`,
            );
<span class="cstat-no" title="statement not covered" >            return [];</span>
        }
        const lowerQuery = <span class="cstat-no" title="statement not covered" >query ? query.toLowerCase() : "";</span>
<span class="cstat-no" title="statement not covered" >        return inputs.filter(</span>
<span class="fstat-no" title="function not covered" >            (i</span>) =&gt;
<span class="cstat-no" title="statement not covered" >                i &amp;&amp;</span>
                i.name &amp;&amp;
                (!query || i.name.toLowerCase().includes(lowerQuery)),
        );
    } catch (e) {
<span class="cstat-no" title="statement not covered" >        console.error(</span>
            `Error in inputAutocompleteHelper for ${device.getName()}`,
            e,
        );
<span class="cstat-no" title="statement not covered" >        return [];</span>
    }
}
// --- End Autocomplete Helper Functions ---
&nbsp;
class BaseLogicDriver extends Homey.Driver {
    static logicUnitCardsRegistered = <span class="cstat-no" title="statement not covered" >false;</span>
&nbsp;
<span class="fstat-no" title="function not covered" >    as</span>ync onInit() {
        const driverName = <span class="cstat-no" title="statement not covered" >`Driver: ${this.id}`;</span>
<span class="cstat-no" title="statement not covered" >        this.logger = new Logger(this, driverName);</span>
&nbsp;
        // Set numInputs based on driver ID
        const driverId = <span class="cstat-no" title="statement not covered" >this.id;</span>
        let numInputsParsed = <span class="cstat-no" title="statement not covered" >2;</span>
<span class="cstat-no" title="statement not covered" >        try {</span>
            const parts = <span class="cstat-no" title="statement not covered" >driverId.split("-");</span>
            const numStr = <span class="cstat-no" title="statement not covered" >parts[parts.length - 1];</span>
            const num = <span class="cstat-no" title="statement not covered" >parseInt(numStr);</span>
<span class="cstat-no" title="statement not covered" >            if (!isNaN(num) &amp;&amp; num &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                numInputsParsed = num;</span>
            } else <span class="cstat-no" title="statement not covered" >if (driverId !== "logic-device") {</span>
<span class="cstat-no" title="statement not covered" >                this.logger.warn(</span>
                    `Could not parse number of inputs from driver ID '${driverId}'. Using default: ${numInputsParsed}.`,
                    {},
                );
            }
        } catch (e) {
<span class="cstat-no" title="statement not covered" >            this.logger.error(</span>
                `Error parsing numInputs from driver ID '${driverId}'. Using default: ${numInputsParsed}.`,
                e,
            );
        }
<span class="cstat-no" title="statement not covered" >        this.numInputs = numInputsParsed;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        this.logger.info("driver.ready", {</span>
            driverId: this.id,
            numInputs: this.numInputs,
        });
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (!BaseLogicDriver.logicUnitCardsRegistered) {</span>
<span class="cstat-no" title="statement not covered" >            this.logger.info(</span>
                "First Logic Unit driver initializing. Registering shared flow cards...",
            );
<span class="cstat-no" title="statement not covered" >            await this.registerFlowCards();</span>
<span class="cstat-no" title="statement not covered" >            BaseLogicDriver.logicUnitCardsRegistered = true;</span>
        } else {
<span class="cstat-no" title="statement not covered" >            this.logger.debug(</span>
                "Shared flow cards already registered by another Logic Unit driver.",
            );
        }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    as</span>ync registerFlowCards() {
<span class="cstat-no" title="statement not covered" >        this.logger.debug("driver.registering_flow_cards");</span>
&nbsp;
        // --- Triggers ---
        const triggerCards = <span class="cstat-no" title="statement not covered" >[</span>
            {
                id: "formula_changed_to_false_lu",
            },
            {
                id: "formula_changed_to_true_lu",
            },
            {
                id: "formula_timeout_lu",
            },
        ];
<span class="cstat-no" title="statement not covered" >        triggerCards.forEach(<span class="fstat-no" title="function not covered" >(c</span>ardInfo) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            try {</span>
                const card = <span class="cstat-no" title="statement not covered" >this.homey.flow.getTriggerCard(cardInfo.id);</span>
<span class="cstat-no" title="statement not covered" >                card.registerRunListener(<span class="fstat-no" title="function not covered" >as</span>ync (args, state) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >                    return (</span>
                        args &amp;&amp;
                        args.device &amp;&amp;
                        args.device.driver &amp;&amp;
                        args.device.driver.id &amp;&amp;
                        args.device.driver.id.startsWith("logic-unit-")
                    );
                });
<span class="cstat-no" title="statement not covered" >                this.registerAutocomplete(</span>
                    card,
                    "formula",
                    formulaAutocompleteHelper,
                );
<span class="cstat-no" title="statement not covered" >                this.logger.debug(</span>
                    ` -&gt; OK: TRIGGER card registered: '${cardInfo.id}'`,
                );
            } catch (e) {
<span class="cstat-no" title="statement not covered" >                this.logger.error(</span>
                    ` -&gt; FAILED: Registering TRIGGER card '${cardInfo.id}'`,
                    e,
                );
            }
        });
&nbsp;
        // --- Actions ---
        const actionCards = <span class="cstat-no" title="statement not covered" >[</span>
            {
                id: "set_input_value_lu",
                handler: "onFlowActionSetInput",
            },
            {
                id: "evaluate_formula_lu",
                handler: "onFlowActionEvaluateFormula",
            },
            {
                id: "evaluate_all_formulas_lu",
                handler: "onFlowActionReEvaluateAll",
            },
            {
                id: "clear_error_state_lu",
                handler: "onFlowActionClearError",
            },
            {
                id: "set_all_inputs_lu",
                handler: "setAllInputsFromFlow",
            },
            {
                id: "set_input_lu",
                handler: "setInputForAllFormulasFromFlow",
            },
        ];
<span class="cstat-no" title="statement not covered" >        actionCards.forEach(<span class="fstat-no" title="function not covered" >(c</span>ardInfo) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            try {</span>
                const card = <span class="cstat-no" title="statement not covered" >this.homey.flow.getActionCard(cardInfo.id);</span>
<span class="cstat-no" title="statement not covered" >                card.registerRunListener(<span class="fstat-no" title="function not covered" >as</span>ync (args, state) =&gt; {</span>
                    const device = <span class="cstat-no" title="statement not covered" >args.device;</span>
<span class="cstat-no" title="statement not covered" >                    if (!device)</span>
<span class="cstat-no" title="statement not covered" >                        throw new Error(</span>
                            this.homey.__("errors.invalid_device_instance"),
                        );
                    const methodName = <span class="cstat-no" title="statement not covered" >cardInfo.handler;</span>
<span class="cstat-no" title="statement not covered" >                    if (typeof device[methodName] !== "function")</span>
<span class="cstat-no" title="statement not covered" >                        throw new Error(</span>
                            this.homey.__("errors.method_missing_on_device", {
                                methodName,
                            }),
                        );
<span class="cstat-no" title="statement not covered" >                    this.logger.flow(</span>
                        `Executing ACTION '${cardInfo.id}' on device ${device.getName()}`,
                    );
<span class="cstat-no" title="statement not covered" >                    return await device[methodName](args, state);</span>
                });
&nbsp;
                // --- Autocomplete ---
<span class="cstat-no" title="statement not covered" >                if (</span>
                    [
                        "set_input_value_lu",
                        "evaluate_formula_lu",
                        "clear_error_state_lu",
                    ].includes(cardInfo.id)
                ) {
<span class="cstat-no" title="statement not covered" >                    this.registerAutocomplete(</span>
                        card,
                        "formula",
                        formulaAutocompleteHelper,
                    );
                }
<span class="cstat-no" title="statement not covered" >                if (</span>
                    ["set_input_value_lu", "set_input_lu"].includes(cardInfo.id)
                ) {
<span class="cstat-no" title="statement not covered" >                    this.registerAutocomplete(</span>
                        card,
                        "input",
                        inputAutocompleteHelper,
                    );
                }
<span class="cstat-no" title="statement not covered" >                this.logger.debug(</span>
                    ` -&gt; OK: ACTION card registered: '${cardInfo.id}'`,
                );
            } catch (e) {
<span class="cstat-no" title="statement not covered" >                this.logger.error(</span>
                    ` -&gt; FAILED: Registering ACTION card '${cardInfo.id}'`,
                    e,
                );
            }
        });
&nbsp;
        // --- Conditions ---
        const conditionCards = <span class="cstat-no" title="statement not covered" >[</span>
            {
                id: "formula_has_timed_out_lu",
                checkType: "timeout",
            },
            {
                id: "formula_result_is_lu",
                checkTypeFromArg: "what_is",
            },
            {
                id: "has_any_error_lu",
                checkType: "has_error",
            },
        ];
<span class="cstat-no" title="statement not covered" >        conditionCards.forEach(<span class="fstat-no" title="function not covered" >(c</span>ardInfo) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            try {</span>
                const card = <span class="cstat-no" title="statement not covered" >this.homey.flow.getConditionCard(cardInfo.id);</span>
<span class="cstat-no" title="statement not covered" >                card.registerRunListener(<span class="fstat-no" title="function not covered" >as</span>ync (args, state) =&gt; {</span>
                    const device = <span class="cstat-no" title="statement not covered" >args.device;</span>
<span class="cstat-no" title="statement not covered" >                    if (!device) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >                    if (typeof device.onFlowCondition !== "function")</span>
<span class="cstat-no" title="statement not covered" >                        return false;</span>
&nbsp;
                    let checkType;
<span class="cstat-no" title="statement not covered" >                    if (cardInfo.checkType) {</span>
<span class="cstat-no" title="statement not covered" >                        checkType = cardInfo.checkType;</span>
                    } else <span class="cstat-no" title="statement not covered" >if (cardInfo.checkTypeFromArg) {</span>
<span class="cstat-no" title="statement not covered" >                        checkType = args[cardInfo.checkTypeFromArg] === "true";</span>
                    }
&nbsp;
<span class="cstat-no" title="statement not covered" >                    this.logger.flow(</span>
                        `Executing CONDITION '${cardInfo.id}' on device ${device.getName()}`,
                    );
<span class="cstat-no" title="statement not covered" >                    return await device.onFlowCondition(args, state, checkType);</span>
                });
&nbsp;
<span class="cstat-no" title="statement not covered" >                if (</span>
                    [
                        "formula_has_timed_out_lu",
                        "formula_result_is_lu",
                    ].includes(cardInfo.id)
                ) {
<span class="cstat-no" title="statement not covered" >                    this.registerAutocomplete(</span>
                        card,
                        "formula",
                        formulaAutocompleteHelper,
                    );
                }
<span class="cstat-no" title="statement not covered" >                this.logger.debug(</span>
                    ` -&gt; OK: CONDITION card registered: '${cardInfo.id}'`,
                );
            } catch (e) {
<span class="cstat-no" title="statement not covered" >                this.logger.error(</span>
                    ` -&gt; FAILED: Registering CONDITION card '${cardInfo.id}'`,
                    e,
                );
            }
        });
    }
&nbsp;
    // --- Helper for Autocomplete Registration ---
<span class="fstat-no" title="function not covered" >    re</span>gisterAutocomplete(card, argName, helperFn) {
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            if (typeof helperFn !== "function") {</span>
<span class="cstat-no" title="statement not covered" >                throw new Error(</span>
                    this.homey.__("errors.helper_not_function", { argName }),
                );
            }
<span class="cstat-no" title="statement not covered" >            card.registerArgumentAutocompleteListener(</span>
                argName,
<span class="fstat-no" title="function not covered" >                as</span>ync (query, args) =&gt; {
                    const device = <span class="cstat-no" title="statement not covered" >args?.device;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                    if (argName === "formula" || argName === "input") {</span>
<span class="cstat-no" title="statement not covered" >                        if (!device) {</span>
<span class="cstat-no" title="statement not covered" >                            this.logger.warn(</span>
                                `Autocomplete for device arg '${argName}' on card '${card.id}' called without device context.`,
                            );
<span class="cstat-no" title="statement not covered" >                            return [];</span>
                        }
&nbsp;
                        let requiredMethod = <span class="cstat-no" title="statement not covered" >"";</span>
<span class="cstat-no" title="statement not covered" >                        if (argName === "formula")</span>
<span class="cstat-no" title="statement not covered" >                            requiredMethod = "getFormulas";</span>
<span class="cstat-no" title="statement not covered" >                        if (argName === "input")</span>
<span class="cstat-no" title="statement not covered" >                            requiredMethod = "getInputOptions";</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                        if (typeof device[requiredMethod] !== "function") {</span>
<span class="cstat-no" title="statement not covered" >                            this.logger.warn(</span>
                                `Autocomplete for device arg '${argName}' on card '${card.id}': Device ${device.getName()} missing method ${requiredMethod}.`,
                            );
<span class="cstat-no" title="statement not covered" >                            return [];</span>
                        }
                    }
&nbsp;
<span class="cstat-no" title="statement not covered" >                    try {</span>
<span class="cstat-no" title="statement not covered" >                        return await helperFn(query, args);</span>
                    } catch (autocompleteError) {
<span class="cstat-no" title="statement not covered" >                        this.logger.error(</span>
                            `Error during autocomplete for ${argName} on card '${card.id}'`,
                            autocompleteError,
                        );
<span class="cstat-no" title="statement not covered" >                        return [];</span>
                    }
                },
            );
<span class="cstat-no" title="statement not covered" >            this.logger.debug(</span>
                `Registered ${argName.toUpperCase()} autocomplete for card '${card.id}'`,
            );
        } catch (e) {
<span class="cstat-no" title="statement not covered" >            this.logger.error(</span>
                ` -&gt; FAILED to register autocomplete for '${argName}' on card '${card.id}'`,
                e,
            );
        }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    as</span>ync ensureUniqueDeviceName(name) {
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            if (</span>
                !this.homey.app ||
                !this.homey.app.api ||
                !this.homey.app.api.devices ||
                typeof this.homey.app.api.devices.getDevices !== "function"
            ) {
<span class="cstat-no" title="statement not covered" >                this.logger.warn(</span>
                    "ensureUniqueDeviceName: Homey API not ready, returning original name.",
                    {},
                );
<span class="cstat-no" title="statement not covered" >                return String(name || "");</span>
            }
            const all = <span class="cstat-no" title="statement not covered" >await this.homey.app.api.devices.getDevices();</span>
<span class="cstat-no" title="statement not covered" >            if (!all || typeof all !== "object") {</span>
<span class="cstat-no" title="statement not covered" >                this.logger.error(</span>
                    "ensureUniqueDeviceName: Unexpected response from getDevices:",
                    all,
                );
<span class="cstat-no" title="statement not covered" >                return String(name || "");</span>
            }
            const existing = <span class="cstat-no" title="statement not covered" >new Set(</span>
                Object.values(all)
                    .map(<span class="fstat-no" title="function not covered" >(d</span>) =&gt;
<span class="cstat-no" title="statement not covered" >                        d &amp;&amp; typeof d === "object"</span>
                            ? String(d.name || "").trim()
                            : "",
                    )
                    .filter(Boolean),
            );
            const nameStr = <span class="cstat-no" title="statement not covered" >String(name || "");</span>
<span class="cstat-no" title="statement not covered" >            if (!existing.has(nameStr)) <span class="cstat-no" title="statement not covered" >return nameStr;</span></span>
            const base = <span class="cstat-no" title="statement not covered" >nameStr.replace(/\s+\d+$/, "").trim();</span>
            const m = <span class="cstat-no" title="statement not covered" >nameStr.match(/\s+(\d+)$/);</span>
            let n = <span class="cstat-no" title="statement not covered" >m ? parseInt(m[1], 10) + 1 : 2;</span>
<span class="cstat-no" title="statement not covered" >            if (isNaN(n)) <span class="cstat-no" title="statement not covered" >n = 2;</span></span>
            let candidate = <span class="cstat-no" title="statement not covered" >`${base} ${n}`;</span>
            let safetyCounter = <span class="cstat-no" title="statement not covered" >0;</span>
<span class="cstat-no" title="statement not covered" >            while (existing.has(candidate) &amp;&amp; safetyCounter &lt; 100) {</span>
<span class="cstat-no" title="statement not covered" >                n++;</span>
<span class="cstat-no" title="statement not covered" >                candidate = `${base} ${n}`;</span>
<span class="cstat-no" title="statement not covered" >                safetyCounter++;</span>
            }
<span class="cstat-no" title="statement not covered" >            if (safetyCounter &gt;= 100) {</span>
<span class="cstat-no" title="statement not covered" >                this.logger.error(</span>
                    "ensureUniqueDeviceName: Could not find unique name after 100 attempts, returning original + timestamp.",
                    {},
                );
<span class="cstat-no" title="statement not covered" >                return `${nameStr}-${Date.now()}`;</span>
            }
<span class="cstat-no" title="statement not covered" >            return candidate;</span>
        } catch (e) {
<span class="cstat-no" title="statement not covered" >            this.logger.error("driver.ensure_unique_failed", e);</span>
<span class="cstat-no" title="statement not covered" >            return String(name || "");</span>
        }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    as</span>ync onPair(session) {
<span class="cstat-no" title="statement not covered" >        this.logger.info("pair.session_started", {});</span>
<span class="cstat-no" title="statement not covered" >        session.setHandler("list_devices", <span class="fstat-no" title="function not covered" >as</span>ync () =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            try {</span>
<span class="cstat-no" title="statement not covered" >                this.logger.debug("Pair handler: list_devices called", {});</span>
                let localeString;
<span class="cstat-no" title="statement not covered" >                try {</span>
<span class="cstat-no" title="statement not covered" >                    localeString = this.homey.__("device.logic_unit_name");</span>
                } catch (e) {
<span class="cstat-no" title="statement not covered" >                    this.logger.error(</span>
                        "Error getting localization for 'device.logic_unit_name'",
                        e,
                    );
<span class="cstat-no" title="statement not covered" >                    localeString = this.homey.__(</span>
                        "device.logic_unit_name_fallback",
                    );
                }
                const baseName = <span class="cstat-no" title="statement not covered" >String(localeString || "").replace(</span>
                    "{count}",
                    this.numInputs,
                );
                const name = <span class="cstat-no" title="statement not covered" >await this.ensureUniqueDeviceName(baseName);</span>
                const defaultFormulaName = <span class="cstat-no" title="statement not covered" >this.homey.__(</span>
                    "pair.default_formula_name",
                );
                const deviceData = <span class="cstat-no" title="statement not covered" >{</span>
                    name: name,
                    data: {
                        id: `${this.id}-${Math.random().toString(16).slice(2)}`,
                        numInputs: this.numInputs,
                    },
                    settings: {
                        formulas: `[{"id":"f1","name":"${defaultFormulaName}","expression":"${this.getDefaultExpression()}","enabled":true,"timeout":0,"firstImpression":false}]`,
                    },
                };
<span class="cstat-no" title="statement not covered" >                this.logger.debug(</span>
                    "Pair handler: list_devices returning:",
                    deviceData,
                );
<span class="cstat-no" title="statement not covered" >                return [deviceData];</span>
            } catch (e) {
<span class="cstat-no" title="statement not covered" >                this.logger.error("Error in list_devices pair handler", e);</span>
<span class="cstat-no" title="statement not covered" >                throw e;</span>
            }
        });
<span class="cstat-no" title="statement not covered" >        this.logger.debug("Pair handler: list_devices registered", {});</span>
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    ge</span>tDefaultExpression() {
        const letters = <span class="cstat-no" title="statement not covered" >["A", "B", "C", "D", "E", "F", "G", "H", "I", "J"];</span>
        const inputsToUse = <span class="cstat-no" title="statement not covered" >Math.min(this.numInputs, letters.length);</span>
<span class="cstat-no" title="statement not covered" >        if (inputsToUse &lt;= 0) <span class="cstat-no" title="statement not covered" >return "true";</span></span>
<span class="cstat-no" title="statement not covered" >        return letters.slice(0, inputsToUse).join(" AND ");</span>
    }
}
&nbsp;
<span class="cstat-no" title="statement not covered" >module.exports = BaseLogicDriver;</span>
<span class="cstat-no" title="statement not covered" >module.exports.formulaAutocompleteHelper = formulaAutocompleteHelper;</span>
<span class="cstat-no" title="statement not covered" >module.exports.inputAutocompleteHelper = inputAutocompleteHelper;</span></pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.381Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/lcov-report/BaseLogicDriver.js.html ---

--- START: coverage/lcov-report/BaseLogicUnit.js.html (sha256=c5a22e224100fe7f71edf810fbe405b470cf399de422b4c8b3a00290af18ca95, bytes=164167) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for BaseLogicUnit.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> BaseLogicUnit.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/459</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/283</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/67</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/438</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a>
<a name='L253'></a><a href='#L253'>253</a>
<a name='L254'></a><a href='#L254'>254</a>
<a name='L255'></a><a href='#L255'>255</a>
<a name='L256'></a><a href='#L256'>256</a>
<a name='L257'></a><a href='#L257'>257</a>
<a name='L258'></a><a href='#L258'>258</a>
<a name='L259'></a><a href='#L259'>259</a>
<a name='L260'></a><a href='#L260'>260</a>
<a name='L261'></a><a href='#L261'>261</a>
<a name='L262'></a><a href='#L262'>262</a>
<a name='L263'></a><a href='#L263'>263</a>
<a name='L264'></a><a href='#L264'>264</a>
<a name='L265'></a><a href='#L265'>265</a>
<a name='L266'></a><a href='#L266'>266</a>
<a name='L267'></a><a href='#L267'>267</a>
<a name='L268'></a><a href='#L268'>268</a>
<a name='L269'></a><a href='#L269'>269</a>
<a name='L270'></a><a href='#L270'>270</a>
<a name='L271'></a><a href='#L271'>271</a>
<a name='L272'></a><a href='#L272'>272</a>
<a name='L273'></a><a href='#L273'>273</a>
<a name='L274'></a><a href='#L274'>274</a>
<a name='L275'></a><a href='#L275'>275</a>
<a name='L276'></a><a href='#L276'>276</a>
<a name='L277'></a><a href='#L277'>277</a>
<a name='L278'></a><a href='#L278'>278</a>
<a name='L279'></a><a href='#L279'>279</a>
<a name='L280'></a><a href='#L280'>280</a>
<a name='L281'></a><a href='#L281'>281</a>
<a name='L282'></a><a href='#L282'>282</a>
<a name='L283'></a><a href='#L283'>283</a>
<a name='L284'></a><a href='#L284'>284</a>
<a name='L285'></a><a href='#L285'>285</a>
<a name='L286'></a><a href='#L286'>286</a>
<a name='L287'></a><a href='#L287'>287</a>
<a name='L288'></a><a href='#L288'>288</a>
<a name='L289'></a><a href='#L289'>289</a>
<a name='L290'></a><a href='#L290'>290</a>
<a name='L291'></a><a href='#L291'>291</a>
<a name='L292'></a><a href='#L292'>292</a>
<a name='L293'></a><a href='#L293'>293</a>
<a name='L294'></a><a href='#L294'>294</a>
<a name='L295'></a><a href='#L295'>295</a>
<a name='L296'></a><a href='#L296'>296</a>
<a name='L297'></a><a href='#L297'>297</a>
<a name='L298'></a><a href='#L298'>298</a>
<a name='L299'></a><a href='#L299'>299</a>
<a name='L300'></a><a href='#L300'>300</a>
<a name='L301'></a><a href='#L301'>301</a>
<a name='L302'></a><a href='#L302'>302</a>
<a name='L303'></a><a href='#L303'>303</a>
<a name='L304'></a><a href='#L304'>304</a>
<a name='L305'></a><a href='#L305'>305</a>
<a name='L306'></a><a href='#L306'>306</a>
<a name='L307'></a><a href='#L307'>307</a>
<a name='L308'></a><a href='#L308'>308</a>
<a name='L309'></a><a href='#L309'>309</a>
<a name='L310'></a><a href='#L310'>310</a>
<a name='L311'></a><a href='#L311'>311</a>
<a name='L312'></a><a href='#L312'>312</a>
<a name='L313'></a><a href='#L313'>313</a>
<a name='L314'></a><a href='#L314'>314</a>
<a name='L315'></a><a href='#L315'>315</a>
<a name='L316'></a><a href='#L316'>316</a>
<a name='L317'></a><a href='#L317'>317</a>
<a name='L318'></a><a href='#L318'>318</a>
<a name='L319'></a><a href='#L319'>319</a>
<a name='L320'></a><a href='#L320'>320</a>
<a name='L321'></a><a href='#L321'>321</a>
<a name='L322'></a><a href='#L322'>322</a>
<a name='L323'></a><a href='#L323'>323</a>
<a name='L324'></a><a href='#L324'>324</a>
<a name='L325'></a><a href='#L325'>325</a>
<a name='L326'></a><a href='#L326'>326</a>
<a name='L327'></a><a href='#L327'>327</a>
<a name='L328'></a><a href='#L328'>328</a>
<a name='L329'></a><a href='#L329'>329</a>
<a name='L330'></a><a href='#L330'>330</a>
<a name='L331'></a><a href='#L331'>331</a>
<a name='L332'></a><a href='#L332'>332</a>
<a name='L333'></a><a href='#L333'>333</a>
<a name='L334'></a><a href='#L334'>334</a>
<a name='L335'></a><a href='#L335'>335</a>
<a name='L336'></a><a href='#L336'>336</a>
<a name='L337'></a><a href='#L337'>337</a>
<a name='L338'></a><a href='#L338'>338</a>
<a name='L339'></a><a href='#L339'>339</a>
<a name='L340'></a><a href='#L340'>340</a>
<a name='L341'></a><a href='#L341'>341</a>
<a name='L342'></a><a href='#L342'>342</a>
<a name='L343'></a><a href='#L343'>343</a>
<a name='L344'></a><a href='#L344'>344</a>
<a name='L345'></a><a href='#L345'>345</a>
<a name='L346'></a><a href='#L346'>346</a>
<a name='L347'></a><a href='#L347'>347</a>
<a name='L348'></a><a href='#L348'>348</a>
<a name='L349'></a><a href='#L349'>349</a>
<a name='L350'></a><a href='#L350'>350</a>
<a name='L351'></a><a href='#L351'>351</a>
<a name='L352'></a><a href='#L352'>352</a>
<a name='L353'></a><a href='#L353'>353</a>
<a name='L354'></a><a href='#L354'>354</a>
<a name='L355'></a><a href='#L355'>355</a>
<a name='L356'></a><a href='#L356'>356</a>
<a name='L357'></a><a href='#L357'>357</a>
<a name='L358'></a><a href='#L358'>358</a>
<a name='L359'></a><a href='#L359'>359</a>
<a name='L360'></a><a href='#L360'>360</a>
<a name='L361'></a><a href='#L361'>361</a>
<a name='L362'></a><a href='#L362'>362</a>
<a name='L363'></a><a href='#L363'>363</a>
<a name='L364'></a><a href='#L364'>364</a>
<a name='L365'></a><a href='#L365'>365</a>
<a name='L366'></a><a href='#L366'>366</a>
<a name='L367'></a><a href='#L367'>367</a>
<a name='L368'></a><a href='#L368'>368</a>
<a name='L369'></a><a href='#L369'>369</a>
<a name='L370'></a><a href='#L370'>370</a>
<a name='L371'></a><a href='#L371'>371</a>
<a name='L372'></a><a href='#L372'>372</a>
<a name='L373'></a><a href='#L373'>373</a>
<a name='L374'></a><a href='#L374'>374</a>
<a name='L375'></a><a href='#L375'>375</a>
<a name='L376'></a><a href='#L376'>376</a>
<a name='L377'></a><a href='#L377'>377</a>
<a name='L378'></a><a href='#L378'>378</a>
<a name='L379'></a><a href='#L379'>379</a>
<a name='L380'></a><a href='#L380'>380</a>
<a name='L381'></a><a href='#L381'>381</a>
<a name='L382'></a><a href='#L382'>382</a>
<a name='L383'></a><a href='#L383'>383</a>
<a name='L384'></a><a href='#L384'>384</a>
<a name='L385'></a><a href='#L385'>385</a>
<a name='L386'></a><a href='#L386'>386</a>
<a name='L387'></a><a href='#L387'>387</a>
<a name='L388'></a><a href='#L388'>388</a>
<a name='L389'></a><a href='#L389'>389</a>
<a name='L390'></a><a href='#L390'>390</a>
<a name='L391'></a><a href='#L391'>391</a>
<a name='L392'></a><a href='#L392'>392</a>
<a name='L393'></a><a href='#L393'>393</a>
<a name='L394'></a><a href='#L394'>394</a>
<a name='L395'></a><a href='#L395'>395</a>
<a name='L396'></a><a href='#L396'>396</a>
<a name='L397'></a><a href='#L397'>397</a>
<a name='L398'></a><a href='#L398'>398</a>
<a name='L399'></a><a href='#L399'>399</a>
<a name='L400'></a><a href='#L400'>400</a>
<a name='L401'></a><a href='#L401'>401</a>
<a name='L402'></a><a href='#L402'>402</a>
<a name='L403'></a><a href='#L403'>403</a>
<a name='L404'></a><a href='#L404'>404</a>
<a name='L405'></a><a href='#L405'>405</a>
<a name='L406'></a><a href='#L406'>406</a>
<a name='L407'></a><a href='#L407'>407</a>
<a name='L408'></a><a href='#L408'>408</a>
<a name='L409'></a><a href='#L409'>409</a>
<a name='L410'></a><a href='#L410'>410</a>
<a name='L411'></a><a href='#L411'>411</a>
<a name='L412'></a><a href='#L412'>412</a>
<a name='L413'></a><a href='#L413'>413</a>
<a name='L414'></a><a href='#L414'>414</a>
<a name='L415'></a><a href='#L415'>415</a>
<a name='L416'></a><a href='#L416'>416</a>
<a name='L417'></a><a href='#L417'>417</a>
<a name='L418'></a><a href='#L418'>418</a>
<a name='L419'></a><a href='#L419'>419</a>
<a name='L420'></a><a href='#L420'>420</a>
<a name='L421'></a><a href='#L421'>421</a>
<a name='L422'></a><a href='#L422'>422</a>
<a name='L423'></a><a href='#L423'>423</a>
<a name='L424'></a><a href='#L424'>424</a>
<a name='L425'></a><a href='#L425'>425</a>
<a name='L426'></a><a href='#L426'>426</a>
<a name='L427'></a><a href='#L427'>427</a>
<a name='L428'></a><a href='#L428'>428</a>
<a name='L429'></a><a href='#L429'>429</a>
<a name='L430'></a><a href='#L430'>430</a>
<a name='L431'></a><a href='#L431'>431</a>
<a name='L432'></a><a href='#L432'>432</a>
<a name='L433'></a><a href='#L433'>433</a>
<a name='L434'></a><a href='#L434'>434</a>
<a name='L435'></a><a href='#L435'>435</a>
<a name='L436'></a><a href='#L436'>436</a>
<a name='L437'></a><a href='#L437'>437</a>
<a name='L438'></a><a href='#L438'>438</a>
<a name='L439'></a><a href='#L439'>439</a>
<a name='L440'></a><a href='#L440'>440</a>
<a name='L441'></a><a href='#L441'>441</a>
<a name='L442'></a><a href='#L442'>442</a>
<a name='L443'></a><a href='#L443'>443</a>
<a name='L444'></a><a href='#L444'>444</a>
<a name='L445'></a><a href='#L445'>445</a>
<a name='L446'></a><a href='#L446'>446</a>
<a name='L447'></a><a href='#L447'>447</a>
<a name='L448'></a><a href='#L448'>448</a>
<a name='L449'></a><a href='#L449'>449</a>
<a name='L450'></a><a href='#L450'>450</a>
<a name='L451'></a><a href='#L451'>451</a>
<a name='L452'></a><a href='#L452'>452</a>
<a name='L453'></a><a href='#L453'>453</a>
<a name='L454'></a><a href='#L454'>454</a>
<a name='L455'></a><a href='#L455'>455</a>
<a name='L456'></a><a href='#L456'>456</a>
<a name='L457'></a><a href='#L457'>457</a>
<a name='L458'></a><a href='#L458'>458</a>
<a name='L459'></a><a href='#L459'>459</a>
<a name='L460'></a><a href='#L460'>460</a>
<a name='L461'></a><a href='#L461'>461</a>
<a name='L462'></a><a href='#L462'>462</a>
<a name='L463'></a><a href='#L463'>463</a>
<a name='L464'></a><a href='#L464'>464</a>
<a name='L465'></a><a href='#L465'>465</a>
<a name='L466'></a><a href='#L466'>466</a>
<a name='L467'></a><a href='#L467'>467</a>
<a name='L468'></a><a href='#L468'>468</a>
<a name='L469'></a><a href='#L469'>469</a>
<a name='L470'></a><a href='#L470'>470</a>
<a name='L471'></a><a href='#L471'>471</a>
<a name='L472'></a><a href='#L472'>472</a>
<a name='L473'></a><a href='#L473'>473</a>
<a name='L474'></a><a href='#L474'>474</a>
<a name='L475'></a><a href='#L475'>475</a>
<a name='L476'></a><a href='#L476'>476</a>
<a name='L477'></a><a href='#L477'>477</a>
<a name='L478'></a><a href='#L478'>478</a>
<a name='L479'></a><a href='#L479'>479</a>
<a name='L480'></a><a href='#L480'>480</a>
<a name='L481'></a><a href='#L481'>481</a>
<a name='L482'></a><a href='#L482'>482</a>
<a name='L483'></a><a href='#L483'>483</a>
<a name='L484'></a><a href='#L484'>484</a>
<a name='L485'></a><a href='#L485'>485</a>
<a name='L486'></a><a href='#L486'>486</a>
<a name='L487'></a><a href='#L487'>487</a>
<a name='L488'></a><a href='#L488'>488</a>
<a name='L489'></a><a href='#L489'>489</a>
<a name='L490'></a><a href='#L490'>490</a>
<a name='L491'></a><a href='#L491'>491</a>
<a name='L492'></a><a href='#L492'>492</a>
<a name='L493'></a><a href='#L493'>493</a>
<a name='L494'></a><a href='#L494'>494</a>
<a name='L495'></a><a href='#L495'>495</a>
<a name='L496'></a><a href='#L496'>496</a>
<a name='L497'></a><a href='#L497'>497</a>
<a name='L498'></a><a href='#L498'>498</a>
<a name='L499'></a><a href='#L499'>499</a>
<a name='L500'></a><a href='#L500'>500</a>
<a name='L501'></a><a href='#L501'>501</a>
<a name='L502'></a><a href='#L502'>502</a>
<a name='L503'></a><a href='#L503'>503</a>
<a name='L504'></a><a href='#L504'>504</a>
<a name='L505'></a><a href='#L505'>505</a>
<a name='L506'></a><a href='#L506'>506</a>
<a name='L507'></a><a href='#L507'>507</a>
<a name='L508'></a><a href='#L508'>508</a>
<a name='L509'></a><a href='#L509'>509</a>
<a name='L510'></a><a href='#L510'>510</a>
<a name='L511'></a><a href='#L511'>511</a>
<a name='L512'></a><a href='#L512'>512</a>
<a name='L513'></a><a href='#L513'>513</a>
<a name='L514'></a><a href='#L514'>514</a>
<a name='L515'></a><a href='#L515'>515</a>
<a name='L516'></a><a href='#L516'>516</a>
<a name='L517'></a><a href='#L517'>517</a>
<a name='L518'></a><a href='#L518'>518</a>
<a name='L519'></a><a href='#L519'>519</a>
<a name='L520'></a><a href='#L520'>520</a>
<a name='L521'></a><a href='#L521'>521</a>
<a name='L522'></a><a href='#L522'>522</a>
<a name='L523'></a><a href='#L523'>523</a>
<a name='L524'></a><a href='#L524'>524</a>
<a name='L525'></a><a href='#L525'>525</a>
<a name='L526'></a><a href='#L526'>526</a>
<a name='L527'></a><a href='#L527'>527</a>
<a name='L528'></a><a href='#L528'>528</a>
<a name='L529'></a><a href='#L529'>529</a>
<a name='L530'></a><a href='#L530'>530</a>
<a name='L531'></a><a href='#L531'>531</a>
<a name='L532'></a><a href='#L532'>532</a>
<a name='L533'></a><a href='#L533'>533</a>
<a name='L534'></a><a href='#L534'>534</a>
<a name='L535'></a><a href='#L535'>535</a>
<a name='L536'></a><a href='#L536'>536</a>
<a name='L537'></a><a href='#L537'>537</a>
<a name='L538'></a><a href='#L538'>538</a>
<a name='L539'></a><a href='#L539'>539</a>
<a name='L540'></a><a href='#L540'>540</a>
<a name='L541'></a><a href='#L541'>541</a>
<a name='L542'></a><a href='#L542'>542</a>
<a name='L543'></a><a href='#L543'>543</a>
<a name='L544'></a><a href='#L544'>544</a>
<a name='L545'></a><a href='#L545'>545</a>
<a name='L546'></a><a href='#L546'>546</a>
<a name='L547'></a><a href='#L547'>547</a>
<a name='L548'></a><a href='#L548'>548</a>
<a name='L549'></a><a href='#L549'>549</a>
<a name='L550'></a><a href='#L550'>550</a>
<a name='L551'></a><a href='#L551'>551</a>
<a name='L552'></a><a href='#L552'>552</a>
<a name='L553'></a><a href='#L553'>553</a>
<a name='L554'></a><a href='#L554'>554</a>
<a name='L555'></a><a href='#L555'>555</a>
<a name='L556'></a><a href='#L556'>556</a>
<a name='L557'></a><a href='#L557'>557</a>
<a name='L558'></a><a href='#L558'>558</a>
<a name='L559'></a><a href='#L559'>559</a>
<a name='L560'></a><a href='#L560'>560</a>
<a name='L561'></a><a href='#L561'>561</a>
<a name='L562'></a><a href='#L562'>562</a>
<a name='L563'></a><a href='#L563'>563</a>
<a name='L564'></a><a href='#L564'>564</a>
<a name='L565'></a><a href='#L565'>565</a>
<a name='L566'></a><a href='#L566'>566</a>
<a name='L567'></a><a href='#L567'>567</a>
<a name='L568'></a><a href='#L568'>568</a>
<a name='L569'></a><a href='#L569'>569</a>
<a name='L570'></a><a href='#L570'>570</a>
<a name='L571'></a><a href='#L571'>571</a>
<a name='L572'></a><a href='#L572'>572</a>
<a name='L573'></a><a href='#L573'>573</a>
<a name='L574'></a><a href='#L574'>574</a>
<a name='L575'></a><a href='#L575'>575</a>
<a name='L576'></a><a href='#L576'>576</a>
<a name='L577'></a><a href='#L577'>577</a>
<a name='L578'></a><a href='#L578'>578</a>
<a name='L579'></a><a href='#L579'>579</a>
<a name='L580'></a><a href='#L580'>580</a>
<a name='L581'></a><a href='#L581'>581</a>
<a name='L582'></a><a href='#L582'>582</a>
<a name='L583'></a><a href='#L583'>583</a>
<a name='L584'></a><a href='#L584'>584</a>
<a name='L585'></a><a href='#L585'>585</a>
<a name='L586'></a><a href='#L586'>586</a>
<a name='L587'></a><a href='#L587'>587</a>
<a name='L588'></a><a href='#L588'>588</a>
<a name='L589'></a><a href='#L589'>589</a>
<a name='L590'></a><a href='#L590'>590</a>
<a name='L591'></a><a href='#L591'>591</a>
<a name='L592'></a><a href='#L592'>592</a>
<a name='L593'></a><a href='#L593'>593</a>
<a name='L594'></a><a href='#L594'>594</a>
<a name='L595'></a><a href='#L595'>595</a>
<a name='L596'></a><a href='#L596'>596</a>
<a name='L597'></a><a href='#L597'>597</a>
<a name='L598'></a><a href='#L598'>598</a>
<a name='L599'></a><a href='#L599'>599</a>
<a name='L600'></a><a href='#L600'>600</a>
<a name='L601'></a><a href='#L601'>601</a>
<a name='L602'></a><a href='#L602'>602</a>
<a name='L603'></a><a href='#L603'>603</a>
<a name='L604'></a><a href='#L604'>604</a>
<a name='L605'></a><a href='#L605'>605</a>
<a name='L606'></a><a href='#L606'>606</a>
<a name='L607'></a><a href='#L607'>607</a>
<a name='L608'></a><a href='#L608'>608</a>
<a name='L609'></a><a href='#L609'>609</a>
<a name='L610'></a><a href='#L610'>610</a>
<a name='L611'></a><a href='#L611'>611</a>
<a name='L612'></a><a href='#L612'>612</a>
<a name='L613'></a><a href='#L613'>613</a>
<a name='L614'></a><a href='#L614'>614</a>
<a name='L615'></a><a href='#L615'>615</a>
<a name='L616'></a><a href='#L616'>616</a>
<a name='L617'></a><a href='#L617'>617</a>
<a name='L618'></a><a href='#L618'>618</a>
<a name='L619'></a><a href='#L619'>619</a>
<a name='L620'></a><a href='#L620'>620</a>
<a name='L621'></a><a href='#L621'>621</a>
<a name='L622'></a><a href='#L622'>622</a>
<a name='L623'></a><a href='#L623'>623</a>
<a name='L624'></a><a href='#L624'>624</a>
<a name='L625'></a><a href='#L625'>625</a>
<a name='L626'></a><a href='#L626'>626</a>
<a name='L627'></a><a href='#L627'>627</a>
<a name='L628'></a><a href='#L628'>628</a>
<a name='L629'></a><a href='#L629'>629</a>
<a name='L630'></a><a href='#L630'>630</a>
<a name='L631'></a><a href='#L631'>631</a>
<a name='L632'></a><a href='#L632'>632</a>
<a name='L633'></a><a href='#L633'>633</a>
<a name='L634'></a><a href='#L634'>634</a>
<a name='L635'></a><a href='#L635'>635</a>
<a name='L636'></a><a href='#L636'>636</a>
<a name='L637'></a><a href='#L637'>637</a>
<a name='L638'></a><a href='#L638'>638</a>
<a name='L639'></a><a href='#L639'>639</a>
<a name='L640'></a><a href='#L640'>640</a>
<a name='L641'></a><a href='#L641'>641</a>
<a name='L642'></a><a href='#L642'>642</a>
<a name='L643'></a><a href='#L643'>643</a>
<a name='L644'></a><a href='#L644'>644</a>
<a name='L645'></a><a href='#L645'>645</a>
<a name='L646'></a><a href='#L646'>646</a>
<a name='L647'></a><a href='#L647'>647</a>
<a name='L648'></a><a href='#L648'>648</a>
<a name='L649'></a><a href='#L649'>649</a>
<a name='L650'></a><a href='#L650'>650</a>
<a name='L651'></a><a href='#L651'>651</a>
<a name='L652'></a><a href='#L652'>652</a>
<a name='L653'></a><a href='#L653'>653</a>
<a name='L654'></a><a href='#L654'>654</a>
<a name='L655'></a><a href='#L655'>655</a>
<a name='L656'></a><a href='#L656'>656</a>
<a name='L657'></a><a href='#L657'>657</a>
<a name='L658'></a><a href='#L658'>658</a>
<a name='L659'></a><a href='#L659'>659</a>
<a name='L660'></a><a href='#L660'>660</a>
<a name='L661'></a><a href='#L661'>661</a>
<a name='L662'></a><a href='#L662'>662</a>
<a name='L663'></a><a href='#L663'>663</a>
<a name='L664'></a><a href='#L664'>664</a>
<a name='L665'></a><a href='#L665'>665</a>
<a name='L666'></a><a href='#L666'>666</a>
<a name='L667'></a><a href='#L667'>667</a>
<a name='L668'></a><a href='#L668'>668</a>
<a name='L669'></a><a href='#L669'>669</a>
<a name='L670'></a><a href='#L670'>670</a>
<a name='L671'></a><a href='#L671'>671</a>
<a name='L672'></a><a href='#L672'>672</a>
<a name='L673'></a><a href='#L673'>673</a>
<a name='L674'></a><a href='#L674'>674</a>
<a name='L675'></a><a href='#L675'>675</a>
<a name='L676'></a><a href='#L676'>676</a>
<a name='L677'></a><a href='#L677'>677</a>
<a name='L678'></a><a href='#L678'>678</a>
<a name='L679'></a><a href='#L679'>679</a>
<a name='L680'></a><a href='#L680'>680</a>
<a name='L681'></a><a href='#L681'>681</a>
<a name='L682'></a><a href='#L682'>682</a>
<a name='L683'></a><a href='#L683'>683</a>
<a name='L684'></a><a href='#L684'>684</a>
<a name='L685'></a><a href='#L685'>685</a>
<a name='L686'></a><a href='#L686'>686</a>
<a name='L687'></a><a href='#L687'>687</a>
<a name='L688'></a><a href='#L688'>688</a>
<a name='L689'></a><a href='#L689'>689</a>
<a name='L690'></a><a href='#L690'>690</a>
<a name='L691'></a><a href='#L691'>691</a>
<a name='L692'></a><a href='#L692'>692</a>
<a name='L693'></a><a href='#L693'>693</a>
<a name='L694'></a><a href='#L694'>694</a>
<a name='L695'></a><a href='#L695'>695</a>
<a name='L696'></a><a href='#L696'>696</a>
<a name='L697'></a><a href='#L697'>697</a>
<a name='L698'></a><a href='#L698'>698</a>
<a name='L699'></a><a href='#L699'>699</a>
<a name='L700'></a><a href='#L700'>700</a>
<a name='L701'></a><a href='#L701'>701</a>
<a name='L702'></a><a href='#L702'>702</a>
<a name='L703'></a><a href='#L703'>703</a>
<a name='L704'></a><a href='#L704'>704</a>
<a name='L705'></a><a href='#L705'>705</a>
<a name='L706'></a><a href='#L706'>706</a>
<a name='L707'></a><a href='#L707'>707</a>
<a name='L708'></a><a href='#L708'>708</a>
<a name='L709'></a><a href='#L709'>709</a>
<a name='L710'></a><a href='#L710'>710</a>
<a name='L711'></a><a href='#L711'>711</a>
<a name='L712'></a><a href='#L712'>712</a>
<a name='L713'></a><a href='#L713'>713</a>
<a name='L714'></a><a href='#L714'>714</a>
<a name='L715'></a><a href='#L715'>715</a>
<a name='L716'></a><a href='#L716'>716</a>
<a name='L717'></a><a href='#L717'>717</a>
<a name='L718'></a><a href='#L718'>718</a>
<a name='L719'></a><a href='#L719'>719</a>
<a name='L720'></a><a href='#L720'>720</a>
<a name='L721'></a><a href='#L721'>721</a>
<a name='L722'></a><a href='#L722'>722</a>
<a name='L723'></a><a href='#L723'>723</a>
<a name='L724'></a><a href='#L724'>724</a>
<a name='L725'></a><a href='#L725'>725</a>
<a name='L726'></a><a href='#L726'>726</a>
<a name='L727'></a><a href='#L727'>727</a>
<a name='L728'></a><a href='#L728'>728</a>
<a name='L729'></a><a href='#L729'>729</a>
<a name='L730'></a><a href='#L730'>730</a>
<a name='L731'></a><a href='#L731'>731</a>
<a name='L732'></a><a href='#L732'>732</a>
<a name='L733'></a><a href='#L733'>733</a>
<a name='L734'></a><a href='#L734'>734</a>
<a name='L735'></a><a href='#L735'>735</a>
<a name='L736'></a><a href='#L736'>736</a>
<a name='L737'></a><a href='#L737'>737</a>
<a name='L738'></a><a href='#L738'>738</a>
<a name='L739'></a><a href='#L739'>739</a>
<a name='L740'></a><a href='#L740'>740</a>
<a name='L741'></a><a href='#L741'>741</a>
<a name='L742'></a><a href='#L742'>742</a>
<a name='L743'></a><a href='#L743'>743</a>
<a name='L744'></a><a href='#L744'>744</a>
<a name='L745'></a><a href='#L745'>745</a>
<a name='L746'></a><a href='#L746'>746</a>
<a name='L747'></a><a href='#L747'>747</a>
<a name='L748'></a><a href='#L748'>748</a>
<a name='L749'></a><a href='#L749'>749</a>
<a name='L750'></a><a href='#L750'>750</a>
<a name='L751'></a><a href='#L751'>751</a>
<a name='L752'></a><a href='#L752'>752</a>
<a name='L753'></a><a href='#L753'>753</a>
<a name='L754'></a><a href='#L754'>754</a>
<a name='L755'></a><a href='#L755'>755</a>
<a name='L756'></a><a href='#L756'>756</a>
<a name='L757'></a><a href='#L757'>757</a>
<a name='L758'></a><a href='#L758'>758</a>
<a name='L759'></a><a href='#L759'>759</a>
<a name='L760'></a><a href='#L760'>760</a>
<a name='L761'></a><a href='#L761'>761</a>
<a name='L762'></a><a href='#L762'>762</a>
<a name='L763'></a><a href='#L763'>763</a>
<a name='L764'></a><a href='#L764'>764</a>
<a name='L765'></a><a href='#L765'>765</a>
<a name='L766'></a><a href='#L766'>766</a>
<a name='L767'></a><a href='#L767'>767</a>
<a name='L768'></a><a href='#L768'>768</a>
<a name='L769'></a><a href='#L769'>769</a>
<a name='L770'></a><a href='#L770'>770</a>
<a name='L771'></a><a href='#L771'>771</a>
<a name='L772'></a><a href='#L772'>772</a>
<a name='L773'></a><a href='#L773'>773</a>
<a name='L774'></a><a href='#L774'>774</a>
<a name='L775'></a><a href='#L775'>775</a>
<a name='L776'></a><a href='#L776'>776</a>
<a name='L777'></a><a href='#L777'>777</a>
<a name='L778'></a><a href='#L778'>778</a>
<a name='L779'></a><a href='#L779'>779</a>
<a name='L780'></a><a href='#L780'>780</a>
<a name='L781'></a><a href='#L781'>781</a>
<a name='L782'></a><a href='#L782'>782</a>
<a name='L783'></a><a href='#L783'>783</a>
<a name='L784'></a><a href='#L784'>784</a>
<a name='L785'></a><a href='#L785'>785</a>
<a name='L786'></a><a href='#L786'>786</a>
<a name='L787'></a><a href='#L787'>787</a>
<a name='L788'></a><a href='#L788'>788</a>
<a name='L789'></a><a href='#L789'>789</a>
<a name='L790'></a><a href='#L790'>790</a>
<a name='L791'></a><a href='#L791'>791</a>
<a name='L792'></a><a href='#L792'>792</a>
<a name='L793'></a><a href='#L793'>793</a>
<a name='L794'></a><a href='#L794'>794</a>
<a name='L795'></a><a href='#L795'>795</a>
<a name='L796'></a><a href='#L796'>796</a>
<a name='L797'></a><a href='#L797'>797</a>
<a name='L798'></a><a href='#L798'>798</a>
<a name='L799'></a><a href='#L799'>799</a>
<a name='L800'></a><a href='#L800'>800</a>
<a name='L801'></a><a href='#L801'>801</a>
<a name='L802'></a><a href='#L802'>802</a>
<a name='L803'></a><a href='#L803'>803</a>
<a name='L804'></a><a href='#L804'>804</a>
<a name='L805'></a><a href='#L805'>805</a>
<a name='L806'></a><a href='#L806'>806</a>
<a name='L807'></a><a href='#L807'>807</a>
<a name='L808'></a><a href='#L808'>808</a>
<a name='L809'></a><a href='#L809'>809</a>
<a name='L810'></a><a href='#L810'>810</a>
<a name='L811'></a><a href='#L811'>811</a>
<a name='L812'></a><a href='#L812'>812</a>
<a name='L813'></a><a href='#L813'>813</a>
<a name='L814'></a><a href='#L814'>814</a>
<a name='L815'></a><a href='#L815'>815</a>
<a name='L816'></a><a href='#L816'>816</a>
<a name='L817'></a><a href='#L817'>817</a>
<a name='L818'></a><a href='#L818'>818</a>
<a name='L819'></a><a href='#L819'>819</a>
<a name='L820'></a><a href='#L820'>820</a>
<a name='L821'></a><a href='#L821'>821</a>
<a name='L822'></a><a href='#L822'>822</a>
<a name='L823'></a><a href='#L823'>823</a>
<a name='L824'></a><a href='#L824'>824</a>
<a name='L825'></a><a href='#L825'>825</a>
<a name='L826'></a><a href='#L826'>826</a>
<a name='L827'></a><a href='#L827'>827</a>
<a name='L828'></a><a href='#L828'>828</a>
<a name='L829'></a><a href='#L829'>829</a>
<a name='L830'></a><a href='#L830'>830</a>
<a name='L831'></a><a href='#L831'>831</a>
<a name='L832'></a><a href='#L832'>832</a>
<a name='L833'></a><a href='#L833'>833</a>
<a name='L834'></a><a href='#L834'>834</a>
<a name='L835'></a><a href='#L835'>835</a>
<a name='L836'></a><a href='#L836'>836</a>
<a name='L837'></a><a href='#L837'>837</a>
<a name='L838'></a><a href='#L838'>838</a>
<a name='L839'></a><a href='#L839'>839</a>
<a name='L840'></a><a href='#L840'>840</a>
<a name='L841'></a><a href='#L841'>841</a>
<a name='L842'></a><a href='#L842'>842</a>
<a name='L843'></a><a href='#L843'>843</a>
<a name='L844'></a><a href='#L844'>844</a>
<a name='L845'></a><a href='#L845'>845</a>
<a name='L846'></a><a href='#L846'>846</a>
<a name='L847'></a><a href='#L847'>847</a>
<a name='L848'></a><a href='#L848'>848</a>
<a name='L849'></a><a href='#L849'>849</a>
<a name='L850'></a><a href='#L850'>850</a>
<a name='L851'></a><a href='#L851'>851</a>
<a name='L852'></a><a href='#L852'>852</a>
<a name='L853'></a><a href='#L853'>853</a>
<a name='L854'></a><a href='#L854'>854</a>
<a name='L855'></a><a href='#L855'>855</a>
<a name='L856'></a><a href='#L856'>856</a>
<a name='L857'></a><a href='#L857'>857</a>
<a name='L858'></a><a href='#L858'>858</a>
<a name='L859'></a><a href='#L859'>859</a>
<a name='L860'></a><a href='#L860'>860</a>
<a name='L861'></a><a href='#L861'>861</a>
<a name='L862'></a><a href='#L862'>862</a>
<a name='L863'></a><a href='#L863'>863</a>
<a name='L864'></a><a href='#L864'>864</a>
<a name='L865'></a><a href='#L865'>865</a>
<a name='L866'></a><a href='#L866'>866</a>
<a name='L867'></a><a href='#L867'>867</a>
<a name='L868'></a><a href='#L868'>868</a>
<a name='L869'></a><a href='#L869'>869</a>
<a name='L870'></a><a href='#L870'>870</a>
<a name='L871'></a><a href='#L871'>871</a>
<a name='L872'></a><a href='#L872'>872</a>
<a name='L873'></a><a href='#L873'>873</a>
<a name='L874'></a><a href='#L874'>874</a>
<a name='L875'></a><a href='#L875'>875</a>
<a name='L876'></a><a href='#L876'>876</a>
<a name='L877'></a><a href='#L877'>877</a>
<a name='L878'></a><a href='#L878'>878</a>
<a name='L879'></a><a href='#L879'>879</a>
<a name='L880'></a><a href='#L880'>880</a>
<a name='L881'></a><a href='#L881'>881</a>
<a name='L882'></a><a href='#L882'>882</a>
<a name='L883'></a><a href='#L883'>883</a>
<a name='L884'></a><a href='#L884'>884</a>
<a name='L885'></a><a href='#L885'>885</a>
<a name='L886'></a><a href='#L886'>886</a>
<a name='L887'></a><a href='#L887'>887</a>
<a name='L888'></a><a href='#L888'>888</a>
<a name='L889'></a><a href='#L889'>889</a>
<a name='L890'></a><a href='#L890'>890</a>
<a name='L891'></a><a href='#L891'>891</a>
<a name='L892'></a><a href='#L892'>892</a>
<a name='L893'></a><a href='#L893'>893</a>
<a name='L894'></a><a href='#L894'>894</a>
<a name='L895'></a><a href='#L895'>895</a>
<a name='L896'></a><a href='#L896'>896</a>
<a name='L897'></a><a href='#L897'>897</a>
<a name='L898'></a><a href='#L898'>898</a>
<a name='L899'></a><a href='#L899'>899</a>
<a name='L900'></a><a href='#L900'>900</a>
<a name='L901'></a><a href='#L901'>901</a>
<a name='L902'></a><a href='#L902'>902</a>
<a name='L903'></a><a href='#L903'>903</a>
<a name='L904'></a><a href='#L904'>904</a>
<a name='L905'></a><a href='#L905'>905</a>
<a name='L906'></a><a href='#L906'>906</a>
<a name='L907'></a><a href='#L907'>907</a>
<a name='L908'></a><a href='#L908'>908</a>
<a name='L909'></a><a href='#L909'>909</a>
<a name='L910'></a><a href='#L910'>910</a>
<a name='L911'></a><a href='#L911'>911</a>
<a name='L912'></a><a href='#L912'>912</a>
<a name='L913'></a><a href='#L913'>913</a>
<a name='L914'></a><a href='#L914'>914</a>
<a name='L915'></a><a href='#L915'>915</a>
<a name='L916'></a><a href='#L916'>916</a>
<a name='L917'></a><a href='#L917'>917</a>
<a name='L918'></a><a href='#L918'>918</a>
<a name='L919'></a><a href='#L919'>919</a>
<a name='L920'></a><a href='#L920'>920</a>
<a name='L921'></a><a href='#L921'>921</a>
<a name='L922'></a><a href='#L922'>922</a>
<a name='L923'></a><a href='#L923'>923</a>
<a name='L924'></a><a href='#L924'>924</a>
<a name='L925'></a><a href='#L925'>925</a>
<a name='L926'></a><a href='#L926'>926</a>
<a name='L927'></a><a href='#L927'>927</a>
<a name='L928'></a><a href='#L928'>928</a>
<a name='L929'></a><a href='#L929'>929</a>
<a name='L930'></a><a href='#L930'>930</a>
<a name='L931'></a><a href='#L931'>931</a>
<a name='L932'></a><a href='#L932'>932</a>
<a name='L933'></a><a href='#L933'>933</a>
<a name='L934'></a><a href='#L934'>934</a>
<a name='L935'></a><a href='#L935'>935</a>
<a name='L936'></a><a href='#L936'>936</a>
<a name='L937'></a><a href='#L937'>937</a>
<a name='L938'></a><a href='#L938'>938</a>
<a name='L939'></a><a href='#L939'>939</a>
<a name='L940'></a><a href='#L940'>940</a>
<a name='L941'></a><a href='#L941'>941</a>
<a name='L942'></a><a href='#L942'>942</a>
<a name='L943'></a><a href='#L943'>943</a>
<a name='L944'></a><a href='#L944'>944</a>
<a name='L945'></a><a href='#L945'>945</a>
<a name='L946'></a><a href='#L946'>946</a>
<a name='L947'></a><a href='#L947'>947</a>
<a name='L948'></a><a href='#L948'>948</a>
<a name='L949'></a><a href='#L949'>949</a>
<a name='L950'></a><a href='#L950'>950</a>
<a name='L951'></a><a href='#L951'>951</a>
<a name='L952'></a><a href='#L952'>952</a>
<a name='L953'></a><a href='#L953'>953</a>
<a name='L954'></a><a href='#L954'>954</a>
<a name='L955'></a><a href='#L955'>955</a>
<a name='L956'></a><a href='#L956'>956</a>
<a name='L957'></a><a href='#L957'>957</a>
<a name='L958'></a><a href='#L958'>958</a>
<a name='L959'></a><a href='#L959'>959</a>
<a name='L960'></a><a href='#L960'>960</a>
<a name='L961'></a><a href='#L961'>961</a>
<a name='L962'></a><a href='#L962'>962</a>
<a name='L963'></a><a href='#L963'>963</a>
<a name='L964'></a><a href='#L964'>964</a>
<a name='L965'></a><a href='#L965'>965</a>
<a name='L966'></a><a href='#L966'>966</a>
<a name='L967'></a><a href='#L967'>967</a>
<a name='L968'></a><a href='#L968'>968</a>
<a name='L969'></a><a href='#L969'>969</a>
<a name='L970'></a><a href='#L970'>970</a>
<a name='L971'></a><a href='#L971'>971</a>
<a name='L972'></a><a href='#L972'>972</a>
<a name='L973'></a><a href='#L973'>973</a>
<a name='L974'></a><a href='#L974'>974</a>
<a name='L975'></a><a href='#L975'>975</a>
<a name='L976'></a><a href='#L976'>976</a>
<a name='L977'></a><a href='#L977'>977</a>
<a name='L978'></a><a href='#L978'>978</a>
<a name='L979'></a><a href='#L979'>979</a>
<a name='L980'></a><a href='#L980'>980</a>
<a name='L981'></a><a href='#L981'>981</a>
<a name='L982'></a><a href='#L982'>982</a>
<a name='L983'></a><a href='#L983'>983</a>
<a name='L984'></a><a href='#L984'>984</a>
<a name='L985'></a><a href='#L985'>985</a>
<a name='L986'></a><a href='#L986'>986</a>
<a name='L987'></a><a href='#L987'>987</a>
<a name='L988'></a><a href='#L988'>988</a>
<a name='L989'></a><a href='#L989'>989</a>
<a name='L990'></a><a href='#L990'>990</a>
<a name='L991'></a><a href='#L991'>991</a>
<a name='L992'></a><a href='#L992'>992</a>
<a name='L993'></a><a href='#L993'>993</a>
<a name='L994'></a><a href='#L994'>994</a>
<a name='L995'></a><a href='#L995'>995</a>
<a name='L996'></a><a href='#L996'>996</a>
<a name='L997'></a><a href='#L997'>997</a>
<a name='L998'></a><a href='#L998'>998</a>
<a name='L999'></a><a href='#L999'>999</a>
<a name='L1000'></a><a href='#L1000'>1000</a>
<a name='L1001'></a><a href='#L1001'>1001</a>
<a name='L1002'></a><a href='#L1002'>1002</a>
<a name='L1003'></a><a href='#L1003'>1003</a>
<a name='L1004'></a><a href='#L1004'>1004</a>
<a name='L1005'></a><a href='#L1005'>1005</a>
<a name='L1006'></a><a href='#L1006'>1006</a>
<a name='L1007'></a><a href='#L1007'>1007</a>
<a name='L1008'></a><a href='#L1008'>1008</a>
<a name='L1009'></a><a href='#L1009'>1009</a>
<a name='L1010'></a><a href='#L1010'>1010</a>
<a name='L1011'></a><a href='#L1011'>1011</a>
<a name='L1012'></a><a href='#L1012'>1012</a>
<a name='L1013'></a><a href='#L1013'>1013</a>
<a name='L1014'></a><a href='#L1014'>1014</a>
<a name='L1015'></a><a href='#L1015'>1015</a>
<a name='L1016'></a><a href='#L1016'>1016</a>
<a name='L1017'></a><a href='#L1017'>1017</a>
<a name='L1018'></a><a href='#L1018'>1018</a>
<a name='L1019'></a><a href='#L1019'>1019</a>
<a name='L1020'></a><a href='#L1020'>1020</a>
<a name='L1021'></a><a href='#L1021'>1021</a>
<a name='L1022'></a><a href='#L1022'>1022</a>
<a name='L1023'></a><a href='#L1023'>1023</a>
<a name='L1024'></a><a href='#L1024'>1024</a>
<a name='L1025'></a><a href='#L1025'>1025</a>
<a name='L1026'></a><a href='#L1026'>1026</a>
<a name='L1027'></a><a href='#L1027'>1027</a>
<a name='L1028'></a><a href='#L1028'>1028</a>
<a name='L1029'></a><a href='#L1029'>1029</a>
<a name='L1030'></a><a href='#L1030'>1030</a>
<a name='L1031'></a><a href='#L1031'>1031</a>
<a name='L1032'></a><a href='#L1032'>1032</a>
<a name='L1033'></a><a href='#L1033'>1033</a>
<a name='L1034'></a><a href='#L1034'>1034</a>
<a name='L1035'></a><a href='#L1035'>1035</a>
<a name='L1036'></a><a href='#L1036'>1036</a>
<a name='L1037'></a><a href='#L1037'>1037</a>
<a name='L1038'></a><a href='#L1038'>1038</a>
<a name='L1039'></a><a href='#L1039'>1039</a>
<a name='L1040'></a><a href='#L1040'>1040</a>
<a name='L1041'></a><a href='#L1041'>1041</a>
<a name='L1042'></a><a href='#L1042'>1042</a>
<a name='L1043'></a><a href='#L1043'>1043</a>
<a name='L1044'></a><a href='#L1044'>1044</a>
<a name='L1045'></a><a href='#L1045'>1045</a>
<a name='L1046'></a><a href='#L1046'>1046</a>
<a name='L1047'></a><a href='#L1047'>1047</a>
<a name='L1048'></a><a href='#L1048'>1048</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";
const Homey = <span class="cstat-no" title="statement not covered" >require("homey");</span>
const Logger = <span class="cstat-no" title="statement not covered" >require("./Logger");</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >module.exports = class BaseLogicUnit extends Homey.Device {</span>
<span class="fstat-no" title="function not covered" >  as</span>ync safeSetCapabilityValue(cap, value) {
<span class="cstat-no" title="statement not covered" >    if (this._isDeleting) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      if (!this.hasCapability(cap)) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
<span class="cstat-no" title="statement not covered" >      await this.setCapabilityValue(cap, value);</span>
    } catch (e) {
      const msg = <span class="cstat-no" title="statement not covered" >e?.message || String(e);</span>
<span class="cstat-no" title="statement not covered" >      if (e?.statusCode === 404 || /not\s*found/i.test(msg)) {</span>
<span class="cstat-no" title="statement not covered" >        this.logger.debug("device.capability_skip_deleted", {</span>
          capability: cap,
        });
      } else {
<span class="cstat-no" title="statement not covered" >        this.logger.error("device.capability_update_failed", {</span>
          capability: cap,
          message: msg,
        });
      }
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onInit() {
    const driverName = <span class="cstat-no" title="statement not covered" >`Device: ${this.driver ? this.driver.id : "unknown-driver"}`;</span>
<span class="cstat-no" title="statement not covered" >    this.logger = new Logger(this, driverName);</span>
<span class="cstat-no" title="statement not covered" >    this.logger.device("device.initializing", {</span>
      name: this.getName(),
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!this.hasCapability("onoff")) {</span>
<span class="cstat-no" title="statement not covered" >      await this.addCapability("onoff").catch(<span class="fstat-no" title="function not covered" >(e</span>) =&gt;</span>
<span class="cstat-no" title="statement not covered" >        this.logger.error("Failed to add 'onoff' capability", e),</span>
      );
    }
<span class="cstat-no" title="statement not covered" >    if (!this.hasCapability("alarm_generic")) {</span>
<span class="cstat-no" title="statement not covered" >      await this.addCapability("alarm_generic").catch(<span class="fstat-no" title="function not covered" >(e</span>) =&gt;</span>
<span class="cstat-no" title="statement not covered" >        this.logger.error("Failed to add 'alarm_generic' capability", e),</span>
      );
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.numInputs = this.getData().numInputs ?? 2;</span>
<span class="cstat-no" title="statement not covered" >    this.availableInputs = this.getAvailableInputIds();</span>
<span class="cstat-no" title="statement not covered" >    this.logger.debug(</span>
      `Device initialized with ${this.numInputs} inputs: ${this.availableInputs.join(", ")}`,
      {},
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    await this.initializeFormulas();</span>
<span class="cstat-no" title="statement not covered" >    await this.evaluateAllFormulasInitial();</span>
<span class="cstat-no" title="statement not covered" >    this.startTimeoutChecks();</span>
&nbsp;
    // REGISTRATION IS REMOVED FROM HERE
<span class="cstat-no" title="statement not covered" >    this.logger.info("device.initialized", {</span>
      name: this.getName(),
      count: this.numInputs,
    });
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onFlowCondition(args, state, checkType) {
<span class="cstat-no" title="statement not covered" >    this.logger.flow(`onFlowCondition called for checkType: '${checkType}'`, {</span>
      formulaId: args.formula?.id,
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (checkType === "has_error") {</span>
      const hasTimeout = <span class="cstat-no" title="statement not covered" >this.formulas.some(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.timedOut === true)</span>;</span>
<span class="cstat-no" title="statement not covered" >      this.logger.flow(`Condition 'has_any_error' check result: ${hasTimeout}`);</span>
<span class="cstat-no" title="statement not covered" >      return hasTimeout;</span>
    }
&nbsp;
    const cardIdFromArgs = <span class="cstat-no" title="statement not covered" >args.cardId;</span>
<span class="cstat-no" title="statement not covered" >    if (</span>
      (cardIdFromArgs === "formula_result_is_ld" ||
        cardIdFromArgs === "formula_has_timed_out_ld") &amp;&amp;
      !args.formula
    ) {
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        "onFlowCondition: _ld card called without formula on LU device. Checking first formula as fallback.",
      );
<span class="cstat-no" title="statement not covered" >      if (this.formulas.length &gt; 0) <span class="cstat-no" title="statement not covered" >args.formula = this.formulas[0];</span></span>
      else <span class="cstat-no" title="statement not covered" >return false;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!args.formula || !args.formula.id) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        "onFlowCondition: No formula specified in args for formula-specific check.",
        {
          checkType,
        },
      );
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
    const formulaId = <span class="cstat-no" title="statement not covered" >args.formula.id;</span>
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!formula) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowCondition: Invalid formula ID received.", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (checkType === "timeout") {</span>
      const isTimedOut = <span class="cstat-no" title="statement not covered" >formula.timedOut === true;</span>
<span class="cstat-no" title="statement not covered" >      this.logger.flow(</span>
        `Condition 'formula_has_timed_out' check for '${formula.name}': Result=${isTimedOut}`,
      );
<span class="cstat-no" title="statement not covered" >      return isTimedOut;</span>
    } else <span class="cstat-no" title="statement not covered" >if (typeof checkType === "boolean") {</span>
      const currentResult = <span class="cstat-no" title="statement not covered" >formula.result;</span>
      const desiredResult = <span class="cstat-no" title="statement not covered" >checkType;</span>
      const evaluatedResult = <span class="cstat-no" title="statement not covered" >currentResult === true;</span>
      const conditionMet = <span class="cstat-no" title="statement not covered" >evaluatedResult === desiredResult;</span>
<span class="cstat-no" title="statement not covered" >      this.logger.flow(</span>
        `Condition 'formula_result_is' check for '${formula.name}': Current=${currentResult}, Desired=${desiredResult}, Match=${conditionMet}`,
      );
<span class="cstat-no" title="statement not covered" >      return conditionMet;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      this.logger.error(</span>
        `onFlowCondition: Unknown checkType received: '${checkType}'`,
      );
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onFlowActionSetInput(args, state) {
<span class="cstat-no" title="statement not covered" >    if (!args.formula || !args.input || !args.formula.id || !args.input.id) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowActionSetInput: Missing formula or input ID.", {</span>
        args,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
    const formulaId = <span class="cstat-no" title="statement not covered" >args.formula.id;</span>
    const inputId = <span class="cstat-no" title="statement not covered" >args.input.id;</span>
    const value = <span class="cstat-no" title="statement not covered" >args.value === "true";</span>
<span class="cstat-no" title="statement not covered" >    this.logger.flow("onFlowActionSetInput: Setting input", {</span>
      formula: formulaId,
      input: inputId,
      value: value,
    });
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      await this.setInputForFormula(formulaId, inputId, value);</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error(</span>
        `Error during onFlowActionSetInput for ${formulaId}/${inputId}`,
        e,
      );
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onFlowActionEvaluateFormula(args, state) {
    const cardIdFromArgs = <span class="cstat-no" title="statement not covered" >args.cardId;</span>
<span class="cstat-no" title="statement not covered" >    if (</span>
      (!args.formula || !args.formula.id) &amp;&amp;
      cardIdFromArgs === "evaluate_formula_ld"
    ) {
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        `onFlowActionEvaluateFormula (LD) called on LU device ${this.getName()}. Falling back to re-evaluate all.`,
      );
<span class="cstat-no" title="statement not covered" >      return this.onFlowActionReEvaluateAll(args, state);</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!args.formula || !args.formula.id) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowActionEvaluateFormula: Missing formula ID.", {</span>
        args,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
    const formulaId = <span class="cstat-no" title="statement not covered" >args.formula.id;</span>
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    if (!formula) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowActionEvaluateFormula: Invalid formula ID.", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.logger.flow(</span>
      `onFlowActionEvaluateFormula: Evaluating '${formula.name}' (Resetting locks)`,
    );
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      await this.evaluateFormula(formulaId, true);</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error(</span>
        `Error during onFlowActionEvaluateFormula for ${formulaId}`,
        e,
      );
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onFlowActionClearError(args, state) {
    const cardIdFromArgs = <span class="cstat-no" title="statement not covered" >args.cardId;</span>
<span class="cstat-no" title="statement not covered" >    if (</span>
      (!args.formula || !args.formula.id) &amp;&amp;
      cardIdFromArgs === "clear_error_ld"
    ) {
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        `onFlowActionClearError (LD) called on LU device ${this.getName()}. Clearing all formula timeouts.`,
      );
<span class="cstat-no" title="statement not covered" >      this.formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        f.timedOut = false;</span>
      });
<span class="cstat-no" title="statement not covered" >      this.logger.info("notifications.error_cleared_all", {});</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!args.formula || !args.formula.id) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowActionClearError: Missing formula ID.", {</span>
        args,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
    const formulaId = <span class="cstat-no" title="statement not covered" >args.formula.id;</span>
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    if (!formula) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("onFlowActionClearError: Invalid formula ID.", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.logger.flow(</span>
      `onFlowActionClearError: Clearing timeout state for '${formula.name}'`,
    );
<span class="cstat-no" title="statement not covered" >    formula.timedOut = false;</span>
<span class="cstat-no" title="statement not covered" >    this.logger.info("notifications.error_cleared", {</span>
      formulaName: formula.name,
    });
<span class="cstat-no" title="statement not covered" >    return true;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onFlowActionReEvaluateAll(args, state) {
<span class="cstat-no" title="statement not covered" >    this.logger.flow(</span>
      "onFlowActionReEvaluateAll: Re-evaluating all formulas",
      {},
    );
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      await this.evaluateAllFormulas();</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error("Error during onFlowActionReEvaluateAll", e);</span>
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync setAllInputsFromFlow(args, state) {
    const device = <span class="cstat-no" title="statement not covered" >this;</span>
    const valuesJson = <span class="cstat-no" title="statement not covered" >args.values;</span>
<span class="cstat-no" title="statement not covered" >    this.logger.flow(</span>
      `Executing Action 'set_all_inputs' on device '${device.getName()}'`,
    );
<span class="cstat-no" title="statement not covered" >    if (typeof valuesJson !== "string" || valuesJson.trim() === "") {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        `RunListener set_all_inputs: Empty or invalid JSON provided.`,
      );
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
<span class="cstat-no" title="statement not covered" >    try {</span>
      const values = <span class="cstat-no" title="statement not covered" >JSON.parse(valuesJson);</span>
<span class="cstat-no" title="statement not covered" >      if (typeof values !== "object" || values === null) {</span>
<span class="cstat-no" title="statement not covered" >        throw new Error("Parsed JSON is not an object.");</span>
      }
      const promises = <span class="cstat-no" title="statement not covered" >[];</span>
      const inputs = <span class="cstat-no" title="statement not covered" >device.getAvailableInputIds</span>
        ? device.getAvailableInputIds()
        : [];
      const formulas = <span class="cstat-no" title="statement not covered" >Array.isArray(device.formulas) ? device.formulas : [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      for (const key in values) {</span>
<span class="cstat-no" title="statement not covered" >        if (!inputs.includes(key.toLowerCase())) {</span>
<span class="cstat-no" title="statement not covered" >          this.logger.warn(</span>
            `setAllInputsFromFlow: JSON contains invalid input key '${key}' for this device.`,
          );
        }
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      for (const inputId of inputs) {</span>
        const key = <span class="cstat-no" title="statement not covered" >inputId.toUpperCase();</span>
<span class="cstat-no" title="statement not covered" >        if (values.hasOwnProperty(key)) {</span>
<span class="cstat-no" title="statement not covered" >          formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            if (</span>
              f &amp;&amp;
              f.enabled &amp;&amp;
              typeof device.setInputForFormula === "function"
            ) {
              const boolValue =
<span class="cstat-no" title="statement not covered" >                values[key] === true ||</span>
                String(values[key]).toLowerCase() === "true";
<span class="cstat-no" title="statement not covered" >              promises.push(</span>
                device.setInputForFormula(f.id, inputId, boolValue),
              );
            }
          });
        }
      }
<span class="cstat-no" title="statement not covered" >      await Promise.all(promises);</span>
<span class="cstat-no" title="statement not covered" >      this.logger.info(`set_all_inputs OK for ${device.getName()}`, {});</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error(`Error set_all_inputs for ${device.getName()}`, e);</span>
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync setInputForAllFormulasFromFlow(args, state) {
    const device = <span class="cstat-no" title="statement not covered" >this;</span>
    const inputId = <span class="cstat-no" title="statement not covered" >args.input?.id;</span>
    const value = <span class="cstat-no" title="statement not covered" >args.value === "true";</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.logger.flow(</span>
      `Executing Action 'set_input' on device '${device.getName()}'`,
      {
        input: inputId,
        value,
      },
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!inputId || !this.availableInputs.includes(inputId)) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.error(</span>
        `RunListener set_input: Invalid or missing input ID: ${inputId}. Available: ${this.availableInputs.join(",")}`,
      );
&nbsp;
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
&nbsp;
    const promises = <span class="cstat-no" title="statement not covered" >[];</span>
    const formulas = <span class="cstat-no" title="statement not covered" >Array.isArray(device.formulas) ? device.formulas : [];</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        if (f &amp;&amp; f.enabled &amp;&amp; typeof device.setInputForFormula === "function") {</span>
<span class="cstat-no" title="statement not covered" >          promises.push(device.setInputForFormula(f.id, inputId, value));</span>
        }
      });
<span class="cstat-no" title="statement not covered" >      await Promise.all(promises);</span>
<span class="cstat-no" title="statement not covered" >      this.logger.info(`set_input OK for ${device.getName()}`, {});</span>
<span class="cstat-no" title="statement not covered" >      return true;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error(`Error set_input for ${device.getName()}`, e);</span>
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tAvailableInputIds() {
    const allInputs = <span class="cstat-no" title="statement not covered" >["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];</span>
    const count = <span class="cstat-no" title="statement not covered" >Math.max(</span>
      0,
      Math.min(allInputs.length, Number(this.numInputs) || 0),
    );
<span class="cstat-no" title="statement not covered" >    return allInputs.slice(0, count);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tAvailableInputsUppercase() {
<span class="cstat-no" title="statement not covered" >    return this.availableInputs.map(<span class="fstat-no" title="function not covered" >(i</span>) =&gt; <span class="cstat-no" title="statement not covered" >i.toUpperCase())</span>;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  in</span>itializeFormulas() {
<span class="cstat-no" title="statement not covered" >    this.logger.debug("Initializing formulas from settings...", {});</span>
    const settings = <span class="cstat-no" title="statement not covered" >this.getSettings();</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
      const formulasData = <span class="cstat-no" title="statement not covered" >settings.formulas</span>
        ? JSON.parse(settings.formulas)
        : [];
<span class="cstat-no" title="statement not covered" >      if (!Array.isArray(formulasData)) {</span>
<span class="cstat-no" title="statement not covered" >        this.logger.error("errors.invalid_formula", {</span>
          message: "Formulas setting is not an array.",
        });
<span class="cstat-no" title="statement not covered" >        this.formulas = [];</span>
      } else {
<span class="cstat-no" title="statement not covered" >        this.formulas = formulasData.map(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; (<span class="cstat-no" title="statement not covered" >{</span></span>
          id: f.id || `formula_${Math.random().toString(16).slice(2)}`,
          name: f.name || this.homey.__("formula.unnamed_formula"),
          expression: f.expression || "",
          enabled: f.enabled !== false,
          timeout: Number(f.timeout) || 0,
          firstImpression: !!f.firstImpression,
          inputStates: {},
          lockedInputs: {},
          lastInputTime: null,
          result: null,
          timedOut: false,
        }));
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      this.formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>ormula) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        this.availableInputs.forEach(<span class="fstat-no" title="function not covered" >(i</span>d) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >          formula.inputStates[id] = "undefined";</span>
<span class="cstat-no" title="statement not covered" >          formula.lockedInputs[id] = false;</span>
        });
      });
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error("errors.invalid_formula", e);</span>
<span class="cstat-no" title="statement not covered" >      this.formulas = [];</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (this.formulas.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        "No valid formulas found in settings, creating default.",
        {},
      );
      const defaultFormula = <span class="cstat-no" title="statement not covered" >{</span>
        id: "formula_1",
        name: this.homey.__
          ? this.homey.__("formula.default_name_alt")
          : this.homey.__("formula.default_name_alt_fallback"),
        expression: this.getDefaultExpression(),
        enabled: true,
        timeout: 0,
        firstImpression: false,
        inputStates: {},
        lockedInputs: {},
        lastInputTime: null,
        result: null,
        timedOut: false,
      };
&nbsp;
<span class="cstat-no" title="statement not covered" >      this.availableInputs.forEach(<span class="fstat-no" title="function not covered" >(i</span>d) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        defaultFormula.inputStates[id] = "undefined";</span>
<span class="cstat-no" title="statement not covered" >        defaultFormula.lockedInputs[id] = false;</span>
      });
<span class="cstat-no" title="statement not covered" >      this.formulas = [defaultFormula];</span>
    }
<span class="cstat-no" title="statement not covered" >    this.logger.info("formula.initialized", {</span>
      count: this.formulas.length,
    });
<span class="cstat-no" title="statement not covered" >    this.formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>) =&gt;</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("formula.details", {</span>
        name: f.name,
        expression: f.expression,
        enabled: f.enabled,
      }),
    );
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tDefaultExpression() {
    const inputs = <span class="cstat-no" title="statement not covered" >this.getAvailableInputsUppercase();</span>
<span class="cstat-no" title="statement not covered" >    return inputs.length &gt; 0 ? inputs.join(" AND ") : "true";</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tFormulas() {
<span class="cstat-no" title="statement not covered" >    return this.formulas</span>
      .filter(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.enabled)</span>
      .map(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; (<span class="cstat-no" title="statement not covered" >{</span>
        id: f.id,
        name: f.name,
        description:
          f.expression ||
          (this.homey.__
            ? this.homey.__("formula.no_expression")
            : "(no expression)"),
      }));
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tInputOptions() {
<span class="cstat-no" title="statement not covered" >    return this.getAvailableInputsUppercase().map(<span class="fstat-no" title="function not covered" >(i</span>nput) =&gt; (<span class="cstat-no" title="statement not covered" >{</span></span>
      id: input.toLowerCase(),
      name: input,
    }));
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  va</span>lidateExpression(expression) {
<span class="cstat-no" title="statement not covered" >    this.logger.debug(`Validating expression: "${expression || ""}"`, {});</span>
<span class="cstat-no" title="statement not covered" >    if (</span>
      !expression ||
      typeof expression !== "string" ||
      expression.trim() === ""
    ) {
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.expression_empty")
          : "Expression empty",
      };
    }
    const upper = <span class="cstat-no" title="statement not covered" >expression.toUpperCase();</span>
    const inputs = <span class="cstat-no" title="statement not covered" >this.getAvailableInputsUppercase();</span>
<span class="cstat-no" title="statement not covered" >    if (!inputs.length &amp;&amp; upper.match(/[A-J]/)) {</span>
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: false,
        error: this.homey.__("formula.error_inputs_used_but_none_configured"),
      };
    }
    let validationInputs = <span class="cstat-no" title="statement not covered" >inputs.length &gt; 0 ? inputs : ["TEMP_VALIDATION_VAR"];</span>
&nbsp;
    const tokenRe = <span class="cstat-no" title="statement not covered" >new RegExp(</span>
      `\\b(?:AND|OR|XOR|NOT)\\b|&amp;&amp;|\\|\\||\\^|!=|\\*|\\+|!|\\(|\\)|\\b(?:${validationInputs.join("|")})\\b|\\bTRUE\\b|\\bFALSE\\b`,
      "gi",
    );
    const stripped = <span class="cstat-no" title="statement not covered" >upper.replace(tokenRe, "").replace(/\s+/g, "");</span>
<span class="cstat-no" title="statement not covered" >    if (stripped.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.invalid_tokens", {
              tokens: stripped,
            })
          : `Invalid tokens: ${stripped}`,
      };
    }
&nbsp;
    let depth = <span class="cstat-no" title="statement not covered" >0;</span>
<span class="cstat-no" title="statement not covered" >    for (const ch of upper) {</span>
<span class="cstat-no" title="statement not covered" >      if (ch === "(") <span class="cstat-no" title="statement not covered" >depth++;</span></span>
      else <span class="cstat-no" title="statement not covered" >if (ch === ")") <span class="cstat-no" title="statement not covered" >depth--;</span></span>
<span class="cstat-no" title="statement not covered" >      if (depth &lt; 0)</span>
<span class="cstat-no" title="statement not covered" >        return {</span>
          valid: false,
          error: this.homey.__("formula.error_unbalanced_parentheses"),
        };
    }
<span class="cstat-no" title="statement not covered" >    if (depth !== 0)</span>
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: false,
        error: "Unbalanced parentheses",
      };
&nbsp;
    // Attempt to evaluate with dummy values to catch syntax errors
    let testExpr = <span class="cstat-no" title="statement not covered" >upper</span>
      .replace(/\bAND\b|&amp;|\*/gi, "&amp;&amp;") // Normalize AND operators
      .replace(/\bOR\b|\||\+/gi, "||") // Normalize OR operators
      .replace(/\bXOR\b|\^|!=/gi, "!=") // Normalize XOR operators (use JS !=)
      .replace(/\bNOT\b|!/gi, "!"); // Normalize NOT operator
&nbsp;
    // Replace input letters and TRUE/FALSE with boolean literals
<span class="cstat-no" title="statement not covered" >    for (const key of validationInputs) {</span>
      const re = <span class="cstat-no" title="statement not covered" >new RegExp(`\\b${key}\\b`, "g");</span>
<span class="cstat-no" title="statement not covered" >      testExpr = testExpr.replace(re, "true");</span>
    }
<span class="cstat-no" title="statement not covered" >    testExpr = testExpr</span>
      .replace(/\bTRUE\b/g, "true")
      .replace(/\bFALSE\b/g, "false");
&nbsp;
    // Try creating a function to catch final syntax errors
<span class="cstat-no" title="statement not covered" >    try {</span>
      const fn = <span class="cstat-no" title="statement not covered" >new Function(`return ${testExpr};`);</span>
<span class="cstat-no" title="statement not covered" >      fn(); </span>// Execute once to be sure
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: true,
      };
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      return {</span>
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.invalid_syntax", {
              message: e.message,
            })
          : `Syntax error: ${e.message}`,
      };
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  pa</span>rseExpression(expression) {
<span class="cstat-no" title="statement not covered" >    if (!expression || typeof expression !== "string") <span class="cstat-no" title="statement not covered" >return [];</span></span>
    const inputs = <span class="cstat-no" title="statement not covered" >this.getAvailableInputsUppercase();</span>
<span class="cstat-no" title="statement not covered" >    if (!inputs.length) <span class="cstat-no" title="statement not covered" >return [];</span></span>
    const varRe = <span class="cstat-no" title="statement not covered" >new RegExp(`\\b(${inputs.join("|")})\\b`, "gi");</span>
    const matches = <span class="cstat-no" title="statement not covered" >expression.match(varRe);</span>
<span class="cstat-no" title="statement not covered" >    return matches ? [...new Set(matches.map(<span class="fstat-no" title="function not covered" >(c</span>) =&gt; <span class="cstat-no" title="statement not covered" >c.toUpperCase())</span>)] : [];</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync setInputForFormula(formulaId, inputId, value) {
<span class="cstat-no" title="statement not covered" >    if (this._isDeleting) <span class="cstat-no" title="statement not covered" >return null;</span></span>
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    if (!formula) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("errors.invalid_formula", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!this.availableInputs.includes(inputId)) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn(</span>
        `setInputForFormula: Invalid inputId '${inputId}' for device with ${this.numInputs} inputs.`,
      );
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (</span>
      formula.firstImpression === true &amp;&amp;
      formula.lockedInputs[inputId] === true
    ) {
<span class="cstat-no" title="statement not covered" >      this.logger.debug("inputs.locked", {</span>
        input: inputId.toUpperCase(),
        formula: formula.name,
      });
<span class="cstat-no" title="statement not covered" >      return formula.result;</span>
    }
&nbsp;
    const oldValue = <span class="cstat-no" title="statement not covered" >formula.inputStates[inputId];</span>
<span class="cstat-no" title="statement not covered" >    formula.inputStates[inputId] =</span>
      value === true || value === false ? value : "undefined";
<span class="cstat-no" title="statement not covered" >    formula.timedOut = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (</span>
      formula.firstImpression === true &amp;&amp;
      formula.inputStates[inputId] !== "undefined" &amp;&amp;
      formula.lockedInputs[inputId] !== true
    ) {
<span class="cstat-no" title="statement not covered" >      formula.lockedInputs[inputId] = true;</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("inputs.locked_at_value", {</span>
        input: inputId.toUpperCase(),
        value: formula.inputStates[inputId],
        formula: formula.name,
      });
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (formula.inputStates[inputId] !== "undefined") {</span>
<span class="cstat-no" title="statement not covered" >      formula.lastInputTime = Date.now();</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return await this.evaluateFormula(formulaId, false);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync evaluateFormula(formulaId, resetLocks = <span class="branch-0 cbranch-no" title="branch not covered" >false)</span> {
<span class="cstat-no" title="statement not covered" >    if (this._isDeleting) <span class="cstat-no" title="statement not covered" >return null;</span></span>
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    if (!formula || !formula.enabled) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("errors.invalid_formula", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (resetLocks === true &amp;&amp; formula.firstImpression === true) {</span>
<span class="cstat-no" title="statement not covered" >      this.availableInputs.forEach(<span class="fstat-no" title="function not covered" >(i</span>d) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        formula.lockedInputs[id] = false;</span>
      });
<span class="cstat-no" title="statement not covered" >      this.logger.debug("inputs.unlocked", {</span>
        formula: formula.name,
      });
    }
&nbsp;
    const expression = <span class="cstat-no" title="statement not covered" >formula.expression;</span>
<span class="cstat-no" title="statement not covered" >    if (!expression) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("formula.invalid", {</span>
        formula: formula.name,
        reason: "No expression",
      });
<span class="cstat-no" title="statement not covered" >      formula.result = null;</span>
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
&nbsp;
    const requiredInputs = <span class="cstat-no" title="statement not covered" >this.parseExpression(expression);</span>
    const allDefined = <span class="cstat-no" title="statement not covered" >requiredInputs.every(</span>
<span class="fstat-no" title="function not covered" >      (i</span>nputIdUpper) =&gt;
<span class="cstat-no" title="statement not covered" >        formula.inputStates[inputIdUpper.toLowerCase()] !== "undefined",</span>
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!allDefined &amp;&amp; requiredInputs.length &gt; 0) {</span>
      const missing = <span class="cstat-no" title="statement not covered" >requiredInputs.filter(</span>
<span class="fstat-no" title="function not covered" >        (i</span>d) =&gt; <span class="cstat-no" title="statement not covered" >formula.inputStates[id.toLowerCase()] === "undefined",</span>
      );
<span class="cstat-no" title="statement not covered" >      this.logger.debug("inputs.waiting", {</span>
        formula: formula.name,
        missing: missing.join(", "),
      });
<span class="cstat-no" title="statement not covered" >      return formula.result;</span>
    }
&nbsp;
    const values = <span class="cstat-no" title="statement not covered" >{};</span>
<span class="cstat-no" title="statement not covered" >    this.availableInputs.forEach(<span class="fstat-no" title="function not covered" >(i</span>d) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      values[id.toUpperCase()] = formula.inputStates[id];</span>
    });
<span class="cstat-no" title="statement not covered" >    this.logger.debug("formula.evaluating", {</span>
      formula: formula.name,
    });
&nbsp;
    let evalExpression = <span class="cstat-no" title="statement not covered" >expression</span>
      .replace(/\bAND\b|&amp;|\*/gi, "&amp;&amp;")
      .replace(/\bOR\b|\||\+/gi, "||")
      .replace(/\bXOR\b|\^|!=/gi, "!=")
      .replace(/\bNOT\b|!/gi, "!");
&nbsp;
<span class="cstat-no" title="statement not covered" >    for (const key in values) {</span>
<span class="cstat-no" title="statement not covered" >      if (requiredInputs.includes(key) &amp;&amp; values[key] !== "undefined") {</span>
        const re = <span class="cstat-no" title="statement not covered" >new RegExp(`\\b${key}\\b`, "gi");</span>
<span class="cstat-no" title="statement not covered" >        evalExpression = evalExpression.replace(</span>
          re,
          String(values[key] === true),
        );
      }
    }
<span class="cstat-no" title="statement not covered" >    evalExpression = evalExpression</span>
      .replace(/\bTRUE\b/gi, "true")
      .replace(/\bFALSE\b/gi, "false");
<span class="cstat-no" title="statement not covered" >    this.logger.formula("formula.evaluating_expression", {</span>
      expression: expression,
      evalExpression: evalExpression,
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
      const evaluateFn = <span class="cstat-no" title="statement not covered" >new Function(`return ${evalExpression};`);</span>
      const result = <span class="cstat-no" title="statement not covered" >!!evaluateFn();</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("formula.evaluated", {</span>
        formula: formula.name,
        result: result,
      });
&nbsp;
      const previous = <span class="cstat-no" title="statement not covered" >formula.result;</span>
<span class="cstat-no" title="statement not covered" >      formula.result = result;</span>
<span class="cstat-no" title="statement not covered" >      formula.timedOut = false;</span>
&nbsp;
      const overallDeviceState = <span class="cstat-no" title="statement not covered" >this.formulas.some(</span>
<span class="fstat-no" title="function not covered" >        (f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.enabled &amp;&amp; f.result === true,</span>
      );
      const currentOnOffState = <span class="cstat-no" title="statement not covered" >this.getCapabilityValue("onoff");</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (currentOnOffState !== overallDeviceState) {</span>
<span class="cstat-no" title="statement not covered" >        await this.safeSetCapabilityValue("onoff", overallDeviceState);</span>
<span class="cstat-no" title="statement not covered" >        await this.safeSetCapabilityValue("alarm_generic", overallDeviceState);</span>
<span class="cstat-no" title="statement not covered" >        this.logger.info(</span>
          `Overall device capability updated: ${overallDeviceState}`,
        );
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (result !== previous &amp;&amp; previous !== null) {</span>
        const triggerData = <span class="cstat-no" title="statement not covered" >{</span>
          formula: {
            id: formula.id,
            name: formula.name,
          },
        };
        const state = <span class="cstat-no" title="statement not covered" >{</span>
          formulaId: formula.id,
        };
        const triggerCardId = <span class="cstat-no" title="statement not covered" >result</span>
          ? "formula_changed_to_true"
          : "formula_changed_to_false";
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >          this.logger.flow(</span>
            `Triggering flow '${triggerCardId}' for '${formula.name}'`,
          );
          const card = <span class="cstat-no" title="statement not covered" >this.homey.flow.getDeviceTriggerCard(triggerCardId);</span>
<span class="cstat-no" title="statement not covered" >          await card.trigger(this, triggerData, state);</span>
        } catch (e) {
<span class="cstat-no" title="statement not covered" >          if (e.message &amp;&amp; e.message.includes("Invalid Flow Card ID")) {</span>
<span class="cstat-no" title="statement not covered" >            this.logger.error(</span>
              `FATAL: Trigger card '${triggerCardId}' not found. Check app.json/compose flow definitions.`,
              e,
            );
          } else {
<span class="cstat-no" title="statement not covered" >            this.logger.error("flow.trigger_error", e);</span>
          }
        }
      }
<span class="cstat-no" title="statement not covered" >      return result;</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      this.logger.error("errors.evaluation_failed", e);</span>
<span class="cstat-no" title="statement not covered" >      formula.result = null;</span>
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync evaluateAllFormulas() {
<span class="cstat-no" title="statement not covered" >    this.logger.info("notifications.reevaluating", {});</span>
    const results = <span class="cstat-no" title="statement not covered" >[];</span>
<span class="cstat-no" title="statement not covered" >    for (const formula of this.formulas) {</span>
<span class="cstat-no" title="statement not covered" >      if (formula.enabled) {</span>
<span class="cstat-no" title="statement not covered" >        if (formula.firstImpression) {</span>
<span class="cstat-no" title="statement not covered" >          this.availableInputs.forEach(<span class="fstat-no" title="function not covered" >(i</span>d) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >            formula.lockedInputs[id] = false;</span>
          });
<span class="cstat-no" title="statement not covered" >          this.logger.debug("inputs.unlocked", {</span>
            formula: formula.name,
          });
        }
        const result = <span class="cstat-no" title="statement not covered" >await this.evaluateFormula(formula.id, false);</span>
<span class="cstat-no" title="statement not covered" >        results.push({</span>
          id: formula.id,
          name: formula.name,
          result,
        });
      } else {
<span class="cstat-no" title="statement not covered" >        formula.result = null;</span>
      }
    }
    const overallDeviceState = <span class="cstat-no" title="statement not covered" >this.formulas.some(</span>
<span class="fstat-no" title="function not covered" >      (f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.enabled &amp;&amp; f.result === true,</span>
    );
<span class="cstat-no" title="statement not covered" >    if (this.getCapabilityValue("onoff") !== overallDeviceState) {</span>
<span class="cstat-no" title="statement not covered" >      await this.safeSetCapabilityValue("onoff", overallDeviceState);</span>
<span class="cstat-no" title="statement not covered" >      await this.safeSetCapabilityValue("alarm_generic", overallDeviceState);</span>
<span class="cstat-no" title="statement not covered" >      this.logger.info(</span>
        `Overall device capability updated after re-evaluating all: ${overallDeviceState}`,
      );
    }
<span class="cstat-no" title="statement not covered" >    this.logger.debug("formula.evaluated_count", {</span>
      count: results.length,
    });
<span class="cstat-no" title="statement not covered" >    return results;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync evaluateAllFormulasInitial() {
<span class="cstat-no" title="statement not covered" >    this.logger.info("evaluation.initial_complete", {});</span>
    let anyEvaluated = <span class="cstat-no" title="statement not covered" >false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    for (const formula of this.formulas) {</span>
<span class="cstat-no" title="statement not covered" >      if (!formula.enabled) {</span>
<span class="cstat-no" title="statement not covered" >        formula.result = null;</span>
<span class="cstat-no" title="statement not covered" >        continue;</span>
      }
      const expr = <span class="cstat-no" title="statement not covered" >formula.expression;</span>
<span class="cstat-no" title="statement not covered" >      if (!expr) {</span>
<span class="cstat-no" title="statement not covered" >        formula.result = null;</span>
<span class="cstat-no" title="statement not covered" >        continue;</span>
      }
      const required = <span class="cstat-no" title="statement not covered" >this.parseExpression(expr);</span>
<span class="cstat-no" title="statement not covered" >      this.logger.debug("debug.checking_formula", {</span>
        name: formula.name,
        expression: expr,
      });
<span class="cstat-no" title="statement not covered" >      if (required.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >        this.logger.debug("debug.required_inputs", {</span>
          inputs: required.join(", "),
        });
      }
&nbsp;
      const allDefined = <span class="cstat-no" title="statement not covered" >required.every(</span>
<span class="fstat-no" title="function not covered" >        (i</span>d) =&gt; <span class="cstat-no" title="statement not covered" >formula.inputStates[id.toLowerCase()] !== "undefined",</span>
      );
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (allDefined || required.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >        this.logger.debug("formula.all_inputs_defined", {</span>
          name: formula.name,
        });
        const result = <span class="cstat-no" title="statement not covered" >await this.evaluateFormula(formula.id);</span>
<span class="cstat-no" title="statement not covered" >        if (result !== null) {</span>
<span class="cstat-no" title="statement not covered" >          anyEvaluated = true;</span>
        }
      } else {
        const missing = <span class="cstat-no" title="statement not covered" >required.filter(</span>
<span class="fstat-no" title="function not covered" >          (i</span>d) =&gt; <span class="cstat-no" title="statement not covered" >formula.inputStates[id.toLowerCase()] === "undefined",</span>
        );
<span class="cstat-no" title="statement not covered" >        this.logger.debug("inputs.waiting", {</span>
          formula: formula.name,
          missing: missing.join(", "),
        });
<span class="cstat-no" title="statement not covered" >        formula.result = null;</span>
      }
    }
&nbsp;
    const finalState = <span class="cstat-no" title="statement not covered" >this.formulas.some(</span>
<span class="fstat-no" title="function not covered" >      (f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.enabled &amp;&amp; f.result === true,</span>
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.logger.info(</span>
      `Initial evaluation complete. Final state: ${finalState} (anyEvaluated=${anyEvaluated})`,
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    await this.safeSetCapabilityValue("onoff", finalState);</span>
<span class="cstat-no" title="statement not covered" >    await this.safeSetCapabilityValue("alarm_generic", finalState);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (</span>
      !anyEvaluated &amp;&amp;
      this.formulas.some(
<span class="fstat-no" title="function not covered" >        (f</span>) =&gt;
<span class="cstat-no" title="statement not covered" >          f.enabled &amp;&amp;</span>
          f.expression &amp;&amp;
          this.parseExpression(f.expression).length &gt; 0,
      )
    ) {
<span class="cstat-no" title="statement not covered" >      this.logger.warn("evaluation.no_formulas_ready", {});</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tFormulaResult(formulaId) {
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    if (!formula) {</span>
<span class="cstat-no" title="statement not covered" >      this.logger.warn("errors.invalid_formula", {</span>
        formulaId,
      });
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.logger.debug("formula.result_debug", {</span>
      name: formula.name,
      id: formulaId,
      result: formula.result,
      type: typeof formula.result,
    });
<span class="cstat-no" title="statement not covered" >    return formula.result === true;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ha</span>sFormulaTimedOut(formulaId) {
    const formula = <span class="cstat-no" title="statement not covered" >this.formulas.find(<span class="fstat-no" title="function not covered" >(f</span>) =&gt; <span class="cstat-no" title="statement not covered" >f.id === formulaId)</span>;</span>
<span class="cstat-no" title="statement not covered" >    return !!(formula &amp;&amp; formula.timedOut);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  st</span>artTimeoutChecks() {
<span class="cstat-no" title="statement not covered" >    if (this.timeoutInterval) {</span>
<span class="cstat-no" title="statement not covered" >      clearInterval(this.timeoutInterval);</span>
    }
<span class="cstat-no" title="statement not covered" >    this.timeoutInterval = setInterval(<span class="fstat-no" title="function not covered" >()</span> =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      this.checkTimeouts();</span>
    }, 1000);
<span class="cstat-no" title="statement not covered" >    this.logger.debug("Started timeout check interval.", {});</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ch</span>eckTimeouts() {
    const now = <span class="cstat-no" title="statement not covered" >Date.now();</span>
<span class="cstat-no" title="statement not covered" >    this.formulas.forEach(<span class="fstat-no" title="function not covered" >(f</span>ormula) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      if (</span>
        !formula.enabled ||
        formula.timedOut ||
        !formula.timeout ||
        formula.timeout &lt;= 0
      )
<span class="cstat-no" title="statement not covered" >        return;</span>
&nbsp;
      const requiredInputs = <span class="cstat-no" title="statement not covered" >this.parseExpression(formula.expression);</span>
<span class="cstat-no" title="statement not covered" >      if (</span>
        requiredInputs.length === 0 ||
        requiredInputs.every(
<span class="fstat-no" title="function not covered" >          (i</span>d) =&gt; <span class="cstat-no" title="statement not covered" >formula.inputStates[id.toLowerCase()] !== "undefined",</span>
        )
      ) {
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (!formula.lastInputTime) <span class="cstat-no" title="statement not covered" >return;</span></span>
&nbsp;
      const timeoutMs = <span class="cstat-no" title="statement not covered" >formula.timeout * 1000;</span>
      const elapsed = <span class="cstat-no" title="statement not covered" >now - formula.lastInputTime;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (elapsed &gt;= timeoutMs) {</span>
<span class="cstat-no" title="statement not covered" >        this.logger.info("formula.timed_out", {</span>
          name: formula.name,
          timeout: formula.timeout,
        });
<span class="cstat-no" title="statement not covered" >        formula.timedOut = true;</span>
&nbsp;
        const triggerData = <span class="cstat-no" title="statement not covered" >{</span>
          formula: {
            id: formula.id,
            name: formula.name,
          },
        };
        const state = <span class="cstat-no" title="statement not covered" >{</span>
          formulaId: formula.id,
        };
<span class="cstat-no" title="statement not covered" >        try {</span>
          const card = <span class="cstat-no" title="statement not covered" >this.homey.flow.getDeviceTriggerCard("formula_timeout");</span>
<span class="cstat-no" title="statement not covered" >          card</span>
            .trigger(this, triggerData, state)
            .catch(<span class="fstat-no" title="function not covered" >(e</span>rr) =&gt; <span class="cstat-no" title="statement not covered" >this.logger.error("timeout.error", err))</span>;
        } catch (e) {
<span class="cstat-no" title="statement not covered" >          if (e.message &amp;&amp; e.message.includes("Invalid Flow Card ID")) {</span>
<span class="cstat-no" title="statement not covered" >            this.logger.error(</span>
              `FATAL: Trigger card 'formula_timeout' not found. Check app.json/compose flow definitions.`,
              e,
            );
          } else {
<span class="cstat-no" title="statement not covered" >            this.logger.error(</span>
              this.homey.__("errors.trigger_timeout_card_failed"),
              e,
            );
          }
        }
      }
    });
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onSettings({ oldSettings, newSettings, changedKeys }) {
<span class="cstat-no" title="statement not covered" >    this.logger.info("settings.changed", {</span>
      keys: changedKeys.join(", "),
    });
<span class="cstat-no" title="statement not covered" >    if (this.timeoutInterval) {</span>
<span class="cstat-no" title="statement not covered" >      clearInterval(this.timeoutInterval);</span>
<span class="cstat-no" title="statement not covered" >      this.timeoutInterval = null;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    await this.initializeFormulas();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (changedKeys.includes("formulas")) {</span>
<span class="cstat-no" title="statement not covered" >      for (const formula of this.formulas) {</span>
        const validation = <span class="cstat-no" title="statement not covered" >this.validateExpression(formula.expression);</span>
<span class="cstat-no" title="statement not covered" >        if (!validation.valid) {</span>
<span class="cstat-no" title="statement not covered" >          this.homey.notifications</span>
            .createNotification({
              excerpt: this.homey.__("notifications.invalid_formula_config", {
                formulaName: formula.name,
                error: validation.error,
              }),
            })
            .catch(<span class="fstat-no" title="function not covered" >(e</span>) =&gt;
<span class="cstat-no" title="statement not covered" >              this.logger.error(</span>
                this.homey.__("errors.notification_failed_invalid_formula"),
                e,
              ),
            );
<span class="cstat-no" title="statement not covered" >          this.logger.error(</span>
            `Invalid formula configuration saved for '${formula.name}'`,
            {
              error: validation.error,
            },
          );
        }
      }
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    await this.evaluateAllFormulasInitial();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.startTimeoutChecks();</span>
<span class="cstat-no" title="statement not covered" >    this.logger.info("settings.applied", {});</span>
&nbsp;
    const formatSettings = <span class="cstat-no" title="statement not covered" >{};</span>
    let needsFormat = <span class="cstat-no" title="statement not covered" >false;</span>
<span class="cstat-no" title="statement not covered" >    if (changedKeys.includes("formulas")) {</span>
<span class="cstat-no" title="statement not covered" >      try {</span>
        const parsed = <span class="cstat-no" title="statement not covered" >JSON.parse(newSettings.formulas);</span>
        const formatted = <span class="cstat-no" title="statement not covered" >JSON.stringify(parsed, null, 2);</span>
<span class="cstat-no" title="statement not covered" >        if (formatted !== newSettings.formulas) {</span>
<span class="cstat-no" title="statement not covered" >          formatSettings.formulas = formatted;</span>
<span class="cstat-no" title="statement not covered" >          needsFormat = true;</span>
<span class="cstat-no" title="statement not covered" >          this.logger.debug("settings.formatting", {</span>
            type: "formulas",
          });
        }
      } catch (e) {}
    }
<span class="cstat-no" title="statement not covered" >    if (needsFormat) {</span>
<span class="cstat-no" title="statement not covered" >      setTimeout(<span class="fstat-no" title="function not covered" >as</span>ync () =&gt; {</span>
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >          this.logger.debug("settings.applying_formatted", {});</span>
<span class="cstat-no" title="statement not covered" >          await this.setSettings(formatSettings);</span>
<span class="cstat-no" title="statement not covered" >          this.logger.info("settings.auto_formatted", {});</span>
        } catch (e) {
<span class="cstat-no" title="statement not covered" >          this.logger.error("settings.format_failed", e);</span>
        }
      }, 500);
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  as</span>ync onDeleted() {
<span class="cstat-no" title="statement not covered" >    this._isDeleting = true;</span>
<span class="cstat-no" title="statement not covered" >    this.logger.device("device.deleted_cleanup", {</span>
      name: this.getName(),
    });
<span class="cstat-no" title="statement not covered" >    if (this.timeoutInterval) {</span>
<span class="cstat-no" title="statement not covered" >      clearInterval(this.timeoutInterval);</span>
<span class="cstat-no" title="statement not covered" >      this.timeoutInterval = null;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.logger.info("device.cleanup_complete", {</span>
      name: this.getName(),
    });
  }
};</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.381Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/lcov-report/BaseLogicUnit.js.html ---

--- START: coverage/lcov-report/block-navigation.js (sha256=cd8db34b1fbeb973354a93f8b4133c7c7eab34cdda9429a0434be91384783b7e, bytes=2655) ---
/* eslint-disable */
var jumpToCode = (function init() {
    // Classes of code we would like to highlight in the file view
    var missingCoverageClasses = ['.cbranch-no', '.cstat-no', '.fstat-no'];

    // Elements to highlight in the file listing view
    var fileListingElements = ['td.pct.low'];

    // We don't want to select elements that are direct descendants of another match
    var notSelector = ':not(' + missingCoverageClasses.join('):not(') + ') > '; // becomes `:not(a):not(b) > `

    // Selector that finds elements on the page to which we can jump
    var selector =
        fileListingElements.join(', ') +
        ', ' +
        notSelector +
        missingCoverageClasses.join(', ' + notSelector); // becomes `:not(a):not(b) > a, :not(a):not(b) > b`

    // The NodeList of matching elements
    var missingCoverageElements = document.querySelectorAll(selector);

    var currentIndex;

    function toggleClass(index) {
        missingCoverageElements
            .item(currentIndex)
            .classList.remove('highlighted');
        missingCoverageElements.item(index).classList.add('highlighted');
    }

    function makeCurrent(index) {
        toggleClass(index);
        currentIndex = index;
        missingCoverageElements.item(index).scrollIntoView({
            behavior: 'smooth',
            block: 'center',
            inline: 'center'
        });
    }

    function goToPrevious() {
        var nextIndex = 0;
        if (typeof currentIndex !== 'number' || currentIndex === 0) {
            nextIndex = missingCoverageElements.length - 1;
        } else if (missingCoverageElements.length > 1) {
            nextIndex = currentIndex - 1;
        }

        makeCurrent(nextIndex);
    }

    function goToNext() {
        var nextIndex = 0;

        if (
            typeof currentIndex === 'number' &&
            currentIndex < missingCoverageElements.length - 1
        ) {
            nextIndex = currentIndex + 1;
        }

        makeCurrent(nextIndex);
    }

    return function jump(event) {
        if (
            document.getElementById('fileSearch') === document.activeElement &&
            document.activeElement != null
        ) {
            // if we're currently focused on the search input, we don't want to navigate
            return;
        }

        switch (event.which) {
            case 78: // n
            case 74: // j
                goToNext();
                break;
            case 66: // b
            case 75: // k
            case 80: // p
                goToPrevious();
                break;
        }
    };
})();
window.addEventListener('keydown', jumpToCode);
--- END: coverage/lcov-report/block-navigation.js ---

--- START: coverage/lcov-report/FormulaEvaluator.js.html (sha256=b789098f77ac13b9c5f20c9fe2bc8b83e1b31c075a9172b743392a96e85e1542, bytes=46014) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for FormulaEvaluator.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> FormulaEvaluator.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">97.5% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>156/160</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">96.03% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>97/101</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">100% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>10/10</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">97.5% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>156/160</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line high'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a>
<a name='L253'></a><a href='#L253'>253</a>
<a name='L254'></a><a href='#L254'>254</a>
<a name='L255'></a><a href='#L255'>255</a>
<a name='L256'></a><a href='#L256'>256</a>
<a name='L257'></a><a href='#L257'>257</a>
<a name='L258'></a><a href='#L258'>258</a>
<a name='L259'></a><a href='#L259'>259</a>
<a name='L260'></a><a href='#L260'>260</a>
<a name='L261'></a><a href='#L261'>261</a>
<a name='L262'></a><a href='#L262'>262</a>
<a name='L263'></a><a href='#L263'>263</a>
<a name='L264'></a><a href='#L264'>264</a>
<a name='L265'></a><a href='#L265'>265</a>
<a name='L266'></a><a href='#L266'>266</a>
<a name='L267'></a><a href='#L267'>267</a>
<a name='L268'></a><a href='#L268'>268</a>
<a name='L269'></a><a href='#L269'>269</a>
<a name='L270'></a><a href='#L270'>270</a>
<a name='L271'></a><a href='#L271'>271</a>
<a name='L272'></a><a href='#L272'>272</a>
<a name='L273'></a><a href='#L273'>273</a>
<a name='L274'></a><a href='#L274'>274</a>
<a name='L275'></a><a href='#L275'>275</a>
<a name='L276'></a><a href='#L276'>276</a>
<a name='L277'></a><a href='#L277'>277</a>
<a name='L278'></a><a href='#L278'>278</a>
<a name='L279'></a><a href='#L279'>279</a>
<a name='L280'></a><a href='#L280'>280</a>
<a name='L281'></a><a href='#L281'>281</a>
<a name='L282'></a><a href='#L282'>282</a>
<a name='L283'></a><a href='#L283'>283</a>
<a name='L284'></a><a href='#L284'>284</a>
<a name='L285'></a><a href='#L285'>285</a>
<a name='L286'></a><a href='#L286'>286</a>
<a name='L287'></a><a href='#L287'>287</a>
<a name='L288'></a><a href='#L288'>288</a>
<a name='L289'></a><a href='#L289'>289</a>
<a name='L290'></a><a href='#L290'>290</a>
<a name='L291'></a><a href='#L291'>291</a>
<a name='L292'></a><a href='#L292'>292</a>
<a name='L293'></a><a href='#L293'>293</a>
<a name='L294'></a><a href='#L294'>294</a>
<a name='L295'></a><a href='#L295'>295</a>
<a name='L296'></a><a href='#L296'>296</a>
<a name='L297'></a><a href='#L297'>297</a>
<a name='L298'></a><a href='#L298'>298</a>
<a name='L299'></a><a href='#L299'>299</a>
<a name='L300'></a><a href='#L300'>300</a>
<a name='L301'></a><a href='#L301'>301</a>
<a name='L302'></a><a href='#L302'>302</a>
<a name='L303'></a><a href='#L303'>303</a>
<a name='L304'></a><a href='#L304'>304</a>
<a name='L305'></a><a href='#L305'>305</a>
<a name='L306'></a><a href='#L306'>306</a>
<a name='L307'></a><a href='#L307'>307</a>
<a name='L308'></a><a href='#L308'>308</a>
<a name='L309'></a><a href='#L309'>309</a>
<a name='L310'></a><a href='#L310'>310</a>
<a name='L311'></a><a href='#L311'>311</a>
<a name='L312'></a><a href='#L312'>312</a>
<a name='L313'></a><a href='#L313'>313</a>
<a name='L314'></a><a href='#L314'>314</a>
<a name='L315'></a><a href='#L315'>315</a>
<a name='L316'></a><a href='#L316'>316</a>
<a name='L317'></a><a href='#L317'>317</a>
<a name='L318'></a><a href='#L318'>318</a>
<a name='L319'></a><a href='#L319'>319</a>
<a name='L320'></a><a href='#L320'>320</a>
<a name='L321'></a><a href='#L321'>321</a>
<a name='L322'></a><a href='#L322'>322</a>
<a name='L323'></a><a href='#L323'>323</a>
<a name='L324'></a><a href='#L324'>324</a>
<a name='L325'></a><a href='#L325'>325</a>
<a name='L326'></a><a href='#L326'>326</a>
<a name='L327'></a><a href='#L327'>327</a>
<a name='L328'></a><a href='#L328'>328</a>
<a name='L329'></a><a href='#L329'>329</a>
<a name='L330'></a><a href='#L330'>330</a>
<a name='L331'></a><a href='#L331'>331</a>
<a name='L332'></a><a href='#L332'>332</a>
<a name='L333'></a><a href='#L333'>333</a>
<a name='L334'></a><a href='#L334'>334</a>
<a name='L335'></a><a href='#L335'>335</a>
<a name='L336'></a><a href='#L336'>336</a>
<a name='L337'></a><a href='#L337'>337</a>
<a name='L338'></a><a href='#L338'>338</a>
<a name='L339'></a><a href='#L339'>339</a>
<a name='L340'></a><a href='#L340'>340</a>
<a name='L341'></a><a href='#L341'>341</a>
<a name='L342'></a><a href='#L342'>342</a>
<a name='L343'></a><a href='#L343'>343</a>
<a name='L344'></a><a href='#L344'>344</a>
<a name='L345'></a><a href='#L345'>345</a>
<a name='L346'></a><a href='#L346'>346</a>
<a name='L347'></a><a href='#L347'>347</a>
<a name='L348'></a><a href='#L348'>348</a>
<a name='L349'></a><a href='#L349'>349</a>
<a name='L350'></a><a href='#L350'>350</a>
<a name='L351'></a><a href='#L351'>351</a>
<a name='L352'></a><a href='#L352'>352</a>
<a name='L353'></a><a href='#L353'>353</a>
<a name='L354'></a><a href='#L354'>354</a>
<a name='L355'></a><a href='#L355'>355</a>
<a name='L356'></a><a href='#L356'>356</a>
<a name='L357'></a><a href='#L357'>357</a>
<a name='L358'></a><a href='#L358'>358</a>
<a name='L359'></a><a href='#L359'>359</a>
<a name='L360'></a><a href='#L360'>360</a>
<a name='L361'></a><a href='#L361'>361</a>
<a name='L362'></a><a href='#L362'>362</a>
<a name='L363'></a><a href='#L363'>363</a>
<a name='L364'></a><a href='#L364'>364</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">52x</span>
<span class="cline-any cline-yes">52x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">108x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">102x</span>
<span class="cline-any cline-yes">102x</span>
<span class="cline-any cline-yes">102x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">102x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">630x</span>
<span class="cline-any cline-yes">242x</span>
<span class="cline-any cline-yes">242x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">388x</span>
<span class="cline-any cline-yes">25x</span>
<span class="cline-any cline-yes">25x</span>
<span class="cline-any cline-yes">25x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">363x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">339x</span>
<span class="cline-any cline-yes">263x</span>
<span class="cline-any cline-yes">263x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">261x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">259x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">333x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">330x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">327x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">324x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">321x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">319x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">317x</span>
<span class="cline-any cline-yes">302x</span>
<span class="cline-any cline-yes">302x</span>
<span class="cline-any cline-yes">526x</span>
<span class="cline-any cline-yes">526x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">302x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">302x</span>
<span class="cline-any cline-yes">72x</span>
<span class="cline-any cline-yes">230x</span>
<span class="cline-any cline-yes">16x</span>
<span class="cline-any cline-yes">214x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">212x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-yes">200x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-yes">194x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">190x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">187x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">299x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15x</span>
<span class="cline-any cline-yes">11x</span>
<span class="cline-any cline-yes">11x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9x</span>
<span class="cline-any cline-yes">9x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">93x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">71x</span>
<span class="cline-any cline-yes">71x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">71x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">70x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">64x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">61x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">94x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">88x</span>
<span class="cline-any cline-yes">20x</span>
<span class="cline-any cline-yes">20x</span>
<span class="cline-any cline-yes">20x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">88x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">114x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">108x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">108x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">117x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">113x</span>
<span class="cline-any cline-yes">71x</span>
<span class="cline-any cline-yes">71x</span>
<span class="cline-any cline-yes">69x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">111x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">200x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">188x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">188x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">186x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">186x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21x</span>
<span class="cline-any cline-yes">21x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">162x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">150x</span>
<span class="cline-any cline-yes">149x</span>
<span class="cline-any cline-yes">149x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">270x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">270x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">153x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">150x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11x</span>
<span class="cline-any cline-yes">11x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">92x</span>
<span class="cline-any cline-yes">92x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">90x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">62x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">67x</span>
<span class="cline-any cline-yes">60x</span>
<span class="cline-any cline-yes">54x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * AST-Based Formula Evaluator
 * 
 * Securely evaluates boolean formulas without using eval() or new Function()
 * by parsing expressions into an Abstract Syntax Tree (AST) and evaluating it.
 * 
 * Supported operators:
 * - AND: AND, &amp;&amp;, *, &amp;
 * - OR: OR, ||, +, |
 * - XOR: XOR, ^, !=
 * - NOT: NOT, !
 * 
 * Supported values:
 * - Variables: A-J (case-insensitive)
 * - Literals: TRUE, FALSE, true, false, 1, 0
 * - Parentheses: ( )
 */
&nbsp;
class FormulaEvaluator {
  constructor() {
    this.tokens = [];
    this.position = 0;
  }
&nbsp;
  /**
   * Tokenize the expression into tokens
   * @param {string} expression - The formula expression to tokenize
   * @returns {Array} Array of tokens
   */
  tokenize(expression) {
    if (!expression || typeof expression !== 'string') {
      throw new Error('Expression must be a non-empty string');
    }
&nbsp;
    const tokens = [];
    const expr = expression.trim();
    let i = 0;
&nbsp;
    while (i &lt; expr.length) {
      // Skip whitespace
      if (/\s/.test(expr[i])) {
        i++;
        continue;
      }
&nbsp;
      // Parentheses
      if (expr[i] === '(') {
        tokens.push({ type: 'LPAREN', value: '(' });
        i++;
        continue;
      }
      if (expr[i] === ')') {
        tokens.push({ type: 'RPAREN', value: ')' });
        i++;
        continue;
      }
&nbsp;
      // Two-character operators
      if (i &lt; expr.length - 1) {
        const twoChar = expr.substring(i, i + 2);
        if (twoChar === '&amp;&amp;') {
          tokens.push({ type: 'AND', value: '&amp;&amp;' });
          i += 2;
          continue;
        }
        if (twoChar === '||') {
          tokens.push({ type: 'OR', value: '||' });
          i += 2;
          continue;
        }
        if (twoChar === '!=') {
          tokens.push({ type: 'XOR', value: '!=' });
          i += 2;
          continue;
        }
      }
&nbsp;
      // Single-character operators
      if (expr[i] === '&amp;') {
        tokens.push({ type: 'AND', value: '&amp;' });
        i++;
        continue;
      }
      if (expr[i] === '*') {
        tokens.push({ type: 'AND', value: '*' });
        i++;
        continue;
      }
      if (expr[i] === '|') {
        tokens.push({ type: 'OR', value: '|' });
        i++;
        continue;
      }
      if (expr[i] === '+') {
        tokens.push({ type: 'OR', value: '+' });
        i++;
        continue;
      }
      if (expr[i] === '^') {
        tokens.push({ type: 'XOR', value: '^' });
        i++;
        continue;
      }
      if (expr[i] === '!') {
        tokens.push({ type: 'NOT', value: '!' });
        i++;
        continue;
      }
&nbsp;
      // Keywords and variables
      if (/[a-zA-Z]/.test(expr[i])) {
        let word = '';
        while (i &lt; expr.length &amp;&amp; /[a-zA-Z0-9]/.test(expr[i])) {
          word += expr[i];
          i++;
        }
&nbsp;
        const upper = word.toUpperCase();
        
        // Keywords
        if (upper === 'AND') {
          tokens.push({ type: 'AND', value: 'AND' });
        } else if (upper === 'OR') {
          tokens.push({ type: 'OR', value: 'OR' });
        } else if (upper === 'XOR') {
          tokens.push({ type: 'XOR', value: 'XOR' });
        } else if (upper === 'NOT') {
          tokens.push({ type: 'NOT', value: 'NOT' });
        } else if (upper === 'TRUE') {
          tokens.push({ type: 'LITERAL', value: true });
        } else if (upper === 'FALSE') {
          tokens.push({ type: 'LITERAL', value: false });
        } else if (/^[A-J]$/.test(upper)) {
          // Variables A-J
          tokens.push({ type: 'VARIABLE', value: upper });
        } else {
          throw new Error(`Invalid identifier: ${word}`);
        }
        continue;
      }
&nbsp;
      // Numbers (0 or 1 as boolean literals)
      if (/[0-9]/.test(expr[i])) {
        const num = expr[i];
        if (num === '0') {
          tokens.push({ type: 'LITERAL', value: false });
        } else if (num === '1') {
          tokens.push({ type: 'LITERAL', value: true });
        } else {
          throw new Error(`Invalid number: ${num}. Only 0 and 1 are allowed.`);
        }
        i++;
        continue;
      }
&nbsp;
      // Unknown character
      throw new Error(`Unexpected character: ${expr[i]}`);
    }
&nbsp;
    return tokens;
  }
&nbsp;
  /**
   * Parse tokens into an Abstract Syntax Tree (AST)
   * @param {Array} tokens - Array of tokens from tokenize()
   * @returns {Object} AST root node
   */
  parse(tokens) {
    this.tokens = tokens;
    this.position = 0;
&nbsp;
    if (tokens.length === 0) {
      throw new Error('Empty expression');
    }
&nbsp;
    const ast = this.parseOr();
&nbsp;
    if (this.position &lt; this.tokens.length) {
      throw new Error(`Unexpected token: ${this.tokens[this.position].value}`);
    }
&nbsp;
    return ast;
  }
&nbsp;
  /**
   * Parse OR expressions (lowest precedence)
   */
  parseOr() {
    let left = this.parseXor();
&nbsp;
    while (this.position &lt; this.tokens.length &amp;&amp; this.tokens[this.position].type === 'OR') {
      this.position++;
      const right = this.parseXor();
      left = {
        type: 'BinaryOp',
        operator: 'OR',
        left: left,
        right: right
      };
    }
&nbsp;
    return left;
  }
&nbsp;
  /**
   * Parse XOR expressions
   */
  parseXor() {
    let left = this.parseAnd();
&nbsp;
    while (this.position &lt; this.tokens.length &amp;&amp; this.tokens[this.position].type === 'XOR') {
      this.position++;
      const right = this.parseAnd();
      left = {
        type: 'BinaryOp',
        operator: 'XOR',
        left: left,
        right: right
      };
    }
&nbsp;
    return left;
  }
&nbsp;
  /**
   * Parse AND expressions
   */
  parseAnd() {
    let left = this.parseUnary();
&nbsp;
    while (this.position &lt; this.tokens.length &amp;&amp; this.tokens[this.position].type === 'AND') {
      this.position++;
      const right = this.parseUnary();
      left = {
        type: 'BinaryOp',
        operator: 'AND',
        left: left,
        right: right
      };
    }
&nbsp;
    return left;
  }
&nbsp;
  /**
   * Parse unary expressions (NOT)
   */
  parseUnary() {
    if (this.position &lt; this.tokens.length &amp;&amp; this.tokens[this.position].type === 'NOT') {
      this.position++;
      const operand = this.parseUnary(); // Allow multiple NOTs
      return {
        type: 'UnaryOp',
        operator: 'NOT',
        operand: operand
      };
    }
&nbsp;
    return this.parsePrimary();
  }
&nbsp;
  /**
   * Parse primary expressions (literals, variables, parentheses)
   */
  parsePrimary() {
    if (this.position &gt;= this.tokens.length) {
      throw new Error('Unexpected end of expression');
    }
&nbsp;
    const token = this.tokens[this.position];
&nbsp;
    // Parentheses
    if (token.type === 'LPAREN') {
      this.position++;
      const expr = this.parseOr();
      if (this.position &gt;= this.tokens.length || this.tokens[this.position].type !== 'RPAREN') {
        throw new Error('Unbalanced parentheses');
      }
      this.position++;
      return expr;
    }
&nbsp;
    // Literals
    if (token.type === 'LITERAL') {
      this.position++;
      return {
        type: 'Literal',
        value: token.value
      };
    }
&nbsp;
    // Variables
    if (token.type === 'VARIABLE') {
      this.position++;
      return {
        type: 'Variable',
        name: token.value
      };
    }
&nbsp;
    throw new Error(`Unexpected token: ${token.value}`);
  }
&nbsp;
  /**
   * Evaluate an AST with given variable values
   * @param {Object} ast - The AST to evaluate
   * @param {Object} variables - Object mapping variable names to boolean values
   * @returns {boolean} The result of the evaluation
   */
  evaluateAST(ast, variables = {}) {
    <span class="missing-if-branch" title="if path not taken" >I</span>if (!ast) {
<span class="cstat-no" title="statement not covered" >      throw new Error('Invalid AST');</span>
    }
&nbsp;
    switch (ast.type) {
      case 'Literal':
        return !!ast.value;
&nbsp;
      case 'Variable':
        if (!(ast.name in variables)) {
          throw new Error(`Undefined variable: ${ast.name}`);
        }
        return !!variables[ast.name];
&nbsp;
      case 'UnaryOp':
        <span class="missing-if-branch" title="else path not taken" >E</span>if (ast.operator === 'NOT') {
          return !this.evaluateAST(ast.operand, variables);
        }
<span class="cstat-no" title="statement not covered" >        throw new Error(`Unknown unary operator: ${ast.operator}`);</span>
&nbsp;
      case 'BinaryOp':
        const left = this.evaluateAST(ast.left, variables);
        const right = this.evaluateAST(ast.right, variables);
&nbsp;
        switch (ast.operator) {
          case 'AND':
            return left &amp;&amp; right;
          case 'OR':
            return left || right;
          case 'XOR':
            return left !== right;
<span class="branch-3 cbranch-no" title="branch not covered" >          default:</span>
<span class="cstat-no" title="statement not covered" >            throw new Error(`Unknown binary operator: ${ast.operator}`);</span>
        }
&nbsp;
<span class="branch-4 cbranch-no" title="branch not covered" >      default:</span>
<span class="cstat-no" title="statement not covered" >        throw new Error(`Unknown AST node type: ${ast.type}`);</span>
    }
  }
&nbsp;
  /**
   * Validate and evaluate an expression
   * @param {string} expression - The formula expression
   * @param {Object} variables - Object mapping variable names to boolean values
   * @returns {boolean} The result of the evaluation
   */
  evaluate(expression, variables = {}) {
    const tokens = this.tokenize(expression);
    const ast = this.parse(tokens);
    return this.evaluateAST(ast, variables);
  }
}
&nbsp;
module.exports = FormulaEvaluator;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.381Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/lcov-report/FormulaEvaluator.js.html ---

--- START: coverage/lcov-report/index.html (sha256=c89a51057fecde424f7493411919ead7bba384397a7a5b2922ad1aa7cc69069d, bytes=7049) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for All files</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1>All files</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">16.79% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>156/929</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">16.75% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>97/579</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">8.06% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>10/124</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">17.25% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>156/904</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <div class="pad1">
<table class="coverage-summary">
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="BaseLogicDriver.js"><a href="BaseLogicDriver.js.html">BaseLogicDriver.js</a></td>
	<td data-value="0" class="pic low">
	<div class="chart"><div class="cover-fill" style="width: 0%"></div><div class="cover-empty" style="width: 100%"></div></div>
	</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="178" class="abs low">0/178</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="107" class="abs low">0/107</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="19" class="abs low">0/19</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="174" class="abs low">0/174</td>
	</tr>

<tr>
	<td class="file low" data-value="BaseLogicUnit.js"><a href="BaseLogicUnit.js.html">BaseLogicUnit.js</a></td>
	<td data-value="0" class="pic low">
	<div class="chart"><div class="cover-fill" style="width: 0%"></div><div class="cover-empty" style="width: 100%"></div></div>
	</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="459" class="abs low">0/459</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="283" class="abs low">0/283</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="67" class="abs low">0/67</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="438" class="abs low">0/438</td>
	</tr>

<tr>
	<td class="file high" data-value="FormulaEvaluator.js"><a href="FormulaEvaluator.js.html">FormulaEvaluator.js</a></td>
	<td data-value="97.5" class="pic high">
	<div class="chart"><div class="cover-fill" style="width: 97%"></div><div class="cover-empty" style="width: 3%"></div></div>
	</td>
	<td data-value="97.5" class="pct high">97.5%</td>
	<td data-value="160" class="abs high">156/160</td>
	<td data-value="96.03" class="pct high">96.03%</td>
	<td data-value="101" class="abs high">97/101</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="10" class="abs high">10/10</td>
	<td data-value="97.5" class="pct high">97.5%</td>
	<td data-value="160" class="abs high">156/160</td>
	</tr>

<tr>
	<td class="file low" data-value="Logger.js"><a href="Logger.js.html">Logger.js</a></td>
	<td data-value="0" class="pic low">
	<div class="chart"><div class="cover-fill" style="width: 0%"></div><div class="cover-empty" style="width: 100%"></div></div>
	</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="131" class="abs low">0/131</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="88" class="abs low">0/88</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="28" class="abs low">0/28</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="131" class="abs low">0/131</td>
	</tr>

<tr>
	<td class="file low" data-value="loggerConfig.js"><a href="loggerConfig.js.html">loggerConfig.js</a></td>
	<td data-value="0" class="pic low">
	<div class="chart"><div class="cover-fill" style="width: 0%"></div><div class="cover-empty" style="width: 100%"></div></div>
	</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="1" class="abs low">0/1</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">0/0</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">0/0</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="1" class="abs low">0/1</td>
	</tr>

</tbody>
</table>
</div>
                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.381Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/lcov-report/index.html ---

--- START: coverage/lcov-report/Logger.js.html (sha256=a9d0b300ce126dcaf19a2b30fceaf6b3d52ae4b301230125eb5ffc73bd1b73ea, bytes=62673) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for Logger.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> Logger.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/131</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/88</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/28</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/131</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a>
<a name='L253'></a><a href='#L253'>253</a>
<a name='L254'></a><a href='#L254'>254</a>
<a name='L255'></a><a href='#L255'>255</a>
<a name='L256'></a><a href='#L256'>256</a>
<a name='L257'></a><a href='#L257'>257</a>
<a name='L258'></a><a href='#L258'>258</a>
<a name='L259'></a><a href='#L259'>259</a>
<a name='L260'></a><a href='#L260'>260</a>
<a name='L261'></a><a href='#L261'>261</a>
<a name='L262'></a><a href='#L262'>262</a>
<a name='L263'></a><a href='#L263'>263</a>
<a name='L264'></a><a href='#L264'>264</a>
<a name='L265'></a><a href='#L265'>265</a>
<a name='L266'></a><a href='#L266'>266</a>
<a name='L267'></a><a href='#L267'>267</a>
<a name='L268'></a><a href='#L268'>268</a>
<a name='L269'></a><a href='#L269'>269</a>
<a name='L270'></a><a href='#L270'>270</a>
<a name='L271'></a><a href='#L271'>271</a>
<a name='L272'></a><a href='#L272'>272</a>
<a name='L273'></a><a href='#L273'>273</a>
<a name='L274'></a><a href='#L274'>274</a>
<a name='L275'></a><a href='#L275'>275</a>
<a name='L276'></a><a href='#L276'>276</a>
<a name='L277'></a><a href='#L277'>277</a>
<a name='L278'></a><a href='#L278'>278</a>
<a name='L279'></a><a href='#L279'>279</a>
<a name='L280'></a><a href='#L280'>280</a>
<a name='L281'></a><a href='#L281'>281</a>
<a name='L282'></a><a href='#L282'>282</a>
<a name='L283'></a><a href='#L283'>283</a>
<a name='L284'></a><a href='#L284'>284</a>
<a name='L285'></a><a href='#L285'>285</a>
<a name='L286'></a><a href='#L286'>286</a>
<a name='L287'></a><a href='#L287'>287</a>
<a name='L288'></a><a href='#L288'>288</a>
<a name='L289'></a><a href='#L289'>289</a>
<a name='L290'></a><a href='#L290'>290</a>
<a name='L291'></a><a href='#L291'>291</a>
<a name='L292'></a><a href='#L292'>292</a>
<a name='L293'></a><a href='#L293'>293</a>
<a name='L294'></a><a href='#L294'>294</a>
<a name='L295'></a><a href='#L295'>295</a>
<a name='L296'></a><a href='#L296'>296</a>
<a name='L297'></a><a href='#L297'>297</a>
<a name='L298'></a><a href='#L298'>298</a>
<a name='L299'></a><a href='#L299'>299</a>
<a name='L300'></a><a href='#L300'>300</a>
<a name='L301'></a><a href='#L301'>301</a>
<a name='L302'></a><a href='#L302'>302</a>
<a name='L303'></a><a href='#L303'>303</a>
<a name='L304'></a><a href='#L304'>304</a>
<a name='L305'></a><a href='#L305'>305</a>
<a name='L306'></a><a href='#L306'>306</a>
<a name='L307'></a><a href='#L307'>307</a>
<a name='L308'></a><a href='#L308'>308</a>
<a name='L309'></a><a href='#L309'>309</a>
<a name='L310'></a><a href='#L310'>310</a>
<a name='L311'></a><a href='#L311'>311</a>
<a name='L312'></a><a href='#L312'>312</a>
<a name='L313'></a><a href='#L313'>313</a>
<a name='L314'></a><a href='#L314'>314</a>
<a name='L315'></a><a href='#L315'>315</a>
<a name='L316'></a><a href='#L316'>316</a>
<a name='L317'></a><a href='#L317'>317</a>
<a name='L318'></a><a href='#L318'>318</a>
<a name='L319'></a><a href='#L319'>319</a>
<a name='L320'></a><a href='#L320'>320</a>
<a name='L321'></a><a href='#L321'>321</a>
<a name='L322'></a><a href='#L322'>322</a>
<a name='L323'></a><a href='#L323'>323</a>
<a name='L324'></a><a href='#L324'>324</a>
<a name='L325'></a><a href='#L325'>325</a>
<a name='L326'></a><a href='#L326'>326</a>
<a name='L327'></a><a href='#L327'>327</a>
<a name='L328'></a><a href='#L328'>328</a>
<a name='L329'></a><a href='#L329'>329</a>
<a name='L330'></a><a href='#L330'>330</a>
<a name='L331'></a><a href='#L331'>331</a>
<a name='L332'></a><a href='#L332'>332</a>
<a name='L333'></a><a href='#L333'>333</a>
<a name='L334'></a><a href='#L334'>334</a>
<a name='L335'></a><a href='#L335'>335</a>
<a name='L336'></a><a href='#L336'>336</a>
<a name='L337'></a><a href='#L337'>337</a>
<a name='L338'></a><a href='#L338'>338</a>
<a name='L339'></a><a href='#L339'>339</a>
<a name='L340'></a><a href='#L340'>340</a>
<a name='L341'></a><a href='#L341'>341</a>
<a name='L342'></a><a href='#L342'>342</a>
<a name='L343'></a><a href='#L343'>343</a>
<a name='L344'></a><a href='#L344'>344</a>
<a name='L345'></a><a href='#L345'>345</a>
<a name='L346'></a><a href='#L346'>346</a>
<a name='L347'></a><a href='#L347'>347</a>
<a name='L348'></a><a href='#L348'>348</a>
<a name='L349'></a><a href='#L349'>349</a>
<a name='L350'></a><a href='#L350'>350</a>
<a name='L351'></a><a href='#L351'>351</a>
<a name='L352'></a><a href='#L352'>352</a>
<a name='L353'></a><a href='#L353'>353</a>
<a name='L354'></a><a href='#L354'>354</a>
<a name='L355'></a><a href='#L355'>355</a>
<a name='L356'></a><a href='#L356'>356</a>
<a name='L357'></a><a href='#L357'>357</a>
<a name='L358'></a><a href='#L358'>358</a>
<a name='L359'></a><a href='#L359'>359</a>
<a name='L360'></a><a href='#L360'>360</a>
<a name='L361'></a><a href='#L361'>361</a>
<a name='L362'></a><a href='#L362'>362</a>
<a name='L363'></a><a href='#L363'>363</a>
<a name='L364'></a><a href='#L364'>364</a>
<a name='L365'></a><a href='#L365'>365</a>
<a name='L366'></a><a href='#L366'>366</a>
<a name='L367'></a><a href='#L367'>367</a>
<a name='L368'></a><a href='#L368'>368</a>
<a name='L369'></a><a href='#L369'>369</a>
<a name='L370'></a><a href='#L370'>370</a>
<a name='L371'></a><a href='#L371'>371</a>
<a name='L372'></a><a href='#L372'>372</a>
<a name='L373'></a><a href='#L373'>373</a>
<a name='L374'></a><a href='#L374'>374</a>
<a name='L375'></a><a href='#L375'>375</a>
<a name='L376'></a><a href='#L376'>376</a>
<a name='L377'></a><a href='#L377'>377</a>
<a name='L378'></a><a href='#L378'>378</a>
<a name='L379'></a><a href='#L379'>379</a>
<a name='L380'></a><a href='#L380'>380</a>
<a name='L381'></a><a href='#L381'>381</a>
<a name='L382'></a><a href='#L382'>382</a>
<a name='L383'></a><a href='#L383'>383</a>
<a name='L384'></a><a href='#L384'>384</a>
<a name='L385'></a><a href='#L385'>385</a>
<a name='L386'></a><a href='#L386'>386</a>
<a name='L387'></a><a href='#L387'>387</a>
<a name='L388'></a><a href='#L388'>388</a>
<a name='L389'></a><a href='#L389'>389</a>
<a name='L390'></a><a href='#L390'>390</a>
<a name='L391'></a><a href='#L391'>391</a>
<a name='L392'></a><a href='#L392'>392</a>
<a name='L393'></a><a href='#L393'>393</a>
<a name='L394'></a><a href='#L394'>394</a>
<a name='L395'></a><a href='#L395'>395</a>
<a name='L396'></a><a href='#L396'>396</a>
<a name='L397'></a><a href='#L397'>397</a>
<a name='L398'></a><a href='#L398'>398</a>
<a name='L399'></a><a href='#L399'>399</a>
<a name='L400'></a><a href='#L400'>400</a>
<a name='L401'></a><a href='#L401'>401</a>
<a name='L402'></a><a href='#L402'>402</a>
<a name='L403'></a><a href='#L403'>403</a>
<a name='L404'></a><a href='#L404'>404</a>
<a name='L405'></a><a href='#L405'>405</a>
<a name='L406'></a><a href='#L406'>406</a>
<a name='L407'></a><a href='#L407'>407</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";
&nbsp;
/**
 * Advanced Logger for Homey Apps
 *
 * NEW: Supports global configuration via loggerConfig.js
 * FIX: Manually performs variable substitution as this.homey.__() fails to do so.
 * FIX (User): Added log level (e.g., [INFO ], [DEBUG]) to the console output.
 * FIX (User): Moved log level to the front of the output.
 * FIX (User): Fixed 'minLevel = 0 || ...' bug.
 * FIX (User): Added config loaded logging and static cache.
 * FIX (User): Moved config log to appear *after* the banner.
 * FIX (User): Fixed bug in _getDefaultConfig catch block return shape.
 * FIX (User): Fixed null-logging in banner().
 * FIX (User): Reverted info() to log as INFO. Code should be explicit.
 */
&nbsp;
class Logger {
  static LEVELS = <span class="cstat-no" title="statement not covered" >{</span>
    DEBUG: 0,
    INFO: 1,
    WARN: 2,
    ERROR: 3,
    NONE: 4,
  };
&nbsp;
  static SYMBOLS = <span class="cstat-no" title="statement not covered" >{</span>
    DEBUG: "🔍",
    INFO: "✅",
    WARN: "⚠️",
    ERROR: "❌",
    TIMER: "⏱️",
    FORMULA: "📐",
    INPUT: "📥",
    OUTPUT: "📤",
    DEVICE: "🔌",
    API: "🌐",
    FLOW: "🔄",
  };
&nbsp;
  static _globalConfig = <span class="cstat-no" title="statement not covered" >null;</span>
&nbsp;
  /**
   * Get default configuration
   * Tries to load from loggerConfig.js, falls back to defaults
   * @private
   */
<span class="fstat-no" title="function not covered" >  st</span>atic _getDefaultConfig() {
    // Use cache if available
<span class="cstat-no" title="statement not covered" >    if (Logger._globalConfig) {</span>
<span class="cstat-no" title="statement not covered" >      return Logger._globalConfig;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
      const config = <span class="cstat-no" title="statement not covered" >require("./loggerConfig");</span>
<span class="cstat-no" title="statement not covered" >      Logger._globalConfig = { config: config, source: "custom" };</span>
<span class="cstat-no" title="statement not covered" >      return Logger._globalConfig;</span>
    } catch (e) {
      const defaultConfig = <span class="cstat-no" title="statement not covered" >{</span>
        defaultLevel: "DEBUG", // ENDRET: Fallback til DEBUG
        categoryLevels: {},
        options: {},
      };
      // --- FIKS: Returner samme objektform som i 'try' ---
<span class="cstat-no" title="statement not covered" >      Logger._globalConfig = { config: defaultConfig, source: "default" };</span>
<span class="cstat-no" title="statement not covered" >      return Logger._globalConfig;</span>
      // --- SLUTT FIKS ---
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  co</span>nstructor(context, category = <span class="branch-0 cbranch-no" title="branch not covered" >"App",</span> options = <span class="branch-0 cbranch-no" title="branch not covered" >{})</span> {
    // --- FIKS I KONSTRUKTØR ---
    // Finner det *ekte* homey-objektet uansett om 'context' er App eller Device
<span class="cstat-no" title="statement not covered" >    if (context &amp;&amp; context.homey) {</span>
<span class="cstat-no" title="statement not covered" >      this.homey = context.homey;</span>
    } else <span class="cstat-no" title="statement not covered" >if (context &amp;&amp; context.app &amp;&amp; context.app.homey) {</span>
      // Fallback
<span class="cstat-no" title="statement not covered" >      this.homey = context.app.homey;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      console.error(</span>
        `Logger: Could not find 'homey' object on context for category '${category}'.`,
      );
      // Oppretter en dummy for å unngå krasj
<span class="cstat-no" title="statement not covered" >      this.homey = {</span>
        app: { log: console.log, error: console.error },
        __: <span class="fstat-no" title="function not covered" >(s</span>) =&gt; <span class="cstat-no" title="statement not covered" >s,</span> // Returnerer bare nøkkelen
      };
    }
    // --- SLUTT FIKS ---
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.context = context;</span>
<span class="cstat-no" title="statement not covered" >    this.category = category;</span>
&nbsp;
    // Load global config
    const { config: globalConfig, source: configSource } =
<span class="cstat-no" title="statement not covered" >      Logger._getDefaultConfig();</span>
<span class="cstat-no" title="statement not covered" >    this.configSource = configSource; </span>// Lagrer kilden for bruk i banner()
&nbsp;
    // Determine log level (priority: options &gt; categoryLevels &gt; defaultLevel)
    let level = <span class="cstat-no" title="statement not covered" >options.level;</span>
<span class="cstat-no" title="statement not covered" >    if (!level &amp;&amp; globalConfig.categoryLevels[category]) {</span>
<span class="cstat-no" title="statement not covered" >      level = globalConfig.categoryLevels[category];</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!level) {</span>
<span class="cstat-no" title="statement not covered" >      level = globalConfig.defaultLevel || "DEBUG"; </span>// ENDRET: Fallback til DEBUG
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.options = {</span>
      level: level.toUpperCase(),
      timestamps:
        options.timestamps || globalConfig.options.timestamps || false,
      colors: options.colors || globalConfig.options.colors || false,
    }; // --- FIKS: Manglende } lagt til ---
&nbsp;
    // --- FIKS: Korrekt sjekk for 0 (DEBUG) ---
<span class="cstat-no" title="statement not covered" >    if (Logger.LEVELS[this.options.level] !== undefined) {</span>
<span class="cstat-no" title="statement not covered" >      this.minLevel = Logger.LEVELS[this.options.level];</span>
    } else {
<span class="cstat-no" title="statement not covered" >      this.minLevel = Logger.LEVELS.DEBUG; </span>// Fallback
    }
    // --- SLUTT FIKS ---
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.timers = new Map();</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  se</span>tLevel(level) {
    const upperLevel = <span class="cstat-no" title="statement not covered" >level.toUpperCase();</span>
<span class="cstat-no" title="statement not covered" >    if (Logger.LEVELS[upperLevel] !== undefined) {</span>
<span class="cstat-no" title="statement not covered" >      this.minLevel = Logger.LEVELS[upperLevel];</span>
<span class="cstat-no" title="statement not covered" >      this.options.level = upperLevel;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tLevel() {
<span class="cstat-no" title="statement not covered" >    return this.options.level;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  _s</span>houldLog(level) {
<span class="cstat-no" title="statement not covered" >    return Logger.LEVELS[level] &gt;= this.minLevel;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  _g</span>etPrefix(symbol) {
<span class="cstat-no" title="statement not covered" >    return `${symbol} [${this.category}]`;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  _f</span>ormatMessage(keyOrMessage, data) {
    let message = <span class="cstat-no" title="statement not covered" >keyOrMessage;</span> // Start with the original key/message
&nbsp;
    // 1. Attempt Translation IF it looks like a key and __ exists
<span class="cstat-no" title="statement not covered" >    if (</span>
      typeof keyOrMessage === "string" &amp;&amp;
      keyOrMessage.includes(".") &amp;&amp;
      this.homey &amp;&amp;
      typeof this.homey.__ === "function"
    ) {
<span class="cstat-no" title="statement not covered" >      try {</span>
        const translated = <span class="cstat-no" title="statement not covered" >this.homey.__(keyOrMessage, data);</span>
        // Use translation ONLY if it's a non-empty string and DIFFERENT from the key
<span class="cstat-no" title="statement not covered" >        if (</span>
          typeof translated === "string" &amp;&amp;
          translated.trim() !== "" &amp;&amp;
          translated !== keyOrMessage
        ) {
<span class="cstat-no" title="statement not covered" >          message = translated;</span>
        }
        // If translated is null, undefined, empty, or same as key, 'message' remains keyOrMessage
      } catch (e) {
        // If translation throws error, 'message' remains keyOrMessage
        // console.error(`Logger: Error during this.homey.__ for key '${keyOrMessage}'. Using key.`, e);
      }
    }
&nbsp;
    // 2. Ensure 'message' is now DEFINITELY a string (fallback if translation failed badly)
    let messageStr = <span class="cstat-no" title="statement not covered" >String(message ?? keyOrMessage);</span> // Use keyOrMessage if message became null/undefined
&nbsp;
    // 3. Perform Manual Substitution on the resulting string
<span class="cstat-no" title="statement not covered" >    if (data &amp;&amp; typeof data === "object" &amp;&amp; data !== null) {</span>
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        messageStr = messageStr.replace(/\{([^{}]+)\}/g, <span class="fstat-no" title="function not covered" >(m</span>atch, key) =&gt; {</span>
          // Use value from data if exists and is not null/undefined, otherwise keep placeholder
<span class="cstat-no" title="statement not covered" >          return data.hasOwnProperty(key) &amp;&amp;</span>
            data[key] !== null &amp;&amp;
            data[key] !== undefined
            ? String(data[key]) // Ensure replacement is a string
            : match;
        });
      } catch (e) {
<span class="cstat-no" title="statement not covered" >        console.error(</span>
          `Logger: Manual substitution failed for: "${messageStr}"`,
          e,
        );
        // messageStr remains as it was before substitution attempt
      }
    }
&nbsp;
    // Return the final string
<span class="cstat-no" title="statement not covered" >    return messageStr;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  _l</span>og(level, symbol, keyOrMessage, data) {
<span class="cstat-no" title="statement not covered" >    if (!this._shouldLog(level)) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
    // --- FIKS: Log-nivå lagt til ---
    const levelString = <span class="cstat-no" title="statement not covered" >`[${level.padEnd(5)}]`;</span>
    const prefix = <span class="cstat-no" title="statement not covered" >this._getPrefix(symbol);</span>
    const formattedMessage = <span class="cstat-no" title="statement not covered" >this._formatMessage(keyOrMessage, data);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
      // Bruk ALLTID this.homey.app.log
      // --- FIKS: Flyttet levelString FØRST ---
<span class="cstat-no" title="statement not covered" >      this.homey.app.log(levelString, prefix, formattedMessage);</span>
    } catch (error) {
<span class="cstat-no" title="statement not covered" >      console.error("Logger internal error:", error);</span>
<span class="cstat-no" title="statement not covered" >      console.log(levelString, prefix, formattedMessage); </span>// Fallback til console.log
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  _l</span>ogError(keyOrMessage, error) {
<span class="cstat-no" title="statement not covered" >    if (!this._shouldLog("ERROR")) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
    // --- FIKS: Log-nivå lagt til ---
    const levelString = <span class="cstat-no" title="statement not covered" >`[${"ERROR".padEnd(5)}]`;</span>
&nbsp;
    const prefix = <span class="cstat-no" title="statement not covered" >this._getPrefix(Logger.SYMBOLS.ERROR);</span>
&nbsp;
    // Data-objektet kan være gjemt i 'error' hvis det ikke er en ekte Error
    let data = <span class="cstat-no" title="statement not covered" >error instanceof Error ? null : error;</span>
    const formattedMessage = <span class="cstat-no" title="statement not covered" >this._formatMessage(keyOrMessage, data);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
      // --- FIKS: Flyttet levelString FØRST ---
<span class="cstat-no" title="statement not covered" >      this.homey.app.error(levelString, prefix, formattedMessage);</span>
<span class="cstat-no" title="statement not covered" >      if (error instanceof Error) {</span>
<span class="cstat-no" title="statement not covered" >        this.homey.app.error(error); </span>// Logg stack trace hvis det er en Error
      } else <span class="cstat-no" title="statement not covered" >if (data) {</span>
        // Hvis 'error' bare var data, er den allerede i formattedMessage
      }
    } catch (err) {
<span class="cstat-no" title="statement not covered" >      console.error("Logger internal error (error):", err);</span>
<span class="cstat-no" title="statement not covered" >      console.error(levelString, prefix, formattedMessage);</span>
<span class="cstat-no" title="statement not covered" >      if (error) {</span>
<span class="cstat-no" title="statement not covered" >        console.error(error);</span>
      }
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  de</span>bug(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.DEBUG, message, data);</span>
  }
&nbsp;
  // --- FIKS: info() logger nå som INFO ---
<span class="fstat-no" title="function not covered" >  in</span>fo(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("INFO", Logger.SYMBOLS.INFO, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  wa</span>rn(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("WARN", Logger.SYMBOLS.WARN, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  er</span>ror(message, error) {
<span class="cstat-no" title="statement not covered" >    this._logError(message, error);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  fo</span>rmula(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.FORMULA, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  in</span>put(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.INPUT, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ou</span>tput(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.OUTPUT, message, data);</span>
  }
&nbsp;
  // --- FIKS: device() logger nå som DEBUG ---
<span class="fstat-no" title="function not covered" >  de</span>vice(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.DEVICE, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ap</span>i(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.API, message, data);</span>
  }
&nbsp;
  // --- FIKS: flow() logger nå som DEBUG ---
<span class="fstat-no" title="function not covered" >  fl</span>ow(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.FLOW, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ti</span>meStart(label) {
<span class="cstat-no" title="statement not covered" >    this.timers.set(label, Date.now());</span>
<span class="cstat-no" title="statement not covered" >    if (this._shouldLog("DEBUG")) {</span>
<span class="cstat-no" title="statement not covered" >      this._log("DEBUG", Logger.SYMBOLS.TIMER, `Timer started: ${label}`);</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ti</span>meEnd(label) {
    const startTime = <span class="cstat-no" title="statement not covered" >this.timers.get(label);</span>
<span class="cstat-no" title="statement not covered" >    if (!startTime) {</span>
<span class="cstat-no" title="statement not covered" >      this.warn(`Timer '${label}' was not started`);</span>
<span class="cstat-no" title="statement not covered" >      return 0;</span>
    }
&nbsp;
    const duration = <span class="cstat-no" title="statement not covered" >Date.now() - startTime;</span>
<span class="cstat-no" title="statement not covered" >    this.timers.delete(label);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (this._shouldLog("DEBUG")) {</span>
<span class="cstat-no" title="statement not covered" >      this._log(</span>
        "DEBUG",
        Logger.SYMBOLS.TIMER,
        `Timer '${label}': ${duration}ms`,
      );
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return duration;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  du</span>mp(label, object) {
<span class="cstat-no" title="statement not covered" >    if (!this._shouldLog("DEBUG")) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
      const formatted = <span class="cstat-no" title="statement not covered" >JSON.stringify(object, null, 2);</span>
<span class="cstat-no" title="statement not covered" >      this._log("DEBUG", Logger.SYMBOLS.DEBUG, `${label}:\n${formatted}`);</span>
    } catch (error) {
<span class="cstat-no" title="statement not covered" >      this._log("DEBUG", Logger.SYMBOLS.DEBUG, `${label}:`, object);</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  on</span>ce(key, level, message, data) {
<span class="cstat-no" title="statement not covered" >    if (!this._onceKeys) {</span>
<span class="cstat-no" title="statement not covered" >      this._onceKeys = new Set();</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (this._onceKeys.has(key)) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    this._onceKeys.add(key);</span>
    const method = <span class="cstat-no" title="statement not covered" >level.toLowerCase();</span>
<span class="cstat-no" title="statement not covered" >    if (typeof this[method] === "function") {</span>
<span class="cstat-no" title="statement not covered" >      this[method](message, data);</span>
    } else {
<span class="cstat-no" title="statement not covered" >      console.warn(</span>
        `Logger: Invalid level "${level}" provided to 'once' method.`,
      );
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ch</span>ild(subCategory) {
<span class="cstat-no" title="statement not covered" >    return new Logger(</span>
      this.context,
      `${this.category}:${subCategory}`,
      this.options,
    );
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  se</span>parator() {
<span class="cstat-no" title="statement not covered" >    if (this._shouldLog("DEBUG")) {</span>
<span class="cstat-no" title="statement not covered" >      this._log("DEBUG", "", "─".repeat(50));</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ba</span>nner(message) {
<span class="cstat-no" title="statement not covered" >    if (this._shouldLog("INFO")) {</span>
      const line = <span class="cstat-no" title="statement not covered" >"═".repeat(message.length + 4);</span>
      // Banner kaller logg-funksjonen direkte for å unngå prefiks
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        this.homey.app.log(line);</span>
<span class="cstat-no" title="statement not covered" >        this.homey.app.log(`  ${message}  `);</span>
<span class="cstat-no" title="statement not covered" >        this.homey.app.log(line);</span>
&nbsp;
        // --- FIKS: Bruker this.homey.app.log direkte ---
        // _log() feilet fordi this.homey.__() ikke var klar for strenger
        // som ikke var locale-nøkler på dette tidlige stadiet.
<span class="cstat-no" title="statement not covered" >        if (this.configSource) {</span>
          const configMessage =
<span class="cstat-no" title="statement not covered" >            this.configSource === "custom"</span>
              ? "Loaded custom configuration from ./loggerConfig.js"
              : "Using default log settings (./loggerConfig.js not found)";
&nbsp;
          // Logger med [INFO] og 🔍-symbolet, som du foreslo
          // Bruker this.homey.app.log direkte for å unngå _formatMessage-feil
<span class="cstat-no" title="statement not covered" >          this.homey.app.log(</span>
            `[INFO ] ${Logger.SYMBOLS.DEBUG} [${this.category}]`,
            configMessage,
          );
&nbsp;
          // Nullstill, så den ikke logger dette igjen hvis banner() kalles på nytt
<span class="cstat-no" title="statement not covered" >          this.configSource = null;</span>
        }
        // --- SLUTT FIKS ---
      } catch (e) {
<span class="cstat-no" title="statement not covered" >        console.log(line);</span>
<span class="cstat-no" title="statement not covered" >        console.log(`  ${message}  `);</span>
<span class="cstat-no" title="statement not covered" >        console.log(line);</span>
      }
    }
  }
}
&nbsp;
<span class="cstat-no" title="statement not covered" >module.exports = Logger;</span></pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.381Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/lcov-report/Logger.js.html ---

--- START: coverage/lcov-report/loggerConfig.js.html (sha256=5d22f5446959248e3b978294eacbb83fe7d972bf0ae069da3ef69b5854f434f6, bytes=7889) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for loggerConfig.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> loggerConfig.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">100% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/0</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">100% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/0</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
&nbsp;
/**
 * Global Logger Configuration for Boolean Toolbox
 *
 * This is the central configuration for all logging in the app.
 * Place this file in: lib/loggerConfig.js
 *
 * USAGE:
 * - Adjust `defaultLevel` to change the standard log level for all modules.
 * - Add specific class names to `categoryLevels` for finer control over individual modules.
 * - The Logger will automatically pick up this file if it exists.
 */
<span class="cstat-no" title="statement not covered" >module.exports = {</span>
  // Default log level for any logger not specified below.
  // Options: 'DEBUG', 'INFO', 'WARN', 'ERROR', 'NONE'
  defaultLevel: 'debug',
&nbsp;
  // Override log levels for specific categories (class names).
  // This helps in reducing noise or enabling detailed logs for specific parts of the app.
  categoryLevels: {
    // Example: Show detailed logging for a specific driver during debugging.
    // 'MyDeviceName': 'DEBUG',
&nbsp;
    // Reduce noise from base classes which are generally stable.
    // 'BaseLogicDriver': 'INFO',
    // 'BaseLogicUnit': 'INFO',
&nbsp;
    // Always show important app-level messages.
    // 'App': 'INFO',
  },
&nbsp;
  // Global options (rarely needed).
  options: {
    timestamps: false, // Homey already adds timestamps to its logs.
    colors: false,     // Not supported in the Homey development console.
  },
};
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.381Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/lcov-report/loggerConfig.js.html ---

--- START: coverage/lcov-report/prettify.css (sha256=ea3fe433f9450698ca8a230271688e7aeec12f99c8a7ef6c94379abb38f27823, bytes=676) ---
.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}pre.prettyprint{padding:2px;border:1px solid #888}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}
--- END: coverage/lcov-report/prettify.css ---

--- START: coverage/lcov-report/prettify.js (sha256=fa1b1e1b906ddcfa08b46f161c0f924f506e1a31b4f3e09b8caaa2463ef52c18, bytes=17590) ---
/* eslint-disable */
window.PR_SHOULD_USE_CONTINUATION=true;(function(){var h=["break,continue,do,else,for,if,return,while"];var u=[h,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"];var p=[u,"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"];var l=[p,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"];var x=[p,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"];var R=[x,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"];var r="all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes";var w=[p,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"];var s="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END";var I=[h,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"];var f=[h,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"];var H=[h,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"];var A=[l,R,w,s+I,f,H];var e=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/;var C="str";var z="kwd";var j="com";var O="typ";var G="lit";var L="pun";var F="pln";var m="tag";var E="dec";var J="src";var P="atn";var n="atv";var N="nocode";var M="(?:^^\\.?|[+-]|\\!|\\!=|\\!==|\\#|\\%|\\%=|&|&&|&&=|&=|\\(|\\*|\\*=|\\+=|\\,|\\-=|\\->|\\/|\\/=|:|::|\\;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\@|\\[|\\^|\\^=|\\^\\^|\\^\\^=|\\{|\\||\\|=|\\|\\||\\|\\|=|\\~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*";function k(Z){var ad=0;var S=false;var ac=false;for(var V=0,U=Z.length;V<U;++V){var ae=Z[V];if(ae.ignoreCase){ac=true}else{if(/[a-z]/i.test(ae.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){S=true;ac=false;break}}}var Y={b:8,t:9,n:10,v:11,f:12,r:13};function ab(ah){var ag=ah.charCodeAt(0);if(ag!==92){return ag}var af=ah.charAt(1);ag=Y[af];if(ag){return ag}else{if("0"<=af&&af<="7"){return parseInt(ah.substring(1),8)}else{if(af==="u"||af==="x"){return parseInt(ah.substring(2),16)}else{return ah.charCodeAt(1)}}}}function T(af){if(af<32){return(af<16?"\\x0":"\\x")+af.toString(16)}var ag=String.fromCharCode(af);if(ag==="\\"||ag==="-"||ag==="["||ag==="]"){ag="\\"+ag}return ag}function X(am){var aq=am.substring(1,am.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g"));var ak=[];var af=[];var ao=aq[0]==="^";for(var ar=ao?1:0,aj=aq.length;ar<aj;++ar){var ah=aq[ar];if(/\\[bdsw]/i.test(ah)){ak.push(ah)}else{var ag=ab(ah);var al;if(ar+2<aj&&"-"===aq[ar+1]){al=ab(aq[ar+2]);ar+=2}else{al=ag}af.push([ag,al]);if(!(al<65||ag>122)){if(!(al<65||ag>90)){af.push([Math.max(65,ag)|32,Math.min(al,90)|32])}if(!(al<97||ag>122)){af.push([Math.max(97,ag)&~32,Math.min(al,122)&~32])}}}}af.sort(function(av,au){return(av[0]-au[0])||(au[1]-av[1])});var ai=[];var ap=[NaN,NaN];for(var ar=0;ar<af.length;++ar){var at=af[ar];if(at[0]<=ap[1]+1){ap[1]=Math.max(ap[1],at[1])}else{ai.push(ap=at)}}var an=["["];if(ao){an.push("^")}an.push.apply(an,ak);for(var ar=0;ar<ai.length;++ar){var at=ai[ar];an.push(T(at[0]));if(at[1]>at[0]){if(at[1]+1>at[0]){an.push("-")}an.push(T(at[1]))}}an.push("]");return an.join("")}function W(al){var aj=al.source.match(new RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g"));var ah=aj.length;var an=[];for(var ak=0,am=0;ak<ah;++ak){var ag=aj[ak];if(ag==="("){++am}else{if("\\"===ag.charAt(0)){var af=+ag.substring(1);if(af&&af<=am){an[af]=-1}}}}for(var ak=1;ak<an.length;++ak){if(-1===an[ak]){an[ak]=++ad}}for(var ak=0,am=0;ak<ah;++ak){var ag=aj[ak];if(ag==="("){++am;if(an[am]===undefined){aj[ak]="(?:"}}else{if("\\"===ag.charAt(0)){var af=+ag.substring(1);if(af&&af<=am){aj[ak]="\\"+an[am]}}}}for(var ak=0,am=0;ak<ah;++ak){if("^"===aj[ak]&&"^"!==aj[ak+1]){aj[ak]=""}}if(al.ignoreCase&&S){for(var ak=0;ak<ah;++ak){var ag=aj[ak];var ai=ag.charAt(0);if(ag.length>=2&&ai==="["){aj[ak]=X(ag)}else{if(ai!=="\\"){aj[ak]=ag.replace(/[a-zA-Z]/g,function(ao){var ap=ao.charCodeAt(0);return"["+String.fromCharCode(ap&~32,ap|32)+"]"})}}}}return aj.join("")}var aa=[];for(var V=0,U=Z.length;V<U;++V){var ae=Z[V];if(ae.global||ae.multiline){throw new Error(""+ae)}aa.push("(?:"+W(ae)+")")}return new RegExp(aa.join("|"),ac?"gi":"g")}function a(V){var U=/(?:^|\s)nocode(?:\s|$)/;var X=[];var T=0;var Z=[];var W=0;var S;if(V.currentStyle){S=V.currentStyle.whiteSpace}else{if(window.getComputedStyle){S=document.defaultView.getComputedStyle(V,null).getPropertyValue("white-space")}}var Y=S&&"pre"===S.substring(0,3);function aa(ab){switch(ab.nodeType){case 1:if(U.test(ab.className)){return}for(var ae=ab.firstChild;ae;ae=ae.nextSibling){aa(ae)}var ad=ab.nodeName;if("BR"===ad||"LI"===ad){X[W]="\n";Z[W<<1]=T++;Z[(W++<<1)|1]=ab}break;case 3:case 4:var ac=ab.nodeValue;if(ac.length){if(!Y){ac=ac.replace(/[ \t\r\n]+/g," ")}else{ac=ac.replace(/\r\n?/g,"\n")}X[W]=ac;Z[W<<1]=T;T+=ac.length;Z[(W++<<1)|1]=ab}break}}aa(V);return{sourceCode:X.join("").replace(/\n$/,""),spans:Z}}function B(S,U,W,T){if(!U){return}var V={sourceCode:U,basePos:S};W(V);T.push.apply(T,V.decorations)}var v=/\S/;function o(S){var V=undefined;for(var U=S.firstChild;U;U=U.nextSibling){var T=U.nodeType;V=(T===1)?(V?S:U):(T===3)?(v.test(U.nodeValue)?S:V):V}return V===S?undefined:V}function g(U,T){var S={};var V;(function(){var ad=U.concat(T);var ah=[];var ag={};for(var ab=0,Z=ad.length;ab<Z;++ab){var Y=ad[ab];var ac=Y[3];if(ac){for(var ae=ac.length;--ae>=0;){S[ac.charAt(ae)]=Y}}var af=Y[1];var aa=""+af;if(!ag.hasOwnProperty(aa)){ah.push(af);ag[aa]=null}}ah.push(/[\0-\uffff]/);V=k(ah)})();var X=T.length;var W=function(ah){var Z=ah.sourceCode,Y=ah.basePos;var ad=[Y,F];var af=0;var an=Z.match(V)||[];var aj={};for(var ae=0,aq=an.length;ae<aq;++ae){var ag=an[ae];var ap=aj[ag];var ai=void 0;var am;if(typeof ap==="string"){am=false}else{var aa=S[ag.charAt(0)];if(aa){ai=ag.match(aa[1]);ap=aa[0]}else{for(var ao=0;ao<X;++ao){aa=T[ao];ai=ag.match(aa[1]);if(ai){ap=aa[0];break}}if(!ai){ap=F}}am=ap.length>=5&&"lang-"===ap.substring(0,5);if(am&&!(ai&&typeof ai[1]==="string")){am=false;ap=J}if(!am){aj[ag]=ap}}var ab=af;af+=ag.length;if(!am){ad.push(Y+ab,ap)}else{var al=ai[1];var ak=ag.indexOf(al);var ac=ak+al.length;if(ai[2]){ac=ag.length-ai[2].length;ak=ac-al.length}var ar=ap.substring(5);B(Y+ab,ag.substring(0,ak),W,ad);B(Y+ab+ak,al,q(ar,al),ad);B(Y+ab+ac,ag.substring(ac),W,ad)}}ah.decorations=ad};return W}function i(T){var W=[],S=[];if(T.tripleQuotedStrings){W.push([C,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""])}else{if(T.multiLineStrings){W.push([C,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"])}else{W.push([C,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"])}}if(T.verbatimStrings){S.push([C,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null])}var Y=T.hashComments;if(Y){if(T.cStyleComments){if(Y>1){W.push([j,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"])}else{W.push([j,/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"])}S.push([C,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,null])}else{W.push([j,/^#[^\r\n]*/,null,"#"])}}if(T.cStyleComments){S.push([j,/^\/\/[^\r\n]*/,null]);S.push([j,/^\/\*[\s\S]*?(?:\*\/|$)/,null])}if(T.regexLiterals){var X=("/(?=[^/*])(?:[^/\\x5B\\x5C]|\\x5C[\\s\\S]|\\x5B(?:[^\\x5C\\x5D]|\\x5C[\\s\\S])*(?:\\x5D|$))+/");S.push(["lang-regex",new RegExp("^"+M+"("+X+")")])}var V=T.types;if(V){S.push([O,V])}var U=(""+T.keywords).replace(/^ | $/g,"");if(U.length){S.push([z,new RegExp("^(?:"+U.replace(/[\s,]+/g,"|")+")\\b"),null])}W.push([F,/^\s+/,null," \r\n\t\xA0"]);S.push([G,/^@[a-z_$][a-z_$@0-9]*/i,null],[O,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[F,/^[a-z_$][a-z_$@0-9]*/i,null],[G,new RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],[F,/^\\[\s\S]?/,null],[L,/^.[^\s\w\.$@\'\"\`\/\#\\]*/,null]);return g(W,S)}var K=i({keywords:A,hashComments:true,cStyleComments:true,multiLineStrings:true,regexLiterals:true});function Q(V,ag){var U=/(?:^|\s)nocode(?:\s|$)/;var ab=/\r\n?|\n/;var ac=V.ownerDocument;var S;if(V.currentStyle){S=V.currentStyle.whiteSpace}else{if(window.getComputedStyle){S=ac.defaultView.getComputedStyle(V,null).getPropertyValue("white-space")}}var Z=S&&"pre"===S.substring(0,3);var af=ac.createElement("LI");while(V.firstChild){af.appendChild(V.firstChild)}var W=[af];function ae(al){switch(al.nodeType){case 1:if(U.test(al.className)){break}if("BR"===al.nodeName){ad(al);if(al.parentNode){al.parentNode.removeChild(al)}}else{for(var an=al.firstChild;an;an=an.nextSibling){ae(an)}}break;case 3:case 4:if(Z){var am=al.nodeValue;var aj=am.match(ab);if(aj){var ai=am.substring(0,aj.index);al.nodeValue=ai;var ah=am.substring(aj.index+aj[0].length);if(ah){var ak=al.parentNode;ak.insertBefore(ac.createTextNode(ah),al.nextSibling)}ad(al);if(!ai){al.parentNode.removeChild(al)}}}break}}function ad(ak){while(!ak.nextSibling){ak=ak.parentNode;if(!ak){return}}function ai(al,ar){var aq=ar?al.cloneNode(false):al;var ao=al.parentNode;if(ao){var ap=ai(ao,1);var an=al.nextSibling;ap.appendChild(aq);for(var am=an;am;am=an){an=am.nextSibling;ap.appendChild(am)}}return aq}var ah=ai(ak.nextSibling,0);for(var aj;(aj=ah.parentNode)&&aj.nodeType===1;){ah=aj}W.push(ah)}for(var Y=0;Y<W.length;++Y){ae(W[Y])}if(ag===(ag|0)){W[0].setAttribute("value",ag)}var aa=ac.createElement("OL");aa.className="linenums";var X=Math.max(0,((ag-1))|0)||0;for(var Y=0,T=W.length;Y<T;++Y){af=W[Y];af.className="L"+((Y+X)%10);if(!af.firstChild){af.appendChild(ac.createTextNode("\xA0"))}aa.appendChild(af)}V.appendChild(aa)}function D(ac){var aj=/\bMSIE\b/.test(navigator.userAgent);var am=/\n/g;var al=ac.sourceCode;var an=al.length;var V=0;var aa=ac.spans;var T=aa.length;var ah=0;var X=ac.decorations;var Y=X.length;var Z=0;X[Y]=an;var ar,aq;for(aq=ar=0;aq<Y;){if(X[aq]!==X[aq+2]){X[ar++]=X[aq++];X[ar++]=X[aq++]}else{aq+=2}}Y=ar;for(aq=ar=0;aq<Y;){var at=X[aq];var ab=X[aq+1];var W=aq+2;while(W+2<=Y&&X[W+1]===ab){W+=2}X[ar++]=at;X[ar++]=ab;aq=W}Y=X.length=ar;var ae=null;while(ah<T){var af=aa[ah];var S=aa[ah+2]||an;var ag=X[Z];var ap=X[Z+2]||an;var W=Math.min(S,ap);var ak=aa[ah+1];var U;if(ak.nodeType!==1&&(U=al.substring(V,W))){if(aj){U=U.replace(am,"\r")}ak.nodeValue=U;var ai=ak.ownerDocument;var ao=ai.createElement("SPAN");ao.className=X[Z+1];var ad=ak.parentNode;ad.replaceChild(ao,ak);ao.appendChild(ak);if(V<S){aa[ah+1]=ak=ai.createTextNode(al.substring(W,S));ad.insertBefore(ak,ao.nextSibling)}}V=W;if(V>=S){ah+=2}if(V>=ap){Z+=2}}}var t={};function c(U,V){for(var S=V.length;--S>=0;){var T=V[S];if(!t.hasOwnProperty(T)){t[T]=U}else{if(window.console){console.warn("cannot override language handler %s",T)}}}}function q(T,S){if(!(T&&t.hasOwnProperty(T))){T=/^\s*</.test(S)?"default-markup":"default-code"}return t[T]}c(K,["default-code"]);c(g([],[[F,/^[^<?]+/],[E,/^<!\w[^>]*(?:>|$)/],[j,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[L,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]);c(g([[F,/^[\s]+/,null," \t\r\n"],[n,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[[m,/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],[P,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[L,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]);c(g([],[[n,/^[\s\S]+/]]),["uq.val"]);c(i({keywords:l,hashComments:true,cStyleComments:true,types:e}),["c","cc","cpp","cxx","cyc","m"]);c(i({keywords:"null,true,false"}),["json"]);c(i({keywords:R,hashComments:true,cStyleComments:true,verbatimStrings:true,types:e}),["cs"]);c(i({keywords:x,cStyleComments:true}),["java"]);c(i({keywords:H,hashComments:true,multiLineStrings:true}),["bsh","csh","sh"]);c(i({keywords:I,hashComments:true,multiLineStrings:true,tripleQuotedStrings:true}),["cv","py"]);c(i({keywords:s,hashComments:true,multiLineStrings:true,regexLiterals:true}),["perl","pl","pm"]);c(i({keywords:f,hashComments:true,multiLineStrings:true,regexLiterals:true}),["rb"]);c(i({keywords:w,cStyleComments:true,regexLiterals:true}),["js"]);c(i({keywords:r,hashComments:3,cStyleComments:true,multilineStrings:true,tripleQuotedStrings:true,regexLiterals:true}),["coffee"]);c(g([],[[C,/^[\s\S]+/]]),["regex"]);function d(V){var U=V.langExtension;try{var S=a(V.sourceNode);var T=S.sourceCode;V.sourceCode=T;V.spans=S.spans;V.basePos=0;q(U,T)(V);D(V)}catch(W){if("console" in window){console.log(W&&W.stack?W.stack:W)}}}function y(W,V,U){var S=document.createElement("PRE");S.innerHTML=W;if(U){Q(S,U)}var T={langExtension:V,numberLines:U,sourceNode:S};d(T);return S.innerHTML}function b(ad){function Y(af){return document.getElementsByTagName(af)}var ac=[Y("pre"),Y("code"),Y("xmp")];var T=[];for(var aa=0;aa<ac.length;++aa){for(var Z=0,V=ac[aa].length;Z<V;++Z){T.push(ac[aa][Z])}}ac=null;var W=Date;if(!W.now){W={now:function(){return +(new Date)}}}var X=0;var S;var ab=/\blang(?:uage)?-([\w.]+)(?!\S)/;var ae=/\bprettyprint\b/;function U(){var ag=(window.PR_SHOULD_USE_CONTINUATION?W.now()+250:Infinity);for(;X<T.length&&W.now()<ag;X++){var aj=T[X];var ai=aj.className;if(ai.indexOf("prettyprint")>=0){var ah=ai.match(ab);var am;if(!ah&&(am=o(aj))&&"CODE"===am.tagName){ah=am.className.match(ab)}if(ah){ah=ah[1]}var al=false;for(var ak=aj.parentNode;ak;ak=ak.parentNode){if((ak.tagName==="pre"||ak.tagName==="code"||ak.tagName==="xmp")&&ak.className&&ak.className.indexOf("prettyprint")>=0){al=true;break}}if(!al){var af=aj.className.match(/\blinenums\b(?::(\d+))?/);af=af?af[1]&&af[1].length?+af[1]:true:false;if(af){Q(aj,af)}S={langExtension:ah,sourceNode:aj,numberLines:af};d(S)}}}if(X<T.length){setTimeout(U,250)}else{if(ad){ad()}}}U()}window.prettyPrintOne=y;window.prettyPrint=b;window.PR={createSimpleLexer:g,registerLangHandler:c,sourceDecorator:i,PR_ATTRIB_NAME:P,PR_ATTRIB_VALUE:n,PR_COMMENT:j,PR_DECLARATION:E,PR_KEYWORD:z,PR_LITERAL:G,PR_NOCODE:N,PR_PLAIN:F,PR_PUNCTUATION:L,PR_SOURCE:J,PR_STRING:C,PR_TAG:m,PR_TYPE:O}})();PR.registerLangHandler(PR.createSimpleLexer([],[[PR.PR_DECLARATION,/^<!\w[^>]*(?:>|$)/],[PR.PR_COMMENT,/^<\!--[\s\S]*?(?:-\->|$)/],[PR.PR_PUNCTUATION,/^(?:<[%?]|[%?]>)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-handlebars",/^<script\b[^>]*type\s*=\s*['"]?text\/x-handlebars-template['"]?\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i],[PR.PR_DECLARATION,/^{{[#^>/]?\s*[\w.][^}]*}}/],[PR.PR_DECLARATION,/^{{&?\s*[\w.][^}]*}}/],[PR.PR_DECLARATION,/^{{{>?\s*[\w.][^}]*}}}/],[PR.PR_COMMENT,/^{{![^}]*}}/]]),["handlebars","hbs"]);PR.registerLangHandler(PR.createSimpleLexer([[PR.PR_PLAIN,/^[ \t\r\n\f]+/,null," \t\r\n\f"]],[[PR.PR_STRING,/^\"(?:[^\n\r\f\\\"]|\\(?:\r\n?|\n|\f)|\\[\s\S])*\"/,null],[PR.PR_STRING,/^\'(?:[^\n\r\f\\\']|\\(?:\r\n?|\n|\f)|\\[\s\S])*\'/,null],["lang-css-str",/^url\(([^\)\"\']*)\)/i],[PR.PR_KEYWORD,/^(?:url|rgb|\!important|@import|@page|@media|@charset|inherit)(?=[^\-\w]|$)/i,null],["lang-css-kw",/^(-?(?:[_a-z]|(?:\\[0-9a-f]+ ?))(?:[_a-z0-9\-]|\\(?:\\[0-9a-f]+ ?))*)\s*:/i],[PR.PR_COMMENT,/^\/\*[^*]*\*+(?:[^\/*][^*]*\*+)*\//],[PR.PR_COMMENT,/^(?:<!--|-->)/],[PR.PR_LITERAL,/^(?:\d+|\d*\.\d+)(?:%|[a-z]+)?/i],[PR.PR_LITERAL,/^#(?:[0-9a-f]{3}){1,2}/i],[PR.PR_PLAIN,/^-?(?:[_a-z]|(?:\\[\da-f]+ ?))(?:[_a-z\d\-]|\\(?:\\[\da-f]+ ?))*/i],[PR.PR_PUNCTUATION,/^[^\s\w\'\"]+/]]),["css"]);PR.registerLangHandler(PR.createSimpleLexer([],[[PR.PR_KEYWORD,/^-?(?:[_a-z]|(?:\\[\da-f]+ ?))(?:[_a-z\d\-]|\\(?:\\[\da-f]+ ?))*/i]]),["css-kw"]);PR.registerLangHandler(PR.createSimpleLexer([],[[PR.PR_STRING,/^[^\)\"\']+/]]),["css-str"]);
--- END: coverage/lcov-report/prettify.js ---

--- START: coverage/lcov-report/sorter.js (sha256=f8cc5d157379d844fd695ad567b6c29b3c1f0812964ddf6f95c26327e434bab5, bytes=6731) ---
/* eslint-disable */
var addSorting = (function() {
    'use strict';
    var cols,
        currentSort = {
            index: 0,
            desc: false
        };

    // returns the summary table element
    function getTable() {
        return document.querySelector('.coverage-summary');
    }
    // returns the thead element of the summary table
    function getTableHeader() {
        return getTable().querySelector('thead tr');
    }
    // returns the tbody element of the summary table
    function getTableBody() {
        return getTable().querySelector('tbody');
    }
    // returns the th element for nth column
    function getNthColumn(n) {
        return getTableHeader().querySelectorAll('th')[n];
    }

    function onFilterInput() {
        const searchValue = document.getElementById('fileSearch').value;
        const rows = document.getElementsByTagName('tbody')[0].children;

        // Try to create a RegExp from the searchValue. If it fails (invalid regex),
        // it will be treated as a plain text search
        let searchRegex;
        try {
            searchRegex = new RegExp(searchValue, 'i'); // 'i' for case-insensitive
        } catch (error) {
            searchRegex = null;
        }

        for (let i = 0; i < rows.length; i++) {
            const row = rows[i];
            let isMatch = false;

            if (searchRegex) {
                // If a valid regex was created, use it for matching
                isMatch = searchRegex.test(row.textContent);
            } else {
                // Otherwise, fall back to the original plain text search
                isMatch = row.textContent
                    .toLowerCase()
                    .includes(searchValue.toLowerCase());
            }

            row.style.display = isMatch ? '' : 'none';
        }
    }

    // loads the search box
    function addSearchBox() {
        var template = document.getElementById('filterTemplate');
        var templateClone = template.content.cloneNode(true);
        templateClone.getElementById('fileSearch').oninput = onFilterInput;
        template.parentElement.appendChild(templateClone);
    }

    // loads all columns
    function loadColumns() {
        var colNodes = getTableHeader().querySelectorAll('th'),
            colNode,
            cols = [],
            col,
            i;

        for (i = 0; i < colNodes.length; i += 1) {
            colNode = colNodes[i];
            col = {
                key: colNode.getAttribute('data-col'),
                sortable: !colNode.getAttribute('data-nosort'),
                type: colNode.getAttribute('data-type') || 'string'
            };
            cols.push(col);
            if (col.sortable) {
                col.defaultDescSort = col.type === 'number';
                colNode.innerHTML =
                    colNode.innerHTML + '<span class="sorter"></span>';
            }
        }
        return cols;
    }
    // attaches a data attribute to every tr element with an object
    // of data values keyed by column name
    function loadRowData(tableRow) {
        var tableCols = tableRow.querySelectorAll('td'),
            colNode,
            col,
            data = {},
            i,
            val;
        for (i = 0; i < tableCols.length; i += 1) {
            colNode = tableCols[i];
            col = cols[i];
            val = colNode.getAttribute('data-value');
            if (col.type === 'number') {
                val = Number(val);
            }
            data[col.key] = val;
        }
        return data;
    }
    // loads all row data
    function loadData() {
        var rows = getTableBody().querySelectorAll('tr'),
            i;

        for (i = 0; i < rows.length; i += 1) {
            rows[i].data = loadRowData(rows[i]);
        }
    }
    // sorts the table using the data for the ith column
    function sortByIndex(index, desc) {
        var key = cols[index].key,
            sorter = function(a, b) {
                a = a.data[key];
                b = b.data[key];
                return a < b ? -1 : a > b ? 1 : 0;
            },
            finalSorter = sorter,
            tableBody = document.querySelector('.coverage-summary tbody'),
            rowNodes = tableBody.querySelectorAll('tr'),
            rows = [],
            i;

        if (desc) {
            finalSorter = function(a, b) {
                return -1 * sorter(a, b);
            };
        }

        for (i = 0; i < rowNodes.length; i += 1) {
            rows.push(rowNodes[i]);
            tableBody.removeChild(rowNodes[i]);
        }

        rows.sort(finalSorter);

        for (i = 0; i < rows.length; i += 1) {
            tableBody.appendChild(rows[i]);
        }
    }
    // removes sort indicators for current column being sorted
    function removeSortIndicators() {
        var col = getNthColumn(currentSort.index),
            cls = col.className;

        cls = cls.replace(/ sorted$/, '').replace(/ sorted-desc$/, '');
        col.className = cls;
    }
    // adds sort indicators for current column being sorted
    function addSortIndicators() {
        getNthColumn(currentSort.index).className += currentSort.desc
            ? ' sorted-desc'
            : ' sorted';
    }
    // adds event listeners for all sorter widgets
    function enableUI() {
        var i,
            el,
            ithSorter = function ithSorter(i) {
                var col = cols[i];

                return function() {
                    var desc = col.defaultDescSort;

                    if (currentSort.index === i) {
                        desc = !currentSort.desc;
                    }
                    sortByIndex(i, desc);
                    removeSortIndicators();
                    currentSort.index = i;
                    currentSort.desc = desc;
                    addSortIndicators();
                };
            };
        for (i = 0; i < cols.length; i += 1) {
            if (cols[i].sortable) {
                // add the click event handler on the th so users
                // dont have to click on those tiny arrows
                el = getNthColumn(i).querySelector('.sorter').parentElement;
                if (el.addEventListener) {
                    el.addEventListener('click', ithSorter(i));
                } else {
                    el.attachEvent('onclick', ithSorter(i));
                }
            }
        }
    }
    // adds sorting functionality to the UI
    return function() {
        if (!getTable()) {
            return;
        }
        cols = loadColumns();
        loadData();
        addSearchBox();
        addSortIndicators();
        enableUI();
    };
})();

window.addEventListener('load', addSorting);
--- END: coverage/lcov-report/sorter.js ---

--- START: coverage/lcov.info (sha256=7dd4cd7da0d38553b58c9fae6293e4bf20ef78f28915a691086f9f615eb0ff34, bytes=23234) ---
TN:
SF:lib\BaseLogicDriver.js
FN:5,formulaAutocompleteHelper
FN:23,(anonymous_1)
FN:37,inputAutocompleteHelper
FN:55,(anonymous_3)
FN:73,(anonymous_4)
FN:118,(anonymous_5)
FN:133,(anonymous_6)
FN:136,(anonymous_7)
FN:188,(anonymous_8)
FN:191,(anonymous_9)
FN:259,(anonymous_10)
FN:262,(anonymous_11)
FN:306,(anonymous_12)
FN:315,(anonymous_13)
FN:362,(anonymous_14)
FN:386,(anonymous_15)
FN:420,(anonymous_16)
FN:422,(anonymous_17)
FN:468,(anonymous_18)
FNF:19
FNH:0
FNDA:0,formulaAutocompleteHelper
FNDA:0,(anonymous_1)
FNDA:0,inputAutocompleteHelper
FNDA:0,(anonymous_3)
FNDA:0,(anonymous_4)
FNDA:0,(anonymous_5)
FNDA:0,(anonymous_6)
FNDA:0,(anonymous_7)
FNDA:0,(anonymous_8)
FNDA:0,(anonymous_9)
FNDA:0,(anonymous_10)
FNDA:0,(anonymous_11)
FNDA:0,(anonymous_12)
FNDA:0,(anonymous_13)
FNDA:0,(anonymous_14)
FNDA:0,(anonymous_15)
FNDA:0,(anonymous_16)
FNDA:0,(anonymous_17)
FNDA:0,(anonymous_18)
DA:2,0
DA:3,0
DA:6,0
DA:7,0
DA:8,0
DA:11,0
DA:13,0
DA:14,0
DA:15,0
DA:16,0
DA:19,0
DA:21,0
DA:22,0
DA:24,0
DA:29,0
DA:33,0
DA:38,0
DA:39,0
DA:40,0
DA:43,0
DA:45,0
DA:46,0
DA:47,0
DA:48,0
DA:51,0
DA:53,0
DA:54,0
DA:56,0
DA:61,0
DA:65,0
DA:71,0
DA:74,0
DA:75,0
DA:78,0
DA:79,0
DA:80,0
DA:81,0
DA:82,0
DA:83,0
DA:84,0
DA:85,0
DA:86,0
DA:87,0
DA:93,0
DA:98,0
DA:100,0
DA:105,0
DA:106,0
DA:109,0
DA:110,0
DA:112,0
DA:119,0
DA:122,0
DA:133,0
DA:134,0
DA:135,0
DA:136,0
DA:137,0
DA:145,0
DA:150,0
DA:154,0
DA:162,0
DA:188,0
DA:189,0
DA:190,0
DA:191,0
DA:192,0
DA:193,0
DA:194,0
DA:197,0
DA:198,0
DA:199,0
DA:204,0
DA:207,0
DA:211,0
DA:218,0
DA:224,0
DA:227,0
DA:233,0
DA:237,0
DA:245,0
DA:259,0
DA:260,0
DA:261,0
DA:262,0
DA:263,0
DA:264,0
DA:265,0
DA:266,0
DA:269,0
DA:270,0
DA:271,0
DA:272,0
DA:275,0
DA:278,0
DA:281,0
DA:287,0
DA:293,0
DA:297,0
DA:307,0
DA:308,0
DA:309,0
DA:313,0
DA:316,0
DA:318,0
DA:319,0
DA:320,0
DA:323,0
DA:326,0
DA:327,0
DA:328,0
DA:329,0
DA:330,0
DA:332,0
DA:333,0
DA:336,0
DA:340,0
DA:341,0
DA:343,0
DA:347,0
DA:351,0
DA:355,0
DA:363,0
DA:364,0
DA:370,0
DA:374,0
DA:376,0
DA:377,0
DA:378,0
DA:382,0
DA:384,0
DA:387,0
DA:393,0
DA:394,0
DA:395,0
DA:396,0
DA:397,0
DA:398,0
DA:399,0
DA:400,0
DA:401,0
DA:402,0
DA:403,0
DA:404,0
DA:406,0
DA:407,0
DA:411,0
DA:413,0
DA:415,0
DA:416,0
DA:421,0
DA:422,0
DA:423,0
DA:424,0
DA:426,0
DA:427,0
DA:429,0
DA:433,0
DA:437,0
DA:441,0
DA:442,0
DA:445,0
DA:455,0
DA:459,0
DA:461,0
DA:462,0
DA:465,0
DA:469,0
DA:470,0
DA:471,0
DA:472,0
DA:476,0
DA:477,0
DA:478,0
LF:174
LH:0
BRDA:7,0,0,0
BRDA:7,0,1,0
BRDA:7,1,0,0
BRDA:7,1,1,0
BRDA:15,2,0,0
BRDA:15,2,1,0
BRDA:21,3,0,0
BRDA:21,3,1,0
BRDA:24,4,0,0
BRDA:24,4,1,0
BRDA:24,4,2,0
BRDA:24,4,3,0
BRDA:39,5,0,0
BRDA:39,5,1,0
BRDA:39,6,0,0
BRDA:39,6,1,0
BRDA:47,7,0,0
BRDA:47,7,1,0
BRDA:53,8,0,0
BRDA:53,8,1,0
BRDA:56,9,0,0
BRDA:56,9,1,0
BRDA:56,9,2,0
BRDA:56,9,3,0
BRDA:84,10,0,0
BRDA:84,10,1,0
BRDA:84,11,0,0
BRDA:84,11,1,0
BRDA:86,12,0,0
BRDA:86,12,1,0
BRDA:105,13,0,0
BRDA:105,13,1,0
BRDA:138,14,0,0
BRDA:138,14,1,0
BRDA:138,14,2,0
BRDA:138,14,3,0
BRDA:138,14,4,0
BRDA:193,15,0,0
BRDA:193,15,1,0
BRDA:198,16,0,0
BRDA:198,16,1,0
BRDA:211,17,0,0
BRDA:211,17,1,0
BRDA:224,18,0,0
BRDA:224,18,1,0
BRDA:264,19,0,0
BRDA:264,19,1,0
BRDA:265,20,0,0
BRDA:265,20,1,0
BRDA:269,21,0,0
BRDA:269,21,1,0
BRDA:271,22,0,0
BRDA:271,22,1,0
BRDA:281,23,0,0
BRDA:281,23,1,0
BRDA:308,24,0,0
BRDA:308,24,1,0
BRDA:318,25,0,0
BRDA:318,25,1,0
BRDA:318,26,0,0
BRDA:318,26,1,0
BRDA:319,27,0,0
BRDA:319,27,1,0
BRDA:327,28,0,0
BRDA:327,28,1,0
BRDA:329,29,0,0
BRDA:329,29,1,0
BRDA:332,30,0,0
BRDA:332,30,1,0
BRDA:364,31,0,0
BRDA:364,31,1,0
BRDA:365,32,0,0
BRDA:365,32,1,0
BRDA:365,32,2,0
BRDA:365,32,3,0
BRDA:374,33,0,0
BRDA:374,33,1,0
BRDA:377,34,0,0
BRDA:377,34,1,0
BRDA:377,35,0,0
BRDA:377,35,1,0
BRDA:382,36,0,0
BRDA:382,36,1,0
BRDA:387,37,0,0
BRDA:387,37,1,0
BRDA:387,38,0,0
BRDA:387,38,1,0
BRDA:388,39,0,0
BRDA:388,39,1,0
BRDA:393,40,0,0
BRDA:393,40,1,0
BRDA:394,41,0,0
BRDA:394,41,1,0
BRDA:397,42,0,0
BRDA:397,42,1,0
BRDA:398,43,0,0
BRDA:398,43,1,0
BRDA:401,44,0,0
BRDA:401,44,1,0
BRDA:406,45,0,0
BRDA:406,45,1,0
BRDA:416,46,0,0
BRDA:416,46,1,0
BRDA:437,47,0,0
BRDA:437,47,1,0
BRDA:471,48,0,0
BRDA:471,48,1,0
BRF:107
BRH:0
end_of_record
TN:
SF:lib\BaseLogicUnit.js
FN:6,(anonymous_0)
FN:28,(anonymous_1)
FN:36,(anonymous_2)
FN:41,(anonymous_3)
FN:64,(anonymous_4)
FN:70,(anonymous_5)
FN:98,(anonymous_6)
FN:130,(anonymous_7)
FN:157,(anonymous_8)
FN:175,(anonymous_9)
FN:197,(anonymous_10)
FN:206,(anonymous_11)
FN:219,(anonymous_12)
FN:236,(anonymous_13)
FN:250,(anonymous_14)
FN:284,(anonymous_15)
FN:309,(anonymous_16)
FN:333,(anonymous_17)
FN:347,(anonymous_18)
FN:356,(anonymous_19)
FN:357,(anonymous_20)
FN:360,(anonymous_21)
FN:373,(anonymous_22)
FN:388,(anonymous_23)
FN:389,(anonymous_24)
FN:420,(anonymous_25)
FN:429,(anonymous_26)
FN:438,(anonymous_27)
FN:443,(anonymous_28)
FN:445,(anonymous_29)
FN:446,(anonymous_30)
FN:457,(anonymous_31)
FN:458,(anonymous_32)
FN:464,(anonymous_33)
FN:555,(anonymous_34)
FN:561,(anonymous_35)
FN:564,(anonymous_36)
FN:566,(anonymous_37)
FN:616,(anonymous_38)
FN:618,(anonymous_39)
FN:627,(anonymous_40)
FN:647,(anonymous_41)
FN:653,(anonymous_42)
FN:663,(anonymous_43)
FN:706,(anonymous_44)
FN:756,(anonymous_45)
FN:762,(anonymous_46)
FN:780,(anonymous_47)
FN:795,(anonymous_48)
FN:821,(anonymous_49)
FN:834,(anonymous_50)
FN:845,(anonymous_51)
FN:858,(anonymous_52)
FN:868,(anonymous_53)
FN:869,(anonymous_54)
FN:885,(anonymous_55)
FN:886,(anonymous_56)
FN:890,(anonymous_57)
FN:894,(anonymous_58)
FN:900,(anonymous_59)
FN:902,(anonymous_60)
FN:915,(anonymous_61)
FN:946,(anonymous_62)
FN:964,(anonymous_63)
FN:986,(anonymous_64)
FN:1023,(anonymous_65)
FN:1035,(anonymous_66)
FNF:67
FNH:0
FNDA:0,(anonymous_0)
FNDA:0,(anonymous_1)
FNDA:0,(anonymous_2)
FNDA:0,(anonymous_3)
FNDA:0,(anonymous_4)
FNDA:0,(anonymous_5)
FNDA:0,(anonymous_6)
FNDA:0,(anonymous_7)
FNDA:0,(anonymous_8)
FNDA:0,(anonymous_9)
FNDA:0,(anonymous_10)
FNDA:0,(anonymous_11)
FNDA:0,(anonymous_12)
FNDA:0,(anonymous_13)
FNDA:0,(anonymous_14)
FNDA:0,(anonymous_15)
FNDA:0,(anonymous_16)
FNDA:0,(anonymous_17)
FNDA:0,(anonymous_18)
FNDA:0,(anonymous_19)
FNDA:0,(anonymous_20)
FNDA:0,(anonymous_21)
FNDA:0,(anonymous_22)
FNDA:0,(anonymous_23)
FNDA:0,(anonymous_24)
FNDA:0,(anonymous_25)
FNDA:0,(anonymous_26)
FNDA:0,(anonymous_27)
FNDA:0,(anonymous_28)
FNDA:0,(anonymous_29)
FNDA:0,(anonymous_30)
FNDA:0,(anonymous_31)
FNDA:0,(anonymous_32)
FNDA:0,(anonymous_33)
FNDA:0,(anonymous_34)
FNDA:0,(anonymous_35)
FNDA:0,(anonymous_36)
FNDA:0,(anonymous_37)
FNDA:0,(anonymous_38)
FNDA:0,(anonymous_39)
FNDA:0,(anonymous_40)
FNDA:0,(anonymous_41)
FNDA:0,(anonymous_42)
FNDA:0,(anonymous_43)
FNDA:0,(anonymous_44)
FNDA:0,(anonymous_45)
FNDA:0,(anonymous_46)
FNDA:0,(anonymous_47)
FNDA:0,(anonymous_48)
FNDA:0,(anonymous_49)
FNDA:0,(anonymous_50)
FNDA:0,(anonymous_51)
FNDA:0,(anonymous_52)
FNDA:0,(anonymous_53)
FNDA:0,(anonymous_54)
FNDA:0,(anonymous_55)
FNDA:0,(anonymous_56)
FNDA:0,(anonymous_57)
FNDA:0,(anonymous_58)
FNDA:0,(anonymous_59)
FNDA:0,(anonymous_60)
FNDA:0,(anonymous_61)
FNDA:0,(anonymous_62)
FNDA:0,(anonymous_63)
FNDA:0,(anonymous_64)
FNDA:0,(anonymous_65)
FNDA:0,(anonymous_66)
DA:2,0
DA:3,0
DA:5,0
DA:7,0
DA:8,0
DA:9,0
DA:10,0
DA:12,0
DA:14,0
DA:15,0
DA:16,0
DA:20,0
DA:29,0
DA:30,0
DA:31,0
DA:35,0
DA:36,0
DA:37,0
DA:40,0
DA:41,0
DA:42,0
DA:46,0
DA:47,0
DA:48,0
DA:53,0
DA:54,0
DA:55,0
DA:58,0
DA:65,0
DA:69,0
DA:70,0
DA:71,0
DA:72,0
DA:75,0
DA:76,0
DA:81,0
DA:84,0
DA:85,0
DA:88,0
DA:89,0
DA:95,0
DA:97,0
DA:98,0
DA:100,0
DA:101,0
DA:104,0
DA:107,0
DA:108,0
DA:109,0
DA:112,0
DA:113,0
DA:114,0
DA:115,0
DA:116,0
DA:117,0
DA:118,0
DA:121,0
DA:123,0
DA:126,0
DA:131,0
DA:132,0
DA:135,0
DA:137,0
DA:138,0
DA:139,0
DA:140,0
DA:145,0
DA:146,0
DA:147,0
DA:149,0
DA:153,0
DA:158,0
DA:159,0
DA:163,0
DA:166,0
DA:168,0
DA:169,0
DA:172,0
DA:174,0
DA:175,0
DA:176,0
DA:177,0
DA:180,0
DA:182,0
DA:185,0
DA:186,0
DA:187,0
DA:189,0
DA:193,0
DA:198,0
DA:199,0
DA:203,0
DA:206,0
DA:207,0
DA:209,0
DA:210,0
DA:212,0
DA:213,0
DA:216,0
DA:218,0
DA:219,0
DA:220,0
DA:221,0
DA:224,0
DA:226,0
DA:229,0
DA:230,0
DA:233,0
DA:237,0
DA:241,0
DA:242,0
DA:243,0
DA:245,0
DA:246,0
DA:251,0
DA:252,0
DA:253,0
DA:256,0
DA:257,0
DA:260,0
DA:262,0
DA:263,0
DA:264,0
DA:265,0
DA:267,0
DA:268,0
DA:271,0
DA:273,0
DA:274,0
DA:275,0
DA:281,0
DA:282,0
DA:283,0
DA:284,0
DA:285,0
DA:291,0
DA:293,0
DA:300,0
DA:301,0
DA:302,0
DA:304,0
DA:305,0
DA:310,0
DA:311,0
DA:312,0
DA:314,0
DA:322,0
DA:323,0
DA:327,0
DA:330,0
DA:331,0
DA:332,0
DA:333,0
DA:334,0
DA:335,0
DA:338,0
DA:339,0
DA:340,0
DA:342,0
DA:343,0
DA:348,0
DA:349,0
DA:353,0
DA:357,0
DA:361,0
DA:362,0
DA:363,0
DA:364,0
DA:367,0
DA:368,0
DA:371,0
DA:373,0
DA:388,0
DA:389,0
DA:390,0
DA:391,0
DA:395,0
DA:396,0
DA:399,0
DA:400,0
DA:404,0
DA:420,0
DA:421,0
DA:422,0
DA:424,0
DA:426,0
DA:429,0
DA:430,0
DA:439,0
DA:440,0
DA:444,0
DA:445,0
DA:446,0
DA:458,0
DA:465,0
DA:466,0
DA:471,0
DA:478,0
DA:479,0
DA:480,0
DA:481,0
DA:486,0
DA:488,0
DA:492,0
DA:493,0
DA:494,0
DA:504,0
DA:505,0
DA:506,0
DA:507,0
DA:508,0
DA:509,0
DA:514,0
DA:515,0
DA:521,0
DA:528,0
DA:529,0
DA:530,0
DA:532,0
DA:537,0
DA:538,0
DA:539,0
DA:540,0
DA:544,0
DA:556,0
DA:557,0
DA:558,0
DA:559,0
DA:560,0
DA:561,0
DA:565,0
DA:566,0
DA:567,0
DA:568,0
DA:571,0
DA:573,0
DA:574,0
DA:577,0
DA:580,0
DA:584,0
DA:588,0
DA:591,0
DA:592,0
DA:594,0
DA:596,0
DA:601,0
DA:602,0
DA:609,0
DA:610,0
DA:613,0
DA:617,0
DA:618,0
DA:619,0
DA:620,0
DA:623,0
DA:626,0
DA:627,0
DA:628,0
DA:630,0
DA:635,0
DA:636,0
DA:637,0
DA:641,0
DA:642,0
DA:645,0
DA:646,0
DA:648,0
DA:651,0
DA:652,0
DA:653,0
DA:655,0
DA:659,0
DA:662,0
DA:663,0
DA:664,0
DA:666,0
DA:670,0
DA:676,0
DA:677,0
DA:678,0
DA:679,0
DA:685,0
DA:688,0
DA:693,0
DA:694,0
DA:695,0
DA:696,0
DA:701,0
DA:702,0
DA:703,0
DA:705,0
DA:706,0
DA:708,0
DA:710,0
DA:711,0
DA:712,0
DA:713,0
DA:718,0
DA:719,0
DA:725,0
DA:728,0
DA:731,0
DA:732,0
DA:735,0
DA:736,0
DA:738,0
DA:739,0
DA:744,0
DA:748,0
DA:750,0
DA:751,0
DA:752,0
DA:757,0
DA:758,0
DA:759,0
DA:760,0
DA:761,0
DA:762,0
DA:763,0
DA:765,0
DA:769,0
DA:770,0
DA:776,0
DA:779,0
DA:780,0
DA:782,0
DA:783,0
DA:784,0
DA:785,0
DA:789,0
DA:792,0
DA:796,0
DA:797,0
DA:799,0
DA:800,0
DA:801,0
DA:802,0
DA:804,0
DA:805,0
DA:806,0
DA:807,0
DA:809,0
DA:810,0
DA:814,0
DA:815,0
DA:820,0
DA:821,0
DA:824,0
DA:825,0
DA:828,0
DA:829,0
DA:830,0
DA:833,0
DA:834,0
DA:836,0
DA:840,0
DA:844,0
DA:845,0
DA:848,0
DA:852,0
DA:853,0
DA:855,0
DA:859,0
DA:864,0
DA:869,0
DA:870,0
DA:871,0
DA:874,0
DA:876,0
DA:882,0
DA:886,0
DA:887,0
DA:891,0
DA:892,0
DA:894,0
DA:895,0
DA:897,0
DA:901,0
DA:902,0
DA:903,0
DA:909,0
DA:911,0
DA:912,0
DA:915,0
DA:918,0
DA:921,0
DA:923,0
DA:924,0
DA:926,0
DA:927,0
DA:931,0
DA:933,0
DA:939,0
DA:942,0
DA:943,0
DA:944,0
DA:946,0
DA:948,0
DA:949,0
DA:954,0
DA:965,0
DA:968,0
DA:969,0
DA:970,0
DA:973,0
DA:975,0
DA:976,0
DA:977,0
DA:978,0
DA:979,0
DA:987,0
DA:992,0
DA:1002,0
DA:1004,0
DA:1005,0
DA:1007,0
DA:1008,0
DA:1009,0
DA:1010,0
DA:1011,0
DA:1012,0
DA:1013,0
DA:1014,0
DA:1015,0
DA:1016,0
DA:1022,0
DA:1023,0
DA:1024,0
DA:1025,0
DA:1026,0
DA:1027,0
DA:1029,0
DA:1036,0
DA:1037,0
DA:1040,0
DA:1041,0
DA:1042,0
DA:1044,0
LF:438
LH:0
BRDA:7,0,0,0
BRDA:7,0,1,0
BRDA:9,1,0,0
BRDA:9,1,1,0
BRDA:14,2,0,0
BRDA:14,2,1,0
BRDA:15,3,0,0
BRDA:15,3,1,0
BRDA:15,4,0,0
BRDA:15,4,1,0
BRDA:29,5,0,0
BRDA:29,5,1,0
BRDA:35,6,0,0
BRDA:35,6,1,0
BRDA:40,7,0,0
BRDA:40,7,1,0
BRDA:46,8,0,0
BRDA:46,8,1,0
BRDA:69,9,0,0
BRDA:69,9,1,0
BRDA:76,10,0,0
BRDA:76,10,1,0
BRDA:77,11,0,0
BRDA:77,11,1,0
BRDA:77,11,2,0
BRDA:84,12,0,0
BRDA:84,12,1,0
BRDA:88,13,0,0
BRDA:88,13,1,0
BRDA:88,14,0,0
BRDA:88,14,1,0
BRDA:100,15,0,0
BRDA:100,15,1,0
BRDA:107,16,0,0
BRDA:107,16,1,0
BRDA:113,17,0,0
BRDA:113,17,1,0
BRDA:131,18,0,0
BRDA:131,18,1,0
BRDA:131,19,0,0
BRDA:131,19,1,0
BRDA:131,19,2,0
BRDA:131,19,3,0
BRDA:159,20,0,0
BRDA:159,20,1,0
BRDA:160,21,0,0
BRDA:160,21,1,0
BRDA:160,21,2,0
BRDA:168,22,0,0
BRDA:168,22,1,0
BRDA:168,23,0,0
BRDA:168,23,1,0
BRDA:176,24,0,0
BRDA:176,24,1,0
BRDA:199,25,0,0
BRDA:199,25,1,0
BRDA:200,26,0,0
BRDA:200,26,1,0
BRDA:200,26,2,0
BRDA:212,27,0,0
BRDA:212,27,1,0
BRDA:212,28,0,0
BRDA:212,28,1,0
BRDA:220,29,0,0
BRDA:220,29,1,0
BRDA:256,30,0,0
BRDA:256,30,1,0
BRDA:256,31,0,0
BRDA:256,31,1,0
BRDA:264,32,0,0
BRDA:264,32,1,0
BRDA:264,33,0,0
BRDA:264,33,1,0
BRDA:268,34,0,0
BRDA:268,34,1,0
BRDA:271,35,0,0
BRDA:271,35,1,0
BRDA:274,36,0,0
BRDA:274,36,1,0
BRDA:283,37,0,0
BRDA:283,37,1,0
BRDA:285,38,0,0
BRDA:285,38,1,0
BRDA:286,39,0,0
BRDA:286,39,1,0
BRDA:286,39,2,0
BRDA:291,40,0,0
BRDA:291,40,1,0
BRDA:322,41,0,0
BRDA:322,41,1,0
BRDA:322,42,0,0
BRDA:322,42,1,0
BRDA:331,43,0,0
BRDA:331,43,1,0
BRDA:334,44,0,0
BRDA:334,44,1,0
BRDA:334,45,0,0
BRDA:334,45,1,0
BRDA:334,45,2,0
BRDA:351,46,0,0
BRDA:351,46,1,0
BRDA:364,47,0,0
BRDA:364,47,1,0
BRDA:367,48,0,0
BRDA:367,48,1,0
BRDA:374,49,0,0
BRDA:374,49,1,0
BRDA:375,50,0,0
BRDA:375,50,1,0
BRDA:376,51,0,0
BRDA:376,51,1,0
BRDA:378,52,0,0
BRDA:378,52,1,0
BRDA:399,53,0,0
BRDA:399,53,1,0
BRDA:406,54,0,0
BRDA:406,54,1,0
BRDA:440,55,0,0
BRDA:440,55,1,0
BRDA:450,56,0,0
BRDA:450,56,1,0
BRDA:451,57,0,0
BRDA:451,57,1,0
BRDA:465,58,0,0
BRDA:465,58,1,0
BRDA:466,59,0,0
BRDA:466,59,1,0
BRDA:467,60,0,0
BRDA:467,60,1,0
BRDA:467,60,2,0
BRDA:473,61,0,0
BRDA:473,61,1,0
BRDA:480,62,0,0
BRDA:480,62,1,0
BRDA:480,63,0,0
BRDA:480,63,1,0
BRDA:486,64,0,0
BRDA:486,64,1,0
BRDA:493,65,0,0
BRDA:493,65,1,0
BRDA:496,66,0,0
BRDA:496,66,1,0
BRDA:506,67,0,0
BRDA:506,67,1,0
BRDA:507,68,0,0
BRDA:507,68,1,0
BRDA:508,69,0,0
BRDA:508,69,1,0
BRDA:514,70,0,0
BRDA:514,70,1,0
BRDA:546,71,0,0
BRDA:546,71,1,0
BRDA:556,72,0,0
BRDA:556,72,1,0
BRDA:556,73,0,0
BRDA:556,73,1,0
BRDA:558,74,0,0
BRDA:558,74,1,0
BRDA:561,75,0,0
BRDA:561,75,1,0
BRDA:565,76,0,0
BRDA:565,76,1,0
BRDA:567,77,0,0
BRDA:567,77,1,0
BRDA:573,78,0,0
BRDA:573,78,1,0
BRDA:580,79,0,0
BRDA:580,79,1,0
BRDA:581,80,0,0
BRDA:581,80,1,0
BRDA:593,81,0,0
BRDA:593,81,1,0
BRDA:593,82,0,0
BRDA:593,82,1,0
BRDA:596,83,0,0
BRDA:596,83,1,0
BRDA:597,84,0,0
BRDA:597,84,1,0
BRDA:597,84,2,0
BRDA:609,85,0,0
BRDA:609,85,1,0
BRDA:616,86,0,0
BRDA:617,87,0,0
BRDA:617,87,1,0
BRDA:619,88,0,0
BRDA:619,88,1,0
BRDA:619,89,0,0
BRDA:619,89,1,0
BRDA:626,90,0,0
BRDA:626,90,1,0
BRDA:626,91,0,0
BRDA:626,91,1,0
BRDA:636,92,0,0
BRDA:636,92,1,0
BRDA:651,93,0,0
BRDA:651,93,1,0
BRDA:651,94,0,0
BRDA:651,94,1,0
BRDA:677,95,0,0
BRDA:677,95,1,0
BRDA:677,96,0,0
BRDA:677,96,1,0
BRDA:706,97,0,0
BRDA:706,97,1,0
BRDA:710,98,0,0
BRDA:710,98,1,0
BRDA:718,99,0,0
BRDA:718,99,1,0
BRDA:718,100,0,0
BRDA:718,100,1,0
BRDA:728,101,0,0
BRDA:728,101,1,0
BRDA:738,102,0,0
BRDA:738,102,1,0
BRDA:738,103,0,0
BRDA:738,103,1,0
BRDA:760,104,0,0
BRDA:760,104,1,0
BRDA:761,105,0,0
BRDA:761,105,1,0
BRDA:780,106,0,0
BRDA:780,106,1,0
BRDA:782,107,0,0
BRDA:782,107,1,0
BRDA:800,108,0,0
BRDA:800,108,1,0
BRDA:805,109,0,0
BRDA:805,109,1,0
BRDA:814,110,0,0
BRDA:814,110,1,0
BRDA:824,111,0,0
BRDA:824,111,1,0
BRDA:824,112,0,0
BRDA:824,112,1,0
BRDA:829,113,0,0
BRDA:829,113,1,0
BRDA:845,114,0,0
BRDA:845,114,1,0
BRDA:855,115,0,0
BRDA:855,115,1,0
BRDA:856,116,0,0
BRDA:856,116,1,0
BRDA:859,117,0,0
BRDA:859,117,1,0
BRDA:859,117,2,0
BRDA:870,118,0,0
BRDA:870,118,1,0
BRDA:887,119,0,0
BRDA:887,119,1,0
BRDA:891,120,0,0
BRDA:891,120,1,0
BRDA:903,121,0,0
BRDA:903,121,1,0
BRDA:904,122,0,0
BRDA:904,122,1,0
BRDA:904,122,2,0
BRDA:904,122,3,0
BRDA:912,123,0,0
BRDA:912,123,1,0
BRDA:913,124,0,0
BRDA:913,124,1,0
BRDA:921,125,0,0
BRDA:921,125,1,0
BRDA:926,126,0,0
BRDA:926,126,1,0
BRDA:948,127,0,0
BRDA:948,127,1,0
BRDA:948,128,0,0
BRDA:948,128,1,0
BRDA:968,129,0,0
BRDA:968,129,1,0
BRDA:975,130,0,0
BRDA:975,130,1,0
BRDA:978,131,0,0
BRDA:978,131,1,0
BRDA:1009,132,0,0
BRDA:1009,132,1,0
BRDA:1013,133,0,0
BRDA:1013,133,1,0
BRDA:1022,134,0,0
BRDA:1022,134,1,0
BRDA:1040,135,0,0
BRDA:1040,135,1,0
BRF:283
BRH:0
end_of_record
TN:
SF:lib\FormulaEvaluator.js
FN:20,(anonymous_0)
FN:30,(anonymous_1)
FN:168,(anonymous_2)
FN:188,(anonymous_3)
FN:208,(anonymous_4)
FN:228,(anonymous_5)
FN:248,(anonymous_6)
FN:265,(anonymous_7)
FN:310,(anonymous_8)
FN:357,(anonymous_9)
FNF:10
FNH:10
FNDA:52,(anonymous_0)
FNDA:108,(anonymous_1)
FNDA:71,(anonymous_2)
FNDA:94,(anonymous_3)
FNDA:114,(anonymous_4)
FNDA:117,(anonymous_5)
FNDA:200,(anonymous_6)
FNDA:188,(anonymous_7)
FNDA:270,(anonymous_8)
FNDA:67,(anonymous_9)
DA:21,52
DA:22,52
DA:31,108
DA:32,6
DA:35,102
DA:36,102
DA:37,102
DA:39,102
DA:41,630
DA:42,242
DA:43,242
DA:47,388
DA:48,25
DA:49,25
DA:50,25
DA:52,363
DA:53,24
DA:54,24
DA:55,24
DA:59,339
DA:60,263
DA:61,263
DA:62,2
DA:63,2
DA:64,2
DA:66,261
DA:67,2
DA:68,2
DA:69,2
DA:71,259
DA:72,2
DA:73,2
DA:74,2
DA:79,333
DA:80,3
DA:81,3
DA:82,3
DA:84,330
DA:85,3
DA:86,3
DA:87,3
DA:89,327
DA:90,3
DA:91,3
DA:92,3
DA:94,324
DA:95,3
DA:96,3
DA:97,3
DA:99,321
DA:100,2
DA:101,2
DA:102,2
DA:104,319
DA:105,2
DA:106,2
DA:107,2
DA:111,317
DA:112,302
DA:113,302
DA:114,526
DA:115,526
DA:118,302
DA:121,302
DA:122,72
DA:123,230
DA:124,16
DA:125,214
DA:126,2
DA:127,212
DA:128,12
DA:129,200
DA:130,6
DA:131,194
DA:132,4
DA:133,190
DA:135,187
DA:137,3
DA:139,299
DA:143,15
DA:144,11
DA:145,11
DA:146,3
DA:147,8
DA:148,6
DA:150,2
DA:152,9
DA:153,9
DA:157,4
DA:160,93
DA:169,71
DA:170,71
DA:172,71
DA:173,1
DA:176,70
DA:178,64
DA:179,3
DA:182,61
DA:189,94
DA:191,88
DA:192,20
DA:193,20
DA:194,20
DA:202,88
DA:209,114
DA:211,108
DA:212,3
DA:213,3
DA:214,3
DA:222,108
DA:229,117
DA:231,113
DA:232,71
DA:233,71
DA:234,69
DA:242,111
DA:249,200
DA:250,12
DA:251,12
DA:252,12
DA:259,188
DA:266,188
DA:267,2
DA:270,186
DA:273,186
DA:274,24
DA:275,24
DA:276,24
DA:277,3
DA:279,21
DA:280,21
DA:284,162
DA:285,12
DA:286,12
DA:293,150
DA:294,149
DA:295,149
DA:301,1
DA:311,270
DA:312,0
DA:315,270
DA:317,14
DA:320,153
DA:321,3
DA:323,150
DA:326,11
DA:327,11
DA:329,0
DA:332,92
DA:333,92
DA:335,90
DA:337,62
DA:339,21
DA:341,7
DA:343,0
DA:347,0
DA:358,67
DA:359,60
DA:360,54
DA:364,1
LF:160
LH:156
BRDA:31,0,0,6
BRDA:31,0,1,102
BRDA:31,1,0,108
BRDA:31,1,1,104
BRDA:41,2,0,242
BRDA:41,2,1,388
BRDA:47,3,0,25
BRDA:47,3,1,363
BRDA:52,4,0,24
BRDA:52,4,1,339
BRDA:59,5,0,263
BRDA:59,5,1,76
BRDA:61,6,0,2
BRDA:61,6,1,261
BRDA:66,7,0,2
BRDA:66,7,1,259
BRDA:71,8,0,2
BRDA:71,8,1,257
BRDA:79,9,0,3
BRDA:79,9,1,330
BRDA:84,10,0,3
BRDA:84,10,1,327
BRDA:89,11,0,3
BRDA:89,11,1,324
BRDA:94,12,0,3
BRDA:94,12,1,321
BRDA:99,13,0,2
BRDA:99,13,1,319
BRDA:104,14,0,2
BRDA:104,14,1,317
BRDA:111,15,0,302
BRDA:111,15,1,15
BRDA:113,16,0,828
BRDA:113,16,1,748
BRDA:121,17,0,72
BRDA:121,17,1,230
BRDA:123,18,0,16
BRDA:123,18,1,214
BRDA:125,19,0,2
BRDA:125,19,1,212
BRDA:127,20,0,12
BRDA:127,20,1,200
BRDA:129,21,0,6
BRDA:129,21,1,194
BRDA:131,22,0,4
BRDA:131,22,1,190
BRDA:133,23,0,187
BRDA:133,23,1,3
BRDA:143,24,0,11
BRDA:143,24,1,4
BRDA:145,25,0,3
BRDA:145,25,1,8
BRDA:147,26,0,6
BRDA:147,26,1,2
BRDA:172,27,0,1
BRDA:172,27,1,70
BRDA:178,28,0,3
BRDA:178,28,1,61
BRDA:191,29,0,108
BRDA:191,29,1,44
BRDA:211,30,0,111
BRDA:211,30,1,47
BRDA:231,31,0,182
BRDA:231,31,1,118
BRDA:249,32,0,12
BRDA:249,32,1,188
BRDA:249,33,0,200
BRDA:249,33,1,198
BRDA:266,34,0,2
BRDA:266,34,1,186
BRDA:273,35,0,24
BRDA:273,35,1,162
BRDA:276,36,0,3
BRDA:276,36,1,21
BRDA:276,37,0,24
BRDA:276,37,1,21
BRDA:284,38,0,12
BRDA:284,38,1,150
BRDA:293,39,0,149
BRDA:293,39,1,1
BRDA:310,40,0,2
BRDA:311,41,0,0
BRDA:311,41,1,270
BRDA:315,42,0,14
BRDA:315,42,1,153
BRDA:315,42,2,11
BRDA:315,42,3,92
BRDA:315,42,4,0
BRDA:320,43,0,3
BRDA:320,43,1,150
BRDA:326,44,0,11
BRDA:326,44,1,0
BRDA:335,45,0,62
BRDA:335,45,1,21
BRDA:335,45,2,7
BRDA:335,45,3,0
BRDA:337,46,0,62
BRDA:337,46,1,47
BRDA:339,47,0,21
BRDA:339,47,1,12
BRDA:357,48,0,21
BRF:101
BRH:97
end_of_record
TN:
SF:lib\Logger.js
FN:48,(anonymous_0)
FN:71,(anonymous_1)
FN:86,(anonymous_2)
FN:126,(anonymous_3)
FN:134,(anonymous_4)
FN:138,(anonymous_5)
FN:142,(anonymous_6)
FN:146,(anonymous_7)
FN:179,(anonymous_8)
FN:200,(anonymous_9)
FN:220,(anonymous_10)
FN:251,(anonymous_11)
FN:256,(anonymous_12)
FN:260,(anonymous_13)
FN:264,(anonymous_14)
FN:268,(anonymous_15)
FN:272,(anonymous_16)
FN:276,(anonymous_17)
FN:281,(anonymous_18)
FN:285,(anonymous_19)
FN:290,(anonymous_20)
FN:294,(anonymous_21)
FN:301,(anonymous_22)
FN:322,(anonymous_23)
FN:335,(anonymous_24)
FN:355,(anonymous_25)
FN:363,(anonymous_26)
FN:369,(anonymous_27)
FNF:28
FNH:0
FNDA:0,(anonymous_0)
FNDA:0,(anonymous_1)
FNDA:0,(anonymous_2)
FNDA:0,(anonymous_3)
FNDA:0,(anonymous_4)
FNDA:0,(anonymous_5)
FNDA:0,(anonymous_6)
FNDA:0,(anonymous_7)
FNDA:0,(anonymous_8)
FNDA:0,(anonymous_9)
FNDA:0,(anonymous_10)
FNDA:0,(anonymous_11)
FNDA:0,(anonymous_12)
FNDA:0,(anonymous_13)
FNDA:0,(anonymous_14)
FNDA:0,(anonymous_15)
FNDA:0,(anonymous_16)
FNDA:0,(anonymous_17)
FNDA:0,(anonymous_18)
FNDA:0,(anonymous_19)
FNDA:0,(anonymous_20)
FNDA:0,(anonymous_21)
FNDA:0,(anonymous_22)
FNDA:0,(anonymous_23)
FNDA:0,(anonymous_24)
FNDA:0,(anonymous_25)
FNDA:0,(anonymous_26)
FNDA:0,(anonymous_27)
DA:19,0
DA:27,0
DA:41,0
DA:50,0
DA:51,0
DA:54,0
DA:55,0
DA:56,0
DA:57,0
DA:59,0
DA:65,0
DA:66,0
DA:74,0
DA:75,0
DA:76,0
DA:78,0
DA:80,0
DA:84,0
DA:86,0
DA:91,0
DA:92,0
DA:96,0
DA:97,0
DA:100,0
DA:101,0
DA:102,0
DA:104,0
DA:105,0
DA:108,0
DA:116,0
DA:117,0
DA:119,0
DA:123,0
DA:127,0
DA:128,0
DA:129,0
DA:130,0
DA:135,0
DA:139,0
DA:143,0
DA:147,0
DA:150,0
DA:156,0
DA:157,0
DA:159,0
DA:164,0
DA:174,0
DA:177,0
DA:178,0
DA:179,0
DA:181,0
DA:188,0
DA:197,0
DA:201,0
DA:202,0
DA:206,0
DA:207,0
DA:208,0
DA:210,0
DA:213,0
DA:215,0
DA:216,0
DA:221,0
DA:222,0
DA:226,0
DA:228,0
DA:231,0
DA:232,0
DA:234,0
DA:236,0
DA:237,0
DA:238,0
DA:239,0
DA:243,0
DA:244,0
DA:245,0
DA:246,0
DA:252,0
DA:257,0
DA:261,0
DA:265,0
DA:269,0
DA:273,0
DA:277,0
DA:282,0
DA:286,0
DA:291,0
DA:295,0
DA:296,0
DA:297,0
DA:302,0
DA:303,0
DA:304,0
DA:305,0
DA:308,0
DA:309,0
DA:311,0
DA:312,0
DA:319,0
DA:323,0
DA:324,0
DA:327,0
DA:328,0
DA:329,0
DA:331,0
DA:336,0
DA:337,0
DA:340,0
DA:341,0
DA:344,0
DA:345,0
DA:346,0
DA:347,0
DA:349,0
DA:356,0
DA:364,0
DA:365,0
DA:370,0
DA:371,0
DA:373,0
DA:374,0
DA:375,0
DA:376,0
DA:381,0
DA:383,0
DA:389,0
DA:395,0
DA:399,0
DA:400,0
DA:401,0
DA:407,0
LF:131
LH:0
BRDA:50,0,0,0
BRDA:50,0,1,0
BRDA:71,1,0,0
BRDA:71,2,0,0
BRDA:74,3,0,0
BRDA:74,3,1,0
BRDA:74,4,0,0
BRDA:74,4,1,0
BRDA:76,5,0,0
BRDA:76,5,1,0
BRDA:76,6,0,0
BRDA:76,6,1,0
BRDA:76,6,2,0
BRDA:101,7,0,0
BRDA:101,7,1,0
BRDA:101,8,0,0
BRDA:101,8,1,0
BRDA:104,9,0,0
BRDA:104,9,1,0
BRDA:105,10,0,0
BRDA:105,10,1,0
BRDA:111,11,0,0
BRDA:111,11,1,0
BRDA:111,11,2,0
BRDA:112,12,0,0
BRDA:112,12,1,0
BRDA:112,12,2,0
BRDA:116,13,0,0
BRDA:116,13,1,0
BRDA:128,14,0,0
BRDA:128,14,1,0
BRDA:150,15,0,0
BRDA:150,15,1,0
BRDA:151,16,0,0
BRDA:151,16,1,0
BRDA:151,16,2,0
BRDA:151,16,3,0
BRDA:159,17,0,0
BRDA:159,17,1,0
BRDA:160,18,0,0
BRDA:160,18,1,0
BRDA:160,18,2,0
BRDA:174,19,0,0
BRDA:174,19,1,0
BRDA:177,20,0,0
BRDA:177,20,1,0
BRDA:177,21,0,0
BRDA:177,21,1,0
BRDA:177,21,2,0
BRDA:181,22,0,0
BRDA:181,22,1,0
BRDA:181,23,0,0
BRDA:181,23,1,0
BRDA:181,23,2,0
BRDA:201,24,0,0
BRDA:201,24,1,0
BRDA:221,25,0,0
BRDA:221,25,1,0
BRDA:231,26,0,0
BRDA:231,26,1,0
BRDA:237,27,0,0
BRDA:237,27,1,0
BRDA:239,28,0,0
BRDA:239,28,1,0
BRDA:245,29,0,0
BRDA:245,29,1,0
BRDA:296,30,0,0
BRDA:296,30,1,0
BRDA:303,31,0,0
BRDA:303,31,1,0
BRDA:311,32,0,0
BRDA:311,32,1,0
BRDA:323,33,0,0
BRDA:323,33,1,0
BRDA:336,34,0,0
BRDA:336,34,1,0
BRDA:340,35,0,0
BRDA:340,35,1,0
BRDA:346,36,0,0
BRDA:346,36,1,0
BRDA:364,37,0,0
BRDA:364,37,1,0
BRDA:370,38,0,0
BRDA:370,38,1,0
BRDA:381,39,0,0
BRDA:381,39,1,0
BRDA:383,40,0,0
BRDA:383,40,1,0
BRF:88
BRH:0
end_of_record
TN:
SF:lib\loggerConfig.js
FNF:0
FNH:0
DA:14,0
LF:1
LH:0
BRF:0
BRH:0
end_of_record
--- END: coverage/lcov.info ---

--- START: coverage/Logger.js.html (sha256=f3b7bc04874a37fc3a16f50ebf85b68443ed759aa0437e4db257af8b5d232e23, bytes=62673) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for Logger.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> Logger.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/131</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/88</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/28</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/131</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a>
<a name='L253'></a><a href='#L253'>253</a>
<a name='L254'></a><a href='#L254'>254</a>
<a name='L255'></a><a href='#L255'>255</a>
<a name='L256'></a><a href='#L256'>256</a>
<a name='L257'></a><a href='#L257'>257</a>
<a name='L258'></a><a href='#L258'>258</a>
<a name='L259'></a><a href='#L259'>259</a>
<a name='L260'></a><a href='#L260'>260</a>
<a name='L261'></a><a href='#L261'>261</a>
<a name='L262'></a><a href='#L262'>262</a>
<a name='L263'></a><a href='#L263'>263</a>
<a name='L264'></a><a href='#L264'>264</a>
<a name='L265'></a><a href='#L265'>265</a>
<a name='L266'></a><a href='#L266'>266</a>
<a name='L267'></a><a href='#L267'>267</a>
<a name='L268'></a><a href='#L268'>268</a>
<a name='L269'></a><a href='#L269'>269</a>
<a name='L270'></a><a href='#L270'>270</a>
<a name='L271'></a><a href='#L271'>271</a>
<a name='L272'></a><a href='#L272'>272</a>
<a name='L273'></a><a href='#L273'>273</a>
<a name='L274'></a><a href='#L274'>274</a>
<a name='L275'></a><a href='#L275'>275</a>
<a name='L276'></a><a href='#L276'>276</a>
<a name='L277'></a><a href='#L277'>277</a>
<a name='L278'></a><a href='#L278'>278</a>
<a name='L279'></a><a href='#L279'>279</a>
<a name='L280'></a><a href='#L280'>280</a>
<a name='L281'></a><a href='#L281'>281</a>
<a name='L282'></a><a href='#L282'>282</a>
<a name='L283'></a><a href='#L283'>283</a>
<a name='L284'></a><a href='#L284'>284</a>
<a name='L285'></a><a href='#L285'>285</a>
<a name='L286'></a><a href='#L286'>286</a>
<a name='L287'></a><a href='#L287'>287</a>
<a name='L288'></a><a href='#L288'>288</a>
<a name='L289'></a><a href='#L289'>289</a>
<a name='L290'></a><a href='#L290'>290</a>
<a name='L291'></a><a href='#L291'>291</a>
<a name='L292'></a><a href='#L292'>292</a>
<a name='L293'></a><a href='#L293'>293</a>
<a name='L294'></a><a href='#L294'>294</a>
<a name='L295'></a><a href='#L295'>295</a>
<a name='L296'></a><a href='#L296'>296</a>
<a name='L297'></a><a href='#L297'>297</a>
<a name='L298'></a><a href='#L298'>298</a>
<a name='L299'></a><a href='#L299'>299</a>
<a name='L300'></a><a href='#L300'>300</a>
<a name='L301'></a><a href='#L301'>301</a>
<a name='L302'></a><a href='#L302'>302</a>
<a name='L303'></a><a href='#L303'>303</a>
<a name='L304'></a><a href='#L304'>304</a>
<a name='L305'></a><a href='#L305'>305</a>
<a name='L306'></a><a href='#L306'>306</a>
<a name='L307'></a><a href='#L307'>307</a>
<a name='L308'></a><a href='#L308'>308</a>
<a name='L309'></a><a href='#L309'>309</a>
<a name='L310'></a><a href='#L310'>310</a>
<a name='L311'></a><a href='#L311'>311</a>
<a name='L312'></a><a href='#L312'>312</a>
<a name='L313'></a><a href='#L313'>313</a>
<a name='L314'></a><a href='#L314'>314</a>
<a name='L315'></a><a href='#L315'>315</a>
<a name='L316'></a><a href='#L316'>316</a>
<a name='L317'></a><a href='#L317'>317</a>
<a name='L318'></a><a href='#L318'>318</a>
<a name='L319'></a><a href='#L319'>319</a>
<a name='L320'></a><a href='#L320'>320</a>
<a name='L321'></a><a href='#L321'>321</a>
<a name='L322'></a><a href='#L322'>322</a>
<a name='L323'></a><a href='#L323'>323</a>
<a name='L324'></a><a href='#L324'>324</a>
<a name='L325'></a><a href='#L325'>325</a>
<a name='L326'></a><a href='#L326'>326</a>
<a name='L327'></a><a href='#L327'>327</a>
<a name='L328'></a><a href='#L328'>328</a>
<a name='L329'></a><a href='#L329'>329</a>
<a name='L330'></a><a href='#L330'>330</a>
<a name='L331'></a><a href='#L331'>331</a>
<a name='L332'></a><a href='#L332'>332</a>
<a name='L333'></a><a href='#L333'>333</a>
<a name='L334'></a><a href='#L334'>334</a>
<a name='L335'></a><a href='#L335'>335</a>
<a name='L336'></a><a href='#L336'>336</a>
<a name='L337'></a><a href='#L337'>337</a>
<a name='L338'></a><a href='#L338'>338</a>
<a name='L339'></a><a href='#L339'>339</a>
<a name='L340'></a><a href='#L340'>340</a>
<a name='L341'></a><a href='#L341'>341</a>
<a name='L342'></a><a href='#L342'>342</a>
<a name='L343'></a><a href='#L343'>343</a>
<a name='L344'></a><a href='#L344'>344</a>
<a name='L345'></a><a href='#L345'>345</a>
<a name='L346'></a><a href='#L346'>346</a>
<a name='L347'></a><a href='#L347'>347</a>
<a name='L348'></a><a href='#L348'>348</a>
<a name='L349'></a><a href='#L349'>349</a>
<a name='L350'></a><a href='#L350'>350</a>
<a name='L351'></a><a href='#L351'>351</a>
<a name='L352'></a><a href='#L352'>352</a>
<a name='L353'></a><a href='#L353'>353</a>
<a name='L354'></a><a href='#L354'>354</a>
<a name='L355'></a><a href='#L355'>355</a>
<a name='L356'></a><a href='#L356'>356</a>
<a name='L357'></a><a href='#L357'>357</a>
<a name='L358'></a><a href='#L358'>358</a>
<a name='L359'></a><a href='#L359'>359</a>
<a name='L360'></a><a href='#L360'>360</a>
<a name='L361'></a><a href='#L361'>361</a>
<a name='L362'></a><a href='#L362'>362</a>
<a name='L363'></a><a href='#L363'>363</a>
<a name='L364'></a><a href='#L364'>364</a>
<a name='L365'></a><a href='#L365'>365</a>
<a name='L366'></a><a href='#L366'>366</a>
<a name='L367'></a><a href='#L367'>367</a>
<a name='L368'></a><a href='#L368'>368</a>
<a name='L369'></a><a href='#L369'>369</a>
<a name='L370'></a><a href='#L370'>370</a>
<a name='L371'></a><a href='#L371'>371</a>
<a name='L372'></a><a href='#L372'>372</a>
<a name='L373'></a><a href='#L373'>373</a>
<a name='L374'></a><a href='#L374'>374</a>
<a name='L375'></a><a href='#L375'>375</a>
<a name='L376'></a><a href='#L376'>376</a>
<a name='L377'></a><a href='#L377'>377</a>
<a name='L378'></a><a href='#L378'>378</a>
<a name='L379'></a><a href='#L379'>379</a>
<a name='L380'></a><a href='#L380'>380</a>
<a name='L381'></a><a href='#L381'>381</a>
<a name='L382'></a><a href='#L382'>382</a>
<a name='L383'></a><a href='#L383'>383</a>
<a name='L384'></a><a href='#L384'>384</a>
<a name='L385'></a><a href='#L385'>385</a>
<a name='L386'></a><a href='#L386'>386</a>
<a name='L387'></a><a href='#L387'>387</a>
<a name='L388'></a><a href='#L388'>388</a>
<a name='L389'></a><a href='#L389'>389</a>
<a name='L390'></a><a href='#L390'>390</a>
<a name='L391'></a><a href='#L391'>391</a>
<a name='L392'></a><a href='#L392'>392</a>
<a name='L393'></a><a href='#L393'>393</a>
<a name='L394'></a><a href='#L394'>394</a>
<a name='L395'></a><a href='#L395'>395</a>
<a name='L396'></a><a href='#L396'>396</a>
<a name='L397'></a><a href='#L397'>397</a>
<a name='L398'></a><a href='#L398'>398</a>
<a name='L399'></a><a href='#L399'>399</a>
<a name='L400'></a><a href='#L400'>400</a>
<a name='L401'></a><a href='#L401'>401</a>
<a name='L402'></a><a href='#L402'>402</a>
<a name='L403'></a><a href='#L403'>403</a>
<a name='L404'></a><a href='#L404'>404</a>
<a name='L405'></a><a href='#L405'>405</a>
<a name='L406'></a><a href='#L406'>406</a>
<a name='L407'></a><a href='#L407'>407</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";
&nbsp;
/**
 * Advanced Logger for Homey Apps
 *
 * NEW: Supports global configuration via loggerConfig.js
 * FIX: Manually performs variable substitution as this.homey.__() fails to do so.
 * FIX (User): Added log level (e.g., [INFO ], [DEBUG]) to the console output.
 * FIX (User): Moved log level to the front of the output.
 * FIX (User): Fixed 'minLevel = 0 || ...' bug.
 * FIX (User): Added config loaded logging and static cache.
 * FIX (User): Moved config log to appear *after* the banner.
 * FIX (User): Fixed bug in _getDefaultConfig catch block return shape.
 * FIX (User): Fixed null-logging in banner().
 * FIX (User): Reverted info() to log as INFO. Code should be explicit.
 */
&nbsp;
class Logger {
  static LEVELS = <span class="cstat-no" title="statement not covered" >{</span>
    DEBUG: 0,
    INFO: 1,
    WARN: 2,
    ERROR: 3,
    NONE: 4,
  };
&nbsp;
  static SYMBOLS = <span class="cstat-no" title="statement not covered" >{</span>
    DEBUG: "🔍",
    INFO: "✅",
    WARN: "⚠️",
    ERROR: "❌",
    TIMER: "⏱️",
    FORMULA: "📐",
    INPUT: "📥",
    OUTPUT: "📤",
    DEVICE: "🔌",
    API: "🌐",
    FLOW: "🔄",
  };
&nbsp;
  static _globalConfig = <span class="cstat-no" title="statement not covered" >null;</span>
&nbsp;
  /**
   * Get default configuration
   * Tries to load from loggerConfig.js, falls back to defaults
   * @private
   */
<span class="fstat-no" title="function not covered" >  st</span>atic _getDefaultConfig() {
    // Use cache if available
<span class="cstat-no" title="statement not covered" >    if (Logger._globalConfig) {</span>
<span class="cstat-no" title="statement not covered" >      return Logger._globalConfig;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
      const config = <span class="cstat-no" title="statement not covered" >require("./loggerConfig");</span>
<span class="cstat-no" title="statement not covered" >      Logger._globalConfig = { config: config, source: "custom" };</span>
<span class="cstat-no" title="statement not covered" >      return Logger._globalConfig;</span>
    } catch (e) {
      const defaultConfig = <span class="cstat-no" title="statement not covered" >{</span>
        defaultLevel: "DEBUG", // ENDRET: Fallback til DEBUG
        categoryLevels: {},
        options: {},
      };
      // --- FIKS: Returner samme objektform som i 'try' ---
<span class="cstat-no" title="statement not covered" >      Logger._globalConfig = { config: defaultConfig, source: "default" };</span>
<span class="cstat-no" title="statement not covered" >      return Logger._globalConfig;</span>
      // --- SLUTT FIKS ---
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  co</span>nstructor(context, category = <span class="branch-0 cbranch-no" title="branch not covered" >"App",</span> options = <span class="branch-0 cbranch-no" title="branch not covered" >{})</span> {
    // --- FIKS I KONSTRUKTØR ---
    // Finner det *ekte* homey-objektet uansett om 'context' er App eller Device
<span class="cstat-no" title="statement not covered" >    if (context &amp;&amp; context.homey) {</span>
<span class="cstat-no" title="statement not covered" >      this.homey = context.homey;</span>
    } else <span class="cstat-no" title="statement not covered" >if (context &amp;&amp; context.app &amp;&amp; context.app.homey) {</span>
      // Fallback
<span class="cstat-no" title="statement not covered" >      this.homey = context.app.homey;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      console.error(</span>
        `Logger: Could not find 'homey' object on context for category '${category}'.`,
      );
      // Oppretter en dummy for å unngå krasj
<span class="cstat-no" title="statement not covered" >      this.homey = {</span>
        app: { log: console.log, error: console.error },
        __: <span class="fstat-no" title="function not covered" >(s</span>) =&gt; <span class="cstat-no" title="statement not covered" >s,</span> // Returnerer bare nøkkelen
      };
    }
    // --- SLUTT FIKS ---
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.context = context;</span>
<span class="cstat-no" title="statement not covered" >    this.category = category;</span>
&nbsp;
    // Load global config
    const { config: globalConfig, source: configSource } =
<span class="cstat-no" title="statement not covered" >      Logger._getDefaultConfig();</span>
<span class="cstat-no" title="statement not covered" >    this.configSource = configSource; </span>// Lagrer kilden for bruk i banner()
&nbsp;
    // Determine log level (priority: options &gt; categoryLevels &gt; defaultLevel)
    let level = <span class="cstat-no" title="statement not covered" >options.level;</span>
<span class="cstat-no" title="statement not covered" >    if (!level &amp;&amp; globalConfig.categoryLevels[category]) {</span>
<span class="cstat-no" title="statement not covered" >      level = globalConfig.categoryLevels[category];</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!level) {</span>
<span class="cstat-no" title="statement not covered" >      level = globalConfig.defaultLevel || "DEBUG"; </span>// ENDRET: Fallback til DEBUG
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.options = {</span>
      level: level.toUpperCase(),
      timestamps:
        options.timestamps || globalConfig.options.timestamps || false,
      colors: options.colors || globalConfig.options.colors || false,
    }; // --- FIKS: Manglende } lagt til ---
&nbsp;
    // --- FIKS: Korrekt sjekk for 0 (DEBUG) ---
<span class="cstat-no" title="statement not covered" >    if (Logger.LEVELS[this.options.level] !== undefined) {</span>
<span class="cstat-no" title="statement not covered" >      this.minLevel = Logger.LEVELS[this.options.level];</span>
    } else {
<span class="cstat-no" title="statement not covered" >      this.minLevel = Logger.LEVELS.DEBUG; </span>// Fallback
    }
    // --- SLUTT FIKS ---
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.timers = new Map();</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  se</span>tLevel(level) {
    const upperLevel = <span class="cstat-no" title="statement not covered" >level.toUpperCase();</span>
<span class="cstat-no" title="statement not covered" >    if (Logger.LEVELS[upperLevel] !== undefined) {</span>
<span class="cstat-no" title="statement not covered" >      this.minLevel = Logger.LEVELS[upperLevel];</span>
<span class="cstat-no" title="statement not covered" >      this.options.level = upperLevel;</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ge</span>tLevel() {
<span class="cstat-no" title="statement not covered" >    return this.options.level;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  _s</span>houldLog(level) {
<span class="cstat-no" title="statement not covered" >    return Logger.LEVELS[level] &gt;= this.minLevel;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  _g</span>etPrefix(symbol) {
<span class="cstat-no" title="statement not covered" >    return `${symbol} [${this.category}]`;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  _f</span>ormatMessage(keyOrMessage, data) {
    let message = <span class="cstat-no" title="statement not covered" >keyOrMessage;</span> // Start with the original key/message
&nbsp;
    // 1. Attempt Translation IF it looks like a key and __ exists
<span class="cstat-no" title="statement not covered" >    if (</span>
      typeof keyOrMessage === "string" &amp;&amp;
      keyOrMessage.includes(".") &amp;&amp;
      this.homey &amp;&amp;
      typeof this.homey.__ === "function"
    ) {
<span class="cstat-no" title="statement not covered" >      try {</span>
        const translated = <span class="cstat-no" title="statement not covered" >this.homey.__(keyOrMessage, data);</span>
        // Use translation ONLY if it's a non-empty string and DIFFERENT from the key
<span class="cstat-no" title="statement not covered" >        if (</span>
          typeof translated === "string" &amp;&amp;
          translated.trim() !== "" &amp;&amp;
          translated !== keyOrMessage
        ) {
<span class="cstat-no" title="statement not covered" >          message = translated;</span>
        }
        // If translated is null, undefined, empty, or same as key, 'message' remains keyOrMessage
      } catch (e) {
        // If translation throws error, 'message' remains keyOrMessage
        // console.error(`Logger: Error during this.homey.__ for key '${keyOrMessage}'. Using key.`, e);
      }
    }
&nbsp;
    // 2. Ensure 'message' is now DEFINITELY a string (fallback if translation failed badly)
    let messageStr = <span class="cstat-no" title="statement not covered" >String(message ?? keyOrMessage);</span> // Use keyOrMessage if message became null/undefined
&nbsp;
    // 3. Perform Manual Substitution on the resulting string
<span class="cstat-no" title="statement not covered" >    if (data &amp;&amp; typeof data === "object" &amp;&amp; data !== null) {</span>
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        messageStr = messageStr.replace(/\{([^{}]+)\}/g, <span class="fstat-no" title="function not covered" >(m</span>atch, key) =&gt; {</span>
          // Use value from data if exists and is not null/undefined, otherwise keep placeholder
<span class="cstat-no" title="statement not covered" >          return data.hasOwnProperty(key) &amp;&amp;</span>
            data[key] !== null &amp;&amp;
            data[key] !== undefined
            ? String(data[key]) // Ensure replacement is a string
            : match;
        });
      } catch (e) {
<span class="cstat-no" title="statement not covered" >        console.error(</span>
          `Logger: Manual substitution failed for: "${messageStr}"`,
          e,
        );
        // messageStr remains as it was before substitution attempt
      }
    }
&nbsp;
    // Return the final string
<span class="cstat-no" title="statement not covered" >    return messageStr;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  _l</span>og(level, symbol, keyOrMessage, data) {
<span class="cstat-no" title="statement not covered" >    if (!this._shouldLog(level)) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
    // --- FIKS: Log-nivå lagt til ---
    const levelString = <span class="cstat-no" title="statement not covered" >`[${level.padEnd(5)}]`;</span>
    const prefix = <span class="cstat-no" title="statement not covered" >this._getPrefix(symbol);</span>
    const formattedMessage = <span class="cstat-no" title="statement not covered" >this._formatMessage(keyOrMessage, data);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
      // Bruk ALLTID this.homey.app.log
      // --- FIKS: Flyttet levelString FØRST ---
<span class="cstat-no" title="statement not covered" >      this.homey.app.log(levelString, prefix, formattedMessage);</span>
    } catch (error) {
<span class="cstat-no" title="statement not covered" >      console.error("Logger internal error:", error);</span>
<span class="cstat-no" title="statement not covered" >      console.log(levelString, prefix, formattedMessage); </span>// Fallback til console.log
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  _l</span>ogError(keyOrMessage, error) {
<span class="cstat-no" title="statement not covered" >    if (!this._shouldLog("ERROR")) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
    // --- FIKS: Log-nivå lagt til ---
    const levelString = <span class="cstat-no" title="statement not covered" >`[${"ERROR".padEnd(5)}]`;</span>
&nbsp;
    const prefix = <span class="cstat-no" title="statement not covered" >this._getPrefix(Logger.SYMBOLS.ERROR);</span>
&nbsp;
    // Data-objektet kan være gjemt i 'error' hvis det ikke er en ekte Error
    let data = <span class="cstat-no" title="statement not covered" >error instanceof Error ? null : error;</span>
    const formattedMessage = <span class="cstat-no" title="statement not covered" >this._formatMessage(keyOrMessage, data);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
      // --- FIKS: Flyttet levelString FØRST ---
<span class="cstat-no" title="statement not covered" >      this.homey.app.error(levelString, prefix, formattedMessage);</span>
<span class="cstat-no" title="statement not covered" >      if (error instanceof Error) {</span>
<span class="cstat-no" title="statement not covered" >        this.homey.app.error(error); </span>// Logg stack trace hvis det er en Error
      } else <span class="cstat-no" title="statement not covered" >if (data) {</span>
        // Hvis 'error' bare var data, er den allerede i formattedMessage
      }
    } catch (err) {
<span class="cstat-no" title="statement not covered" >      console.error("Logger internal error (error):", err);</span>
<span class="cstat-no" title="statement not covered" >      console.error(levelString, prefix, formattedMessage);</span>
<span class="cstat-no" title="statement not covered" >      if (error) {</span>
<span class="cstat-no" title="statement not covered" >        console.error(error);</span>
      }
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  de</span>bug(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.DEBUG, message, data);</span>
  }
&nbsp;
  // --- FIKS: info() logger nå som INFO ---
<span class="fstat-no" title="function not covered" >  in</span>fo(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("INFO", Logger.SYMBOLS.INFO, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  wa</span>rn(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("WARN", Logger.SYMBOLS.WARN, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  er</span>ror(message, error) {
<span class="cstat-no" title="statement not covered" >    this._logError(message, error);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  fo</span>rmula(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.FORMULA, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  in</span>put(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.INPUT, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ou</span>tput(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.OUTPUT, message, data);</span>
  }
&nbsp;
  // --- FIKS: device() logger nå som DEBUG ---
<span class="fstat-no" title="function not covered" >  de</span>vice(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.DEVICE, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ap</span>i(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.API, message, data);</span>
  }
&nbsp;
  // --- FIKS: flow() logger nå som DEBUG ---
<span class="fstat-no" title="function not covered" >  fl</span>ow(message, data) {
<span class="cstat-no" title="statement not covered" >    this._log("DEBUG", Logger.SYMBOLS.FLOW, message, data);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ti</span>meStart(label) {
<span class="cstat-no" title="statement not covered" >    this.timers.set(label, Date.now());</span>
<span class="cstat-no" title="statement not covered" >    if (this._shouldLog("DEBUG")) {</span>
<span class="cstat-no" title="statement not covered" >      this._log("DEBUG", Logger.SYMBOLS.TIMER, `Timer started: ${label}`);</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ti</span>meEnd(label) {
    const startTime = <span class="cstat-no" title="statement not covered" >this.timers.get(label);</span>
<span class="cstat-no" title="statement not covered" >    if (!startTime) {</span>
<span class="cstat-no" title="statement not covered" >      this.warn(`Timer '${label}' was not started`);</span>
<span class="cstat-no" title="statement not covered" >      return 0;</span>
    }
&nbsp;
    const duration = <span class="cstat-no" title="statement not covered" >Date.now() - startTime;</span>
<span class="cstat-no" title="statement not covered" >    this.timers.delete(label);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (this._shouldLog("DEBUG")) {</span>
<span class="cstat-no" title="statement not covered" >      this._log(</span>
        "DEBUG",
        Logger.SYMBOLS.TIMER,
        `Timer '${label}': ${duration}ms`,
      );
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return duration;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  du</span>mp(label, object) {
<span class="cstat-no" title="statement not covered" >    if (!this._shouldLog("DEBUG")) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
      const formatted = <span class="cstat-no" title="statement not covered" >JSON.stringify(object, null, 2);</span>
<span class="cstat-no" title="statement not covered" >      this._log("DEBUG", Logger.SYMBOLS.DEBUG, `${label}:\n${formatted}`);</span>
    } catch (error) {
<span class="cstat-no" title="statement not covered" >      this._log("DEBUG", Logger.SYMBOLS.DEBUG, `${label}:`, object);</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  on</span>ce(key, level, message, data) {
<span class="cstat-no" title="statement not covered" >    if (!this._onceKeys) {</span>
<span class="cstat-no" title="statement not covered" >      this._onceKeys = new Set();</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (this._onceKeys.has(key)) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    this._onceKeys.add(key);</span>
    const method = <span class="cstat-no" title="statement not covered" >level.toLowerCase();</span>
<span class="cstat-no" title="statement not covered" >    if (typeof this[method] === "function") {</span>
<span class="cstat-no" title="statement not covered" >      this[method](message, data);</span>
    } else {
<span class="cstat-no" title="statement not covered" >      console.warn(</span>
        `Logger: Invalid level "${level}" provided to 'once' method.`,
      );
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ch</span>ild(subCategory) {
<span class="cstat-no" title="statement not covered" >    return new Logger(</span>
      this.context,
      `${this.category}:${subCategory}`,
      this.options,
    );
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  se</span>parator() {
<span class="cstat-no" title="statement not covered" >    if (this._shouldLog("DEBUG")) {</span>
<span class="cstat-no" title="statement not covered" >      this._log("DEBUG", "", "─".repeat(50));</span>
    }
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  ba</span>nner(message) {
<span class="cstat-no" title="statement not covered" >    if (this._shouldLog("INFO")) {</span>
      const line = <span class="cstat-no" title="statement not covered" >"═".repeat(message.length + 4);</span>
      // Banner kaller logg-funksjonen direkte for å unngå prefiks
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        this.homey.app.log(line);</span>
<span class="cstat-no" title="statement not covered" >        this.homey.app.log(`  ${message}  `);</span>
<span class="cstat-no" title="statement not covered" >        this.homey.app.log(line);</span>
&nbsp;
        // --- FIKS: Bruker this.homey.app.log direkte ---
        // _log() feilet fordi this.homey.__() ikke var klar for strenger
        // som ikke var locale-nøkler på dette tidlige stadiet.
<span class="cstat-no" title="statement not covered" >        if (this.configSource) {</span>
          const configMessage =
<span class="cstat-no" title="statement not covered" >            this.configSource === "custom"</span>
              ? "Loaded custom configuration from ./loggerConfig.js"
              : "Using default log settings (./loggerConfig.js not found)";
&nbsp;
          // Logger med [INFO] og 🔍-symbolet, som du foreslo
          // Bruker this.homey.app.log direkte for å unngå _formatMessage-feil
<span class="cstat-no" title="statement not covered" >          this.homey.app.log(</span>
            `[INFO ] ${Logger.SYMBOLS.DEBUG} [${this.category}]`,
            configMessage,
          );
&nbsp;
          // Nullstill, så den ikke logger dette igjen hvis banner() kalles på nytt
<span class="cstat-no" title="statement not covered" >          this.configSource = null;</span>
        }
        // --- SLUTT FIKS ---
      } catch (e) {
<span class="cstat-no" title="statement not covered" >        console.log(line);</span>
<span class="cstat-no" title="statement not covered" >        console.log(`  ${message}  `);</span>
<span class="cstat-no" title="statement not covered" >        console.log(line);</span>
      }
    }
  }
}
&nbsp;
<span class="cstat-no" title="statement not covered" >module.exports = Logger;</span></pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.263Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/Logger.js.html ---

--- START: coverage/loggerConfig.js.html (sha256=6fbf2b697f421b63488fb40bb56173989d67e4479d254babafdac8c9cc2e3f7b, bytes=7889) ---

<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for loggerConfig.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> loggerConfig.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">100% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/0</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">100% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/0</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
&nbsp;
/**
 * Global Logger Configuration for Boolean Toolbox
 *
 * This is the central configuration for all logging in the app.
 * Place this file in: lib/loggerConfig.js
 *
 * USAGE:
 * - Adjust `defaultLevel` to change the standard log level for all modules.
 * - Add specific class names to `categoryLevels` for finer control over individual modules.
 * - The Logger will automatically pick up this file if it exists.
 */
<span class="cstat-no" title="statement not covered" >module.exports = {</span>
  // Default log level for any logger not specified below.
  // Options: 'DEBUG', 'INFO', 'WARN', 'ERROR', 'NONE'
  defaultLevel: 'debug',
&nbsp;
  // Override log levels for specific categories (class names).
  // This helps in reducing noise or enabling detailed logs for specific parts of the app.
  categoryLevels: {
    // Example: Show detailed logging for a specific driver during debugging.
    // 'MyDeviceName': 'DEBUG',
&nbsp;
    // Reduce noise from base classes which are generally stable.
    // 'BaseLogicDriver': 'INFO',
    // 'BaseLogicUnit': 'INFO',
&nbsp;
    // Always show important app-level messages.
    // 'App': 'INFO',
  },
&nbsp;
  // Global options (rarely needed).
  options: {
    timestamps: false, // Homey already adds timestamps to its logs.
    colors: false,     // Not supported in the Homey development console.
  },
};
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-10-27T20:33:47.263Z
            </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    
--- END: coverage/loggerConfig.js.html ---

--- START: coverage/prettify.css (sha256=ea3fe433f9450698ca8a230271688e7aeec12f99c8a7ef6c94379abb38f27823, bytes=676) ---
.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}pre.prettyprint{padding:2px;border:1px solid #888}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}
--- END: coverage/prettify.css ---

--- START: coverage/prettify.js (sha256=fa1b1e1b906ddcfa08b46f161c0f924f506e1a31b4f3e09b8caaa2463ef52c18, bytes=17590) ---
/* eslint-disable */
window.PR_SHOULD_USE_CONTINUATION=true;(function(){var h=["break,continue,do,else,for,if,return,while"];var u=[h,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"];var p=[u,"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"];var l=[p,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"];var x=[p,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"];var R=[x,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"];var r="all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes";var w=[p,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"];var s="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END";var I=[h,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"];var f=[h,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"];var H=[h,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"];var A=[l,R,w,s+I,f,H];var e=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/;var C="str";var z="kwd";var j="com";var O="typ";var G="lit";var L="pun";var F="pln";var m="tag";var E="dec";var J="src";var P="atn";var n="atv";var N="nocode";var M="(?:^^\\.?|[+-]|\\!|\\!=|\\!==|\\#|\\%|\\%=|&|&&|&&=|&=|\\(|\\*|\\*=|\\+=|\\,|\\-=|\\->|\\/|\\/=|:|::|\\;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\@|\\[|\\^|\\^=|\\^\\^|\\^\\^=|\\{|\\||\\|=|\\|\\||\\|\\|=|\\~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*";function k(Z){var ad=0;var S=false;var ac=false;for(var V=0,U=Z.length;V<U;++V){var ae=Z[V];if(ae.ignoreCase){ac=true}else{if(/[a-z]/i.test(ae.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){S=true;ac=false;break}}}var Y={b:8,t:9,n:10,v:11,f:12,r:13};function ab(ah){var ag=ah.charCodeAt(0);if(ag!==92){return ag}var af=ah.charAt(1);ag=Y[af];if(ag){return ag}else{if("0"<=af&&af<="7"){return parseInt(ah.substring(1),8)}else{if(af==="u"||af==="x"){return parseInt(ah.substring(2),16)}else{return ah.charCodeAt(1)}}}}function T(af){if(af<32){return(af<16?"\\x0":"\\x")+af.toString(16)}var ag=String.fromCharCode(af);if(ag==="\\"||ag==="-"||ag==="["||ag==="]"){ag="\\"+ag}return ag}function X(am){var aq=am.substring(1,am.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g"));var ak=[];var af=[];var ao=aq[0]==="^";for(var ar=ao?1:0,aj=aq.length;ar<aj;++ar){var ah=aq[ar];if(/\\[bdsw]/i.test(ah)){ak.push(ah)}else{var ag=ab(ah);var al;if(ar+2<aj&&"-"===aq[ar+1]){al=ab(aq[ar+2]);ar+=2}else{al=ag}af.push([ag,al]);if(!(al<65||ag>122)){if(!(al<65||ag>90)){af.push([Math.max(65,ag)|32,Math.min(al,90)|32])}if(!(al<97||ag>122)){af.push([Math.max(97,ag)&~32,Math.min(al,122)&~32])}}}}af.sort(function(av,au){return(av[0]-au[0])||(au[1]-av[1])});var ai=[];var ap=[NaN,NaN];for(var ar=0;ar<af.length;++ar){var at=af[ar];if(at[0]<=ap[1]+1){ap[1]=Math.max(ap[1],at[1])}else{ai.push(ap=at)}}var an=["["];if(ao){an.push("^")}an.push.apply(an,ak);for(var ar=0;ar<ai.length;++ar){var at=ai[ar];an.push(T(at[0]));if(at[1]>at[0]){if(at[1]+1>at[0]){an.push("-")}an.push(T(at[1]))}}an.push("]");return an.join("")}function W(al){var aj=al.source.match(new RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g"));var ah=aj.length;var an=[];for(var ak=0,am=0;ak<ah;++ak){var ag=aj[ak];if(ag==="("){++am}else{if("\\"===ag.charAt(0)){var af=+ag.substring(1);if(af&&af<=am){an[af]=-1}}}}for(var ak=1;ak<an.length;++ak){if(-1===an[ak]){an[ak]=++ad}}for(var ak=0,am=0;ak<ah;++ak){var ag=aj[ak];if(ag==="("){++am;if(an[am]===undefined){aj[ak]="(?:"}}else{if("\\"===ag.charAt(0)){var af=+ag.substring(1);if(af&&af<=am){aj[ak]="\\"+an[am]}}}}for(var ak=0,am=0;ak<ah;++ak){if("^"===aj[ak]&&"^"!==aj[ak+1]){aj[ak]=""}}if(al.ignoreCase&&S){for(var ak=0;ak<ah;++ak){var ag=aj[ak];var ai=ag.charAt(0);if(ag.length>=2&&ai==="["){aj[ak]=X(ag)}else{if(ai!=="\\"){aj[ak]=ag.replace(/[a-zA-Z]/g,function(ao){var ap=ao.charCodeAt(0);return"["+String.fromCharCode(ap&~32,ap|32)+"]"})}}}}return aj.join("")}var aa=[];for(var V=0,U=Z.length;V<U;++V){var ae=Z[V];if(ae.global||ae.multiline){throw new Error(""+ae)}aa.push("(?:"+W(ae)+")")}return new RegExp(aa.join("|"),ac?"gi":"g")}function a(V){var U=/(?:^|\s)nocode(?:\s|$)/;var X=[];var T=0;var Z=[];var W=0;var S;if(V.currentStyle){S=V.currentStyle.whiteSpace}else{if(window.getComputedStyle){S=document.defaultView.getComputedStyle(V,null).getPropertyValue("white-space")}}var Y=S&&"pre"===S.substring(0,3);function aa(ab){switch(ab.nodeType){case 1:if(U.test(ab.className)){return}for(var ae=ab.firstChild;ae;ae=ae.nextSibling){aa(ae)}var ad=ab.nodeName;if("BR"===ad||"LI"===ad){X[W]="\n";Z[W<<1]=T++;Z[(W++<<1)|1]=ab}break;case 3:case 4:var ac=ab.nodeValue;if(ac.length){if(!Y){ac=ac.replace(/[ \t\r\n]+/g," ")}else{ac=ac.replace(/\r\n?/g,"\n")}X[W]=ac;Z[W<<1]=T;T+=ac.length;Z[(W++<<1)|1]=ab}break}}aa(V);return{sourceCode:X.join("").replace(/\n$/,""),spans:Z}}function B(S,U,W,T){if(!U){return}var V={sourceCode:U,basePos:S};W(V);T.push.apply(T,V.decorations)}var v=/\S/;function o(S){var V=undefined;for(var U=S.firstChild;U;U=U.nextSibling){var T=U.nodeType;V=(T===1)?(V?S:U):(T===3)?(v.test(U.nodeValue)?S:V):V}return V===S?undefined:V}function g(U,T){var S={};var V;(function(){var ad=U.concat(T);var ah=[];var ag={};for(var ab=0,Z=ad.length;ab<Z;++ab){var Y=ad[ab];var ac=Y[3];if(ac){for(var ae=ac.length;--ae>=0;){S[ac.charAt(ae)]=Y}}var af=Y[1];var aa=""+af;if(!ag.hasOwnProperty(aa)){ah.push(af);ag[aa]=null}}ah.push(/[\0-\uffff]/);V=k(ah)})();var X=T.length;var W=function(ah){var Z=ah.sourceCode,Y=ah.basePos;var ad=[Y,F];var af=0;var an=Z.match(V)||[];var aj={};for(var ae=0,aq=an.length;ae<aq;++ae){var ag=an[ae];var ap=aj[ag];var ai=void 0;var am;if(typeof ap==="string"){am=false}else{var aa=S[ag.charAt(0)];if(aa){ai=ag.match(aa[1]);ap=aa[0]}else{for(var ao=0;ao<X;++ao){aa=T[ao];ai=ag.match(aa[1]);if(ai){ap=aa[0];break}}if(!ai){ap=F}}am=ap.length>=5&&"lang-"===ap.substring(0,5);if(am&&!(ai&&typeof ai[1]==="string")){am=false;ap=J}if(!am){aj[ag]=ap}}var ab=af;af+=ag.length;if(!am){ad.push(Y+ab,ap)}else{var al=ai[1];var ak=ag.indexOf(al);var ac=ak+al.length;if(ai[2]){ac=ag.length-ai[2].length;ak=ac-al.length}var ar=ap.substring(5);B(Y+ab,ag.substring(0,ak),W,ad);B(Y+ab+ak,al,q(ar,al),ad);B(Y+ab+ac,ag.substring(ac),W,ad)}}ah.decorations=ad};return W}function i(T){var W=[],S=[];if(T.tripleQuotedStrings){W.push([C,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""])}else{if(T.multiLineStrings){W.push([C,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"])}else{W.push([C,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"])}}if(T.verbatimStrings){S.push([C,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null])}var Y=T.hashComments;if(Y){if(T.cStyleComments){if(Y>1){W.push([j,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"])}else{W.push([j,/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"])}S.push([C,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,null])}else{W.push([j,/^#[^\r\n]*/,null,"#"])}}if(T.cStyleComments){S.push([j,/^\/\/[^\r\n]*/,null]);S.push([j,/^\/\*[\s\S]*?(?:\*\/|$)/,null])}if(T.regexLiterals){var X=("/(?=[^/*])(?:[^/\\x5B\\x5C]|\\x5C[\\s\\S]|\\x5B(?:[^\\x5C\\x5D]|\\x5C[\\s\\S])*(?:\\x5D|$))+/");S.push(["lang-regex",new RegExp("^"+M+"("+X+")")])}var V=T.types;if(V){S.push([O,V])}var U=(""+T.keywords).replace(/^ | $/g,"");if(U.length){S.push([z,new RegExp("^(?:"+U.replace(/[\s,]+/g,"|")+")\\b"),null])}W.push([F,/^\s+/,null," \r\n\t\xA0"]);S.push([G,/^@[a-z_$][a-z_$@0-9]*/i,null],[O,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[F,/^[a-z_$][a-z_$@0-9]*/i,null],[G,new RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],[F,/^\\[\s\S]?/,null],[L,/^.[^\s\w\.$@\'\"\`\/\#\\]*/,null]);return g(W,S)}var K=i({keywords:A,hashComments:true,cStyleComments:true,multiLineStrings:true,regexLiterals:true});function Q(V,ag){var U=/(?:^|\s)nocode(?:\s|$)/;var ab=/\r\n?|\n/;var ac=V.ownerDocument;var S;if(V.currentStyle){S=V.currentStyle.whiteSpace}else{if(window.getComputedStyle){S=ac.defaultView.getComputedStyle(V,null).getPropertyValue("white-space")}}var Z=S&&"pre"===S.substring(0,3);var af=ac.createElement("LI");while(V.firstChild){af.appendChild(V.firstChild)}var W=[af];function ae(al){switch(al.nodeType){case 1:if(U.test(al.className)){break}if("BR"===al.nodeName){ad(al);if(al.parentNode){al.parentNode.removeChild(al)}}else{for(var an=al.firstChild;an;an=an.nextSibling){ae(an)}}break;case 3:case 4:if(Z){var am=al.nodeValue;var aj=am.match(ab);if(aj){var ai=am.substring(0,aj.index);al.nodeValue=ai;var ah=am.substring(aj.index+aj[0].length);if(ah){var ak=al.parentNode;ak.insertBefore(ac.createTextNode(ah),al.nextSibling)}ad(al);if(!ai){al.parentNode.removeChild(al)}}}break}}function ad(ak){while(!ak.nextSibling){ak=ak.parentNode;if(!ak){return}}function ai(al,ar){var aq=ar?al.cloneNode(false):al;var ao=al.parentNode;if(ao){var ap=ai(ao,1);var an=al.nextSibling;ap.appendChild(aq);for(var am=an;am;am=an){an=am.nextSibling;ap.appendChild(am)}}return aq}var ah=ai(ak.nextSibling,0);for(var aj;(aj=ah.parentNode)&&aj.nodeType===1;){ah=aj}W.push(ah)}for(var Y=0;Y<W.length;++Y){ae(W[Y])}if(ag===(ag|0)){W[0].setAttribute("value",ag)}var aa=ac.createElement("OL");aa.className="linenums";var X=Math.max(0,((ag-1))|0)||0;for(var Y=0,T=W.length;Y<T;++Y){af=W[Y];af.className="L"+((Y+X)%10);if(!af.firstChild){af.appendChild(ac.createTextNode("\xA0"))}aa.appendChild(af)}V.appendChild(aa)}function D(ac){var aj=/\bMSIE\b/.test(navigator.userAgent);var am=/\n/g;var al=ac.sourceCode;var an=al.length;var V=0;var aa=ac.spans;var T=aa.length;var ah=0;var X=ac.decorations;var Y=X.length;var Z=0;X[Y]=an;var ar,aq;for(aq=ar=0;aq<Y;){if(X[aq]!==X[aq+2]){X[ar++]=X[aq++];X[ar++]=X[aq++]}else{aq+=2}}Y=ar;for(aq=ar=0;aq<Y;){var at=X[aq];var ab=X[aq+1];var W=aq+2;while(W+2<=Y&&X[W+1]===ab){W+=2}X[ar++]=at;X[ar++]=ab;aq=W}Y=X.length=ar;var ae=null;while(ah<T){var af=aa[ah];var S=aa[ah+2]||an;var ag=X[Z];var ap=X[Z+2]||an;var W=Math.min(S,ap);var ak=aa[ah+1];var U;if(ak.nodeType!==1&&(U=al.substring(V,W))){if(aj){U=U.replace(am,"\r")}ak.nodeValue=U;var ai=ak.ownerDocument;var ao=ai.createElement("SPAN");ao.className=X[Z+1];var ad=ak.parentNode;ad.replaceChild(ao,ak);ao.appendChild(ak);if(V<S){aa[ah+1]=ak=ai.createTextNode(al.substring(W,S));ad.insertBefore(ak,ao.nextSibling)}}V=W;if(V>=S){ah+=2}if(V>=ap){Z+=2}}}var t={};function c(U,V){for(var S=V.length;--S>=0;){var T=V[S];if(!t.hasOwnProperty(T)){t[T]=U}else{if(window.console){console.warn("cannot override language handler %s",T)}}}}function q(T,S){if(!(T&&t.hasOwnProperty(T))){T=/^\s*</.test(S)?"default-markup":"default-code"}return t[T]}c(K,["default-code"]);c(g([],[[F,/^[^<?]+/],[E,/^<!\w[^>]*(?:>|$)/],[j,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[L,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]);c(g([[F,/^[\s]+/,null," \t\r\n"],[n,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[[m,/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],[P,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[L,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]);c(g([],[[n,/^[\s\S]+/]]),["uq.val"]);c(i({keywords:l,hashComments:true,cStyleComments:true,types:e}),["c","cc","cpp","cxx","cyc","m"]);c(i({keywords:"null,true,false"}),["json"]);c(i({keywords:R,hashComments:true,cStyleComments:true,verbatimStrings:true,types:e}),["cs"]);c(i({keywords:x,cStyleComments:true}),["java"]);c(i({keywords:H,hashComments:true,multiLineStrings:true}),["bsh","csh","sh"]);c(i({keywords:I,hashComments:true,multiLineStrings:true,tripleQuotedStrings:true}),["cv","py"]);c(i({keywords:s,hashComments:true,multiLineStrings:true,regexLiterals:true}),["perl","pl","pm"]);c(i({keywords:f,hashComments:true,multiLineStrings:true,regexLiterals:true}),["rb"]);c(i({keywords:w,cStyleComments:true,regexLiterals:true}),["js"]);c(i({keywords:r,hashComments:3,cStyleComments:true,multilineStrings:true,tripleQuotedStrings:true,regexLiterals:true}),["coffee"]);c(g([],[[C,/^[\s\S]+/]]),["regex"]);function d(V){var U=V.langExtension;try{var S=a(V.sourceNode);var T=S.sourceCode;V.sourceCode=T;V.spans=S.spans;V.basePos=0;q(U,T)(V);D(V)}catch(W){if("console" in window){console.log(W&&W.stack?W.stack:W)}}}function y(W,V,U){var S=document.createElement("PRE");S.innerHTML=W;if(U){Q(S,U)}var T={langExtension:V,numberLines:U,sourceNode:S};d(T);return S.innerHTML}function b(ad){function Y(af){return document.getElementsByTagName(af)}var ac=[Y("pre"),Y("code"),Y("xmp")];var T=[];for(var aa=0;aa<ac.length;++aa){for(var Z=0,V=ac[aa].length;Z<V;++Z){T.push(ac[aa][Z])}}ac=null;var W=Date;if(!W.now){W={now:function(){return +(new Date)}}}var X=0;var S;var ab=/\blang(?:uage)?-([\w.]+)(?!\S)/;var ae=/\bprettyprint\b/;function U(){var ag=(window.PR_SHOULD_USE_CONTINUATION?W.now()+250:Infinity);for(;X<T.length&&W.now()<ag;X++){var aj=T[X];var ai=aj.className;if(ai.indexOf("prettyprint")>=0){var ah=ai.match(ab);var am;if(!ah&&(am=o(aj))&&"CODE"===am.tagName){ah=am.className.match(ab)}if(ah){ah=ah[1]}var al=false;for(var ak=aj.parentNode;ak;ak=ak.parentNode){if((ak.tagName==="pre"||ak.tagName==="code"||ak.tagName==="xmp")&&ak.className&&ak.className.indexOf("prettyprint")>=0){al=true;break}}if(!al){var af=aj.className.match(/\blinenums\b(?::(\d+))?/);af=af?af[1]&&af[1].length?+af[1]:true:false;if(af){Q(aj,af)}S={langExtension:ah,sourceNode:aj,numberLines:af};d(S)}}}if(X<T.length){setTimeout(U,250)}else{if(ad){ad()}}}U()}window.prettyPrintOne=y;window.prettyPrint=b;window.PR={createSimpleLexer:g,registerLangHandler:c,sourceDecorator:i,PR_ATTRIB_NAME:P,PR_ATTRIB_VALUE:n,PR_COMMENT:j,PR_DECLARATION:E,PR_KEYWORD:z,PR_LITERAL:G,PR_NOCODE:N,PR_PLAIN:F,PR_PUNCTUATION:L,PR_SOURCE:J,PR_STRING:C,PR_TAG:m,PR_TYPE:O}})();PR.registerLangHandler(PR.createSimpleLexer([],[[PR.PR_DECLARATION,/^<!\w[^>]*(?:>|$)/],[PR.PR_COMMENT,/^<\!--[\s\S]*?(?:-\->|$)/],[PR.PR_PUNCTUATION,/^(?:<[%?]|[%?]>)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-handlebars",/^<script\b[^>]*type\s*=\s*['"]?text\/x-handlebars-template['"]?\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i],[PR.PR_DECLARATION,/^{{[#^>/]?\s*[\w.][^}]*}}/],[PR.PR_DECLARATION,/^{{&?\s*[\w.][^}]*}}/],[PR.PR_DECLARATION,/^{{{>?\s*[\w.][^}]*}}}/],[PR.PR_COMMENT,/^{{![^}]*}}/]]),["handlebars","hbs"]);PR.registerLangHandler(PR.createSimpleLexer([[PR.PR_PLAIN,/^[ \t\r\n\f]+/,null," \t\r\n\f"]],[[PR.PR_STRING,/^\"(?:[^\n\r\f\\\"]|\\(?:\r\n?|\n|\f)|\\[\s\S])*\"/,null],[PR.PR_STRING,/^\'(?:[^\n\r\f\\\']|\\(?:\r\n?|\n|\f)|\\[\s\S])*\'/,null],["lang-css-str",/^url\(([^\)\"\']*)\)/i],[PR.PR_KEYWORD,/^(?:url|rgb|\!important|@import|@page|@media|@charset|inherit)(?=[^\-\w]|$)/i,null],["lang-css-kw",/^(-?(?:[_a-z]|(?:\\[0-9a-f]+ ?))(?:[_a-z0-9\-]|\\(?:\\[0-9a-f]+ ?))*)\s*:/i],[PR.PR_COMMENT,/^\/\*[^*]*\*+(?:[^\/*][^*]*\*+)*\//],[PR.PR_COMMENT,/^(?:<!--|-->)/],[PR.PR_LITERAL,/^(?:\d+|\d*\.\d+)(?:%|[a-z]+)?/i],[PR.PR_LITERAL,/^#(?:[0-9a-f]{3}){1,2}/i],[PR.PR_PLAIN,/^-?(?:[_a-z]|(?:\\[\da-f]+ ?))(?:[_a-z\d\-]|\\(?:\\[\da-f]+ ?))*/i],[PR.PR_PUNCTUATION,/^[^\s\w\'\"]+/]]),["css"]);PR.registerLangHandler(PR.createSimpleLexer([],[[PR.PR_KEYWORD,/^-?(?:[_a-z]|(?:\\[\da-f]+ ?))(?:[_a-z\d\-]|\\(?:\\[\da-f]+ ?))*/i]]),["css-kw"]);PR.registerLangHandler(PR.createSimpleLexer([],[[PR.PR_STRING,/^[^\)\"\']+/]]),["css-str"]);
--- END: coverage/prettify.js ---

--- START: coverage/sorter.js (sha256=f8cc5d157379d844fd695ad567b6c29b3c1f0812964ddf6f95c26327e434bab5, bytes=6731) ---
/* eslint-disable */
var addSorting = (function() {
    'use strict';
    var cols,
        currentSort = {
            index: 0,
            desc: false
        };

    // returns the summary table element
    function getTable() {
        return document.querySelector('.coverage-summary');
    }
    // returns the thead element of the summary table
    function getTableHeader() {
        return getTable().querySelector('thead tr');
    }
    // returns the tbody element of the summary table
    function getTableBody() {
        return getTable().querySelector('tbody');
    }
    // returns the th element for nth column
    function getNthColumn(n) {
        return getTableHeader().querySelectorAll('th')[n];
    }

    function onFilterInput() {
        const searchValue = document.getElementById('fileSearch').value;
        const rows = document.getElementsByTagName('tbody')[0].children;

        // Try to create a RegExp from the searchValue. If it fails (invalid regex),
        // it will be treated as a plain text search
        let searchRegex;
        try {
            searchRegex = new RegExp(searchValue, 'i'); // 'i' for case-insensitive
        } catch (error) {
            searchRegex = null;
        }

        for (let i = 0; i < rows.length; i++) {
            const row = rows[i];
            let isMatch = false;

            if (searchRegex) {
                // If a valid regex was created, use it for matching
                isMatch = searchRegex.test(row.textContent);
            } else {
                // Otherwise, fall back to the original plain text search
                isMatch = row.textContent
                    .toLowerCase()
                    .includes(searchValue.toLowerCase());
            }

            row.style.display = isMatch ? '' : 'none';
        }
    }

    // loads the search box
    function addSearchBox() {
        var template = document.getElementById('filterTemplate');
        var templateClone = template.content.cloneNode(true);
        templateClone.getElementById('fileSearch').oninput = onFilterInput;
        template.parentElement.appendChild(templateClone);
    }

    // loads all columns
    function loadColumns() {
        var colNodes = getTableHeader().querySelectorAll('th'),
            colNode,
            cols = [],
            col,
            i;

        for (i = 0; i < colNodes.length; i += 1) {
            colNode = colNodes[i];
            col = {
                key: colNode.getAttribute('data-col'),
                sortable: !colNode.getAttribute('data-nosort'),
                type: colNode.getAttribute('data-type') || 'string'
            };
            cols.push(col);
            if (col.sortable) {
                col.defaultDescSort = col.type === 'number';
                colNode.innerHTML =
                    colNode.innerHTML + '<span class="sorter"></span>';
            }
        }
        return cols;
    }
    // attaches a data attribute to every tr element with an object
    // of data values keyed by column name
    function loadRowData(tableRow) {
        var tableCols = tableRow.querySelectorAll('td'),
            colNode,
            col,
            data = {},
            i,
            val;
        for (i = 0; i < tableCols.length; i += 1) {
            colNode = tableCols[i];
            col = cols[i];
            val = colNode.getAttribute('data-value');
            if (col.type === 'number') {
                val = Number(val);
            }
            data[col.key] = val;
        }
        return data;
    }
    // loads all row data
    function loadData() {
        var rows = getTableBody().querySelectorAll('tr'),
            i;

        for (i = 0; i < rows.length; i += 1) {
            rows[i].data = loadRowData(rows[i]);
        }
    }
    // sorts the table using the data for the ith column
    function sortByIndex(index, desc) {
        var key = cols[index].key,
            sorter = function(a, b) {
                a = a.data[key];
                b = b.data[key];
                return a < b ? -1 : a > b ? 1 : 0;
            },
            finalSorter = sorter,
            tableBody = document.querySelector('.coverage-summary tbody'),
            rowNodes = tableBody.querySelectorAll('tr'),
            rows = [],
            i;

        if (desc) {
            finalSorter = function(a, b) {
                return -1 * sorter(a, b);
            };
        }

        for (i = 0; i < rowNodes.length; i += 1) {
            rows.push(rowNodes[i]);
            tableBody.removeChild(rowNodes[i]);
        }

        rows.sort(finalSorter);

        for (i = 0; i < rows.length; i += 1) {
            tableBody.appendChild(rows[i]);
        }
    }
    // removes sort indicators for current column being sorted
    function removeSortIndicators() {
        var col = getNthColumn(currentSort.index),
            cls = col.className;

        cls = cls.replace(/ sorted$/, '').replace(/ sorted-desc$/, '');
        col.className = cls;
    }
    // adds sort indicators for current column being sorted
    function addSortIndicators() {
        getNthColumn(currentSort.index).className += currentSort.desc
            ? ' sorted-desc'
            : ' sorted';
    }
    // adds event listeners for all sorter widgets
    function enableUI() {
        var i,
            el,
            ithSorter = function ithSorter(i) {
                var col = cols[i];

                return function() {
                    var desc = col.defaultDescSort;

                    if (currentSort.index === i) {
                        desc = !currentSort.desc;
                    }
                    sortByIndex(i, desc);
                    removeSortIndicators();
                    currentSort.index = i;
                    currentSort.desc = desc;
                    addSortIndicators();
                };
            };
        for (i = 0; i < cols.length; i += 1) {
            if (cols[i].sortable) {
                // add the click event handler on the th so users
                // dont have to click on those tiny arrows
                el = getNthColumn(i).querySelector('.sorter').parentElement;
                if (el.addEventListener) {
                    el.addEventListener('click', ithSorter(i));
                } else {
                    el.attachEvent('onclick', ithSorter(i));
                }
            }
        }
    }
    // adds sorting functionality to the UI
    return function() {
        if (!getTable()) {
            return;
        }
        cols = loadColumns();
        loadData();
        addSearchBox();
        addSortIndicators();
        enableUI();
    };
})();

window.addEventListener('load', addSorting);
--- END: coverage/sorter.js ---

--- START: drivers/logic-device/device.js (sha256=284a3bf4965f3e280634b6d65b270e6b60675cd25af5980e36466fb1d64d02ce, bytes=50723) ---
"use strict";

const FormulaEvaluator = require("../../lib/FormulaEvaluator");
const Homey = require("homey");
const Logger = require("../../lib/Logger");

module.exports = class LogicDeviceDevice extends Homey.Device {
  async onInit() {
    const driverName = `Device: ${this.driver.id}`;
    this.logger = new Logger(this, driverName);

    // Initialize AST-based formula evaluator for secure evaluation
    this.formulaEvaluator = new FormulaEvaluator();
    this.logger.info("🔐 AST-based secure formula evaluation enabled");

    this.logger.device("device.initializing", {
      name: this.getName(),
    });

    // ✅ STEP 1: Add capabilities FIRST, before anything else
    if (!this.hasCapability("onoff")) {
      await this.addCapability("onoff");
    }

    if (!this.hasCapability("alarm_generic")) {
      await this.addCapability("alarm_generic");
    }

    // ✅ STEP 2: Initialize device enabled state from onoff capability
    // onoff = user control (ON/OFF), NOT formula output
    // alarm_generic = formula output (TRUE/FALSE)
    let onoffValue = this.getCapabilityValue("onoff");
    
    // Only handle null/undefined (safety check)
    if (onoffValue === null || onoffValue === undefined) {
      // Default to enabled for new devices (also set via capabilityValues in driver.js)
      this.logger.info("⚠️  onoff value is null/undefined, defaulting to enabled (true)");
      await this.setCapabilityValue("onoff", true);
      onoffValue = true;
    }
    
    this.deviceEnabled = onoffValue === true;
    this.logger.info(`📊 Logic Device state: ${this.deviceEnabled ? 'ENABLED' : 'DISABLED'} (user can toggle, state is remembered)`);

    // ✅ STEP 3: Set capability options
    try {
      await this.setCapabilityOptions("onoff", {
        setable: true, // ENDRET: Bruker kan nå slå device av/på
        getable: true,
      });

      this.logger.debug("device.capability_readonly");
    } catch (e) {
      this.logger.warn("device.capability_options_failed", {
        message: e.message,
      });
    }

    // ✅ STEP 4: NOW we can safely run the rest of initialization
    const settings = this.getSettings();
    const detectedInputs = this.detectRequiredInputs(settings);

    const originalNumInputs = this.getData().numInputs || 2;
    this.numInputs = Math.max(detectedInputs, originalNumInputs);

    if (detectedInputs > originalNumInputs) {
      this.logger.info("device.capacity_expanded", {
        detected: detectedInputs,
        original: originalNumInputs,
      });
    }

    this.availableInputs = this.getAvailableInputIds();
    this.deviceListeners = new Map();
    this.pollingIntervals = new Map();

    // Register on/off capability listener to enable/disable device
    this.registerCapabilityListener("onoff", async (value) => {
      this.deviceEnabled = value;
      this.logger.info(`🔌 Device ${value ? "enabled" : "disabled"}`, {});

      if (value) {
        // Device enabled - re-evaluate formula
        await this.evaluateAllFormulasInitial();
        this.startTimeoutChecks();
        this.logger.info("✅ Device enabled - evaluations resumed");
        
        // Fire on-state trigger for enabling device
        await this.fireAllRelevantTriggers(
          null, // newAlarmState (will be set by formula evaluation)
          true, // newOnState (device was turned on)
          null, // previousAlarmState
          false // previousOnState (was off before)
        );
      } else {
        // Device disabled - stop timeout checks and clear alarm
        if (this.timeoutInterval) {
          clearInterval(this.timeoutInterval);
          this.timeoutInterval = null;
        }
        const previousAlarmState = this.getCapabilityValue("alarm_generic");
        await this.setCapabilityValue("alarm_generic", false).catch(() => {});
        
        // Fire triggers for on/off state change
        const previousOnState = !value; // Previous state is opposite of new value
        await this.fireAllRelevantTriggers(
          false,            // newAlarmState (set to false when disabled)
          value,            // newOnState (the new on/off state)
          previousAlarmState, // previousAlarmState
          previousOnState   // previousOnState
        );
        this.logger.info("⏸️  Device disabled - evaluations stopped");
      }

      return true;
    });

    await this.initializeFormulas();
    await this.setupDeviceLinks();

    this.logger.info("evaluation.running_initial");
    await this.evaluateAllFormulasInitial();

    this.startTimeoutChecks();

    this.logger.info("device.initialized", {
      name: this.getName(),
      count: this.numInputs,
    });
  }

  async onSettings({ oldSettings, newSettings, changedKeys }) {
    try {
      // Valider formler
      if (changedKeys.includes("formulas")) {
        let formulas;
        try {
          formulas = JSON.parse(newSettings.formulas);
        } catch (e) {
          throw new Error(
            this.homey.__("settings.invalid_json", {
              field: "formulas",
              error: e.message,
            }),
          );
        }

        // VIKTIG: Begrens til én formel for Logic Device
        if (formulas.length > 1) {
          throw new Error(
            "Logic Device kan kun ha én formel. " +
              "For flere formler, bruk Logic Unit (Dynamic) i stedet.",
          );
        }

        // Valider hver formel
        for (const formula of formulas) {
          // Sjekk at ID er gyldig
          if (!formula.id || !/^[a-zA-Z0-9_-]+$/.test(formula.id)) {
            throw new Error(
              `Ugyldig formel-ID: "${formula.id}". ` +
                "ID må bare inneholde bokstaver, tall, bindestrek og understrek.",
            );
          }

          // Valider expression
          if (formula.expression) {
            const validation = this.validateExpression(formula.expression);
            if (!validation.valid) {
              throw new Error(
                `Ugyldig formel "${formula.name}": ${validation.error}`,
              );
            }
          }
        }

        // Sjekk for duplikate ID-er
        const ids = formulas.map((f) => f.id);
        const uniqueIds = new Set(ids);
        if (ids.length !== uniqueIds.size) {
          throw new Error(
            "Duplikate formel-ID-er funnet. Hver formel må ha unik ID.",
          );
        }
      }

      // Valider input_links
      if (changedKeys.includes("input_links")) {
        let inputLinks;
        try {
          inputLinks = JSON.parse(newSettings.input_links);
        } catch (e) {
          throw new Error(
            this.homey.__("settings.invalid_json", {
              field: "input_links",
              error: e.message,
            }),
          );
        }

        // Valider at hver input bare er linket én gang
        const inputCounts = {};
        for (const link of inputLinks) {
          const input = link.input?.toLowerCase();
          if (input) {
            inputCounts[input] = (inputCounts[input] || 0) + 1;
            if (inputCounts[input] > 1) {
              throw new Error(
                `Input "${input.toUpperCase()}" er linket flere ganger. ` +
                  "Hver input kan bare linkes til én enhet/capability.",
              );
            }
          }
        }
      }

      // Hvis alt er OK, fortsett med å oppdatere innstillinger
      this.logger.info("settings.validated_successfully");

      // Re-initialiser enheten med nye innstillinger
      await this.initializeFormulas();
      await this.setupDeviceLinks();
      await this.refetchAndEvaluate("settings_changed");

      return true;
    } catch (error) {
      this.logger.error("settings.validation_failed", {
        message: error.message,
      });
      throw error;
    }
  }

  getAvailableInputIds() {
    const allInputs = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
    return allInputs.slice(0, this.numInputs);
  }

  getAvailableInputsUppercase() {
    return this.availableInputs.map((i) => i.toUpperCase());
  }

  detectRequiredInputs(settings) {
    let maxInput = 2; // Default minimum

    try {
      const formulasData = settings.formulas
        ? JSON.parse(settings.formulas)
        : [];

      formulasData.forEach((formula) => {
        if (!formula.expression) return;

        const pattern = /\b([A-J])\b/gi;
        const matches = formula.expression.match(pattern);

        if (matches) {
          matches.forEach((letter) => {
            const inputNumber = letter.toUpperCase().charCodeAt(0) - 64; // A=1, B=2
            maxInput = Math.max(maxInput, inputNumber);
          });
        }
      });

      const inputLinks = settings.input_links
        ? JSON.parse(settings.input_links)
        : [];

      inputLinks.forEach((link) => {
        if (link.input) {
          const inputNumber = link.input.toLowerCase().charCodeAt(0) - 96; // a=1, b=2
          maxInput = Math.max(maxInput, inputNumber);
        }
      });

      this.logger.debug("device.max_input_detected", {
        input: String.fromCharCode(64 + maxInput),
        count: maxInput,
      });
    } catch (e) {
      this.logger.error("parse.error_detecting_inputs", {
        message: e.message,
      });
    }

    return maxInput;
  }

  async initializeFormulas() {
    const settings = this.getSettings();
    try {
      const formulasData = settings.formulas
        ? JSON.parse(settings.formulas)
        : [];

      // VIKTIG: Logic Device kan KUN ha én formel
      if (formulasData.length > 1) {
        this.logger.warn(
          "⚠️  Logic Device can only have one formula. Using only the first one.",
          {
            found: formulasData.length,
          },
        );
        // Behold kun den første formelen
        formulasData.splice(1);
      }

      this.formulas = formulasData.map((f) => ({
        id: f.id,
        name: f.name,
        expression: f.expression,
        enabled: f.enabled !== false,
        timeout: f.timeout || 0,
        firstImpression: f.firstImpression === true,
        inputStates: {},
        lockedInputs: {},
        lastInputTime: null,
        result: null,
        timedOut: false,
      }));

      this.formulas.forEach((formula) => {
        // Fjern 'async'
        this.availableInputs.forEach((id) => {
          formula.inputStates[id] = "undefined";
          formula.lockedInputs[id] = false;
        });
      });
    } catch (e) {
      this.logger.error("parse.error_formulas", {
        message: e.message,
      });
      this.formulas = [];
    }

    if (this.formulas.length === 0) {
      const defaultFormula = {
        id: "formula_1",
        name: this.homey.__("formula.default_name"),
        expression: this.getDefaultExpression(),
        enabled: true,
        timeout: 0,
        firstImpression: false,
        inputStates: {},
        lockedInputs: {},
        lastInputTime: null,
        result: null,
        timedOut: false,
      };

      this.availableInputs.forEach((id) => {
        defaultFormula.inputStates[id] = "undefined";
        defaultFormula.lockedInputs[id] = false;
      });

      this.formulas = [defaultFormula];
    }

    this.logger.info("formula.initialized", {
      count: this.formulas.length,
    });
    this.formulas.forEach((f) => {
      this.logger.debug("formula.details", {
        name: f.name,
        expression: f.expression,
        enabled: f.enabled,
      });
    });
  }

  getDefaultExpression() {
    const inputs = this.getAvailableInputsUppercase();
    return inputs.join(" AND ");
  }

  async setupDeviceLinks() {
    // Clean up old listeners first
    for (const [key, entry] of this.deviceListeners.entries()) {
      try {
        if (typeof entry?.unregister === "function") {
          await entry.unregister();
          this.logger.debug("devicelinks.unregistered", { key });
        }
      } catch (e) {
        this.logger.error("devicelinks.error_cleanup", { message: e.message });
      }
    }
    this.deviceListeners.clear();

    // Then setup new ones
    const settings = this.getSettings();
    let inputLinks = [];
    try {
      inputLinks = settings.input_links ? JSON.parse(settings.input_links) : [];
    } catch (e) {
      this.logger.error("parse.error_input_links", {
        message: e.message,
      });
      return;
    }

    this.inputLinks = inputLinks;

    this.logger.debug("devicelinks.count", {
      count: inputLinks.length,
    });
    for (const link of inputLinks) {
      try {
        await this.setupDeviceListener(link);
      } catch (e) {
        this.logger.error("devicelinks.setup_failed", {
          input: link.input,
          message: e.message,
        });
      }
    }

    this.logger.debug("initial.fetching_all");
    await this.fetchInitialValues(inputLinks);

    this.logger.info("devicelinks.complete");
  }

  async fetchInitialValues(inputLinks) {
    if (!this.homey.app.api) {
      this.logger.error("initial.api_unavailable");
      return;
    }

    for (const link of inputLinks) {
      const { input, deviceId, capability } = link;
      if (!input || !deviceId || !capability) continue;

      try {
        this.logger.debug("initial.fetching_input", {
          input: input.toUpperCase(),
        });
        const device = await this.homey.app.api.devices.getDevice({
          id: deviceId,
        });
        if (!device) {
          this.logger.warn("initial.device_not_found", {
            input: input.toUpperCase(),
          });
          continue;
        }

        let initialValue = null;

        if (device.capabilitiesObj && device.capabilitiesObj[capability]) {
          initialValue = device.capabilitiesObj[capability].value;
        } else if (
          device.capabilityValues &&
          device.capabilityValues[capability] !== undefined
        ) {
          initialValue = device.capabilityValues[capability];
        } else if (device.state && device.state[capability] !== undefined) {
          initialValue = device.state[capability];
        }

        this.logger.input("initial.received_value", {
          input: input.toUpperCase(),
          value: initialValue,
        });

        if (initialValue !== null && initialValue !== undefined) {
          const boolValue = this.convertToBoolean(initialValue, capability);

          this.logger.debug("initial.value_received", {
            input: input.toUpperCase(),
            value: initialValue,
            boolean: boolValue,
          });

          for (const formula of this.formulas) {
            formula.inputStates[input] = boolValue;
          }
        } else {
          this.logger.warn("initial.no_value_waiting", {
            input: input.toUpperCase(),
          });
        }
      } catch (e) {
        this.logger.error("initial.error", {
          input: input.toUpperCase(),
          message: e.message,
        });
      }
    }
  }

  async refetchInputsAndEvaluate(source = "unknown") {
    this.logger.info("refetch.invoked", {
      source: source,
    });
    let links = [];
    try {
      const settings = this.getSettings();
      links = settings.input_links ? JSON.parse(settings.input_links) : [];
    } catch (e) {
      this.logger.error("refetch.parse_failed", {
        message: e.message,
      });
    }

    if (!Array.isArray(links) || links.length === 0) {
      this.logger.warn("refetch.no_links");
      await this.evaluateAllFormulasInitial();
      return;
    }

    this.inputLinks = links;

    this.logger.debug("refetch.fetching_values");
    await this.fetchInitialValues(links);
    await this.evaluateAllFormulasInitial();
  }

  async setupDeviceListener(link) {
    const { input, deviceId, capability, deviceName } = link;

    this.logger.debug("listener.setting_up", {
      input: input.toUpperCase(),
      deviceName,
      deviceId,
      capability,
    });

    if (!input || !deviceId || !capability) {
      this.logger.error("listener.invalid_config", {
        input: input?.toUpperCase(),
      });
      return;
    }

    try {
      if (!this.homey.app.api) {
        this.logger.error("listener.api_unavailable");
        return;
      }

      const targetDevice = await this.homey.app.api.devices.getDevice({
        id: deviceId,
      });

      if (!targetDevice) {
        this.logger.error("listener.device_not_found", {
          input: input.toUpperCase(),
          device: deviceId,
        });
        return;
      }
      this.logger.debug("listener.device_found", {
        device: targetDevice.name,
      });

      if (
        !targetDevice.capabilities ||
        !targetDevice.capabilities.includes(capability)
      ) {
        this.logger.error("listener.capability_not_exist", {
          input: input.toUpperCase(),
          capability,
          device: deviceId,
          available: targetDevice.capabilities,
        });
        return;
      }
      this.logger.debug("listener.capability_found", {
        capability: capability,
      });

      const listenerFn = async (value) => {
        if (this._isDeleting) return;

        this.logger.input("listener.event_received", {
          input: input.toUpperCase(),
          device: targetDevice.name,
          capability,
          value,
        });

        const boolValue = this.convertToBoolean(value, capability);

        this.logger.debug("listener.capability_changed", {
          input: input.toUpperCase(),
          capability,
          value,
          boolean: boolValue,
        });

        for (const formula of this.formulas) {
          try {
            await this.setInputForFormula(formula.id, input, boolValue);
          } catch (err) {
            if (!this._isDeleting)
              this.logger.error("formula.set_input_error", {
                message: err.message,
              });
          }
        }
      };

      this.logger.debug("listener.registering", {
        capability: capability,
      });
      const capabilityInstance = targetDevice.makeCapabilityInstance(
        capability,
        listenerFn,
      );

      const listenerKey = `${input}-${deviceId}-${capability}`;
      this.deviceListeners.set(listenerKey, {
        unregister: () => capabilityInstance.destroy(),
      });

      this.logger.debug("listener.registered", {
        input: input.toUpperCase(),
        device: targetDevice.name,
        capability,
      });
    } catch (e) {
      this.logger.error("listener.error_setup", {
        input: input.toUpperCase(),
        message: e.message,
      });
      this.logger.debug(e.stack);
    }
  }

  convertToBoolean(value, capability) {
    if (typeof value === "boolean") return value;
    if (capability.startsWith("alarm_")) return !!value;
    if (capability === "onoff") return !!value;
    if (typeof value === "number") return value > 0;
    if (typeof value === "string") {
      const lowerValue = value.toLowerCase();
      return (
        lowerValue === "true" ||
        lowerValue === "1" ||
        lowerValue === "on" ||
        lowerValue === "yes"
      );
    }
    return !!value;
  }

  async safeSetCapabilityValue(cap, value) {
    if (this._isDeleting) return;
    try {
      if (!this.hasCapability(cap)) return;
      await this.setCapabilityValue(cap, value);
    } catch (e) {
      const msg = e?.message || "";
      if (e?.statusCode === 404 || /not\s*found/i.test(msg)) {
        this.logger.debug("device.capability_skip_deleted", {
          capability: cap,
        });
        return;
      }

      this.logger.error("device.capability_update_failed", {
        capability: cap,
        message: msg,
      });
    }
  }

  async setInputForFormula(formulaId, inputId, value) {
    if (this._isDeleting) return null;
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) {
      return null;
    }

    if (formula.firstImpression && formula.lockedInputs[inputId]) {
      this.logger.warn("inputs.locked_first_impression", {
        device: this.getName(), // <-- Legg til device navn
        deviceId: this.getData().id, // <-- Legg til device ID
        input: inputId.toUpperCase(),
        formula: formula.name,
      });
      return formula.result;
    }

    const oldValue = formula.inputStates[inputId];
    this.logger.debug("inputs.setting_value", {
      device: this.getName(), // <-- Legg til device navn
      deviceId: this.getData().id, // <-- Legg til device ID
      input: inputId.toUpperCase(),
      value,
      formula: formula.name,
      oldValue,
    });

    formula.inputStates[inputId] = value;
    formula.timedOut = false;

    if (
      formula.firstImpression &&
      value !== "undefined" &&
      !formula.lockedInputs[inputId]
    ) {
      formula.lockedInputs[inputId] = true;
      this.logger.debug("inputs.locked_at_value", {
        input: inputId.toUpperCase(),
        value,
      });
    }

    if (value !== "undefined") {
      formula.lastInputTime = Date.now();
    }

    return await this.evaluateFormula(formulaId);
  }

  async evaluateFormula(formulaId, resetLocks = false) {
    if (this._isDeleting) return null;

    // Check if device is enabled
    if (this.deviceEnabled === false) {
      this.logger.debug("⏸️  Device disabled - skipping evaluation", {
        formulaId,
      });
      return null;
    }

    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula || !formula.enabled) {
      this.logger.debug("formula.not_found_or_disabled", {
        id: formulaId,
      });
      return null;
    }

    if (resetLocks && formula.firstImpression) {
      this.availableInputs.forEach((id) => {
        formula.lockedInputs[id] = false;
      });
      this.logger.debug("formula.unlocked_inputs", {
        name: formula.name,
      });
    }

    const expression = formula.expression;
    if (!expression) {
      this.logger.debug("formula.no_expression");
      return null;
    }

    const requiredInputs = this.parseExpression(expression);
    if (requiredInputs.length === 0) return null;

    const allInputsDefined = requiredInputs.every(
      (id) => formula.inputStates[id.toLowerCase()] !== "undefined",
    );

    if (!allInputsDefined) {
      this.logger.debug("formula.waiting_for_inputs", {
        name: formula.name,
        required: requiredInputs.join(", "),
      });
      return null;
    }

    try {
      // Normalize expression to standard keywords for AST evaluation
      const normalizedExpr = expression
        .toUpperCase()
        .replace(/&|\*/g, " AND ")
        .replace(/\||\+/g, " OR ")
        .replace(/\^|!=/g, " XOR ")
        .replace(/!/g, " NOT ")
        .replace(/\s+/g, " ")
        .trim();

      // Build variables object from formula inputs
      const variables = {};
      requiredInputs.forEach((inputKey) => {
        const inputId = inputKey.toLowerCase();
        const value = formula.inputStates[inputId];
        if (value !== "undefined") {
          variables[inputKey] = value === true;
        }
      });

      // Evaluate using AST (secure - no eval or new Function!)
      const result = this.formulaEvaluator.evaluate(normalizedExpr, variables);

      this.logger.debug("🔐 Formula evaluated (AST)", {
        name: formula.name,
        result,
      });

      const previousResult = formula.result;
      formula.result = result;
      formula.timedOut = false;

      // ✅ CRITICAL: Only set alarm_generic (formula output), NOT onoff!
      // onoff is user control (enable/disable), alarm_generic is formula result
      await this.safeSetCapabilityValue("alarm_generic", result);

      // Trigger flows hvis resultatet endret seg
      if (previousResult !== null && previousResult !== result) {
        // Get current on/off state for context
        const currentOnState = this.getCapabilityValue("onoff");
        
        this.logger.debug("formula_result_changed", {
          formulaName: formula.name,
          previousResult,
          newResult: result,
          currentOnState
        });
        
        // Fire all relevant triggers
        await this.fireAllRelevantTriggers(
          result,           // newAlarmState (formula result)
          currentOnState,   // newOnState (on/off capability)
          previousResult,   // previousAlarmState
          null             // previousOnState (not changing here)
        );
      }

      return result;
    } catch (e) {
      this.logger.error("formula.evaluation_failed", {
        name: formula.name,
        message: e.message,
      });
      return null;
    }
  }

  evaluateBooleanExpression(expression, inputStates) {
    // Parse expression til AST (Abstract Syntax Tree)
    const tokens = this.tokenize(expression);
    const ast = this.parse(tokens);

    // Evaluer AST med input-verdier
    return this.evaluateAST(ast, inputStates);
  }

  tokenize(expression) {
    const tokens = [];
    let i = 0;
    const expr = expression.toUpperCase().trim();

    while (i < expr.length) {
      // Skip whitespace
      if (/\s/.test(expr[i])) {
        i++;
        continue;
      }

      // Operators
      if (expr[i] === "(") {
        tokens.push({ type: "LPAREN", value: "(" });
        i++;
      } else if (expr[i] === ")") {
        tokens.push({ type: "RPAREN", value: ")" });
        i++;
      } else if (expr[i] === "!") {
        if (expr[i + 1] === "=") {
          tokens.push({ type: "XOR", value: "!=" });
          i += 2;
        } else {
          tokens.push({ type: "NOT", value: "!" });
          i++;
        }
      } else if (expr[i] === "&") {
        if (expr[i + 1] === "&") {
          i += 2;
        } else {
          i++;
        }
        tokens.push({ type: "AND", value: "&&" });
      } else if (expr[i] === "|") {
        if (expr[i + 1] === "|") {
          i += 2;
        } else {
          i++;
        }
        tokens.push({ type: "OR", value: "||" });
      } else if (expr[i] === "*") {
        tokens.push({ type: "AND", value: "*" });
        i++;
      } else if (expr[i] === "+") {
        tokens.push({ type: "OR", value: "+" });
        i++;
      } else if (expr[i] === "^") {
        tokens.push({ type: "XOR", value: "^" });
        i++;
      }
      // Keywords
      else if (expr.substr(i, 3) === "AND") {
        tokens.push({ type: "AND", value: "AND" });
        i += 3;
      } else if (expr.substr(i, 2) === "OR") {
        tokens.push({ type: "OR", value: "OR" });
        i += 2;
      } else if (expr.substr(i, 3) === "XOR") {
        tokens.push({ type: "XOR", value: "XOR" });
        i += 3;
      } else if (expr.substr(i, 3) === "NOT") {
        tokens.push({ type: "NOT", value: "NOT" });
        i += 3;
      }
      // Variables (A-J)
      else if (/[A-J]/.test(expr[i])) {
        tokens.push({ type: "VAR", value: expr[i] });
        i++;
      } else {
        throw new Error(`Uventet tegn: "${expr[i]}" på posisjon ${i}`);
      }
    }

    return tokens;
  }

  // Parser (konverterer tokens til AST)
  parse(tokens) {
    let pos = 0;

    const peek = () => tokens[pos];
    const consume = () => tokens[pos++];

    // OR har lavest presedens
    const parseOr = () => {
      let left = parseXor();

      while (peek() && peek().type === "OR") {
        consume();
        const right = parseXor();
        left = { type: "OR", left, right };
      }

      return left;
    };

    // XOR har medium presedens
    const parseXor = () => {
      let left = parseAnd();

      while (peek() && peek().type === "XOR") {
        consume();
        const right = parseAnd();
        left = { type: "XOR", left, right };
      }

      return left;
    };

    // AND har høy presedens
    const parseAnd = () => {
      let left = parseNot();

      while (peek() && peek().type === "AND") {
        consume();
        const right = parseNot();
        left = { type: "AND", left, right };
      }

      return left;
    };

    // NOT har høyest presedens (unær operator)
    const parseNot = () => {
      if (peek() && peek().type === "NOT") {
        consume();
        const operand = parseNot(); // Støtter multiple NOT
        return { type: "NOT", operand };
      }

      return parsePrimary();
    };

    // Primary: variabler eller parenteser
    const parsePrimary = () => {
      const token = peek();

      if (!token) {
        throw new Error("Uventet slutt på uttrykk");
      }

      if (token.type === "VAR") {
        consume();
        return { type: "VAR", value: token.value };
      }

      if (token.type === "LPAREN") {
        consume(); // (
        const expr = parseOr();

        if (!peek() || peek().type !== "RPAREN") {
          throw new Error("Manglende avsluttende parentes");
        }
        consume(); // )

        return expr;
      }

      throw new Error(`Uventet token: ${token.type}`);
    };

    const ast = parseOr();

    if (pos < tokens.length) {
      throw new Error(`Uventet token etter slutten: ${tokens[pos].type}`);
    }

    return ast;
  }

  // Evaluerer AST med gitte input-verdier
  evaluateAST(node, inputStates) {
    if (!node) {
      throw new Error("Tomt AST-node");
    }

    switch (node.type) {
      case "VAR": {
        const value = inputStates[node.value.toLowerCase()];
        if (value === "undefined") {
          throw new Error(`Variabel ${node.value} er ikke definert`);
        }
        return value === true || value === "true";
      }

      case "NOT": {
        return !this.evaluateAST(node.operand, inputStates);
      }

      case "AND": {
        const left = this.evaluateAST(node.left, inputStates);
        const right = this.evaluateAST(node.right, inputStates);
        return left && right;
      }

      case "OR": {
        const left = this.evaluateAST(node.left, inputStates);
        const right = this.evaluateAST(node.right, inputStates);
        return left || right;
      }

      case "XOR": {
        const left = this.evaluateAST(node.left, inputStates);
        const right = this.evaluateAST(node.right, inputStates);
        return left !== right;
      }

      default:
        throw new Error(`Ukjent node-type: ${node.type}`);
    }
  }

  async evaluateAllFormulasInitial() {
    this.logger.info("evaluation.initial_complete");

    let anyEvaluated = false;

    for (const formula of this.formulas) {
      if (!formula.enabled) continue;

      const expression = formula.expression;
      if (!expression) continue;

      const requiredInputs = this.parseExpression(expression);
      if (requiredInputs.length === 0) continue;

      const allInputsDefined = requiredInputs.every(
        (id) => formula.inputStates[id.toLowerCase()] !== "undefined",
      );

      if (allInputsDefined) {
        this.logger.debug("formula.all_inputs_defined", {
          name: formula.name,
        });
        await this.evaluateFormula(formula.id);
        anyEvaluated = true;
      } else {
        const states = {};
        requiredInputs.forEach((id) => {
          states[id] = formula.inputStates[id.toLowerCase()];
        });
        this.logger.debug("formula.missing_inputs", {
          name: formula.name,
        });
      }
    }

    if (!anyEvaluated) {
      this.logger.warn("evaluation.no_formulas_ready");
      
      // Store previous state before updating
      const previousAlarmState = this.getCapabilityValue("alarm_generic");
      
      // ✅ CRITICAL: Only set alarm_generic, NOT onoff!
      // onoff is user control, alarm_generic is formula result
      await this.safeSetCapabilityValue("alarm_generic", false);
      
      // Fire alarm triggers if state changed
      if (previousAlarmState !== false) {
        const currentOnState = this.getCapabilityValue("onoff");
        await this.fireAllRelevantTriggers(
          false,              // newAlarmState
          currentOnState,     // newOnState
          previousAlarmState, // previousAlarmState
          null               // previousOnState (not changing)
        );
      }
    }
  }

  parseExpression(expression) {
    const inputs = this.getAvailableInputsUppercase();
    if (!inputs.length) return [];
    const varRe = new RegExp(`\\b(${inputs.join("|")})\\b`, "gi");
    const matches = expression.match(varRe);
    return matches ? [...new Set(matches.map((c) => c.toUpperCase()))] : [];
  }

  validateExpression(expression) {
    if (!expression || expression.trim() === "") {
      return {
        valid: false,
        error: this.homey.__("formula.expression_empty"),
      };
    }

    const upper = expression.toUpperCase();
    const inputs = this.getAvailableInputsUppercase();
    if (!inputs.length)
      return {
        valid: false,
        error: this.homey.__("formula.error_no_inputs"),
      };

    const tokenRe = new RegExp(
      `\\b(?:AND|OR|XOR|NOT)\\b|&&|\\|\\||&|\\||\\^|!=|\\*|\\+|!|\\(|\\)|\\b(?:${inputs.join("|")})\\b`,
      "gi",
    );

    const stripped = upper.replace(tokenRe, "").replace(/\s+/g, "");
    if (stripped.length > 0) {
      return {
        valid: false,
        error: this.homey.__("formula.invalid_tokens", {
          tokens: stripped,
        }),
      };
    }

    let depth = 0;
    for (const ch of upper) {
      if (ch === "(") depth++;
      else if (ch === ")") depth--;
      if (depth < 0)
        return {
          valid: false,
          error: this.homey.__("formula.error_unbalanced_parentheses"),
        };
    }
    if (depth !== 0)
      return {
        valid: false,
        error: this.homey.__("formula.error_unbalanced_parentheses"),
      };

    // Normalize alternative syntax to standard keywords for AST evaluation
    let normalizedExpr = upper
      .replace(/&|\*/g, " AND ")
      .replace(/\||\+/g, " OR ")
      .replace(/\^|!=/g, " XOR ")
      .replace(/!/g, " NOT ")
      .replace(/\s+/g, " ")
      .trim();

    try {
      // Create test variables (all set to true for validation)
      const testVars = {};
      inputs.forEach((input) => {
        testVars[input] = true;
      });

      // Try to evaluate with test values using AST (secure!)
      this.formulaEvaluator.evaluate(normalizedExpr, testVars);

      return {
        valid: true,
      };
    } catch (e) {
      return {
        valid: false,
        error: this.homey.__("formula.invalid_syntax", {
          message: e.message,
        }),
      };
    }
  }

  getFormulas() {
    return this.formulas
      .filter((f) => f.enabled)
      .map((f) => ({
        id: f.id,
        name: f.name,
        description: f.expression || this.homey.__("formula.no_expression"),
      }));
  }

  getInputOptions() {
    return this.getAvailableInputsUppercase().map((input) => ({
      id: input.toLowerCase(),
      name: input,
    }));
  }

  getFormulaResult(formulaId) {
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) {
      this.logger.warn("formula.get_result_not_found", {
        id: formulaId,
      });
      return null;
    }
    return formula.result;
  }

  hasFormulaTimedOut(formulaId) {
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) return false;
    return formula.timedOut;
  }

  async evaluateAllFormulas() {
    this.logger.info("evaluation.reevaluating_all");
    const results = [];
    for (const formula of this.formulas) {
      if (formula.enabled) {
        this.availableInputs.forEach((id) => {
          formula.lockedInputs[id] = false;
        });
        this.logger.debug("formula.unlocked_inputs", {
          name: formula.name,
        });
        const result = await this.evaluateFormula(formula.id);
        results.push({
          id: formula.id,
          name: formula.name,
          result,
        });
      }
    }

    this.logger.debug("formula.evaluated_count", {
      count: results.length,
    });
    return results;
  }

  startTimeoutChecks() {
    // Clear existing interval hvis det finnes
    if (this.timeoutInterval) {
      clearInterval(this.timeoutInterval);
      this.timeoutInterval = null;
    }

    // Start nytt interval
    this.timeoutInterval = setInterval(() => {
      // Sjekk at enheten ikke er i ferd med å bli slettet
      if (this._isDeleting) {
        clearInterval(this.timeoutInterval);
        this.timeoutInterval = null;
        return;
      }

      this.checkTimeouts();
    }, 1000);
  }

  checkTimeouts() {
    const now = Date.now();
    this.formulas.forEach((formula) => {
      if (!formula.timeout || formula.timeout <= 0) return;
      if (formula.timedOut || !formula.enabled) return;
      if (!formula.lastInputTime) return;

      const hasAnyInput = this.availableInputs.some(
        (id) => formula.inputStates[id] !== "undefined",
      );
      if (!hasAnyInput) return;

      const requiredInputs = this.parseExpression(formula.expression);
      const allInputsDefined = requiredInputs.every(
        (id) => formula.inputStates[id.toLowerCase()] !== "undefined",
      );
      if (allInputsDefined) return;

      const timeoutMs = formula.timeout * 1000;
      const elapsed = now - formula.lastInputTime;

      if (elapsed >= timeoutMs) {
        this.logger.info("formula.timed_out", {
          name: formula.name,
          timeout: formula.timeout,
        });
        formula.timedOut = true;

        const triggerData = {
          formula: {
            id: formula.id,
            name: formula.name,
          },
        };
        const state = {
          formulaId: formula.id,
        };
        this.homey.flow
          .getDeviceTriggerCard("formula_timeout")
          .trigger(this, triggerData, state)

          .catch((err) =>
            this.logger.error("timeout.error", {
              message: err.message,
            }),
          );
      }
    });
  }

  async onSettings({ newSettings, changedKeys }) {
    this.logger.info("settings.changed", {
      keys: changedKeys.join(", "),
    });

    if (this.timeoutInterval) {
      clearInterval(this.timeoutInterval);
    }

    if (
      changedKeys.includes("formulas") ||
      changedKeys.includes("input_links")
    ) {
      const detectedInputs = this.detectRequiredInputs(newSettings);
      const originalNumInputs = this.getData().numInputs ?? 2;
      const newNumInputs = Math.max(detectedInputs, originalNumInputs);
      if (newNumInputs !== this.numInputs) {
        this.logger.info("device.capacity_updated", {
          old: this.numInputs,
          new: newNumInputs,
        });
        this.numInputs = newNumInputs;
        this.availableInputs = this.getAvailableInputIds();
      }
    }

    const formatSettings = {};
    let needsFormat = false;

    let parsedFormulas = [];
    if (changedKeys.includes("formulas")) {
      try {
        let rawFormulas = newSettings.formulas;

        this.logger.debug("debug.raw_formulas", {
          formulas: rawFormulas,
        });
        parsedFormulas =
          typeof rawFormulas === "string"
            ? JSON.parse(rawFormulas)
            : rawFormulas;

        const formatted = JSON.stringify(parsedFormulas, null, 2);
        const original =
          typeof newSettings.formulas === "string"
            ? newSettings.formulas
            : JSON.stringify(newSettings.formulas);
        if (formatted !== original) {
          formatSettings.formulas = formatted;
          needsFormat = true;

          this.logger.debug("settings.formatting", {
            type: "formulas",
          });
        }
      } catch (e) {
        this.logger.error("parse.error_formulas_json", {
          message: e.message,
        });
        throw new Error(
          this.homey.__("parse.error_formulas_invalid", {
            message: e.message,
          }),
        );
      }
    }

    let parsedLinks = [];
    if (changedKeys.includes("input_links")) {
      try {
        let rawLinks = newSettings.input_links;

        this.logger.debug("debug.raw_input_links", {
          links: rawLinks,
        });
        parsedLinks =
          typeof rawLinks === "string" ? JSON.parse(rawLinks) : rawLinks;

        const formatted = JSON.stringify(parsedLinks, null, 2);
        const original =
          typeof newSettings.input_links === "string"
            ? newSettings.input_links
            : JSON.stringify(newSettings.input_links);
        if (formatted !== original) {
          formatSettings.input_links = formatted;
          needsFormat = true;

          this.logger.debug("settings.formatting", {
            type: "input_links",
          });
        }
      } catch (e) {
        this.logger.error("parse.error_input_links", {
          message: e.message,
        });
        throw new Error(
          this.homey.__("parse.error_input_links_invalid", {
            message: e.message,
          }),
        );
      }
    }

    if (changedKeys.includes("formulas")) {
      this.formulas = parsedFormulas.map((f) => ({
        id: f.id,
        name: f.name,
        expression: f.expression,
        enabled: f.enabled !== false,
        timeout: f.timeout ?? 0,
        firstImpression: f.firstImpression === true,
        inputStates: {},
        lockedInputs: {},
        lastInputTime: null,
        result: null,
        timedOut: false,
      }));
      this.availableInputs.forEach((id) => {
        this.formulas.forEach((f) => {
          f.inputStates[id] = "undefined";
          f.lockedInputs[id] = false;
        });
      });

      this.logger.debug("formula.reinitialized", {
        count: this.formulas.length,
      });
      for (const formula of this.formulas) {
        const validation = this.validateExpression(formula.expression);
        if (!validation.valid) {
          throw new Error(
            this.homey.__("formula.error_validation", {
              name: formula.name,
              error: validation.error,
            }),
          );
        }
      }
    }

    if (changedKeys.includes("input_links")) {
      await this.setupDeviceLinks();
      await this.evaluateAllFormulasInitial();
    }

    if (
      changedKeys.includes("formulas") &&
      !changedKeys.includes("input_links")
    ) {
      await this.refetchInputsAndEvaluate("formulas-change");
    }

    this.startTimeoutChecks();

    this.logger.info("settings.applied");

    if (needsFormat) {
      // Bruk setImmediate for å la Homey fullføre nåværende settings-oppdatering først
      setImmediate(async () => {
        try {
          this.logger.debug("settings.applying_formatted");

          // Sjekk at enheten fortsatt eksisterer
          if (this._isDeleting) {
            this.logger.debug("Device being deleted, skipping auto-format");
            return;
          }

          await this.setSettings(formatSettings);
          this.logger.info("settings.auto_formatted");
        } catch (e) {
          // Ignorer feil hvis enheten er slettet
          if (e?.statusCode === 404 || this._isDeleting) {
            this.logger.debug(
              "Device deleted during auto-format, ignoring error",
            );
            return;
          }

          this.logger.error("settings.format_failed", {
            message: e.message,
          });
        }
      });
    }
  }

  async pollDeviceInputs() {
    this.logger.debug("polling.all_inputs");

    const links = this.inputLinks || [];
    if (!links.length) {
      this.logger.warn("polling.no_links");
      return;
    }
    if (!this.homey.app.api) {
      this.logger.error("polling.api_unavailable");
      return;
    }

    for (const link of links) {
      this.logger.debug("polling.input", {
        input: link.input,
        device: link.deviceId,
        capability: link.capability,
      });
      try {
        const dev = await this.homey.app.api.devices.getDevice({
          id: link.deviceId,
        });
        if (!dev) {
          this.logger.warn("polling.device_not_found", {
            device: link.deviceId,
          });
          continue;
        }

        let raw = null;
        if (dev.capabilitiesObj && dev.capabilitiesObj[link.capability]) {
          raw = dev.capabilitiesObj[link.capability].value;
        } else if (
          dev.capabilityValues &&
          dev.capabilityValues[link.capability] !== undefined
        ) {
          raw = dev.capabilityValues[link.capability];
        } else if (dev.state && dev.state[link.capability] !== undefined) {
          raw = dev.state[link.capability];
        }

        if (raw === null || raw === undefined) {
          this.logger.warn("polling.no_value", {
            input: link.input.toUpperCase(),
            capability: link.capability,
          }); // FIKSET: Fjernet ekstra parentes her
          continue;
        }

        const boolValue = this.convertToBoolean(raw, link.capability);

        this.logger.input("polling.value_received", {
          input: link.input.toUpperCase(),
          value: raw,
          boolean: boolValue,
        });

        for (const formula of this.formulas) {
          formula.inputStates[link.input] = boolValue;
          if (boolValue !== "undefined") {
            formula.lastInputTime = Date.now();
          }
        }
      } catch (e) {
        this.logger.error("polling.failed", {
          input: link.input,
          message: e.message,
        });
      }
    }
  }

  async onDeleted() {
    this._isDeleting = true;

    this.logger.device("device.deleted_cleanup");

    for (const [key, entry] of this.deviceListeners.entries()) {
      try {
        if (typeof entry?.unregister === "function") {
          await entry.unregister();

          this.logger.debug("devicelinks.unregistered", {
            key,
          });
        }
      } catch (e) {
        this.logger.error("devicelinks.error_cleanup", {
          message: e.message,
        });
      }
    }
    this.deviceListeners.clear();

    if (this.timeoutInterval) {
      clearInterval(this.timeoutInterval);
      this.timeoutInterval = null;
    }

    if (
      this.pollingIntervals &&
      typeof this.pollingIntervals.clear === "function"
    ) {
      try {
        this.pollingIntervals.clear();
      } catch (_) {}
    }

    this.logger.info("device.cleanup_complete");
  }

  async fireAllRelevantTriggers(newAlarmState, newOnState, previousAlarmState = null, previousOnState = null) {
    this.logger.debug("firing_all_triggers", {
      newAlarmState,
      newOnState,
      previousAlarmState,
      previousOnState
    });

    // ===== ALARM STATE TRIGGERS =====
    if (previousAlarmState !== null && previousAlarmState !== newAlarmState) {
      // Prepare alarm state trigger data
      const alarmTriggerData = {
        state: newAlarmState,        // For deprecated triggers (boolean)
        alarm_state: newAlarmState   // For new triggers (boolean)
      };
      
      const alarmState = {
        state: newAlarmState,        // For deprecated triggers
        alarm_state: newAlarmState   // For new triggers
      };

      this.logger.flow(`🚨 Alarm state changed: ${previousAlarmState} → ${newAlarmState}`);

      // Fire deprecated triggers (for backward compatibility)
      await this.safeTriggerCard("state_changed_ld", alarmTriggerData, alarmState);
      await this.safeTriggerCard("device_state_changed_ld", alarmTriggerData, alarmState);

      // Fire new alarm state triggers
      await this.safeTriggerCard("device_alarm_state_changed_ld", alarmTriggerData, alarmState);
      await this.safeTriggerCard("device_alarm_changed_to_ld", alarmTriggerData, alarmState);
    }

    // ===== ON/OFF STATE TRIGGERS =====
    if (previousOnState !== null && previousOnState !== newOnState) {
      // Prepare on/off state trigger data
      const onTriggerData = {
        on_state: newOnState
      };
      
      const onState = {
        on_state: newOnState
      };

      this.logger.flow(`🔘 On state changed: ${previousOnState} → ${newOnState}`);

      // Fire new on/off state triggers
      await this.safeTriggerCard("device_on_state_changed_ld", onTriggerData, onState);
      await this.safeTriggerCard("device_turned_ld", onTriggerData, onState);
    }
  }

  // Safe trigger card firing with error handling
  async safeTriggerCard(triggerCardId, triggerData, state) {
    try {
      this.logger.flow(`🎯 Triggering '${triggerCardId}' with data:`, triggerData);
      const card = this.homey.flow.getDeviceTriggerCard(triggerCardId);
      await card.trigger(this, triggerData, state);
      this.logger.debug(`✅ Successfully triggered: ${triggerCardId}`);
    } catch (e) {
      if (e.message && e.message.includes("Invalid Flow Card ID")) {
        this.logger.error(
          `FATAL: Trigger card '${triggerCardId}' not found. Check app.json/compose flow definitions.`,
          e
        );
      } else {
        this.logger.error(`❌ Error triggering ${triggerCardId}:`, e);
      }
    }
  }
};
--- END: drivers/logic-device/device.js ---

--- START: drivers/logic-device/driver.compose.json (sha256=3f606ee8c52bb1e7952f5f31bb5112b53d0b3f48d5284d3cb7525aed3403743d, bytes=12104) ---
{
  "name": {
    "en": "Logic Device",
    "no": "Logisk Enhet",
    "de": "Logikgerät",
    "nl": "Logisch Apparaat",
    "fr": "Appareil Logique",
    "da": "Logisk Enhed",
    "fi": "Logiikkalaite",
    "sv": "Logikenhet",
    "pl": "Urządzenie Logiczne",
    "it": "Dispositivo Logico",
    "es": "Dispositivo Lógico"
  },
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "capabilitiesOptions": {
    "alarm_generic": {
      "title": {
        "en": "Logic State",
        "no": "Logikk-status",
        "de": "Logikzustand",
        "nl": "Logische Status",
        "fr": "État Logique",
        "da": "Logisk Status",
        "fi": "Logiikkatila",
        "sv": "Logikstatus",
        "pl": "Stan Logiczny",
        "it": "Stato Logico",
        "es": "Estado Lógico"
      },
      "uiComponent": "sensor",
      "getable": true,
      "setable": false,
      "units": {
        "en": ""
      },
      "icon": "/assets/icon.svg"
    }
  },
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_device/large.png",
    "small": "/assets/images_logic_device/small.png"
  },
  "pair": [
    {
      "id": "select_num_inputs"
    },
    {
      "id": "configure_inputs"
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "type": "group",
      "label": {
        "en": "Formulas",
        "no": "Formler",
        "de": "Formeln",
        "nl": "Formules",
        "fr": "Formules",
        "da": "Formler",
        "fi": "Kaavat",
        "sv": "Formler",
        "pl": "Formuły",
        "it": "Formule",
        "es": "Fórmulas"
      },
      "children": [
        {
          "id": "formulas",
          "type": "textarea",
          "label": {
            "en": "Formulas (JSON)",
            "no": "Formler (JSON)",
            "de": "Formeln (JSON)",
            "nl": "Formules (JSON)",
            "fr": "Formules (JSON)",
            "da": "Formler (JSON)",
            "fi": "Kaavat (JSON)",
            "sv": "Formler (JSON)",
            "pl": "Formuły (JSON)",
            "it": "Formule (JSON)",
            "es": "Fórmulas (JSON)"
          },
          "hint": {
            "en": "JSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON will be auto-formatted when you save.\n\nExample:\n[{\"id\":\"f1\",\"name\":\"Main Logic\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: false (default) = reactive mode, true/1 = lock inputs at first value",
            "no": "JSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON vil bli auto-formatert når du lagrer.\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Hovedlogikk\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: false (standard) = reaktiv modus, true/1 = lås inputs ved første verdi",
            "de": "JSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON wird beim Speichern automatisch formatiert.\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Hauptlogik\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: Sekunden vor Zeitüberschreitung (weglassen/0 = unendlich)\nfirstImpression: false (Standard) = reaktiver Modus, true/1 = Eingänge beim ersten Wert sperren",
            "nl": "JSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON wordt automatisch opgemaakt bij het opslaan.\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Hoofdlogica\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: seconden voor time-out (weglaten/0 = oneindig)\nfirstImpression: false (standaard) = reactieve modus, true/1 = vergrendel invoer bij eerste waarde",
            "fr": "Tableau JSON. Chaque formule a son propre état d'entrée. Opérateurs : AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nLe JSON sera formaté automatiquement lors de l'enregistrement.\n\nExemple :\n[{\"id\":\"f1\",\"name\":\"Logique Principale\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout : secondes avant l'expiration (omettre/0 = infini)\nfirstImpression : false (par défaut) = mode réactif, true/1 = verrouiller les entrées à la première valeur",
            "da": "JSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON bliver auto-formateret, når du gemmer.\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Hovedlogik\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: false (standard) = reaktiv tilstand, true/1 = lås input ved første værdi",
            "fi": "JSON-taulukko. Jokaisella kaavalla on oma syötetila. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON muotoillaan automaattisesti tallennettaessa.\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Päälogiikka\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: sekuntia ennen aikakatkaisua (jätä pois/0 = ääretön)\nfirstImpression: false (oletus) = reaktiivinen tila, true/1 = lukitse syötteet ensimmäiseen arvoon",
            "sv": "JSON-array. Varje formel har sin egen ingångsstatus. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON kommer att autoformateras när du sparar.\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Huvudlogik\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: false (standard) = reaktivt läge, true/1 = lås ingångar vid första värdet",
            "pl": "Tablica JSON. Każda formuła ma swój własny stan wejściowy. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nJSON zostanie automatycznie sformatowany po zapisaniu.\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Główna Logika\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: sekundy do przekroczenia limitu czasu (pomiń/0 = nieskończony)\nfirstImpression: false (domyślnie) = tryb reaktywny, true/1 = zablokuj wejścia przy pierwszej wartości",
            "it": "Array JSON. Ogni formula ha il proprio stato di input. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nIl JSON verrà formattato automaticamente al salvataggio.\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"Logica Principale\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: secondi prima del timeout (omettere/0 = infinito)\nfirstImpression: false (predefinito) = modalità reattiva, true/1 = blocca gli input al primo valore",
            "es": "Array JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEl JSON se formateará automáticamente al guardar.\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Lógica Principal\",\"expression\":\"A AND B AND NOT C\",\"enabled\":true,\"timeout\":30,\"firstImpression\":false}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: false (predeterminado) = modo reactivo, true/1 = bloquear entradas en el primer valor"
          },
          "value": "[]"
        }
      ]
    },
    {
      "type": "group",
      "label": {
        "en": "Input Links",
        "no": "Inngangs-koblinger",
        "de": "Eingangsverknüpfungen",
        "nl": "Invoerkoppelingen",
        "fr": "Liens d'Entrée",
        "da": "Input-links",
        "fi": "Tulolinkit",
        "sv": "Ingångslänkar",
        "pl": "Linki Wejściowe",
        "it": "Collegamenti di Ingresso",
        "es": "Enlaces de Entrada"
      },
      "children": [
        {
          "id": "input_links",
          "type": "textarea",
          "label": {
            "en": "Input Links (JSON)",
            "no": "Inngangs-koblinger (JSON)",
            "de": "Eingangsverknüpfungen (JSON)",
            "nl": "Invoerkoppelingen (JSON)",
            "fr": "Liens d'Entrée (JSON)",
            "da": "Input-links (JSON)",
            "fi": "Tulolinkit (JSON)",
            "sv": "Ingångslänkar (JSON)",
            "pl": "Linki Wejściowe (JSON)",
            "it": "Collegamenti di Ingresso (JSON)",
            "es": "Enlaces de Entrada (JSON)"
          },
          "hint": {
            "en": "Links between inputs and devices. JSON will be auto-formatted when you save.\n\nExample:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Kitchen Light\"}]",
            "no": "Koblinger mellom innganger og enheter. JSON vil bli auto-formatert når du lagrer.\n\nEksempel:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Kjøkkenlys\"}]",
            "de": "Verknüpfungen zwischen Eingängen und Geräten. JSON wird beim Speichern automatisch formatiert.\n\nBeispiel:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Küchenlicht\"}]",
            "nl": "Koppelingen tussen ingangen en apparaten. JSON wordt automatisch opgemaakt bij het opslaan.\n\nVoorbeeld:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Keukenlamp\"}]",
            "fr": "Liens entre les entrées et les appareils. Le JSON sera formaté automatiquement lors de l'enregistrement.\n\nExemple :\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Lumière Cuisine\"}]",
            "da": "Links mellem inputs og enheder. JSON bliver auto-formateret, når du gemmer.\n\nEksempel:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Køkkenlys\"}]",
            "fi": "Linkit syötteiden ja laitteiden välillä. JSON muotoillaan automaattisesti tallennettaessa.\n\nEsimerkki:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Keittiön Valo\"}]",
            "sv": "Länkar mellan ingångar och enheter. JSON kommer att autoformateras när du sparar.\n\nExempel:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Kökslampa\"}]",
            "pl": "Powiązania między wejściami a urządzeniami. JSON zostanie automatycznie sformatowany po zapisaniu.\n\nPrzykład:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Światło w kuchni\"}]",
            "it": "Collegamenti tra input e dispositivi. Il JSON verrà formattato automaticamente al salvataggio.\n\nEsempio:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Luce Cucina\"}]",
            "es": "Enlaces entre entradas y dispositivos. El JSON se formateará automáticamente al guardar.\n\nEjemplo:\n[{\"input\":\"a\",\"deviceId\":\"abc123\",\"capability\":\"onoff\",\"deviceName\":\"Luz de la Cocina\"}]"
          },
          "value": "[]"
        }
      ]
    }
  ],
"flow": [
    {
      "type": "trigger",
      "id": "device_state_changed",
      "titleFormatted": "flow.triggers.device_state_changed.titleFormatted",
      "tokens": [
        {
          "name": "state",
          "type": "string",
          "title": "flow.tokens.state.title"
        }
      ]
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_ld"
    },
    {
      "type": "condition",
      "id": "formula_result_is_ld"
    },
    {
      "type": "condition",
      "id": "has_any_error_ld"
    },
    {
      "type": "action",
      "id": "evaluate_formula_ld"
    },
    {
      "type": "action",
      "id": "clear_error_ld"
    }
  ]
}
--- END: drivers/logic-device/driver.compose.json ---

--- START: drivers/logic-device/driver.js (sha256=78b2dd93b9c7fda15a68f509ae46cd865d32aa780ec2732afdb04c11d4f407dd, bytes=17015) ---
"use strict";

const Homey = require("homey");
const Logger = require("../../lib/Logger");

module.exports = class LogicDeviceDriver extends Homey.Driver {
  async onInit() {
    const driverName = `Driver: ${this.id}`;
    this.logger = new Logger(this, driverName);

    this.logger.info("driver.ready");

    await this.registerFlowCards();
  }

  // --- Helper for Autocomplete Registration ---
  registerAutocomplete(card, argName, helperFn) {
    try {
      if (typeof helperFn !== "function") {
        throw new Error(`Helper function for '${argName}' is not a function.`);
      }
      card.registerArgumentAutocompleteListener(
        argName,
        async (query, args) => {
          const device = args?.device;
          if (argName === "formula" || argName === "input") {
            if (!device) {
              this.logger.warn(
                `Autocomplete for device arg '${argName}' on card '${card.id}' called without device context.`,
              );
              return [];
            }

            let requiredMethod = "";
            if (argName === "formula") requiredMethod = "getFormulas";
            if (argName === "input") requiredMethod = "getInputOptions";

            if (typeof device[requiredMethod] !== "function") {
              this.logger.warn(
                `Autocomplete for device arg '${argName}' on card '${card.id}': Device ${device.getName()} missing method ${requiredMethod}.`,
              );
              return [];
            }
          }

          try {
            return await helperFn(query, args);
          } catch (autocompleteError) {
            this.logger.error(
              `Error during autocomplete for ${argName} on card '${card.id}'`,
              autocompleteError,
            );
            return [];
          }
        },
      );
      this.logger.debug(
        `Registered ${argName.toUpperCase()} autocomplete for card '${card.id}'`,
      );
    } catch (e) {
      this.logger.error(
        ` -> FAILED to register autocomplete for '${argName}' on card '${card.id}'`,
        e,
      );
    }
  }

  async registerFlowCards() {
    this.logger.debug("driver.registering_flow_cards");

    // ===== DEPRECATED TRIGGERS (for backward compatibility) =====
    
    // Deprecated: Logic state changed (keep for existing users)
    const stateChangedCard = this.homey.flow.getTriggerCard("state_changed_ld");
    stateChangedCard.registerRunListener(async (args, state) => {
      return args?.device?.driver?.id === "logic-device";
    });
    this.logger.debug(` -> OK: DEPRECATED TRIGGER registered: 'state_changed_ld'`);

    // Deprecated: Logic state changed to specific value
    const stateChangedToCard = this.homey.flow.getTriggerCard("device_state_changed_ld");
    stateChangedToCard.registerRunListener(async (args, state) => {
      const expectedState = args.state === "true";
      return (
        args?.device?.driver?.id === "logic-device" &&
        state?.state === expectedState
      );
    });
    this.logger.debug(` -> OK: DEPRECATED TRIGGER registered: 'device_state_changed_ld'`);

    // Deprecated: Generic alarm turned on
    try {
      const alarmTurnedOnCard = this.homey.flow.getTriggerCard("device_alarm_turned_on_ld_deprecated");
      alarmTurnedOnCard.registerRunListener(async (args, state) => {
        return (
          args?.device?.driver?.id === "logic-device" &&
          state?.alarm_state === true
        );
      });
      this.logger.debug(` -> OK: DEPRECATED TRIGGER registered: 'device_alarm_turned_on_ld_deprecated'`);
    } catch (e) {
      this.logger.warn(` -> SKIP: Deprecated trigger 'device_alarm_turned_on_ld_deprecated' not found`);
    }

    // Deprecated: Generic alarm turned off
    try {
      const alarmTurnedOffCard = this.homey.flow.getTriggerCard("device_alarm_turned_off_ld_deprecated");
      alarmTurnedOffCard.registerRunListener(async (args, state) => {
        return (
          args?.device?.driver?.id === "logic-device" &&
          state?.alarm_state === false
        );
      });
      this.logger.debug(` -> OK: DEPRECATED TRIGGER registered: 'device_alarm_turned_off_ld_deprecated'`);
    } catch (e) {
      this.logger.warn(` -> SKIP: Deprecated trigger 'device_alarm_turned_off_ld_deprecated' not found`);
    }

    // ===== NEW IMPROVED TRIGGERS =====
    
    // New: Device alarm state changed (general)
    const alarmStateChangedCard = this.homey.flow.getTriggerCard("device_alarm_state_changed_ld");
    alarmStateChangedCard.registerRunListener(async (args, state) => {
      return args?.device?.driver?.id === "logic-device";
    });
    this.logger.debug(` -> OK: NEW TRIGGER registered: 'device_alarm_state_changed_ld'`);

    // New: Device alarm changed to [dropdown selection]
    const alarmChangedToCard = this.homey.flow.getTriggerCard("device_alarm_changed_to_ld");
    alarmChangedToCard.registerRunListener(async (args, state) => {
      const expectedAlarmState = args.alarm_state === "true";
      return (
        args?.device?.driver?.id === "logic-device" &&
        state?.alarm_state === expectedAlarmState
      );
    });
    this.logger.debug(` -> OK: NEW TRIGGER registered: 'device_alarm_changed_to_ld'`);

    // New: Device on-state changed (general)
    const onStateChangedCard = this.homey.flow.getTriggerCard("device_on_state_changed_ld");
    onStateChangedCard.registerRunListener(async (args, state) => {
      return args?.device?.driver?.id === "logic-device";
    });
    this.logger.debug(` -> OK: NEW TRIGGER registered: 'device_on_state_changed_ld'`);

    // New: Device turned [dropdown selection]
    const deviceTurnedCard = this.homey.flow.getTriggerCard("device_turned_ld");
    deviceTurnedCard.registerRunListener(async (args, state) => {
      const expectedOnState = args.on_state === "true";
      return (
        args?.device?.driver?.id === "logic-device" &&
        state?.on_state === expectedOnState
      );
    });
    this.logger.debug(` -> OK: NEW TRIGGER registered: 'device_turned_ld'`);

    // New: Generic alarm turned [dropdown selection]
    const alarmTurnedCard = this.homey.flow.getTriggerCard("device_alarm_turned_ld");
    alarmTurnedCard.registerRunListener(async (args, state) => {
      const expectedAlarmState = args.alarm_state === "true";
      return (
        args?.device?.driver?.id === "logic-device" &&
        state?.alarm_state === expectedAlarmState
      );
    });
    this.logger.debug(` -> OK: NEW TRIGGER registered: 'device_alarm_turned_ld'`);

    // ===== NEW CONDITIONS WITH DROPDOWNS =====
    
    // New: Device is turned [dropdown selection]
    const deviceIsTurnedCard = this.homey.flow.getConditionCard("device_is_turned_ld");
    deviceIsTurnedCard.registerRunListener(async (args, state) => {
      const device = args.device;
      if (!device) return false;
      
      const expectedOnState = args.on_state === "true";
      const currentOnState = device.getCapabilityValue("onoff");
      
      this.logger.flow(
        `Executing CONDITION 'device_is_turned_ld' on device ${device.getName()}: expected=${expectedOnState}, current=${currentOnState}`,
      );
      
      return currentOnState === expectedOnState;
    });
    this.logger.debug(` -> OK: NEW CONDITION registered: 'device_is_turned_ld'`);

    // New: Device alarm is [dropdown selection]
    const deviceAlarmIsCard = this.homey.flow.getConditionCard("device_alarm_is_ld");
    deviceAlarmIsCard.registerRunListener(async (args, state) => {
      const device = args.device;
      if (!device) return false;
      
      const expectedAlarmState = args.alarm_state === "true";
      const currentAlarmState = device.getCapabilityValue("alarm_generic");
      
      this.logger.flow(
        `Executing CONDITION 'device_alarm_is_ld' on device ${device.getName()}: expected=${expectedAlarmState}, current=${currentAlarmState}`,
      );
      
      return currentAlarmState === expectedAlarmState;
    });
    this.logger.debug(` -> OK: NEW CONDITION registered: 'device_alarm_is_ld'`);

    // ===== EXISTING ACTIONS AND CONDITIONS (unchanged) =====
    
    // --- Actions ---
    const actionCards = [
      {
        id: "evaluate_formula_ld",
        handler: "onFlowActionEvaluateFormula",
      },
      {
        id: "clear_error_ld",
        handler: "onFlowActionClearError",
      },
    ];
    actionCards.forEach((cardInfo) => {
      try {
        const card = this.homey.flow.getActionCard(cardInfo.id);
        card.registerRunListener(async (args, state) => {
          const device = args.device;
          if (!device)
            throw new Error(this.homey.__("errors.invalid_device_instance"));
          const methodName = cardInfo.handler;
          if (typeof device[methodName] !== "function")
            throw new Error(
              this.homey.__("errors.method_missing_on_device", {
                methodName,
              }),
            );
          this.logger.flow(
            `Executing ACTION '${cardInfo.id}' on device ${device.getName()}`,
          );
          return await device[methodName](args, state);
        });
        this.logger.debug(` -> OK: ACTION card registered: '${cardInfo.id}'`);
      } catch (e) {
        this.logger.error(
          ` -> FAILED: Registering ACTION card '${cardInfo.id}'`,
          e,
        );
      }
    });

    // --- Existing Conditions ---
    const conditionCards = [
      {
        id: "formula_has_timed_out_ld",
        checkType: "timeout",
      },
      {
        id: "formula_result_is_ld",
        checkTypeFromArg: "result",
      },
      {
        id: "has_any_error_ld",
        checkType: "has_error",
      },
    ];
    conditionCards.forEach((cardInfo) => {
      try {
        const card = this.homey.flow.getConditionCard(cardInfo.id);
        card.registerRunListener(async (args, state) => {
          const device = args.device;
          if (!device) return false;
          if (typeof device.onFlowCondition !== "function") return false;

          let checkType;
          if (cardInfo.checkType) {
            checkType = cardInfo.checkType;
          } else if (cardInfo.checkTypeFromArg) {
            checkType = args[cardInfo.checkTypeFromArg] === "true";
          }

          this.logger.flow(
            `Executing CONDITION '${cardInfo.id}' on device ${device.getName()}`,
          );
          return await device.onFlowCondition(args, state, checkType);
        });
        this.logger.debug(
          ` -> OK: CONDITION card registered: '${cardInfo.id}'`,
        );
      } catch (e) {
        this.logger.error(
          ` -> FAILED: Registering CONDITION card '${cardInfo.id}'`,
          e,
        );
      }
    });
  }

  async ensureUniqueDeviceName(name) {
    try {
      if (
        !this.homey.app ||
        !this.homey.app.api ||
        typeof this.homey.app.api.devices?.getDevices !== "function"
      ) {
        this.logger.warn(
          "ensureUniqueDeviceName: Homey API (via app) not ready, returning original name.",
          {},
        );
        return String(name || "");
      }
      const all = await this.homey.app.api.devices.getDevices();
      if (!all || typeof all !== "object") {
        this.logger.error(
          "ensureUniqueDeviceName: Unexpected response from getDevices:",
          all,
        );
        return String(name || "");
      }
      const existingNames = new Set(
        Object.values(all)
          .map((d) => (d?.name || "").trim())
          .filter(Boolean),
      );

      const nameStr = String(name || "");
      if (!existingNames.has(nameStr)) return nameStr;

      const base = nameStr.replace(/\s+\d+$/, "").trim();
      const m = nameStr.match(/\s+(\d+)$/);
      let n = m ? parseInt(m[1], 10) + 1 : 2;
      if (isNaN(n)) n = 2; // Fallback

      let candidate = `${base} ${n}`;
      let safetyCounter = 0;
      while (existingNames.has(candidate) && safetyCounter < 100) {
        n++;
        candidate = `${base} ${n}`;
        safetyCounter++;
      }
      if (safetyCounter >= 100) {
        this.logger.error(
          "ensureUniqueDeviceName: Could not find unique name after 100 attempts, returning original + timestamp.",
          {},
        );
        return `${nameStr}-${Date.now()}`;
      }
      return candidate;
    } catch (e) {
      this.logger.error("driver.ensure_unique_failed", e);
      return String(name || "");
    }
  }

  async onPair(session) {
    this.logger.info("pair.session_started");

    let numInputs = 2;
    let inputLinks = [];
    let deviceName = this.homey.__("pair.name_placeholder");
    let deviceFormula = "";

    session.setHandler("get_num_inputs", async () => {
      this.logger.debug("pair.get_num_inputs");
      return {
        numInputs,
      };
    });

    session.setHandler("set_num_inputs", async (data) => {
      this.logger.debug("pair.set_num_inputs", data);
      numInputs = parseInt(data.numInputs);
      if (isNaN(numInputs) || numInputs < 2 || numInputs > 10) numInputs = 2;
      return {
        success: true,
      };
    });

    session.setHandler("get_zones", async () => {
      this.logger.debug("pair.get_zones");
      try {
        return await this.homey.app.getAvailableZones();
      } catch (e) {
        this.logger.error("pair.get_zones_error", e);
        throw new Error(this.homey.__("errors.connection_failed"));
      }
    });

    session.setHandler("get_devices_in_zone", async (data) => {
      this.logger.debug("pair.get_devices_in_zone", {
        zone: data.zoneId,
      });
      if (!data.zoneId) return [];
      try {
        return await this.homey.app.getDevicesInZone(data.zoneId);
      } catch (e) {
        this.logger.error("pair.get_devices_error", e);
        throw new Error(this.homey.__("errors.connection_failed"));
      }
    });

    session.setHandler("set_input_links", async (data) => {
      this.logger.debug("pair.set_input_links");
      inputLinks = Array.isArray(data.inputLinks) ? data.inputLinks : [];
      return {
        success: true,
      };
    });

    session.setHandler("set_device_name", async (data) => {
      this.logger.debug("pair.set_device_name", {
        name: data.name,
      });
      deviceName = String(data.name || this.homey.__("pair.name_placeholder"));
      return {
        success: true,
      };
    });

    session.setHandler("set_device_formula", async (data) => {
      this.logger.debug("pair.set_device_formula", {
        formula: data.formula || "N/A",
      });
      deviceFormula = String(data.formula || "");
      return {
        success: true,
      };
    });

    session.setHandler("create_device", async () => {
      this.logger.info("pair.create_device");

      if (!inputLinks || inputLinks.length === 0) {
        throw new Error(this.homey.__("errors.invalid_input"));
      }

      const uniqueName = await this.ensureUniqueDeviceName(deviceName);

      const device = {
        name: uniqueName,
        data: {
          id: `logic-device-${Date.now()}-${Math.random().toString(16).slice(2)}`,
          numInputs,
        },
        settings: {
          input_links: JSON.stringify(inputLinks, null, 2),
          formulas: JSON.stringify(
            [
              {
                id: "formula_1",
                name:
                  this.homey.__("formula.default_name_ld") || "Main Formula",
                expression:
                  deviceFormula || this.getDefaultExpression(numInputs),
                enabled: true,
                timeout: 0,
                firstImpression: false,
              },
            ],
            null,
            2,
          ),
        },
        capabilities: ["onoff", "alarm_generic"],
        capabilitiesOptions: {
          onoff: {
            setable: true,
          },
          alarm_generic: {
            setable: false,
          },
        },
        capabilityValues: {
          onoff: true,
          alarm_generic: false
        }
      };

      this.logger.info("pair.creating_device", {
        name: uniqueName,
      });
      this.logger.dump("Device data to be created", device);
      return device;
    });

    this.logger.debug("pair.handlers_registered");
  }

  getDefaultExpression(numInputs) {
    const letters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
    const inputsToUse = Math.min(numInputs, letters.length);
    if (inputsToUse <= 0) return "true";
    return letters.slice(0, inputsToUse).join(" AND ");
  }
};
--- END: drivers/logic-device/driver.js ---

--- START: drivers/logic-device/pair/configure_inputs.html (sha256=e239021476240bf25bf72677f5752b5b8e5185d1ac0269f240be7ad99b6b479d, bytes=25615) ---
<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      transition: opacity 0.3s ease-in-out;
    }
    .fade-out {
      opacity: 0;
      pointer-events: none;
    }
    .fade-in {
      opacity: 1;
    }
    h2 {
      margin-bottom: 10px;
      color: #333;
    }
    .description {
      color: #666;
      margin-bottom: 30px;
      line-height: 1.5;
    }
    .input-config {
      margin-bottom: 25px;
      padding: 20px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      background-color: #fafafa;
      transition: all 0.3s ease;
    }
    .input-config.complete {
      border-color: #4CAF50;
      background-color: #f1f8f4;
    }
    .input-config h3 {
      margin: 0 0 15px 0;
      color: #333;
      font-size: 18px;
    }
    .input-config label {
      display: block;
      margin-top: 12px;
      margin-bottom: 5px;
      font-weight: 500;
      color: #555;
      font-size: 14px;
    }
    select {
      width: 100%;
      padding: 10px;
      box-sizing: border-box;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: white;
      transition: border-color 0.2s;
    }
    select:focus {
      outline: none;
      border-color: #4CAF50;
      box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
    }
    select:disabled {
      background-color: #f5f5f5;
      cursor: not-allowed;
    }
    .status {
      margin-top: 10px;
      padding: 8px 12px;
      border-radius: 5px;
      font-size: 13px;
      font-weight: 500;
      transition: all 0.3s ease;
    }
    .status.complete {
      background-color: #4CAF50;
      color: white;
    }
    .status.incomplete {
      background-color: #ff9800;
      color: white;
    }
    .summary {
      margin-top: 30px;
      padding: 20px;
      background-color: #e3f2fd;
      border-radius: 8px;
      border-left: 4px solid #2196F3;
    }
    .summary strong {
      color: #1976D2;
    }
    .device-name-section {
      margin-top: 30px;
      padding: 20px;
      background-color: #fff3e0;
      border-radius: 8px;
      border-left: 4px solid #ff9800;
    }
    .device-name-section label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #555;
    }
    .device-name-section input {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }
    .device-name-section input:focus {
      outline: none;
      border-color: #ff9800;
      box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.1);
    }
    .loading {
      text-align: center;
      padding: 40px;
      color: #666;
      font-size: 16px;
      transition: opacity 0.3s ease;
    }
    .loading:before {
      content: '';
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid #f3f3f3;
      border-top: 3px solid #4CAF50;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 10px;
      vertical-align: middle;
    }
    button {
      padding: 15px 40px;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      width: 100%;
      margin-top: 20px;
      font-weight: 500;
      transition: background-color 0.2s;
    }

    button.btn-enabled {
      background-color: #4CAF50 !important;
      cursor: pointer !important;
      pointer-events: auto !important;
    }

    button.btn-disabled {
      background-color: #cccccc !important;
      cursor: not-allowed !important;
      pointer-events: none !important;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .error {
      background-color: #ffebee;
      color: #c62828;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
      border-left: 4px solid #c62828;
      white-space: pre-wrap;
      font-family: monospace;
      font-size: 12px;
      max-height: 200px;
      overflow-y: auto;
    }
    .formula-section {
      margin-top: 30px;
      padding: 20px;
      background-color: #e3f2fd; /* Match summary */
      border-radius: 8px;
      border-left: 4px solid #2196F3; /* Match summary */
    }
    .formula-section label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #555;
    }
    .formula-section input {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }
    .formula-section input:focus {
      outline: none;
      border-color: #2196F3; /* Match summary */
      box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 data-i18n="pair.configure_inputs_title">Configure inputs</h2>
    <p class="description" data-i18n="pair.configure_inputs_description">Select which device and capability each input should follow:</p>

    <div id="loading" class="loading" data-i18n="common.loading">Loading...</div>

    <div id="inputs-container" style="display: none;"></div>

    <div id="device-name-section" class="device-name-section" style="display: none;">
      <label for="deviceName" data-i18n="pair.device_name_label">Give the device a name:</label>
      <input type="text" id="deviceName" value="">
    </div>

    <div id="formula-section" class="formula-section" style="display: none;">
      <label for="formulaInput" data-i18n="pair.formula_label">Angi formel:</label>
      <input type="text" id="formulaInput" value="">
    </div>

    <div id="summary" class="summary" style="display: none;"></div>

    <div id="error-message" class="error" style="display: none;"></div>

    <button id="complete-btn">...</button>
  </div>

<script>
    // Globale variabler
    let zones = [];
    let numInputs = 2;
    const letters = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'];
    // Ingen homeyRef her, vi bruker 'Homey' globalt

    // Logger til både nettleserkonsoll og Homey-logg hvis mulig
    function logToConsole(message, data) {
      const timestamp = new Date().toISOString().split('T')[1].split('.')[0];
      const logMessage = `[VIEW][${timestamp}] ${message}`;
      console.log(logMessage, data || ''); // Alltid til nettleserkonsoll
      
      // Bruk global 'Homey' hvis tilgjengelig
      if (typeof Homey !== 'undefined' && typeof Homey.log === 'function') {
         try { Homey.log(logMessage, data || ''); } catch(e) { console.warn("Could not log to global Homey:", e); }
      }
    }

    function showError(message) {
      logToConsole('showError called with:', message);
      const errorEl = document.getElementById('error-message');
      if (errorEl) {
          errorEl.textContent = message;
          errorEl.style.display = 'block';
      } else {
          console.error("[VIEW] Error element not found!");
      }
      // Bruk global 'Homey' hvis tilgjengelig
      if (typeof Homey !== 'undefined' && typeof Homey.alert === 'function') {
           try { Homey.alert(message, 'error'); } catch(e) { console.warn("Could not show global Homey alert:", e); }
      }
    }

    // --- Funksjoner ---
    // Disse bruker nå 'Homey' globalt

    async function handleCompleteClick() {
       if (typeof Homey === 'undefined') { logToConsole('handleCompleteClick called before Homey was ready!'); alert(Homey.__('pair.error_system_not_ready')); return; }
       logToConsole('handleCompleteClick started.');
       try {
         const inputLinks = [];
         const defaultName = Homey.__('pair.name_placeholder');
         const deviceName = document.getElementById('deviceName').value || defaultName;
         logToConsole(`Device name to use: ${deviceName}`);
         
         const defaultFormula = letters.slice(0, numInputs).join(' AND ');
         const formula = document.getElementById('formulaInput').value || defaultFormula;
         logToConsole(`Formula to use: ${formula}`);

         for (let i = 0; i < numInputs; i++) {
           const inputId = letters[i].toLowerCase();
           const deviceSelect = document.getElementById(`device-${inputId}`);
           const deviceId = deviceSelect?.value;
           const capability = document.getElementById(`capability-${inputId}`)?.value;
           if (deviceId && capability) {
             const selectedOption = deviceSelect.options[deviceSelect.selectedIndex];
             const linkedDeviceName = selectedOption?.textContent || Homey.__('pair.unknown_device');
             inputLinks.push({ input: inputId, deviceId, capability, deviceName: linkedDeviceName });
             logToConsole(`Input ${inputId.toUpperCase()} configured:`, { deviceId, capability, linkedDeviceName });
           } else { logToConsole(`Input ${inputId.toUpperCase()} is not fully configured.`); }
         }
         if (inputLinks.length !== numInputs) { logToConsole('Not all inputs configured. Showing alert.'); await Homey.alert(Homey.__('pair.configure_all_inputs'), 'warning'); return; }
         logToConsole('All inputs configured. Emitting data to driver...');
         await Homey.emit('set_input_links', { inputLinks });
         logToConsole('set_input_links emitted.');
         await Homey.emit('set_device_name', { name: deviceName });
         logToConsole('set_device_name emitted.');
         await Homey.emit('set_device_formula', { formula: formula });
         logToConsole('set_device_formula emitted.');
         logToConsole('Emitting create_device...');
         const deviceData = await Homey.emit('create_device');
         logToConsole('create_device received data:', deviceData);
         logToConsole('Calling Homey.createDevice...');
         await Homey.createDevice(deviceData);
         logToConsole('Homey.createDevice finished.');
         logToConsole('Calling Homey.done()...');
         await Homey.done();
         logToConsole('Homey.done() called.');
       } catch (e) { logToConsole('Error in handleCompleteClick:', e); showError(Homey.__('pair.error_completing_setup', { error: (e.message || e) })); }
    }

    function renderInputs() {
       if (typeof Homey === 'undefined') { logToConsole('renderInputs called before Homey was ready!'); return; }
       logToConsole(`renderInputs called for ${numInputs} inputs.`);
       const container = document.getElementById('inputs-container');
       container.innerHTML = '';
       const selectZoneText = Homey.__('pair.select_zone'); const inputLabel = Homey.__('pair.input'); const zoneLabel = Homey.__('pair.zone_label'); const deviceLabel = Homey.__('pair.device_label'); const capabilityLabel = Homey.__('pair.capability_label'); const selectZoneFirst = Homey.__('pair.select_zone_first'); const selectDeviceFirst = Homey.__('pair.select_device_first'); const notConfigured = Homey.__('pair.not_configured');
       let zoneOptions = `<option value="">${selectZoneText}</option>`; zones.forEach(zone => { zoneOptions += `<option value="${zone.id}">${zone.name}</option>`; });
       for (let i = 0; i < numInputs; i++) {
         const letter = letters[i]; const inputId = letter.toLowerCase(); const div = document.createElement('div'); div.className = 'input-config'; div.id = `input-config-${inputId}`;
         div.innerHTML = `<h3>${inputLabel} ${letter}</h3> <label>${zoneLabel}</label> <select id="zone-${inputId}" data-input="${inputId}">${zoneOptions}</select> <label>${deviceLabel}</label> <select id="device-${inputId}" data-input="${inputId}" disabled><option value="">${selectZoneFirst}</option></select> <label>${capabilityLabel}</label> <select id="capability-${inputId}" data-input="${inputId}" disabled><option value="">${selectDeviceFirst}</option></select> <div class="status incomplete" id="status-${inputId}">⚠️ ${notConfigured}</div>`; container.appendChild(div);
         try { document.getElementById(`zone-${inputId}`).addEventListener('change', (e) => onZoneChange(inputId, e.target.value)); document.getElementById(`device-${inputId}`).addEventListener('change', (e) => onDeviceChange(inputId, e.target.value)); document.getElementById(`capability-${inputId}`).addEventListener('change', updateSummary); } catch(e) { logToConsole(`Error adding listener for input ${inputId}:`, e); }
       } logToConsole('renderInputs finished.');
    }

    async function onZoneChange(inputId, zoneId) {
        if (typeof Homey === 'undefined') return; logToConsole(`Zone changed for input ${inputId}: ${zoneId}`);
        const deviceSelect = document.getElementById(`device-${inputId}`); const capabilitySelect = document.getElementById(`capability-${inputId}`); const loadingText = Homey.__('common.loading'); const selectDeviceFirst = Homey.__('pair.select_device_first'); const selectZoneFirst = Homey.__('pair.select_zone_first'); const selectDevice = Homey.__('pair.select_device'); const errorLoading = Homey.__('pair.error_loading');
        deviceSelect.innerHTML = `<option value="">${loadingText}</option>`; deviceSelect.disabled = true; capabilitySelect.innerHTML = `<option value="">${selectDeviceFirst}</option>`; capabilitySelect.disabled = true;
        if (!zoneId) { deviceSelect.innerHTML = `<option value="">${selectZoneFirst}</option>`; updateSummary(); return; }
        try { logToConsole(`Emitting 'get_devices_in_zone' for zone ${zoneId}...`); const devicesInZone = await Homey.emit('get_devices_in_zone', { zoneId }); logToConsole(`Found ${devicesInZone.length} devices in zone ${zoneId}`); deviceSelect.innerHTML = `<option value="">${selectDevice}</option>`; devicesInZone.forEach(d => { const option = document.createElement('option'); option.value = d.id; option.dataset.capabilities = JSON.stringify(Array.isArray(d.capabilities) ? d.capabilities : []); option.textContent = `${d.name} (${d.driverName || 'Unknown Driver'})`; deviceSelect.appendChild(option); }); deviceSelect.disabled = false; } catch (e) { logToConsole(`Error in onZoneChange for input ${inputId}:`, e); const loadDevicesError = Homey.__('pair.load_devices_error'); showError(`${loadDevicesError}: ${e.message || e}`); deviceSelect.innerHTML = `<option value="">${errorLoading}</option>`; }
        updateSummary();
    }

    function onDeviceChange(inputId, deviceId) {
        if (typeof Homey === 'undefined') return; logToConsole(`Device changed for input ${inputId}: ${deviceId}`);
        const deviceSelect = document.getElementById(`device-${inputId}`); const capabilitySelect = document.getElementById(`capability-${inputId}`); const selectCapability = Homey.__('pair.select_capability'); capabilitySelect.innerHTML = `<option value="">${selectCapability}</option>`; capabilitySelect.disabled = true;
        if (deviceId) { const selectedOption = deviceSelect.querySelector(`option[value="${deviceId}"]`); if (selectedOption && selectedOption.dataset.capabilities) { try { const capabilities = JSON.parse(selectedOption.dataset.capabilities); if(Array.isArray(capabilities)) { capabilities.forEach(cap => { const option = document.createElement('option'); option.value = cap.id || 'unknown_id'; const capName = cap.title || cap.name || Homey.__('pair.unknown_capability_fallback'); option.textContent = `${capName} (${cap.id || 'N/A'})`; capabilitySelect.appendChild(option); }); if (capabilities.length > 0) { capabilitySelect.disabled = false; } } else { logToConsole(`Capabilities data for device ${deviceId} is not an array:`, capabilities); } } catch(e) { logToConsole(`Error parsing capabilities for device ${deviceId}:`, e); showError(Homey.__('pair.error_loading_capabilities', { error: (e.message || e) })); } } else { logToConsole(`Could not find selected option or capabilities data for device ${deviceId}`); } }
        updateSummary();
    }

    async function saveConfigToBackend() {
        if (typeof Homey === 'undefined') return; logToConsole('saveConfigToBackend called.');
        const inputLinks = []; const defaultName = Homey.__('pair.name_placeholder'); const deviceName = document.getElementById('deviceName').value || defaultName;
        for (let i = 0; i < numInputs; i++) { const inputId = letters[i].toLowerCase(); const deviceSelect = document.getElementById(`device-${inputId}`); const deviceId = deviceSelect?.value; const capability = document.getElementById(`capability-${inputId}`)?.value; if (deviceId && capability) { const selectedOption = deviceSelect.options[deviceSelect.selectedIndex]; const linkedDeviceName = selectedOption?.textContent || 'Unknown Device'; inputLinks.push({ input: inputId, deviceId, capability, deviceName: linkedDeviceName }); } }
        if (inputLinks.length === numInputs) { logToConsole('All inputs configured, attempting to save...'); try { await Homey.emit('set_input_links', { inputLinks }); logToConsole('set_input_links emitted successfully.'); await Homey.emit('set_device_name', { name: deviceName }); logToConsole('set_device_name emitted successfully.'); } catch (e) { logToConsole('Error saving config to backend:', e); showError(Homey.__('pair.error_saving_config', { error: (e.message || e) })); } } else { logToConsole('Not saving config, not all inputs are configured.'); }
    }

    function updateSummary() {
        if (typeof Homey === 'undefined') return; logToConsole('updateSummary called.');
        let allConfigured = true; let configuredCount = 0; const configuredText = Homey.__('pair.configured'); const notConfiguredText = Homey.__('pair.not_configured'); const statusLabel = Homey.__('pair.status_label'); const ofText = Homey.__('pair.of'); const inputsConfiguredText = Homey.__('pair.inputs_configured'); const saveCompleteText = Homey.__('pair.save_complete');
        for (let i = 0; i < numInputs; i++) { const inputId = letters[i].toLowerCase(); const deviceId = document.getElementById(`device-${inputId}`)?.value; const capability = document.getElementById(`capability-${inputId}`)?.value; const statusEl = document.getElementById(`status-${inputId}`); const configDiv = document.getElementById(`input-config-${inputId}`); if (deviceId && capability) { if (statusEl) { statusEl.className = 'status complete'; statusEl.textContent = `✓ ${configuredText}`; } if (configDiv) configDiv.classList.add('complete'); configuredCount++; } else { if (statusEl) { statusEl.className = 'status incomplete'; statusEl.textContent = `⚠️ ${notConfiguredText}`; } if (configDiv) configDiv.classList.remove('complete'); allConfigured = false; } }
        const summaryEl = document.getElementById('summary'); if (summaryEl) { summaryEl.innerHTML = `<strong>${statusLabel}</strong> ${configuredCount} ${ofText} ${numInputs} ${inputsConfiguredText}`; }
        const btn = document.getElementById('complete-btn'); if(btn) { if (allConfigured) { logToConsole('All inputs configured, enabling button.'); saveConfigToBackend(); btn.textContent = saveCompleteText; btn.className = "btn-enabled"; } else { logToConsole('Not all inputs configured, disabling button.'); btn.textContent = "..."; btn.className = "btn-disabled"; } } else { logToConsole("Could not find complete-btn to update status!"); }
        logToConsole('updateSummary finished.');
    }


    // --- Hovedlogikk (kjøres umiddelbart) ---
    logToConsole('>>> [configure_inputs] Script started.');

    // 1. Apply translations AND Set Default Name
    try {
      logToConsole('[configure_inputs] Applying translations and setting default name...');
      if (typeof Homey === 'undefined' || typeof Homey.__ !== 'function') {
        throw new Error(Homey.__('pair.error_i18n_unavailable'));
      }
      let defaultDeviceName = 'Logic Device'; // Fallback
      document.querySelectorAll('[data-i18n]').forEach(el => {
         const key = el.getAttribute('data-i18n');
         try {
           const translatedText = Homey.__(key); // BRUKER Homey
           el.textContent = translatedText;
           if (key === 'pair.name_placeholder' && el.id === 'deviceName') {
             defaultDeviceName = translatedText;
             el.value = defaultDeviceName;
             el.placeholder = translatedText;
           } else if (key === 'common.loading' && el.id === 'loading') {
             el.textContent = translatedText;
           }
         } catch (e) {
           logToConsole(`[configure_inputs] Error translating key '${key}':`, e);
           el.textContent = key;
         }
      });
      const deviceNameInput = document.getElementById('deviceName');
      if (deviceNameInput && !deviceNameInput.value) {
        deviceNameInput.value = defaultDeviceName;
      }
      logToConsole('[configure_inputs] Translations applied and default name set.');
    } catch (e) {
      logToConsole('[configure_inputs] Error applying translations/setting name:', e);
      // Ikke vis feil her, la init() håndtere store feil
    }

    // 2. Initialiseringslogikk (async)
    async function init() {
      logToConsole('>>> [configure_inputs] init() started.');
      try {
        if (typeof Homey === 'undefined' || typeof Homey.emit !== 'function' || typeof Homey.__ !== 'function') {
          throw new Error(Homey.__('pair.error_homey_object_unavailable'));
        }
        logToConsole("[configure_inputs] Emitting 'get_num_inputs'...");
        const numInputsResult = await Homey.emit('get_num_inputs'); // BRUKER Homey
        numInputs = numInputsResult ? numInputsResult.numInputs : 2;
        logToConsole(`[configure_inputs] Number of inputs set to: ${numInputs}`);

        // Generate default formula based on numInputs
        const defaultFormula = letters.slice(0, numInputs).join(' AND ');
        const formulaInput = document.getElementById('formulaInput');
        if (formulaInput) {
            formulaInput.value = defaultFormula;
            formulaInput.placeholder = defaultFormula;
        }
        logToConsole(`[configure_inputs] Default formula set to: ${defaultFormula}`);

        logToConsole('[configure_inputs] Fetching zones...');
        zones = await Homey.emit('get_zones'); // BRUKER Homey

        if (!Array.isArray(zones) || zones.length === 0) {
          logToConsole('[configure_inputs] No zones received or zones is not an array:', zones);
          showError(Homey.__('pair.no_zones_error')); // BRUKER Homey
          const loadingEl = document.getElementById('loading');
          if (loadingEl) loadingEl.style.display = 'none';
          return;
        }
        logToConsole('[configure_inputs] Zones fetched successfully:', zones.length);

        logToConsole('[configure_inputs] Hiding loading indicator, showing content...');
        const loadingEl = document.getElementById('loading');
        if (loadingEl) loadingEl.style.display = 'none';
        const inputsContainer = document.getElementById('inputs-container');
        if (inputsContainer) inputsContainer.style.display = 'block';
        const nameSection = document.getElementById('device-name-section');
        if (nameSection) nameSection.style.display = 'block';
        const formulaSection = document.getElementById('formula-section');
        if (formulaSection) formulaSection.style.display = 'block';
        const summaryEl = document.getElementById('summary');
        if (summaryEl) summaryEl.style.display = 'block';
        logToConsole('[configure_inputs] Content should be visible.');

        logToConsole('[configure_inputs] Calling renderInputs()...');
        renderInputs(); // Denne bruker nå global Homey

        logToConsole('[configure_inputs] Scheduling updateSummary...');
        setTimeout(updateSummary, 100); // Denne bruker nå global Homey

        logToConsole('>>> [configure_inputs] init() finished successfully.');
      } catch (e) {
        logToConsole('>>> [configure_inputs] init() failed:', e);
        showError(Homey.__('pair.error_loading_initial_data', { error: (e.message || e) }));
        const loadingEl = document.getElementById('loading');
        if (loadingEl) loadingEl.style.display = 'none';
      }
    }

    // 3. Legg til lytter for fullfør-knappen
    try {
      logToConsole('[configure_inputs] Adding event listener for complete-btn click...');
      const completeBtn = document.getElementById('complete-btn');
      if (!completeBtn) throw new Error(Homey.__('pair.error_button_not_found'));
      completeBtn.addEventListener('click', handleCompleteClick); // Denne bruker nå global Homey
      logToConsole('[configure_inputs] complete-btn click listener added.');
    } catch (e) {
       logToConsole('[configure_inputs] Error adding complete-btn listener:', e);
       showError(Homey.__('pair.error_setting_up_interactions', { error: (e.message || e) }));
    }

    // 4. Kall init for å starte datainnhenting og rendering
    init();

    logToConsole('>>> [configure_inputs] Script tag finished.');

</script>



</body>
</html>


--- END: drivers/logic-device/pair/configure_inputs.html ---

--- START: drivers/logic-device/pair/select_num_inputs.html (sha256=1fb7abf3a657b43b28e3aa2df11e747fc9fd3f47c2d5a8e913f8ea648304f091, bytes=7008) ---
<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      text-align: center;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 500px;
      margin: 0 auto;
      background-color: white;
      padding: 40px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h2 {
      margin-bottom: 10px;
      color: #333;
    }
    .description {
      color: #666;
      margin: 20px 0 40px 0;
      line-height: 1.5;
    }
    .input-selector {
      margin: 40px auto;
    }
    .input-number {
      width: 120px;
      height: 80px;
      font-size: 32px;
      text-align: center;
      border: 2px solid #4CAF50;
      border-radius: 8px;
      font-weight: bold;
      color: #4CAF50;
    }
    .input-number:focus {
      outline: none;
      border-color: #45a049;
      box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
    }
    .range-info {
      margin-top: 15px;
      color: #888;
      font-size: 14px;
    }
    button {
      padding: 15px 40px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 18px;
      margin-top: 40px;
      font-weight: 500;
      transition: background-color 0.2s;
    }
    button:hover {
      background-color: #45a049;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 data-i18n="pair.select_inputs_title">Select number of inputs</h2>
    <p class="description" data-i18n="pair.select_inputs_description">How many devices do you want to connect to this logic device?</p>

    <div class="input-selector">
      <input type="number" id="numInputs" class="input-number" min="2" max="10" value="2">
      <div class="range-info" data-i18n="pair.inputs_range">Choose between 2 and 10 inputs</div>
    </div>

    <button id="continue-btn" data-i18n="pair.next">Next →</button>
  </div>

<script>
    const numInputsEl = document.getElementById('numInputs');
    let homeyRef; // Bør bli satt globalt av Homey-miljøet

    // Logger til nettleserkonsoll
    function logToConsole(message, data) {
      const timestamp = new Date().toISOString().split('T')[1].split('.')[0];
      const logMessage = `[VIEW][${timestamp}] ${message}`;
      console.log(logMessage, data || '');
    }

    // Funksjon for å bruke oversettelser
    function applyTranslations() {
        logToConsole('Attempting to apply translations...');
        try {
            // Sjekk om Homey.__ er tilgjengelig
            if (typeof Homey === 'undefined' || typeof Homey.__ !== 'function') {
                logToConsole('Homey.__ is not available yet.');
                return; // Avbryt hvis funksjonen ikke finnes
            }

            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                try {
                    el.textContent = Homey.__(key);
                } catch (e) {
                   logToConsole(`Error translating key '${key}':`, e);
                   el.textContent = key; // Fallback
                }
            });
            logToConsole('Translations applied (or attempted).');
        } catch (e) {
            logToConsole('Error during translation loop:', e);
        }
    }

    // --- Kjør koden direkte ---
    logToConsole('Script tag started.');

    // Initialiseringslogikk
    async function init() {
      logToConsole('init() started.');
      try {
        // Anta at Homey.emit er tilgjengelig globalt
        logToConsole("Emitting 'get_num_inputs'...");
        const result = await Homey.emit('get_num_inputs');
        logToConsole("'get_num_inputs' received result:", result);
        numInputsEl.value = result.numInputs || 2;
        logToConsole(`Initial numInputs value set to: ${numInputsEl.value}`);
      } catch (e) {
        logToConsole("Error in init() during emit:", e);
        // Vis feil hvis alert er tilgjengelig
        if (typeof Homey !== 'undefined' && Homey.alert) {
             Homey.alert(Homey.__('pair.error_loading_initial_data', { error: (e.message || e) }), 'error');
        }
      }
      logToConsole('init() finished.');
    }

    // Event listeners
    try {
      logToConsole('Adding change listener for numInputs...');
      numInputsEl.addEventListener('change', async (e) => {
        logToConsole('numInputs change triggered.');
        let value = parseInt(e.target.value);
        if (isNaN(value) || value < 2) value = 2;
        if (value > 10) value = 10;
        e.target.value = value;
        logToConsole(`Input value validated: ${value}`);
        try {
          if (typeof Homey === 'undefined' || typeof Homey.emit !== 'function') {
             throw new Error(Homey.__('pair.error_homey_emit_unavailable'));
          }
          logToConsole(`Emitting 'set_num_inputs' with value: ${value}`);
          await Homey.emit('set_num_inputs', { numInputs: value });
          logToConsole("'set_num_inputs' emitted successfully.");
        } catch (e) {
          logToConsole('Error emitting set_num_inputs:', e);
           if (typeof Homey !== 'undefined' && Homey.alert) {
               Homey.alert(Homey.__('pair.error_saving_input_number', { error: (e.message || e) }), 'error');
           }
        }
      });
      logToConsole('numInputs listener added.');

      logToConsole('Adding click listener for continue-btn...');
      document.getElementById('continue-btn').addEventListener('click', () => {
        logToConsole('continue-btn clicked.');
        try {
          if (typeof Homey === 'undefined' || typeof Homey.nextView !== 'function') {
             throw new Error(Homey.__('pair.error_homey_nextview_unavailable'));
          }
          logToConsole('Calling Homey.nextView()...');
          Homey.nextView();
        } catch (e) {
          logToConsole('Error calling Homey.nextView():', e);
          if (typeof Homey !== 'undefined' && Homey.alert) {
             Homey.alert(Homey.__('pair.error_navigating', { error: (e.message || e) }), 'error');
          }
        }
      });
      logToConsole('continue-btn listener added.');

    } catch (e) {
       logToConsole('Error adding event listeners:', e);
       if (typeof Homey !== 'undefined' && Homey.alert) {
           Homey.alert(Homey.__('pair.error_setting_up_interactions', { error: (e.message || e) }), 'error');
       }
    }

    // Kall init umiddelbart
    init();

    // Forsøk å kjøre oversettelser etter en kort forsinkelse
    logToConsole('Scheduling translations check...');
    setTimeout(applyTranslations, 500); // Prøv etter 500ms

    logToConsole('Script tag finished.');
  </script>
</body>
</html>
--- END: drivers/logic-device/pair/select_num_inputs.html ---

--- START: drivers/logic-unit-10/device.js (sha256=102f0d77b40c9f2dec1820ea5fd7161eeeb5f1b7cbe910af439ec3ee248ee154, bytes=251) ---
'use strict';

const BaseLogicUnit = require('../../lib/BaseLogicUnit');

module.exports = class LogicUnit2Device extends BaseLogicUnit {
  // Everything else is inherited from BaseLogicUnit
  // Methods can be overridden here if necessary
};
--- END: drivers/logic-unit-10/device.js ---

--- START: drivers/logic-unit-10/driver.compose.json (sha256=22c9aad7eb7721ee7805bc0189e6606cbf547aef8d769cbe04c43387e60404a3, bytes=9460) ---
{
  "name": {
    "en": "Logic Unit (10 inputs) [DEPRECATED]",
    "no": "Logisk Enhet (10 innganger) [UTGÅTT]",
    "de": "Logikeinheit (10 Eingänge) [VERALTET]",
    "nl": "Logische Eenheid (10 ingangen) [VEROUDERD]",
    "fr": "Unité Logique (10 entrées) [OBSOLÈTE]",
    "da": "Logisk Enhed (10 indgange) [FORÆLDET]",
    "fi": "Logiikkayksikkö (10 tuloa) [VANHENTUNUT]",
    "sv": "Logikenhet (10 ingångar) [FÖRÅLDRAD]",
    "pl": "Jednostka Logiczna (10 wejścia) [PRZESTARZAŁE]",
    "it": "Unità Logica (10 ingressi) [DEPRECATO]",
    "es": "Unidad Lógica (10 entradas) [OBSOLETO]"
  },
  "deprecated": true,
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_unit/large.png",
    "small": "/assets/images_logic_unit/small.png"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "id": "formulas",
      "type": "textarea",
      "label": {
        "en": "Formulas (JSON)",
        "no": "Formler (JSON)",
        "de": "Formeln (JSON)",
        "nl": "Formules (JSON)",
        "fr": "Formules (JSON)",
        "da": "Formler (JSON)",
        "fi": "Kaavat (JSON)",
        "sv": "Formler (JSON)",
        "pl": "Formuły (JSON)",
        "it": "Formule (JSON)",
        "es": "Fórmulas (JSON)"
      },
      "hint": {
        "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
        "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
        "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
        "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
        "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
        "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
        "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
        "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
        "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
        "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
        "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
      },
      "value": "[]"
    }
  ],
  "flow": [
    {
      "type": "trigger",
      "id": "formula_changed_to_false_lu"
    },
    {
      "type": "trigger",
      "id": "formula_changed_to_true_lu"
    },
    {
      "type": "trigger",
      "id": "formula_timeout_lu"
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_lu"
    },
    {
      "type": "condition",
      "id": "formula_result_is_lu"
    },
    {
      "type": "condition",
      "id": "has_any_error_lu"
    },
    {
      "type": "action",
      "id": "set_input_value_lu"
    },
    {
      "type": "action",
      "id": "evaluate_formula_lu"
    },
    {
      "type": "action",
      "id": "evaluate_all_formulas_lu"
    },
    {
      "type": "action",
      "id": "clear_error_state_lu"
    },
    {
      "type": "action",
      "id": "set_all_inputs_lu"
    },
    {
      "type": "action",
      "id": "set_input_lu"
    }
  ]
}
--- END: drivers/logic-unit-10/driver.compose.json ---

--- START: drivers/logic-unit-10/driver.js (sha256=7b63f30e95c6650dd7fb5c9a69279677a698f7339150e99b6d75a4b03188a4f8, bytes=188) ---
'use strict';

const BaseLogicDriver = require('../../lib/BaseLogicDriver');

module.exports = class LogicUnit2Driver extends BaseLogicDriver {
  // Everything else is inherited
};
--- END: drivers/logic-unit-10/driver.js ---

--- START: drivers/logic-unit-2/device.js (sha256=102f0d77b40c9f2dec1820ea5fd7161eeeb5f1b7cbe910af439ec3ee248ee154, bytes=251) ---
'use strict';

const BaseLogicUnit = require('../../lib/BaseLogicUnit');

module.exports = class LogicUnit2Device extends BaseLogicUnit {
  // Everything else is inherited from BaseLogicUnit
  // Methods can be overridden here if necessary
};
--- END: drivers/logic-unit-2/device.js ---

--- START: drivers/logic-unit-2/driver.compose.json (sha256=09423dd183b21250364d4ab6dba897c2dc8acd0f5fa4f5a2a7badfb4d63c7730, bytes=9322) ---
{
  "name": {
    "en": "Logic Unit (2 inputs) [DEPRECATED]",
    "no": "Logisk Enhet (2 innganger) [UTGÅTT]",
    "de": "Logikeinheit (2 Eingänge) [VERALTET]",
    "nl": "Logische Eenheid (2 ingangen) [VEROUDERD]",
    "fr": "Unité Logique (2 entrées) [OBSOLÈTE]",
    "da": "Logisk Enhed (2 indgange) [FORÆLDET]",
    "fi": "Logiikkayksikkö (2 tuloa) [VANHENTUNUT]",
    "sv": "Logikenhet (2 ingångar) [FÖRÅLDRAD]",
    "pl": "Jednostka Logiczna (2 wejścia) [PRZESTARZAŁE]",
    "it": "Unità Logica (2 ingressi) [DEPRECATO]",
    "es": "Unidad Lógica (2 entradas) [OBSOLETO]"
  },
  "deprecated": true,
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_unit/large.png",
    "small": "/assets/images_logic_unit/small.png"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "id": "formulas",
      "type": "textarea",
      "label": {
        "en": "Formulas (JSON)",
        "no": "Formler (JSON)",
        "de": "Formeln (JSON)",
        "nl": "Formules (JSON)",
        "fr": "Formules (JSON)",
        "da": "Formler (JSON)",
        "fi": "Kaavat (JSON)",
        "sv": "Formler (JSON)",
        "pl": "Formuły (JSON)",
        "it": "Formule (JSON)",
        "es": "Fórmulas (JSON)"
      },
      "hint": {
        "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
        "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
        "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
        "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
        "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
        "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
        "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
        "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
        "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
        "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
        "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
      },
      "value": "[]"
    }
  ],
  "flow": [
    {
      "type": "trigger",
      "id": "formula_changed_to_false_lu"
    },
    {
      "type": "trigger",
      "id": "formula_changed_to_true_lu"
    },
    {
      "type": "trigger",
      "id": "formula_timeout_lu"
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_lu"
    },
    {
      "type": "condition",
      "id": "formula_result_is_lu"
    },
    {
      "type": "condition",
      "id": "has_any_error_lu"
    },
    {
      "type": "action",
      "id": "set_input_value_lu"
    },
    {
      "type": "action",
      "id": "evaluate_formula_lu"
    },
    {
      "type": "action",
      "id": "evaluate_all_formulas_lu"
    },
    {
      "type": "action",
      "id": "clear_error_state_lu"
    },
    {
      "type": "action",
      "id": "set_all_inputs_lu"
    },
    {
      "type": "action",
      "id": "set_input_lu"
    }
  ]
}
--- END: drivers/logic-unit-2/driver.compose.json ---

--- START: drivers/logic-unit-2/driver.js (sha256=7b63f30e95c6650dd7fb5c9a69279677a698f7339150e99b6d75a4b03188a4f8, bytes=188) ---
'use strict';

const BaseLogicDriver = require('../../lib/BaseLogicDriver');

module.exports = class LogicUnit2Driver extends BaseLogicDriver {
  // Everything else is inherited
};
--- END: drivers/logic-unit-2/driver.js ---

--- START: drivers/logic-unit-3/device.js (sha256=102f0d77b40c9f2dec1820ea5fd7161eeeb5f1b7cbe910af439ec3ee248ee154, bytes=251) ---
'use strict';

const BaseLogicUnit = require('../../lib/BaseLogicUnit');

module.exports = class LogicUnit2Device extends BaseLogicUnit {
  // Everything else is inherited from BaseLogicUnit
  // Methods can be overridden here if necessary
};
--- END: drivers/logic-unit-3/device.js ---

--- START: drivers/logic-unit-3/driver.compose.json (sha256=9bf30d066cc5ed7cac2a34a1f16f7ba7acf5735df08f1380c3f915e3ec2ae2ac, bytes=9449) ---
{
  "name": {
    "en": "Logic Unit (3 inputs) [DEPRECATED]",
    "no": "Logisk Enhet (3 innganger) [UTGÅTT]",
    "de": "Logikeinheit (3 Eingänge) [VERALTET]",
    "nl": "Logische Eenheid (3 ingangen) [VEROUDERD]",
    "fr": "Unité Logique (3 entrées) [OBSOLÈTE]",
    "da": "Logisk Enhed (3 indgange) [FORÆLDET]",
    "fi": "Logiikkayksikkö (3 tuloa) [VANHENTUNUT]",
    "sv": "Logikenhet (3 ingångar) [FÖRÅLDRAD]",
    "pl": "Jednostka Logiczna (3 wejścia) [PRZESTARZAŁE]",
    "it": "Unità Logica (3 ingressi) [DEPRECATO]",
    "es": "Unidad Lógica (3 entradas) [OBSOLETO]"
  },
  "deprecated": true,
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_unit/large.png",
    "small": "/assets/images_logic_unit/small.png"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "id": "formulas",
      "type": "textarea",
      "label": {
        "en": "Formulas (JSON)",
        "no": "Formler (JSON)",
        "de": "Formeln (JSON)",
        "nl": "Formules (JSON)",
        "fr": "Formules (JSON)",
        "da": "Formler (JSON)",
        "fi": "Kaavat (JSON)",
        "sv": "Formler (JSON)",
        "pl": "Formuły (JSON)",
        "it": "Formule (JSON)",
        "es": "Fórmulas (JSON)"
      },
      "hint": {
        "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
        "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
        "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
        "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
        "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
        "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
        "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
        "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
        "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
        "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
        "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
      },
      "value": "[]"
    }
  ],
  "flow": [
    {
      "type": "trigger",
      "id": "formula_changed_to_false_lu"
    },
    {
      "type": "trigger",
      "id": "formula_changed_to_true_lu"
    },
    {
      "type": "trigger",
      "id": "formula_timeout_lu"
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_lu"
    },
    {
      "type": "condition",
      "id": "formula_result_is_lu"
    },
    {
      "type": "condition",
      "id": "has_any_error_lu"
    },
    {
      "type": "action",
      "id": "set_input_value_lu"
    },
    {
      "type": "action",
      "id": "evaluate_formula_lu"
    },
    {
      "type": "action",
      "id": "evaluate_all_formulas_lu"
    },
    {
      "type": "action",
      "id": "clear_error_state_lu"
    },
    {
      "type": "action",
      "id": "set_all_inputs_lu"
    },
    {
      "type": "action",
      "id": "set_input_lu"
    }
  ]
}
--- END: drivers/logic-unit-3/driver.compose.json ---

--- START: drivers/logic-unit-3/driver.js (sha256=7b63f30e95c6650dd7fb5c9a69279677a698f7339150e99b6d75a4b03188a4f8, bytes=188) ---
'use strict';

const BaseLogicDriver = require('../../lib/BaseLogicDriver');

module.exports = class LogicUnit2Driver extends BaseLogicDriver {
  // Everything else is inherited
};
--- END: drivers/logic-unit-3/driver.js ---

--- START: drivers/logic-unit-4/device.js (sha256=102f0d77b40c9f2dec1820ea5fd7161eeeb5f1b7cbe910af439ec3ee248ee154, bytes=251) ---
'use strict';

const BaseLogicUnit = require('../../lib/BaseLogicUnit');

module.exports = class LogicUnit2Device extends BaseLogicUnit {
  // Everything else is inherited from BaseLogicUnit
  // Methods can be overridden here if necessary
};
--- END: drivers/logic-unit-4/device.js ---

--- START: drivers/logic-unit-4/driver.compose.json (sha256=8a065659ff1d2cf6983b1b462aaba05fe5ebd2566638095228fcc981beeca2df, bytes=9449) ---
{
  "name": {
    "en": "Logic Unit (4 inputs) [DEPRECATED]",
    "no": "Logisk Enhet (4 innganger) [UTGÅTT]",
    "de": "Logikeinheit (4 Eingänge) [VERALTET]",
    "nl": "Logische Eenheid (4 ingangen) [VEROUDERD]",
    "fr": "Unité Logique (4 entrées) [OBSOLÈTE]",
    "da": "Logisk Enhed (4 indgange) [FORÆLDET]",
    "fi": "Logiikkayksikkö (4 tuloa) [VANHENTUNUT]",
    "sv": "Logikenhet (4 ingångar) [FÖRÅLDRAD]",
    "pl": "Jednostka Logiczna (4 wejścia) [PRZESTARZAŁE]",
    "it": "Unità Logica (4 ingressi) [DEPRECATO]",
    "es": "Unidad Lógica (4 entradas) [OBSOLETO]"
  },
  "deprecated": true,
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_unit/large.png",
    "small": "/assets/images_logic_unit/small.png"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "id": "formulas",
      "type": "textarea",
      "label": {
        "en": "Formulas (JSON)",
        "no": "Formler (JSON)",
        "de": "Formeln (JSON)",
        "nl": "Formules (JSON)",
        "fr": "Formules (JSON)",
        "da": "Formler (JSON)",
        "fi": "Kaavat (JSON)",
        "sv": "Formler (JSON)",
        "pl": "Formuły (JSON)",
        "it": "Formule (JSON)",
        "es": "Fórmulas (JSON)"
      },
      "hint": {
        "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
        "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
        "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
        "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
        "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
        "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
        "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
        "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
        "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
        "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
        "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
      },
      "value": "[]"
    }
  ],
  "flow": [
    {
      "type": "trigger",
      "id": "formula_changed_to_false_lu"
    },
    {
      "type": "trigger",
      "id": "formula_changed_to_true_lu"
    },
    {
      "type": "trigger",
      "id": "formula_timeout_lu"
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_lu"
    },
    {
      "type": "condition",
      "id": "formula_result_is_lu"
    },
    {
      "type": "condition",
      "id": "has_any_error_lu"
    },
    {
      "type": "action",
      "id": "set_input_value_lu"
    },
    {
      "type": "action",
      "id": "evaluate_formula_lu"
    },
    {
      "type": "action",
      "id": "evaluate_all_formulas_lu"
    },
    {
      "type": "action",
      "id": "clear_error_state_lu"
    },
    {
      "type": "action",
      "id": "set_all_inputs_lu"
    },
    {
      "type": "action",
      "id": "set_input_lu"
    }
  ]
}
--- END: drivers/logic-unit-4/driver.compose.json ---

--- START: drivers/logic-unit-4/driver.js (sha256=7b63f30e95c6650dd7fb5c9a69279677a698f7339150e99b6d75a4b03188a4f8, bytes=188) ---
'use strict';

const BaseLogicDriver = require('../../lib/BaseLogicDriver');

module.exports = class LogicUnit2Driver extends BaseLogicDriver {
  // Everything else is inherited
};
--- END: drivers/logic-unit-4/driver.js ---

--- START: drivers/logic-unit-5/device.js (sha256=102f0d77b40c9f2dec1820ea5fd7161eeeb5f1b7cbe910af439ec3ee248ee154, bytes=251) ---
'use strict';

const BaseLogicUnit = require('../../lib/BaseLogicUnit');

module.exports = class LogicUnit2Device extends BaseLogicUnit {
  // Everything else is inherited from BaseLogicUnit
  // Methods can be overridden here if necessary
};
--- END: drivers/logic-unit-5/device.js ---

--- START: drivers/logic-unit-5/driver.compose.json (sha256=ecf619e7cebe66155ea8b73811a838fadebcb5b0152a5fb0ca5ecb2d68a6e947, bytes=9449) ---
{
  "name": {
    "en": "Logic Unit (5 inputs) [DEPRECATED]",
    "no": "Logisk Enhet (5 innganger) [UTGÅTT]",
    "de": "Logikeinheit (5 Eingänge) [VERALTET]",
    "nl": "Logische Eenheid (5 ingangen) [VEROUDERD]",
    "fr": "Unité Logique (5 entrées) [OBSOLÈTE]",
    "da": "Logisk Enhed (5 indgange) [FORÆLDET]",
    "fi": "Logiikkayksikkö (5 tuloa) [VANHENTUNUT]",
    "sv": "Logikenhet (5 ingångar) [FÖRÅLDRAD]",
    "pl": "Jednostka Logiczna (5 wejścia) [PRZESTARZAŁE]",
    "it": "Unità Logica (5 ingressi) [DEPRECATO]",
    "es": "Unidad Lógica (5 entradas) [OBSOLETO]"
  },
  "deprecated": true,
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_unit/large.png",
    "small": "/assets/images_logic_unit/small.png"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "id": "formulas",
      "type": "textarea",
      "label": {
        "en": "Formulas (JSON)",
        "no": "Formler (JSON)",
        "de": "Formeln (JSON)",
        "nl": "Formules (JSON)",
        "fr": "Formules (JSON)",
        "da": "Formler (JSON)",
        "fi": "Kaavat (JSON)",
        "sv": "Formler (JSON)",
        "pl": "Formuły (JSON)",
        "it": "Formule (JSON)",
        "es": "Fórmulas (JSON)"
      },
      "hint": {
        "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
        "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
        "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
        "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
        "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
        "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
        "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
        "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
        "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
        "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
        "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
      },
      "value": "[]"
    }
  ],
  "flow": [
    {
      "type": "trigger",
      "id": "formula_changed_to_false_lu"
    },
    {
      "type": "trigger",
      "id": "formula_changed_to_true_lu"
    },
    {
      "type": "trigger",
      "id": "formula_timeout_lu"
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_lu"
    },
    {
      "type": "condition",
      "id": "formula_result_is_lu"
    },
    {
      "type": "condition",
      "id": "has_any_error_lu"
    },
    {
      "type": "action",
      "id": "set_input_value_lu"
    },
    {
      "type": "action",
      "id": "evaluate_formula_lu"
    },
    {
      "type": "action",
      "id": "evaluate_all_formulas_lu"
    },
    {
      "type": "action",
      "id": "clear_error_state_lu"
    },
    {
      "type": "action",
      "id": "set_all_inputs_lu"
    },
    {
      "type": "action",
      "id": "set_input_lu"
    }
  ]
}
--- END: drivers/logic-unit-5/driver.compose.json ---

--- START: drivers/logic-unit-5/driver.js (sha256=7b63f30e95c6650dd7fb5c9a69279677a698f7339150e99b6d75a4b03188a4f8, bytes=188) ---
'use strict';

const BaseLogicDriver = require('../../lib/BaseLogicDriver');

module.exports = class LogicUnit2Driver extends BaseLogicDriver {
  // Everything else is inherited
};
--- END: drivers/logic-unit-5/driver.js ---

--- START: drivers/logic-unit-6/device.js (sha256=102f0d77b40c9f2dec1820ea5fd7161eeeb5f1b7cbe910af439ec3ee248ee154, bytes=251) ---
'use strict';

const BaseLogicUnit = require('../../lib/BaseLogicUnit');

module.exports = class LogicUnit2Device extends BaseLogicUnit {
  // Everything else is inherited from BaseLogicUnit
  // Methods can be overridden here if necessary
};
--- END: drivers/logic-unit-6/device.js ---

--- START: drivers/logic-unit-6/driver.compose.json (sha256=bf24d9c160fc95ab0a2da392d814cca36d510149b91918b3323c4c7bf779c3f3, bytes=9449) ---
{
  "name": {
    "en": "Logic Unit (6 inputs) [DEPRECATED]",
    "no": "Logisk Enhet (6 innganger) [UTGÅTT]",
    "de": "Logikeinheit (6 Eingänge) [VERALTET]",
    "nl": "Logische Eenheid (6 ingangen) [VEROUDERD]",
    "fr": "Unité Logique (6 entrées) [OBSOLÈTE]",
    "da": "Logisk Enhed (6 indgange) [FORÆLDET]",
    "fi": "Logiikkayksikkö (6 tuloa) [VANHENTUNUT]",
    "sv": "Logikenhet (6 ingångar) [FÖRÅLDRAD]",
    "pl": "Jednostka Logiczna (6 wejścia) [PRZESTARZAŁE]",
    "it": "Unità Logica (6 ingressi) [DEPRECATO]",
    "es": "Unidad Lógica (6 entradas) [OBSOLETO]"
  },
  "deprecated": true,
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_unit/large.png",
    "small": "/assets/images_logic_unit/small.png"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "id": "formulas",
      "type": "textarea",
      "label": {
        "en": "Formulas (JSON)",
        "no": "Formler (JSON)",
        "de": "Formeln (JSON)",
        "nl": "Formules (JSON)",
        "fr": "Formules (JSON)",
        "da": "Formler (JSON)",
        "fi": "Kaavat (JSON)",
        "sv": "Formler (JSON)",
        "pl": "Formuły (JSON)",
        "it": "Formule (JSON)",
        "es": "Fórmulas (JSON)"
      },
      "hint": {
        "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
        "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
        "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
        "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
        "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
        "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
        "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
        "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
        "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
        "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
        "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
      },
      "value": "[]"
    }
  ],
  "flow": [
    {
      "type": "trigger",
      "id": "formula_changed_to_false_lu"
    },
    {
      "type": "trigger",
      "id": "formula_changed_to_true_lu"
    },
    {
      "type": "trigger",
      "id": "formula_timeout_lu"
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_lu"
    },
    {
      "type": "condition",
      "id": "formula_result_is_lu"
    },
    {
      "type": "condition",
      "id": "has_any_error_lu"
    },
    {
      "type": "action",
      "id": "set_input_value_lu"
    },
    {
      "type": "action",
      "id": "evaluate_formula_lu"
    },
    {
      "type": "action",
      "id": "evaluate_all_formulas_lu"
    },
    {
      "type": "action",
      "id": "clear_error_state_lu"
    },
    {
      "type": "action",
      "id": "set_all_inputs_lu"
    },
    {
      "type": "action",
      "id": "set_input_lu"
    }
  ]
}
--- END: drivers/logic-unit-6/driver.compose.json ---

--- START: drivers/logic-unit-6/driver.js (sha256=7b63f30e95c6650dd7fb5c9a69279677a698f7339150e99b6d75a4b03188a4f8, bytes=188) ---
'use strict';

const BaseLogicDriver = require('../../lib/BaseLogicDriver');

module.exports = class LogicUnit2Driver extends BaseLogicDriver {
  // Everything else is inherited
};
--- END: drivers/logic-unit-6/driver.js ---

--- START: drivers/logic-unit-7/device.js (sha256=102f0d77b40c9f2dec1820ea5fd7161eeeb5f1b7cbe910af439ec3ee248ee154, bytes=251) ---
'use strict';

const BaseLogicUnit = require('../../lib/BaseLogicUnit');

module.exports = class LogicUnit2Device extends BaseLogicUnit {
  // Everything else is inherited from BaseLogicUnit
  // Methods can be overridden here if necessary
};
--- END: drivers/logic-unit-7/device.js ---

--- START: drivers/logic-unit-7/driver.compose.json (sha256=bcdb3661736300ea9e95370acc67e990376745bdb62d418c6c7702e1856b024a, bytes=9449) ---
{
  "name": {
    "en": "Logic Unit (7 inputs) [DEPRECATED]",
    "no": "Logisk Enhet (7 innganger) [UTGÅTT]",
    "de": "Logikeinheit (7 Eingänge) [VERALTET]",
    "nl": "Logische Eenheid (7 ingangen) [VEROUDERD]",
    "fr": "Unité Logique (7 entrées) [OBSOLÈTE]",
    "da": "Logisk Enhed (7 indgange) [FORÆLDET]",
    "fi": "Logiikkayksikkö (7 tuloa) [VANHENTUNUT]",
    "sv": "Logikenhet (7 ingångar) [FÖRÅLDRAD]",
    "pl": "Jednostka Logiczna (7 wejścia) [PRZESTARZAŁE]",
    "it": "Unità Logica (7 ingressi) [DEPRECATO]",
    "es": "Unidad Lógica (7 entradas) [OBSOLETO]"
  },
  "deprecated": true,
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_unit/large.png",
    "small": "/assets/images_logic_unit/small.png"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "id": "formulas",
      "type": "textarea",
      "label": {
        "en": "Formulas (JSON)",
        "no": "Formler (JSON)",
        "de": "Formeln (JSON)",
        "nl": "Formules (JSON)",
        "fr": "Formules (JSON)",
        "da": "Formler (JSON)",
        "fi": "Kaavat (JSON)",
        "sv": "Formler (JSON)",
        "pl": "Formuły (JSON)",
        "it": "Formule (JSON)",
        "es": "Fórmulas (JSON)"
      },
      "hint": {
        "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
        "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
        "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
        "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
        "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
        "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
        "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
        "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
        "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
        "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
        "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
      },
      "value": "[]"
    }
  ],
  "flow": [
    {
      "type": "trigger",
      "id": "formula_changed_to_false_lu"
    },
    {
      "type": "trigger",
      "id": "formula_changed_to_true_lu"
    },
    {
      "type": "trigger",
      "id": "formula_timeout_lu"
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_lu"
    },
    {
      "type": "condition",
      "id": "formula_result_is_lu"
    },
    {
      "type": "condition",
      "id": "has_any_error_lu"
    },
    {
      "type": "action",
      "id": "set_input_value_lu"
    },
    {
      "type": "action",
      "id": "evaluate_formula_lu"
    },
    {
      "type": "action",
      "id": "evaluate_all_formulas_lu"
    },
    {
      "type": "action",
      "id": "clear_error_state_lu"
    },
    {
      "type": "action",
      "id": "set_all_inputs_lu"
    },
    {
      "type": "action",
      "id": "set_input_lu"
    }
  ]
}
--- END: drivers/logic-unit-7/driver.compose.json ---

--- START: drivers/logic-unit-7/driver.js (sha256=7b63f30e95c6650dd7fb5c9a69279677a698f7339150e99b6d75a4b03188a4f8, bytes=188) ---
'use strict';

const BaseLogicDriver = require('../../lib/BaseLogicDriver');

module.exports = class LogicUnit2Driver extends BaseLogicDriver {
  // Everything else is inherited
};
--- END: drivers/logic-unit-7/driver.js ---

--- START: drivers/logic-unit-8/device.js (sha256=102f0d77b40c9f2dec1820ea5fd7161eeeb5f1b7cbe910af439ec3ee248ee154, bytes=251) ---
'use strict';

const BaseLogicUnit = require('../../lib/BaseLogicUnit');

module.exports = class LogicUnit2Device extends BaseLogicUnit {
  // Everything else is inherited from BaseLogicUnit
  // Methods can be overridden here if necessary
};
--- END: drivers/logic-unit-8/device.js ---

--- START: drivers/logic-unit-8/driver.compose.json (sha256=13e979061007bd35c4359c7568af72c176ccef5affbdb488493747a541b7b6f9, bytes=9449) ---
{
  "name": {
    "en": "Logic Unit (8 inputs) [DEPRECATED]",
    "no": "Logisk Enhet (8 innganger) [UTGÅTT]",
    "de": "Logikeinheit (8 Eingänge) [VERALTET]",
    "nl": "Logische Eenheid (8 ingangen) [VEROUDERD]",
    "fr": "Unité Logique (8 entrées) [OBSOLÈTE]",
    "da": "Logisk Enhed (8 indgange) [FORÆLDET]",
    "fi": "Logiikkayksikkö (8 tuloa) [VANHENTUNUT]",
    "sv": "Logikenhet (8 ingångar) [FÖRÅLDRAD]",
    "pl": "Jednostka Logiczna (8 wejścia) [PRZESTARZAŁE]",
    "it": "Unità Logica (8 ingressi) [DEPRECATO]",
    "es": "Unidad Lógica (8 entradas) [OBSOLETO]"
  },
  "deprecated": true,
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_unit/large.png",
    "small": "/assets/images_logic_unit/small.png"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "id": "formulas",
      "type": "textarea",
      "label": {
        "en": "Formulas (JSON)",
        "no": "Formler (JSON)",
        "de": "Formeln (JSON)",
        "nl": "Formules (JSON)",
        "fr": "Formules (JSON)",
        "da": "Formler (JSON)",
        "fi": "Kaavat (JSON)",
        "sv": "Formler (JSON)",
        "pl": "Formuły (JSON)",
        "it": "Formule (JSON)",
        "es": "Fórmulas (JSON)"
      },
      "hint": {
        "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
        "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
        "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
        "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
        "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
        "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
        "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
        "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
        "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
        "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
        "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
      },
      "value": "[]"
    }
  ],
  "flow": [
    {
      "type": "trigger",
      "id": "formula_changed_to_false_lu"
    },
    {
      "type": "trigger",
      "id": "formula_changed_to_true_lu"
    },
    {
      "type": "trigger",
      "id": "formula_timeout_lu"
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_lu"
    },
    {
      "type": "condition",
      "id": "formula_result_is_lu"
    },
    {
      "type": "condition",
      "id": "has_any_error_lu"
    },
    {
      "type": "action",
      "id": "set_input_value_lu"
    },
    {
      "type": "action",
      "id": "evaluate_formula_lu"
    },
    {
      "type": "action",
      "id": "evaluate_all_formulas_lu"
    },
    {
      "type": "action",
      "id": "clear_error_state_lu"
    },
    {
      "type": "action",
      "id": "set_all_inputs_lu"
    },
    {
      "type": "action",
      "id": "set_input_lu"
    }
  ]
}
--- END: drivers/logic-unit-8/driver.compose.json ---

--- START: drivers/logic-unit-8/driver.js (sha256=7b63f30e95c6650dd7fb5c9a69279677a698f7339150e99b6d75a4b03188a4f8, bytes=188) ---
'use strict';

const BaseLogicDriver = require('../../lib/BaseLogicDriver');

module.exports = class LogicUnit2Driver extends BaseLogicDriver {
  // Everything else is inherited
};
--- END: drivers/logic-unit-8/driver.js ---

--- START: drivers/logic-unit-9/device.js (sha256=102f0d77b40c9f2dec1820ea5fd7161eeeb5f1b7cbe910af439ec3ee248ee154, bytes=251) ---
'use strict';

const BaseLogicUnit = require('../../lib/BaseLogicUnit');

module.exports = class LogicUnit2Device extends BaseLogicUnit {
  // Everything else is inherited from BaseLogicUnit
  // Methods can be overridden here if necessary
};
--- END: drivers/logic-unit-9/device.js ---

--- START: drivers/logic-unit-9/driver.compose.json (sha256=c0690ea88745ac0bbc7f40a60ddbc80d61f23e12a2043df6aef164aa91b4c019, bytes=9449) ---
{
  "name": {
    "en": "Logic Unit (9 inputs) [DEPRECATED]",
    "no": "Logisk Enhet (9 innganger) [UTGÅTT]",
    "de": "Logikeinheit (9 Eingänge) [VERALTET]",
    "nl": "Logische Eenheid (9 ingangen) [VEROUDERD]",
    "fr": "Unité Logique (9 entrées) [OBSOLÈTE]",
    "da": "Logisk Enhed (9 indgange) [FORÆLDET]",
    "fi": "Logiikkayksikkö (9 tuloa) [VANHENTUNUT]",
    "sv": "Logikenhet (9 ingångar) [FÖRÅLDRAD]",
    "pl": "Jednostka Logiczna (9 wejścia) [PRZESTARZAŁE]",
    "it": "Unità Logica (9 ingressi) [DEPRECATO]",
    "es": "Unidad Lógica (9 entradas) [OBSOLETO]"
  },
  "deprecated": true,
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_unit/large.png",
    "small": "/assets/images_logic_unit/small.png"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "id": "formulas",
      "type": "textarea",
      "label": {
        "en": "Formulas (JSON)",
        "no": "Formler (JSON)",
        "de": "Formeln (JSON)",
        "nl": "Formules (JSON)",
        "fr": "Formules (JSON)",
        "da": "Formler (JSON)",
        "fi": "Kaavat (JSON)",
        "sv": "Formler (JSON)",
        "pl": "Formuły (JSON)",
        "it": "Formule (JSON)",
        "es": "Fórmulas (JSON)"
      },
      "hint": {
        "en": "⚠️ DEPRECATED: This driver is deprecated. Please create a new Logic Unit (Dynamic) device instead for better functionality. Your existing device will continue to work.\n\nJSON array. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
        "no": "⚠️ UTGÅTT: Denne driveren er utgått. Vennligst opprett en ny Logisk Enhet (Dynamisk) enhet i stedet for bedre funksjonalitet. Din eksisterende enhet vil fortsette å fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
        "de": "⚠️ VERALTET: Dieser Treiber ist veraltet. Bitte erstellen Sie stattdessen ein neues Logic Unit (Dynamic) Gerät für bessere Funktionalität. Ihr bestehendes Gerät wird weiterhin funktionieren.\n\nJSON-Array. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
        "nl": "⚠️ VEROUDERD: Dit stuurprogramma is verouderd. Maak in plaats daarvan een nieuw Logic Unit (Dynamic) apparaat aan voor betere functionaliteit. Uw bestaande apparaat blijft werken.\n\nJSON-array. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
        "fr": "⚠️ OBSOLÈTE: Ce pilote est obsolète. Veuillez créer un nouveau périphérique Logic Unit (Dynamic) pour une meilleure fonctionnalité. Votre périphérique existant continuera de fonctionner.\n\nTableau JSON. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
        "da": "⚠️ FORÆLDET: Denne driver er forældet. Opret venligst en ny Logic Unit (Dynamic) enhed i stedet for bedre funktionalitet. Din eksisterende enhed vil fortsætte med at fungere.\n\nJSON-array. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
        "fi": "⚠️ VANHENTUNUT: Tämä ajuri on vanhentunut. Luo sen sijaan uusi Logic Unit (Dynamic) -laite parempaa toiminnallisuutta varten. Olemassa oleva laitteesi jatkaa toimimista.\n\nJSON-taulukko. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
        "sv": "⚠️ FÖRÅLDRAD: Denna drivrutin är föråldrad. Skapa istället en ny Logic Unit (Dynamic) enhet för bättre funktionalitet. Din befintliga enhet kommer att fortsätta fungera.\n\nJSON-array. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
        "pl": "⚠️ PRZESTARZAŁE: Ten sterownik jest przestarzały. Zamiast tego utwórz nowe urządzenie Logic Unit (Dynamic) dla lepszej funkcjonalności. Twoje istniejące urządzenie będzie nadal działać.\n\nTablica JSON. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
        "it": "⚠️ DEPRECATO: Questo driver è deprecato. Si prega di creare invece un nuovo dispositivo Logic Unit (Dynamic) per una migliore funzionalità. Il tuo dispositivo esistente continuerà a funzionare.\n\nArray JSON. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
        "es": "⚠️ OBSOLETO: Este controlador está obsoleto. Por favor, cree en su lugar un nuevo dispositivo Logic Unit (Dynamic) para una mejor funcionalidad. Su dispositivo existente seguirá funcionando.\n\nMatriz JSON. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
      },
      "value": "[]"
    }
  ],
  "flow": [
    {
      "type": "trigger",
      "id": "formula_changed_to_false_lu"
    },
    {
      "type": "trigger",
      "id": "formula_changed_to_true_lu"
    },
    {
      "type": "trigger",
      "id": "formula_timeout_lu"
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_lu"
    },
    {
      "type": "condition",
      "id": "formula_result_is_lu"
    },
    {
      "type": "condition",
      "id": "has_any_error_lu"
    },
    {
      "type": "action",
      "id": "set_input_value_lu"
    },
    {
      "type": "action",
      "id": "evaluate_formula_lu"
    },
    {
      "type": "action",
      "id": "evaluate_all_formulas_lu"
    },
    {
      "type": "action",
      "id": "clear_error_state_lu"
    },
    {
      "type": "action",
      "id": "set_all_inputs_lu"
    },
    {
      "type": "action",
      "id": "set_input_lu"
    }
  ]
}
--- END: drivers/logic-unit-9/driver.compose.json ---

--- START: drivers/logic-unit-9/driver.js (sha256=7b63f30e95c6650dd7fb5c9a69279677a698f7339150e99b6d75a4b03188a4f8, bytes=188) ---
'use strict';

const BaseLogicDriver = require('../../lib/BaseLogicDriver');

module.exports = class LogicUnit2Driver extends BaseLogicDriver {
  // Everything else is inherited
};
--- END: drivers/logic-unit-9/driver.js ---

--- START: drivers/logic-unit/device.js (sha256=6481b9c8e25f80a257b7faa6a40181557eeef1a2d12e187194e778a3a2d38b3d, bytes=5896) ---
"use strict";

const BaseLogicUnit = require("../../lib/BaseLogicUnit");

module.exports = class LogicUnitDevice extends BaseLogicUnit {
  /**
   * Override onSettings to detect required inputs from formulas
   * and dynamically expand capacity before calling super.onSettings()
   */
  async onSettings({ oldSettings, newSettings, changedKeys }) {
    this.logger.info("settings.changed_dynamic", {
      keys: changedKeys.join(", "),
    });

    // CRITICAL: Detect inputs from formulas BEFORE calling super.onSettings()
    if (changedKeys.includes("formulas")) {
      try {
        const formulas = JSON.parse(newSettings.formulas);

        if (Array.isArray(formulas)) {
          // Get all used variables from all formulas
          const usedVars = this.getUsedVariables(formulas);

          if (usedVars.length > 0) {
            // Get the highest variable (e.g., if 'E' is used, maxVar = 'E')
            const maxVar = usedVars[usedVars.length - 1];
            // Convert letter to number (A=1, B=2, ..., J=10)
            const detectedInputs = maxVar.charCodeAt(0) - 64; // 'A' = 65, so A=1

            // Expand capacity if needed
            if (detectedInputs > this.numInputs) {
              this.logger.info("settings.expanding_capacity", {
                from: this.numInputs,
                to: detectedInputs,
                reason: `Formula uses variable ${maxVar}`,
              });

              this.numInputs = detectedInputs;
              this.availableInputs = this.getAvailableInputIds();

              this.logger.debug("settings.expanded", {
                numInputs: this.numInputs,
                availableInputs: this.availableInputs.join(", "),
              });
            }
          }
        }
      } catch (e) {
        this.logger.error("settings.expansion_failed", e);
        // Continue anyway, let super.onSettings() handle the error
      }
    }

    // CRITICAL: Call super.onSettings() to preserve all existing logic:
    // - Stop timeout checks
    // - Re-initialize formulas
    // - Validate expressions
    // - Re-evaluate all formulas
    // - Restart timeout checks
    // - Auto-formatting
    await super.onSettings({ oldSettings, newSettings, changedKeys });
  }

  /**
   * Extract all used variables from formulas (sorted and unique)
   * @param {Array} formulas - Array of formula objects
   * @returns {Array} - Sorted array of unique uppercase letters used (e.g., ['A', 'B', 'E'])
   */
  getUsedVariables(formulas) {
    if (!Array.isArray(formulas)) {
      return [];
    }

    const usedVars = new Set();

    formulas.forEach((formula) => {
      if (
        formula &&
        formula.expression &&
        typeof formula.expression === "string"
      ) {
        const expression = formula.expression.toUpperCase();

        // Find all single uppercase letters A-J
        const matches = expression.match(/\b[A-J]\b/g);

        if (matches) {
          matches.forEach((letter) => usedVars.add(letter));
        }
      }
    });

    // Convert Set to sorted Array
    return Array.from(usedVars).sort();
  }

  /**
   * Validate if an input is used in any formula
   * Logs a warning if setting an unused input
   * @param {string} inputId - Input ID (lowercase, e.g., 'a', 'b')
   * @returns {boolean} - True if input is used in at least one formula
   */
  validateInput(inputId) {
    if (!inputId || typeof inputId !== "string") {
      return false;
    }

    const inputUpper = inputId.toUpperCase();
    const usedVars = this.getUsedVariables(this.formulas || []);
    const isUsed = usedVars.includes(inputUpper);

    if (!isUsed) {
      this.logger.warn("input.unused_warning", {
        input: inputUpper,
        usedInputs: usedVars.join(", ") || "none",
      });
    }

    return isUsed;
  }

  /**
   * Override getInputOptions to show only inputs that are actually used in formulas
   * This makes autocomplete smarter - no clutter with unused inputs
   *
   * If a specific formula is provided in args (for set_input_value_lu card),
   * only show inputs used in THAT formula.
   * Otherwise, show all inputs used in ANY formula (for set_input_lu card).
   *
   * @param {Object} args - Optional args from flow card (may contain formula)
   * @returns {Array} - Array of input options for autocomplete
   */
  getInputOptions(args) {
    let formulasToCheck = this.formulas || [];

    // If a specific formula is selected, show only its inputs
    if (args && args.formula && args.formula.id) {
      const selectedFormula = this.formulas.find(
        (f) => f.id === args.formula.id,
      );
      if (selectedFormula) {
        formulasToCheck = [selectedFormula];
        this.logger.debug("input_options.context_specific", {
          formula: selectedFormula.name,
          expression: selectedFormula.expression,
        });
      }
    }

    const usedVars = this.getUsedVariables(formulasToCheck);

    // If no formulas yet or no variables used, fall back to showing all available inputs
    if (usedVars.length === 0) {
      return super.getInputOptions();
    }

    // Return only the used variables
    return usedVars.map((letter) => ({
      id: letter.toLowerCase(), // Use lowercase 'a', 'b' as ID
      name: letter, // Display uppercase 'A', 'B'
    }));
  }

  /**
   * Override setInputForFormula to add validation warning
   * Inherits the actual logic from BaseLogicUnit
   */
  async setInputForFormula(formulaId, inputId, value) {
    // Validate input (logs warning if unused)
    this.validateInput(inputId);

    // Call parent implementation
    return super.setInputForFormula(formulaId, inputId, value);
  }

  // All other methods inherited from BaseLogicUnit
};
--- END: drivers/logic-unit/device.js ---

--- START: drivers/logic-unit/driver.compose.json (sha256=324b6c985f18d7b750a3fcd7353dd690e283ad29d4180515908a2cdb27ee33e2, bytes=7905) ---
{
  "name": {
    "en": "Logic Unit (Dynamic)",
    "no": "Logisk Enhet (Dynamisk)",
    "de": "Logikeinheit (Dynamisch)",
    "nl": "Logische Eenheid (Dynamisch)",
    "fr": "Unité Logique (Dynamique)",
    "da": "Logisk Enhed (Dynamisk)",
    "fi": "Logiikkayksikkö (Dynaaminen)",
    "sv": "Logikenhet (Dynamisk)",
    "pl": "Jednostka Logiczna (Dynamiczna)",
    "it": "Unità Logica (Dinamica)",
    "es": "Unidad Lógica (Dinámica)"
  },
  "class": "other",
  "capabilities": [
    "onoff",
    "alarm_generic"
  ],
  "energy": {
    "approximation": {
      "usageConstant": 0
    }
  },
  "images": {
    "large": "/assets/images_logic_unit/large.png",
    "small": "/assets/images_logic_unit/small.png"
  },
  "pair": [
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices"
    }
  ],
  "settings": [
    {
      "id": "formulas",
      "type": "textarea",
      "label": {
        "en": "Formulas (JSON)",
        "no": "Formler (JSON)",
        "de": "Formeln (JSON)",
        "nl": "Formules (JSON)",
        "fr": "Formules (JSON)",
        "da": "Formler (JSON)",
        "fi": "Kaavat (JSON)",
        "sv": "Formler (JSON)",
        "pl": "Formuły (JSON)",
        "it": "Formule (JSON)",
        "es": "Fórmulas (JSON)"
      },
      "hint": {
        "en": "JSON array. Number of inputs (2-10) is automatically detected from formulas. Each formula has its own input state. Operators: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExample:\n[{\"id\":\"f1\",\"name\":\"My Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconds before timeout (omit/0 = infinite)\nfirstImpression: true/1 (default) = lock inputs at first value, false/0 = reactive mode",
        "no": "JSON-array. Antall innganger (2-10) detekteres automatisk fra formler. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (utelat/0 = uendelig)\nfirstImpression: true/1 (standard) = lås inputs ved første verdi, false/0 = reaktiv modus",
        "de": "JSON-Array. Anzahl der Eingänge (2-10) wird automatisch aus Formeln erkannt. Jede Formel hat ihren eigenen Eingangszustand. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nBeispiel:\n[{\"id\":\"f1\",\"name\":\"Meine Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: Sekunden vor Timeout (weglassen/0 = unendlich)\nfirstImpression: true/1 (Standard) = Eingänge beim ersten Wert sperren, false/0 = reaktiver Modus",
        "nl": "JSON-array. Aantal ingangen (2-10) wordt automatisch gedetecteerd uit formules. Elke formule heeft zijn eigen invoerstatus. Operatoren: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nVoorbeeld:\n[{\"id\":\"f1\",\"name\":\"Mijn Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: seconden voor timeout (weglaten/0 = oneindig)\nfirstImpression: true/1 (standaard) = invoer vergrendelen bij eerste waarde, false/0 = reactieve modus",
        "fr": "Tableau JSON. Le nombre d'entrées (2-10) est automatiquement détecté à partir des formules. Chaque formule a son propre état d'entrée. Opérateurs: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExemple:\n[{\"id\":\"f1\",\"name\":\"Ma Formule\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondes avant expiration (omettre/0 = infini)\nfirstImpression: true/1 (défaut) = verrouiller les entrées à la première valeur, false/0 = mode réactif",
        "da": "JSON-array. Antal indgange (2-10) detekteres automatisk fra formler. Hver formel har sin egen input-tilstand. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEksempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder før timeout (udelad/0 = uendelig)\nfirstImpression: true/1 (standard) = lås input ved første værdi, false/0 = reaktiv tilstand",
        "fi": "JSON-taulukko. Tulojen määrä (2-10) tunnistetaan automaattisesti kaavoista. Jokaisella kaavalla on oma tulotilaansa. Operaattorit: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsimerkki:\n[{\"id\":\"f1\",\"name\":\"Kaavani\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekuntia ennen aikakatkaistua (jätä pois/0 = ääretön)\nfirstImpression: true/1 (oletus) = lukitse tulot ensimmäiseen arvoon, false/0 = reaktiivinen tila",
        "sv": "JSON-array. Antal ingångar (2-10) detekteras automatiskt från formler. Varje formel har sitt eget ingångstillstånd. Operatorer: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nExempel:\n[{\"id\":\"f1\",\"name\":\"Min Formel\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekunder före timeout (utelämna/0 = oändlig)\nfirstImpression: true/1 (standard) = lås ingångar vid första värdet, false/0 = reaktivt läge",
        "pl": "Tablica JSON. Liczba wejść (2-10) jest automatycznie wykrywana z formuł. Każda formuła ma swój własny stan wejścia. Operatory: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nPrzykład:\n[{\"id\":\"f1\",\"name\":\"Moja Formuła\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: sekundy przed przekroczeniem czasu (pomiń/0 = nieskończony)\nfirstImpression: true/1 (domyślnie) = zablokuj wejścia przy pierwszej wartości, false/0 = tryb reaktywny",
        "it": "Array JSON. Il numero di ingressi (2-10) viene rilevato automaticamente dalle formule. Ogni formula ha il proprio stato di ingresso. Operatori: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEsempio:\n[{\"id\":\"f1\",\"name\":\"La Mia Formula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: secondi prima del timeout (ometti/0 = infinito)\nfirstImpression: true/1 (predefinito) = blocca ingressi al primo valore, false/0 = modalità reattiva",
        "es": "Matriz JSON. El número de entradas (2-10) se detecta automáticamente desde las fórmulas. Cada fórmula tiene su propio estado de entrada. Operadores: AND(*,&), OR(+,|), XOR(^,!=), NOT(!).\n\nEjemplo:\n[{\"id\":\"f1\",\"name\":\"Mi Fórmula\",\"expression\":\"A AND B\",\"enabled\":true,\"timeout\":30,\"firstImpression\":true}]\n\ntimeout: segundos antes del tiempo de espera (omitir/0 = infinito)\nfirstImpression: true/1 (predeterminado) = bloquear entradas en el primer valor, false/0 = modo reactivo"
      },
      "value": "[]"
    }
  ],
  "flow": [
    {
      "type": "trigger",
      "id": "formula_changed_to_false_lu"
    },
    {
      "type": "trigger",
      "id": "formula_changed_to_true_lu"
    },
    {
      "type": "trigger",
      "id": "formula_timeout_lu"
    },
    {
      "type": "condition",
      "id": "formula_has_timed_out_lu"
    },
    {
      "type": "condition",
      "id": "formula_result_is_lu"
    },
    {
      "type": "condition",
      "id": "has_any_error_lu"
    },
    {
      "type": "action",
      "id": "set_input_value_lu"
    },
    {
      "type": "action",
      "id": "evaluate_formula_lu"
    },
    {
      "type": "action",
      "id": "evaluate_all_formulas_lu"
    },
    {
      "type": "action",
      "id": "clear_error_state_lu"
    },
    {
      "type": "action",
      "id": "set_all_inputs_lu"
    },
    {
      "type": "action",
      "id": "set_input_lu"
    }
  ]
}
--- END: drivers/logic-unit/driver.compose.json ---

--- START: drivers/logic-unit/driver.js (sha256=f63c9188393956841e5ed1d970ad0b662b42381c08505f9e3ec3966fcfa525d6, bytes=2864) ---
"use strict";

const BaseLogicDriver = require("../../lib/BaseLogicDriver");
const Logger = require("../../lib/Logger");

module.exports = class LogicUnitDriver extends BaseLogicDriver {
  async onInit() {
    const driverName = `Driver: ${this.id}`;
    this.logger = new Logger(this, driverName);

    this.numInputs = 2;

    this.logger.info("driver.ready", {
      driverId: this.id,
      numInputs: this.numInputs,
    });

    if (!BaseLogicDriver.logicUnitCardsRegistered) {
      this.logger.info(
        "First Logic Unit driver initializing. Registering shared flow cards...",
      );
      await this.registerFlowCards();
      BaseLogicDriver.logicUnitCardsRegistered = true;
    } else {
      this.logger.debug(
        "Shared flow cards already registered by another Logic Unit driver.",
      );
    }
  }

async onPair(session) {
    this.logger.info("pair.session_started", {});

    session.setHandler("list_devices", async () => {
      try {
        this.logger.debug("Pair handler: list_devices called", {});

        let localeString;
        try {
          localeString = this.homey.__("device.logic_unit_dynamic_name");
        } catch (e) {
          this.logger.error(
            "Error getting localization for 'device.logic_unit_dynamic_name'",
            e,
          );
          localeString = this.homey.__(
            "device.logic_unit_dynamic_name_fallback",
          );
        }

        const baseName = String(localeString || "Logic Unit");
        const name = await this.ensureUniqueDeviceName(baseName);

        const defaultFormulaName = this.homey.__("pair.default_formula_name");
        const deviceData = {
          name: name,
          data: {
            id: `${this.id}-${Math.random().toString(16).slice(2)}`,
            numInputs: this.numInputs,
          },
          settings: {
            formulas: `[{"id":"f1","name":"${defaultFormulaName}","expression":"${this.getDefaultExpression()}","enabled":true,"timeout":0,"firstImpression":false}]`,
          },
          capabilityValues: {  // ✅ NY: Initial values for nye devices
            onoff: true,     // Starter som ON
            alarm_generic: false
          }
        };

        this.logger.debug("Pair handler: list_devices returning:", deviceData);
        return [deviceData];
      } catch (e) {
        this.logger.error("Error in list_devices pair handler", e);
        throw e;
      }
    });

    this.logger.debug("Pair handler: list_devices registered", {});
  }

  getDefaultExpression() {
    const letters = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J"];
    const inputsToUse = Math.min(this.numInputs, letters.length);
    if (inputsToUse <= 0) return "true";
    return letters.slice(0, inputsToUse).join(" AND ");
  }
};
--- END: drivers/logic-unit/driver.js ---

--- START: FormulaEvaluator.test.js (sha256=e68535738580a8cfbdbb9e95f90be4dae1d691c6a25d76396846be61b5d0e223, bytes=18105) ---
/**
 * Unit Tests for FormulaEvaluator
 * 
 * Run with: npm test
 */

const FormulaEvaluator = require('./lib/FormulaEvaluator');

describe('FormulaEvaluator', () => {
  let evaluator;

  beforeEach(() => {
    evaluator = new FormulaEvaluator();
  });

  describe('Tokenization', () => {
    test('should tokenize simple expression', () => {
      const tokens = evaluator.tokenize('A AND B');
      expect(tokens).toEqual([
        { type: 'VARIABLE', value: 'A' },
        { type: 'AND', value: 'AND' },
        { type: 'VARIABLE', value: 'B' }
      ]);
    });

    test('should tokenize with various AND operators', () => {
      expect(evaluator.tokenize('A AND B')).toContainEqual({ type: 'AND', value: 'AND' });
      expect(evaluator.tokenize('A && B')).toContainEqual({ type: 'AND', value: '&&' });
      expect(evaluator.tokenize('A & B')).toContainEqual({ type: 'AND', value: '&' });
      expect(evaluator.tokenize('A * B')).toContainEqual({ type: 'AND', value: '*' });
    });

    test('should tokenize with various OR operators', () => {
      expect(evaluator.tokenize('A OR B')).toContainEqual({ type: 'OR', value: 'OR' });
      expect(evaluator.tokenize('A || B')).toContainEqual({ type: 'OR', value: '||' });
      expect(evaluator.tokenize('A | B')).toContainEqual({ type: 'OR', value: '|' });
      expect(evaluator.tokenize('A + B')).toContainEqual({ type: 'OR', value: '+' });
    });

    test('should tokenize with various XOR operators', () => {
      expect(evaluator.tokenize('A XOR B')).toContainEqual({ type: 'XOR', value: 'XOR' });
      expect(evaluator.tokenize('A ^ B')).toContainEqual({ type: 'XOR', value: '^' });
      expect(evaluator.tokenize('A != B')).toContainEqual({ type: 'XOR', value: '!=' });
    });

    test('should tokenize NOT operator', () => {
      expect(evaluator.tokenize('NOT A')).toContainEqual({ type: 'NOT', value: 'NOT' });
      expect(evaluator.tokenize('!A')).toContainEqual({ type: 'NOT', value: '!' });
    });

    test('should tokenize literals', () => {
      expect(evaluator.tokenize('TRUE')).toContainEqual({ type: 'LITERAL', value: true });
      expect(evaluator.tokenize('FALSE')).toContainEqual({ type: 'LITERAL', value: false });
      expect(evaluator.tokenize('true')).toContainEqual({ type: 'LITERAL', value: true });
      expect(evaluator.tokenize('false')).toContainEqual({ type: 'LITERAL', value: false });
      expect(evaluator.tokenize('1')).toContainEqual({ type: 'LITERAL', value: true });
      expect(evaluator.tokenize('0')).toContainEqual({ type: 'LITERAL', value: false });
    });

    test('should tokenize parentheses', () => {
      const tokens = evaluator.tokenize('(A AND B)');
      expect(tokens[0]).toEqual({ type: 'LPAREN', value: '(' });
      expect(tokens[4]).toEqual({ type: 'RPAREN', value: ')' });
    });

    test('should handle whitespace correctly', () => {
      const tokens1 = evaluator.tokenize('A AND B');
      const tokens2 = evaluator.tokenize('  A   AND   B  ');
      expect(tokens1).toEqual(tokens2);
    });

    test('should reject invalid variables', () => {
      expect(() => evaluator.tokenize('K AND L')).toThrow('Invalid identifier: K');
      expect(() => evaluator.tokenize('ABC')).toThrow('Invalid identifier: ABC');
    });

    test('should reject invalid numbers', () => {
      expect(() => evaluator.tokenize('2')).toThrow('Invalid number: 2');
      expect(() => evaluator.tokenize('123')).toThrow('Invalid number: 2'); // '1' is OK, '2' throws error
    });

    test('should reject empty expression', () => {
      expect(() => evaluator.tokenize('')).toThrow('Expression must be a non-empty string');
      expect(() => evaluator.tokenize(null)).toThrow('Expression must be a non-empty string');
    });

    test('should reject unexpected characters', () => {
      expect(() => evaluator.tokenize('A $ B')).toThrow('Unexpected character: $');
      expect(() => evaluator.tokenize('A @ B')).toThrow('Unexpected character: @');
    });
  });

  describe('Parsing', () => {
    test('should parse simple AND expression', () => {
      const tokens = evaluator.tokenize('A AND B');
      const ast = evaluator.parse(tokens);
      expect(ast).toEqual({
        type: 'BinaryOp',
        operator: 'AND',
        left: { type: 'Variable', name: 'A' },
        right: { type: 'Variable', name: 'B' }
      });
    });

    test('should parse simple OR expression', () => {
      const tokens = evaluator.tokenize('A OR B');
      const ast = evaluator.parse(tokens);
      expect(ast).toEqual({
        type: 'BinaryOp',
        operator: 'OR',
        left: { type: 'Variable', name: 'A' },
        right: { type: 'Variable', name: 'B' }
      });
    });

    test('should parse NOT expression', () => {
      const tokens = evaluator.tokenize('NOT A');
      const ast = evaluator.parse(tokens);
      expect(ast).toEqual({
        type: 'UnaryOp',
        operator: 'NOT',
        operand: { type: 'Variable', name: 'A' }
      });
    });

    test('should parse double NOT', () => {
      const tokens = evaluator.tokenize('NOT NOT A');
      const ast = evaluator.parse(tokens);
      expect(ast).toEqual({
        type: 'UnaryOp',
        operator: 'NOT',
        operand: {
          type: 'UnaryOp',
          operator: 'NOT',
          operand: { type: 'Variable', name: 'A' }
        }
      });
    });

    test('should parse parentheses', () => {
      const tokens = evaluator.tokenize('(A AND B)');
      const ast = evaluator.parse(tokens);
      expect(ast).toEqual({
        type: 'BinaryOp',
        operator: 'AND',
        left: { type: 'Variable', name: 'A' },
        right: { type: 'Variable', name: 'B' }
      });
    });

    test('should respect operator precedence: AND before OR', () => {
      const tokens = evaluator.tokenize('A OR B AND C');
      const ast = evaluator.parse(tokens);
      expect(ast.type).toBe('BinaryOp');
      expect(ast.operator).toBe('OR');
      expect(ast.right.type).toBe('BinaryOp');
      expect(ast.right.operator).toBe('AND');
    });

    test('should handle parentheses overriding precedence', () => {
      const tokens = evaluator.tokenize('(A OR B) AND C');
      const ast = evaluator.parse(tokens);
      expect(ast.type).toBe('BinaryOp');
      expect(ast.operator).toBe('AND');
      expect(ast.left.type).toBe('BinaryOp');
      expect(ast.left.operator).toBe('OR');
    });

    test('should reject unbalanced parentheses', () => {
      expect(() => {
        const tokens = evaluator.tokenize('(A AND B');
        evaluator.parse(tokens);
      }).toThrow('Unbalanced parentheses');

      expect(() => {
        const tokens = evaluator.tokenize('A AND B)');
        evaluator.parse(tokens);
      }).toThrow('Unexpected token: )');
    });

    test('should reject empty token list', () => {
      expect(() => evaluator.parse([])).toThrow('Empty expression');
    });

    test('should reject incomplete expression', () => {
      expect(() => {
        const tokens = evaluator.tokenize('A AND');
        evaluator.parse(tokens);
      }).toThrow('Unexpected end of expression');
    });
  });

  describe('AST Evaluation', () => {
    test('should evaluate simple AND expression', () => {
      const ast = {
        type: 'BinaryOp',
        operator: 'AND',
        left: { type: 'Variable', name: 'A' },
        right: { type: 'Variable', name: 'B' }
      };
      expect(evaluator.evaluateAST(ast, { A: true, B: true })).toBe(true);
      expect(evaluator.evaluateAST(ast, { A: true, B: false })).toBe(false);
      expect(evaluator.evaluateAST(ast, { A: false, B: true })).toBe(false);
      expect(evaluator.evaluateAST(ast, { A: false, B: false })).toBe(false);
    });

    test('should evaluate simple OR expression', () => {
      const ast = {
        type: 'BinaryOp',
        operator: 'OR',
        left: { type: 'Variable', name: 'A' },
        right: { type: 'Variable', name: 'B' }
      };
      expect(evaluator.evaluateAST(ast, { A: true, B: true })).toBe(true);
      expect(evaluator.evaluateAST(ast, { A: true, B: false })).toBe(true);
      expect(evaluator.evaluateAST(ast, { A: false, B: true })).toBe(true);
      expect(evaluator.evaluateAST(ast, { A: false, B: false })).toBe(false);
    });

    test('should evaluate XOR expression', () => {
      const ast = {
        type: 'BinaryOp',
        operator: 'XOR',
        left: { type: 'Variable', name: 'A' },
        right: { type: 'Variable', name: 'B' }
      };
      expect(evaluator.evaluateAST(ast, { A: true, B: true })).toBe(false);
      expect(evaluator.evaluateAST(ast, { A: true, B: false })).toBe(true);
      expect(evaluator.evaluateAST(ast, { A: false, B: true })).toBe(true);
      expect(evaluator.evaluateAST(ast, { A: false, B: false })).toBe(false);
    });

    test('should evaluate NOT expression', () => {
      const ast = {
        type: 'UnaryOp',
        operator: 'NOT',
        operand: { type: 'Variable', name: 'A' }
      };
      expect(evaluator.evaluateAST(ast, { A: true })).toBe(false);
      expect(evaluator.evaluateAST(ast, { A: false })).toBe(true);
    });

    test('should evaluate literals', () => {
      expect(evaluator.evaluateAST({ type: 'Literal', value: true })).toBe(true);
      expect(evaluator.evaluateAST({ type: 'Literal', value: false })).toBe(false);
    });

    test('should throw on undefined variable', () => {
      const ast = { type: 'Variable', name: 'A' };
      expect(() => evaluator.evaluateAST(ast, {})).toThrow('Undefined variable: A');
    });

    test('should handle truthy/falsy values correctly', () => {
      const ast = { type: 'Variable', name: 'A' };
      expect(evaluator.evaluateAST(ast, { A: 1 })).toBe(true);
      expect(evaluator.evaluateAST(ast, { A: 0 })).toBe(false);
      expect(evaluator.evaluateAST(ast, { A: 'true' })).toBe(true);
      expect(evaluator.evaluateAST(ast, { A: '' })).toBe(false);
    });
  });

  describe('Full Evaluation (End-to-End)', () => {
    test('should evaluate simple expressions', () => {
      expect(evaluator.evaluate('TRUE')).toBe(true);
      expect(evaluator.evaluate('FALSE')).toBe(false);
      expect(evaluator.evaluate('1')).toBe(true);
      expect(evaluator.evaluate('0')).toBe(false);
    });

    test('should evaluate AND expressions', () => {
      expect(evaluator.evaluate('A AND B', { A: true, B: true })).toBe(true);
      expect(evaluator.evaluate('A && B', { A: true, B: false })).toBe(false);
      expect(evaluator.evaluate('A & B', { A: false, B: true })).toBe(false);
      expect(evaluator.evaluate('A * B', { A: false, B: false })).toBe(false);
    });

    test('should evaluate OR expressions', () => {
      expect(evaluator.evaluate('A OR B', { A: true, B: true })).toBe(true);
      expect(evaluator.evaluate('A || B', { A: true, B: false })).toBe(true);
      expect(evaluator.evaluate('A | B', { A: false, B: true })).toBe(true);
      expect(evaluator.evaluate('A + B', { A: false, B: false })).toBe(false);
    });

    test('should evaluate XOR expressions', () => {
      expect(evaluator.evaluate('A XOR B', { A: true, B: false })).toBe(true);
      expect(evaluator.evaluate('A ^ B', { A: false, B: true })).toBe(true);
      expect(evaluator.evaluate('A != B', { A: true, B: true })).toBe(false);
    });

    test('should evaluate NOT expressions', () => {
      expect(evaluator.evaluate('NOT A', { A: true })).toBe(false);
      expect(evaluator.evaluate('!A', { A: false })).toBe(true);
      expect(evaluator.evaluate('NOT NOT A', { A: true })).toBe(true);
    });

    test('should evaluate complex expressions', () => {
      expect(evaluator.evaluate('(A OR B) AND C', { A: true, B: false, C: true })).toBe(true);
      expect(evaluator.evaluate('(A OR B) AND C', { A: false, B: false, C: true })).toBe(false);
      expect(evaluator.evaluate('A AND (B OR C)', { A: true, B: false, C: true })).toBe(true);
      expect(evaluator.evaluate('NOT (A AND B)', { A: true, B: false })).toBe(true);
    });

    test('should evaluate real-world formula examples', () => {
      // Example: Door locked = (door closed) AND NOT (motion detected)
      expect(
        evaluator.evaluate('A AND NOT B', { A: true, B: false })
      ).toBe(true);
      
      expect(
        evaluator.evaluate('A AND NOT B', { A: true, B: true })
      ).toBe(false);

      // Example: Alarm triggered = (window open) OR (door open) AND NOT (system disabled)
      expect(
        evaluator.evaluate('(A OR B) AND NOT C', { A: false, B: true, C: false })
      ).toBe(true);

      // Example: All doors closed = door1 AND door2 AND door3
      expect(
        evaluator.evaluate('A AND B AND C', { A: true, B: true, C: true })
      ).toBe(true);
      
      expect(
        evaluator.evaluate('A AND B AND C', { A: true, B: false, C: true })
      ).toBe(false);
    });

    test('should handle case-insensitive variables', () => {
      expect(evaluator.evaluate('a AND b', { A: true, B: true })).toBe(true);
      expect(evaluator.evaluate('A and B', { A: true, B: true })).toBe(true);
    });

    test('should handle mixed operators', () => {
      expect(evaluator.evaluate('A * B + C', { A: true, B: true, C: false })).toBe(true);
      expect(evaluator.evaluate('A & B | C', { A: false, B: true, C: false })).toBe(false);
    });

    test('should handle deeply nested expressions', () => {
      expect(
        evaluator.evaluate('((A AND B) OR (C AND D)) AND NOT E', {
          A: true, B: true, C: false, D: true, E: false
        })
      ).toBe(true);
    });

    test('should respect operator precedence', () => {
      // AND has higher precedence than OR
      expect(evaluator.evaluate('A OR B AND C', { A: false, B: true, C: true })).toBe(true);
      expect(evaluator.evaluate('A OR B AND C', { A: false, B: true, C: false })).toBe(false);
    });
  });

  describe('Error Handling', () => {
    test('should handle invalid input types', () => {
      expect(() => evaluator.evaluate(123)).toThrow();
      expect(() => evaluator.evaluate(null)).toThrow();
      expect(() => evaluator.evaluate(undefined)).toThrow();
      expect(() => evaluator.evaluate({})).toThrow();
    });

    test('should handle syntax errors', () => {
      expect(() => evaluator.evaluate('A AND')).toThrow();
      expect(() => evaluator.evaluate('AND A')).toThrow();
      expect(() => evaluator.evaluate('A B')).toThrow();
      expect(() => evaluator.evaluate('(A AND B')).toThrow();
      expect(() => evaluator.evaluate('A AND B)')).toThrow();
    });

    test('should handle invalid operators', () => {
      expect(() => evaluator.evaluate('A $ B')).toThrow();
      expect(() => evaluator.evaluate('A @ B')).toThrow();
    });

    test('should handle undefined variables', () => {
      expect(() => evaluator.evaluate('A AND B', { A: true })).toThrow('Undefined variable: B');
    });

    test('should provide meaningful error messages', () => {
      expect(() => evaluator.evaluate('K')).toThrow(/Invalid identifier/);
      expect(() => evaluator.evaluate('(A AND B')).toThrow(/Unbalanced parentheses/);
      expect(() => evaluator.evaluate('A AND B', { A: true })).toThrow(/Undefined variable/);
    });
  });

  describe('Edge Cases', () => {
    test('should handle all valid variables A-J', () => {
      const vars = { A: true, B: false, C: true, D: false, E: true, F: false, G: true, H: false, I: true, J: false };
      expect(evaluator.evaluate('A', vars)).toBe(true);
      expect(evaluator.evaluate('J', vars)).toBe(false);
      expect(evaluator.evaluate('A AND C AND E AND G AND I', vars)).toBe(true);
    });

    test('should handle expressions with only literals', () => {
      expect(evaluator.evaluate('TRUE AND TRUE')).toBe(true);
      expect(evaluator.evaluate('TRUE AND FALSE')).toBe(false);
      expect(evaluator.evaluate('1 AND 1')).toBe(true);
      expect(evaluator.evaluate('1 OR 0')).toBe(true);
    });

    test('should handle long expressions', () => {
      const expr = 'A AND B AND C AND D AND E AND F AND G AND H AND I AND J';
      const vars = { A: true, B: true, C: true, D: true, E: true, F: true, G: true, H: true, I: true, J: true };
      expect(evaluator.evaluate(expr, vars)).toBe(true);
      
      vars.E = false;
      expect(evaluator.evaluate(expr, vars)).toBe(false);
    });

    test('should handle multiple levels of parentheses', () => {
      expect(evaluator.evaluate('((((A))))', { A: true })).toBe(true);
      expect(evaluator.evaluate('(((A AND B)))', { A: true, B: true })).toBe(true);
    });

    test('should handle single variable', () => {
      expect(evaluator.evaluate('A', { A: true })).toBe(true);
      expect(evaluator.evaluate('A', { A: false })).toBe(false);
    });

    test('should handle whitespace variations', () => {
      expect(evaluator.evaluate('A AND B', { A: true, B: true })).toBe(true);
      expect(evaluator.evaluate('  A   AND   B  ', { A: true, B: true })).toBe(true);
      expect(evaluator.evaluate('A AND B', { A: true, B: true })).toBe(true);
      expect(evaluator.evaluate('A AND\nB', { A: true, B: true })).toBe(true);
    });
  });

  describe('Performance', () => {
    test('should handle reasonable expression complexity', () => {
      const expr = '(A AND B) OR (C AND D) OR (E AND F) OR (G AND H)';
      const vars = { A: true, B: false, C: false, D: true, E: true, F: true, G: false, H: false };
      
      const start = Date.now();
      const result = evaluator.evaluate(expr, vars);
      const duration = Date.now() - start;
      
      expect(result).toBe(true);
      expect(duration).toBeLessThan(10); // Should complete in less than 10ms
    });
  });
});
--- END: FormulaEvaluator.test.js ---

--- START: jest.config.js (sha256=655d5d9b58d98eb102f0b16dd0dc9a3097920cb4c7b29cc32524082bade4bb05, bytes=1199) ---
module.exports = {
  // Test environment
  testEnvironment: 'node',

  // Test file patterns
  testMatch: [
    '**/__tests__/**/*.js',
    '**/?(*.)+(spec|test).js'
  ],

  // Ignore patterns - eksluder .homeybuild og node_modules
  testPathIgnorePatterns: [
    '/node_modules/',
    '/.homeybuild/',
    '/coverage/'
  ],

  // Coverage configuration
  collectCoverageFrom: [
    'lib/**/*.js',
    '!**/node_modules/**',
    '!**/.homeybuild/**',
    '!**/vendor/**'
  ],

  // Coverage thresholds (NOTE: singular "coverageThreshold", not plural!)
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80
    }
  },

  // Verbose output
  verbose: true,

  // Coverage reporters
  coverageReporters: [
    'text',
    'text-summary',
    'html',
    'lcov'
  ],

  // Setup files
  setupFilesAfterEnv: [],

  // Module paths (if needed for Homey app structure)
  moduleDirectories: [
    'node_modules',
    'lib'
  ],

  // Clear mocks between tests
  clearMocks: true,

  // Timeout for tests (in milliseconds)
  testTimeout: 10000,

  // Root directory
  rootDir: '.'
};
--- END: jest.config.js ---

--- START: lib/BaseLogicDriver.js (sha256=b6be26255021130e8c4fc29ab130b8da3c8eac0b07be51b759d8f49d12e1b68d, bytes=22344) ---
"use strict";
const Homey = require("homey");
const Logger = require("./Logger");

async function formulaAutocompleteHelper(query, args) {
    const device = args.device;
    if (!device || typeof device.getFormulas !== "function") {
        console.warn(
            `formulaAutocompleteHelper: Invalid device or missing getFormulas in args for autocomplete.`,
        );
        return [];
    }
    try {
        const formulas = device.getFormulas();
        if (!Array.isArray(formulas)) {
            console.warn(
                `getFormulas didn't return array for ${device.getName()}.`,
            );
            return [];
        }
        const lowerQuery = query ? query.toLowerCase() : "";
        return formulas.filter(
            (f) =>
                f &&
                f.name &&
                (!query || f.name.toLowerCase().includes(lowerQuery)),
        );
    } catch (e) {
        console.error(
            `Error in formulaAutocompleteHelper for ${device.getName()}`,
            e,
        );
        return [];
    }
}

async function inputAutocompleteHelper(query, args) {
    const device = args.device;
    if (!device || typeof device.getInputOptions !== "function") {
        console.warn(
            `inputAutocompleteHelper: Invalid device or missing getInputOptions in args for autocomplete.`,
        );
        return [];
    }
    try {
        const inputs = device.getInputOptions(args);
        if (!Array.isArray(inputs)) {
            console.warn(
                `getInputOptions didn't return array for ${device.getName()}.`,
            );
            return [];
        }
        const lowerQuery = query ? query.toLowerCase() : "";
        return inputs.filter(
            (i) =>
                i &&
                i.name &&
                (!query || i.name.toLowerCase().includes(lowerQuery)),
        );
    } catch (e) {
        console.error(
            `Error in inputAutocompleteHelper for ${device.getName()}`,
            e,
        );
        return [];
    }
}
// --- End Autocomplete Helper Functions ---

class BaseLogicDriver extends Homey.Driver {
    static logicUnitCardsRegistered = false;

    async onInit() {
        const driverName = `Driver: ${this.id}`;
        this.logger = new Logger(this, driverName);

        // Set numInputs based on driver ID
        const driverId = this.id;
        let numInputsParsed = 2;
        try {
            const parts = driverId.split("-");
            const numStr = parts[parts.length - 1];
            const num = parseInt(numStr);
            if (!isNaN(num) && num > 0) {
                numInputsParsed = num;
            } else if (driverId !== "logic-device") {
                this.logger.warn(
                    `Could not parse number of inputs from driver ID '${driverId}'. Using default: ${numInputsParsed}.`,
                    {},
                );
            }
        } catch (e) {
            this.logger.error(
                `Error parsing numInputs from driver ID '${driverId}'. Using default: ${numInputsParsed}.`,
                e,
            );
        }
        this.numInputs = numInputsParsed;

        this.logger.info("driver.ready", {
            driverId: this.id,
            numInputs: this.numInputs,
        });

        if (!BaseLogicDriver.logicUnitCardsRegistered) {
            this.logger.info(
                "First Logic Unit driver initializing. Registering shared flow cards...",
            );
            await this.registerFlowCards();
            BaseLogicDriver.logicUnitCardsRegistered = true;
        } else {
            this.logger.debug(
                "Shared flow cards already registered by another Logic Unit driver.",
            );
        }
    }

    async registerFlowCards() {
        this.logger.debug("driver.registering_flow_cards");

        // ===== DEPRECATED TRIGGERS (for backward compatibility) =====
        
        // Deprecated: Formula changed to FALSE (old separate card)
        try {
            const formulaChangedToFalseCard = this.homey.flow.getTriggerCard("formula_changed_to_false_lu_deprecated");
            formulaChangedToFalseCard.registerRunListener(async (args, state) => {
                return (
                    args &&
                    args.device &&
                    args.device.driver &&
                    args.device.driver.id &&
                    args.device.driver.id.startsWith("logic-unit-") &&
                    state?.result === false
                );
            });
            this.registerAutocomplete(formulaChangedToFalseCard, "formula", formulaAutocompleteHelper);
            this.logger.debug(` -> OK: DEPRECATED TRIGGER registered: 'formula_changed_to_false_lu_deprecated'`);
        } catch (e) {
            this.logger.warn(` -> SKIP: Deprecated trigger 'formula_changed_to_false_lu_deprecated' not found`);
        }

        // Deprecated: Formula changed to TRUE (old separate card)
        try {
            const formulaChangedToTrueCard = this.homey.flow.getTriggerCard("formula_changed_to_true_lu_deprecated");
            formulaChangedToTrueCard.registerRunListener(async (args, state) => {
                return (
                    args &&
                    args.device &&
                    args.device.driver &&
                    args.device.driver.id &&
                    args.device.driver.id.startsWith("logic-unit-") &&
                    state?.result === true
                );
            });
            this.registerAutocomplete(formulaChangedToTrueCard, "formula", formulaAutocompleteHelper);
            this.logger.debug(` -> OK: DEPRECATED TRIGGER registered: 'formula_changed_to_true_lu_deprecated'`);
        } catch (e) {
            this.logger.warn(` -> SKIP: Deprecated trigger 'formula_changed_to_true_lu_deprecated' not found`);
        }

        // ===== NEW IMPROVED TRIGGERS =====
        
        // New: Formula changed to [dropdown selection] (combined card)
        const formulaChangedToCard = this.homey.flow.getTriggerCard("formula_changed_to_lu");
        formulaChangedToCard.registerRunListener(async (args, state) => {
            const expectedResult = args.result === "true";
            return (
                args &&
                args.device &&
                args.device.driver &&
                args.device.driver.id &&
                args.device.driver.id.startsWith("logic-unit-") &&
                state?.result === expectedResult
            );
        });
        this.registerAutocomplete(formulaChangedToCard, "formula", formulaAutocompleteHelper);
        this.logger.debug(` -> OK: NEW TRIGGER registered: 'formula_changed_to_lu'`);

        // ===== EXISTING TRIGGERS (unchanged) =====
        
        // Existing: Formula timeout
        const formulaTimeoutCard = this.homey.flow.getTriggerCard("formula_timeout_lu");
        formulaTimeoutCard.registerRunListener(async (args, state) => {
            return (
                args &&
                args.device &&
                args.device.driver &&
                args.device.driver.id &&
                args.device.driver.id.startsWith("logic-unit-")
            );
        });
        this.registerAutocomplete(formulaTimeoutCard, "formula", formulaAutocompleteHelper);
        this.logger.debug(` -> OK: EXISTING TRIGGER registered: 'formula_timeout_lu'`);

        // ===== ACTIONS (unchanged) =====
        
        const actionCards = [
            {
                id: "set_input_value_lu",
                handler: "onFlowActionSetInput",
            },
            {
                id: "evaluate_formula_lu",
                handler: "onFlowActionEvaluateFormula",
            },
            {
                id: "evaluate_all_formulas_lu",
                handler: "onFlowActionReEvaluateAll",
            },
            {
                id: "clear_error_state_lu",
                handler: "onFlowActionClearError",
            },
            {
                id: "set_all_inputs_lu",
                handler: "setAllInputsFromFlow",
            },
            {
                id: "set_input_lu",
                handler: "setInputForAllFormulasFromFlow",
            },
        ];
        actionCards.forEach((cardInfo) => {
            try {
                const card = this.homey.flow.getActionCard(cardInfo.id);
                card.registerRunListener(async (args, state) => {
                    const device = args.device;
                    if (!device)
                        throw new Error(
                            this.homey.__("errors.invalid_device_instance"),
                        );
                    const methodName = cardInfo.handler;
                    if (typeof device[methodName] !== "function")
                        throw new Error(
                            this.homey.__("errors.method_missing_on_device", {
                                methodName,
                            }),
                        );
                    this.logger.flow(
                        `Executing ACTION '${cardInfo.id}' on device ${device.getName()}`,
                    );
                    return await device[methodName](args, state);
                });

                // --- Autocomplete ---
                if (
                    [
                        "set_input_value_lu",
                        "evaluate_formula_lu",
                        "clear_error_state_lu",
                    ].includes(cardInfo.id)
                ) {
                    this.registerAutocomplete(
                        card,
                        "formula",
                        formulaAutocompleteHelper,
                    );
                }
                if (
                    ["set_input_value_lu", "set_input_lu"].includes(cardInfo.id)
                ) {
                    this.registerAutocomplete(
                        card,
                        "input",
                        inputAutocompleteHelper,
                    );
                }
                this.logger.debug(
                    ` -> OK: ACTION card registered: '${cardInfo.id}'`,
                );
            } catch (e) {
                this.logger.error(
                    ` -> FAILED: Registering ACTION card '${cardInfo.id}'`,
                    e,
                );
            }
        });

        // ===== CONDITIONS (existing + new with dropdowns) =====
        
        const conditionCards = [
            {
                id: "formula_has_timed_out_lu",
                checkType: "timeout",
            },
            {
                id: "formula_result_is_lu",
                checkTypeFromArg: "what_is",
            },
            {
                id: "has_any_error_lu",
                checkType: "has_error",
            },
        ];
        conditionCards.forEach((cardInfo) => {
            try {
                const card = this.homey.flow.getConditionCard(cardInfo.id);
                card.registerRunListener(async (args, state) => {
                    const device = args.device;
                    if (!device) return false;
                    if (typeof device.onFlowCondition !== "function")
                        return false;

                    let checkType;
                    if (cardInfo.checkType) {
                        checkType = cardInfo.checkType;
                    } else if (cardInfo.checkTypeFromArg) {
                        checkType = args[cardInfo.checkTypeFromArg] === "true";
                    }

                    this.logger.flow(
                        `Executing CONDITION '${cardInfo.id}' on device ${device.getName()}`,
                    );
                    return await device.onFlowCondition(args, state, checkType);
                });

                if (
                    [
                        "formula_has_timed_out_lu",
                        "formula_result_is_lu",
                    ].includes(cardInfo.id)
                ) {
                    this.registerAutocomplete(
                        card,
                        "formula",
                        formulaAutocompleteHelper,
                    );
                }
                this.logger.debug(
                    ` -> OK: CONDITION card registered: '${cardInfo.id}'`,
                );
            } catch (e) {
                this.logger.error(
                    ` -> FAILED: Registering CONDITION card '${cardInfo.id}'`,
                    e,
                );
            }
        });

        // ===== NEW CONDITIONS WITH DROPDOWNS =====
        
        // New: Logic Unit is turned [dropdown selection]
        try {
            const unitIsTurnedCard = this.homey.flow.getConditionCard("unit_is_turned_lu");
            unitIsTurnedCard.registerRunListener(async (args, state) => {
                const device = args.device;
                if (!device) return false;
                
                const expectedOnState = args.on_state === "true";
                const currentOnState = device.getCapabilityValue("onoff");
                
                this.logger.flow(
                    `Executing CONDITION 'unit_is_turned_lu' on device ${device.getName()}: expected=${expectedOnState}, current=${currentOnState}`,
                );
                
                return currentOnState === expectedOnState;
            });
            this.logger.debug(` -> OK: NEW CONDITION registered: 'unit_is_turned_lu'`);
        } catch (e) {
            this.logger.warn(` -> SKIP: New condition 'unit_is_turned_lu' not found`);
        }

        // New: Logic Unit alarm is [dropdown selection]
        try {
            const unitAlarmIsCard = this.homey.flow.getConditionCard("unit_alarm_is_lu");
            unitAlarmIsCard.registerRunListener(async (args, state) => {
                const device = args.device;
                if (!device) return false;
                
                const expectedAlarmState = args.alarm_state === "true";
                const currentAlarmState = device.getCapabilityValue("alarm_generic");
                
                this.logger.flow(
                    `Executing CONDITION 'unit_alarm_is_lu' on device ${device.getName()}: expected=${expectedAlarmState}, current=${currentAlarmState}`,
                );
                
                return currentAlarmState === expectedAlarmState;
            });
            this.logger.debug(` -> OK: NEW CONDITION registered: 'unit_alarm_is_lu'`);
        } catch (e) {
            this.logger.warn(` -> SKIP: New condition 'unit_alarm_is_lu' not found`);
        }
    }

    // --- Helper for Autocomplete Registration ---
    registerAutocomplete(card, argName, helperFn) {
        try {
            if (typeof helperFn !== "function") {
                throw new Error(
                    this.homey.__("errors.helper_not_function", { argName }),
                );
            }
            card.registerArgumentAutocompleteListener(
                argName,
                async (query, args) => {
                    const device = args?.device;

                    if (argName === "formula" || argName === "input") {
                        if (!device) {
                            this.logger.warn(
                                `Autocomplete for device arg '${argName}' on card '${card.id}' called without device context.`,
                            );
                            return [];
                        }

                        let requiredMethod = "";
                        if (argName === "formula")
                            requiredMethod = "getFormulas";
                        if (argName === "input")
                            requiredMethod = "getInputOptions";

                        if (typeof device[requiredMethod] !== "function") {
                            this.logger.warn(
                                `Autocomplete for device arg '${argName}' on card '${card.id}': Device ${device.getName()} missing method ${requiredMethod}.`,
                            );
                            return [];
                        }
                    }

                    try {
                        return await helperFn(query, args);
                    } catch (autocompleteError) {
                        this.logger.error(
                            `Error during autocomplete for ${argName} on card '${card.id}'`,
                            autocompleteError,
                        );
                        return [];
                    }
                },
            );
            this.logger.debug(
                `Registered ${argName.toUpperCase()} autocomplete for card '${card.id}'`,
            );
        } catch (e) {
            this.logger.error(
                ` -> FAILED to register autocomplete for '${argName}' on card '${card.id}'`,
                e,
            );
        }
    }

    async ensureUniqueDeviceName(name) {
        try {
            if (
                !this.homey.app ||
                !this.homey.app.api ||
                typeof this.homey.app.api.devices?.getDevices !== "function"
            ) {
                this.logger.warn(
                    "ensureUniqueDeviceName: Homey API (via app) not ready, returning original name.",
                    {},
                );
                return String(name || "");
            }
            const all = await this.homey.app.api.devices.getDevices();
            if (!all || typeof all !== "object") {
                this.logger.error(
                    "ensureUniqueDeviceName: Unexpected response from getDevices:",
                    all,
                );
                return String(name || "");
            }
            const existingNames = new Set(
                Object.values(all)
                    .map((d) => (d?.name || "").trim())
                    .filter(Boolean),
            );

            const nameStr = String(name || "");
            if (!existingNames.has(nameStr)) return nameStr;

            const base = nameStr.replace(/\s+\d+$/, "").trim();
            const m = nameStr.match(/\s+(\d+)$/);
            let n = m ? parseInt(m[1], 10) + 1 : 2;
            if (isNaN(n)) n = 2; // Fallback

            let candidate = `${base} ${n}`;
            let safetyCounter = 0;
            while (existingNames.has(candidate) && safetyCounter < 100) {
                n++;
                candidate = `${base} ${n}`;
                safetyCounter++;
            }
            if (safetyCounter >= 100) {
                this.logger.error(
                    "ensureUniqueDeviceName: Could not find unique name after 100 attempts, returning original + timestamp.",
                    {},
                );
                return `${nameStr}-${Date.now()}`;
            }
            return candidate;
        } catch (e) {
            this.logger.error("driver.ensure_unique_failed", e);
            return String(name || "");
        }
    }

    async onPair(session) {
        this.logger.info("pair.session_started");

        let deviceName = this.homey.__("pair.name_placeholder");

        session.setHandler("set_device_name", async (data) => {
            this.logger.debug("pair.set_device_name", {
                name: data.name,
            });
            deviceName = String(
                data.name || this.homey.__("pair.name_placeholder"),
            );
            return {
                success: true,
            };
        });

        session.setHandler("create_device", async () => {
            this.logger.info("pair.create_device");

            const uniqueName = await this.ensureUniqueDeviceName(deviceName);

            const device = {
                name: uniqueName,
                data: {
                    id: `logic-unit-${this.numInputs}-${Date.now()}-${Math.random().toString(16).slice(2)}`,
                    numInputs: this.numInputs,
                },
                settings: {
                    formulas: JSON.stringify(
                        [
                            {
                                id: "formula_1",
                                name:
                                    this.homey.__("formula.default_name_lu") ||
                                    "Main Formula",
                                expression: this.getDefaultExpression(),
                                enabled: true,
                                timeout: 0,
                                firstImpression: false,
                            },
                        ],
                        null,
                        2,
                    ),
                },
                capabilities: ["onoff", "alarm_generic"],
                capabilitiesOptions: {
                    onoff: {
                        setable: true,
                    },
                    alarm_generic: {
                        setable: false,
                    },
                },
                capabilityValues: {
                    onoff: true,
                    alarm_generic: false
                }
            };

            this.logger.info("pair.creating_device", {
                name: uniqueName,
            });
            this.logger.dump("Device data to be created", device);
            return device;
        });

        this.logger.debug("pair.handlers_registered");
    }

    getDefaultExpression() {
        const letters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
        const inputsToUse = Math.min(this.numInputs, letters.length);
        if (inputsToUse <= 0) return "true";
        return letters.slice(0, inputsToUse).join(" AND ");
    }
}

module.exports = BaseLogicDriver;
--- END: lib/BaseLogicDriver.js ---

--- START: lib/BaseLogicUnit.js (sha256=f97d5b1350f435770c9f22307c83074aa6fd3dcb6dc9c327860e4b9ef4d449ef, bytes=44403) ---
"use strict";
const FormulaEvaluator = require("./FormulaEvaluator");
const Homey = require("homey");
const Logger = require("./Logger");

module.exports = class BaseLogicUnit extends Homey.Device {
  // --- INTERN NAMESPACING (UNDER THE HOOD) ---
  _nsId(formula) {
    // Stabil og trygg ID for bruk i tokens
    return String(formula.id || 'F').toUpperCase().replace(/[^A-Z0-9_]/g, '_');
  }
  _nsPrefix(formula) {
    return `F_${this._nsId(formula)}_`;
  }
  /**
   * Bytt A..J i uttrykket til namespacede tokens (kun internt for evaluering)
   * Eks: "A AND B" -> "F_<FORMULAID>_A AND F_<FORMULAID>_B"
 */
  _namespaceExprForFormula(formula, upperExpr) {
    const inputsU = this.getAvailableInputsUppercase(); // ["A","B",...]
    if (inputsU.length === 0) return upperExpr;
    const ns = this._nsPrefix(formula);
    const tokenRe = new RegExp(`\\b(${inputsU.join("|")})\\b`, "g");
    return upperExpr.replace(tokenRe, (_m, t) => `${ns}${t}`);
  }
  /**
   * Bygg variabeltabell med namespacede nøkler for AST
   */
  _buildNsVariables(formula) {
    const ns = this._nsPrefix(formula);
    const vars = {};
    this.availableInputs.forEach(id => {
      const v = formula.inputStates[id];
      if (v !== "undefined") {
        vars[`${ns}${id.toUpperCase()}`] = (v === true);
      }
    });
    return vars;
  }

  static MIGRATION_KEY = "migrated_onoff_v1";

  async safeSetCapabilityValue(cap, value) {
    if (cap === "onoff" && value === false) {
      this.logger.warn(
        "Prevented setting onoff to false - Logic Units are always enabled",
      );
      return;
    }
    if (this._isDeleting) return;
    try {
      if (!this.hasCapability(cap)) {
        return;
      }
      await this.setCapabilityValue(cap, value);
    } catch (e) {
      const msg = e?.message || String(e);
      if (e?.statusCode === 404 || /not\s*found/i.test(msg)) {
        this.logger.debug("device.capability_skip_deleted", {
          capability: cap,
        });
      } else {
        this.logger.error("device.capability_update_failed", {
          capability: cap,
          message: msg,
        });
      }
    }
  }

  async onInit() {
    const driverName = `Device: ${this.driver ? this.driver.id : "unknown-driver"}`;
    this.logger = new Logger(this, driverName);

    // Initialize AST-based formula evaluator for secure evaluation
    this.formulaEvaluator = new FormulaEvaluator();

    this.logger.device("device.initializing", {
      name: this.getName(),
    });

    if (!(await this.getStoreValue(BaseLogicUnit.MIGRATION_KEY))) {
      await this.migrateOnoffForExistingDevice();
    }

    // ✅ STEP 1: Add capabilities FIRST
    if (!this.hasCapability("onoff")) {
      await this.addCapability("onoff").catch((e) =>
        this.logger.error("Failed to add 'onoff' capability", e),
      );
    }
    if (!this.hasCapability("alarm_generic")) {
    }

    // ✅ STEP 2: ALWAYS force enabled - Logic Units are always on
    // Forbedret logging og sjekk for eksisterende devices
    let onoffValue = this.getCapabilityValue("onoff");
    this.logger.info(
      `📊 Initial onoff value: ${onoffValue} (type: ${typeof onoffValue})`,
    );

    if (onoffValue !== true) {
      this.logger.info("🔧 Forcing Logic Unit to enabled (was ${onoffValue})");
      await this.setCapabilityValue("onoff", true).catch((e) =>
        this.logger.error("Failed to set onoff value", e),
      );
      onoffValue = true;
    }

    this.logger.info(`✅ Logic Unit: ENABLED (onoff: ${onoffValue})`);

    // ✅ STEP 3: Make onoff READ-ONLY for Logic Units
    try {
      await this.setCapabilityOptions("onoff", {
        setable: false, // READ-ONLY: Users cannot toggle
        getable: true,
      });
      this.logger.debug("onoff capability set as read-only");
    } catch (e) {
      this.logger.error("Failed to set onoff options", e);
    }

    // ✅ STEP 4: Continue with normal initialization
    this.numInputs = this.getData().numInputs ?? 2;
    this.availableInputs = this.getAvailableInputIds();
    this.logger.debug(
      `Device initialized with ${this.numInputs} inputs: ${this.availableInputs.join(", ")}`,
      {},
    );

    await this.initializeFormulas();

    // Reset all formulas to prevent old values
    this.formulas.forEach(formula => {
      if (formula.enabled && formula.expression) {
        const required = this.parseExpression(formula.expression);
        if (required.length > 0) {
          formula.result = null;  // TVING null ved oppstart
          this.logger.debug("formula.reset_at_startup", {
            name: formula.name,
            reason: "waiting_for_inputs"
          });
        }
      }
    });
    await this.evaluateAllFormulasInitial();
    this.startTimeoutChecks();

    this.logger.info("device.initialized", {
      name: this.getName(),
      count: this.numInputs,
    });
  }

  areAllInputsDefined(formula) {
    const usedVars = this.getUsedVariables([formula]); // Fra device.js
    return usedVars.every((varLetter) => {
      const inputId = varLetter.toLowerCase();
      const value = formula.inputStates[inputId];
      return value !== undefined && value !== "undefined";
    });
  }
  async migrateOnoffForExistingDevice() {
    this.logger.info(
      "Migrering: Satt onoff = true og setable = false for eksisterende enhet",
    );

    try {
      // 1. Sett onoff = true
      await this.setCapabilityValue("onoff", true);

      // 2. Gjør onoff read-only
      await this.setCapabilityOptions("onoff", {
        setable: false,
        getable: true,
      });

      // 3. Merk som migrert (én gang)
      await this.setStoreValue(BaseLogicUnit.MIGRATION_KEY, true);

      this.logger.info("Migrering fullført: onoff = true, setable = false");
    } catch (err) {
      this.logger.error("Migrering feilet", err);
    }
  }

  async onFlowCondition(args, state, checkType) {
    // DEBUG: Log the condition check details
    this.logger.info("🔍 DEBUG: onFlowCondition called", {
      checkType: checkType,
      formulaId: args.formula?.id,
      formulaName: args.formula?.name,
      cardId: args.cardId,
      allFormulasState: this.formulas.map(f => ({
        id: f.id,
        name: f.name,
        result: f.result,
        timedOut: f.timedOut,
        inputStates: { ...f.inputStates }
      }))
    });

    this.logger.flow(`onFlowCondition called for checkType: '${checkType}'`, {
      formulaId: args.formula?.id,
    });

    if (checkType === "has_error") {
      const hasTimeout = this.formulas.some((f) => f.timedOut === true);
      this.logger.flow(`Condition 'has_any_error' check result: ${hasTimeout}`);
      return hasTimeout;
    }

    const cardIdFromArgs = args.cardId;
    if (
      (cardIdFromArgs === "formula_result_is_lu" ||
        cardIdFromArgs === "formula_has_timed_out_lu") &&
      !args.formula
    ) {
      this.logger.warn(
        "onFlowCondition: _lu card called without formula on LU device. Checking first formula as fallback.",
      );
      if (this.formulas.length > 0) args.formula = this.formulas[0];
      else return false;
    }

    if (!args.formula || !args.formula.id) {
      this.logger.warn(
        "onFlowCondition: No formula specified in args for formula-specific check.",
        {
          checkType,
        },
      );
      return false;
    }
    const formulaId = args.formula.id;
    const formula = this.formulas.find((f) => f.id === formulaId);

    if (!formula) {
      this.logger.warn("onFlowCondition: Invalid formula ID received.", {
        formulaId,
      });
      return false;
    }

    if (checkType === "timeout") {
      const isTimedOut = formula.timedOut === true;
      this.logger.flow(
        `Condition 'formula_has_timed_out' check for '${formula.name}': Result=${isTimedOut}`,
      );
      return isTimedOut;
} else if (typeof checkType === "boolean") {
  const desiredResult = checkType;

  // Hvis formelen ikke er klar (result == null), vent til den blir klar eller til timeout slår inn.
  if (formula.result === null) {
    const maxWaitMs =
      formula.timeout && formula.timeout > 0 ? formula.timeout * 1000 : 30000; // fallback-sikkerhetsnett

    this.logger.debug("condition.waiting_for_formula", {
      formula: formula.name,
      timeoutMs: maxWaitMs,
    });

    await this._waitForFormulaResolution(formula, maxWaitMs);
  }

  // Etter venting: tre muligheter
  if (formula.result === null || formula.timedOut === true) {
    // Viktig: IKKE returner false ved timeout/ubestemt.
    // Vi aborterer noden, så grenen ikke fortsetter "false-veien".
    this.logger.debug("condition.aborting_due_to_timeout_or_undefined", {
      formula: formula.name,
      timedOut: !!formula.timedOut,
    });
    throw new Error("Formula timed out or is still undefined"); // ← aborterer noden
  }

  // Formelen er klar (true/false)
  const currentResult = formula.result;
  const evaluatedResult = currentResult === true;
  const conditionMet = evaluatedResult === desiredResult;

  this.logger.flow(
    `Condition 'formula_result_is' check for '${formula.name}': Current=${currentResult}, Desired=${desiredResult}, Match=${conditionMet}`,
  );

  return conditionMet;

    } else {
      this.logger.error(
        `onFlowCondition: Unknown checkType received: '${checkType}'`,
      );
      return false;
    }
  }

  async onFlowActionSetInput(args, state) {
    // DEBUG: Log a SAFE snapshot of the args (avoid circular JSON)
    const safeArgs = {
      formulaId: args?.formula?.id ?? null,
      formulaName: args?.formula?.name ?? null,
      inputId: args?.input?.id ?? null,
      value: typeof args?.value === 'string' ? args.value : String(args?.value),
      cardId: args?.cardId ?? null
    };
    this.logger.info("🔍 DEBUG: onFlowActionSetInput called", {
      ...safeArgs,
      availableFormulas: this.formulas.map(f => ({ id: f.id, name: f.name }))
    });



    if (!args.formula || !args.input || !args.formula.id || !args.input.id) {
      this.logger.warn("onFlowActionSetInput: Missing formula or input ID.", { safeArgs });

      return false;
    }
    const formulaId = args.formula.id;
    const inputId = args.input.id;
    const value = (args?.value === true || String(args?.value).toLowerCase() === "true");
    this.logger.flow("onFlowActionSetInput: Setting input", {
      formula: formulaId,
      input: inputId,
      value: value,
    });
    try {
      await this.setInputForFormula(formulaId, inputId, value);
      return true;
    } catch (e) {
      this.logger.error(
        `Error during onFlowActionSetInput for ${formulaId}/${inputId}`,
        e,
      );
      return false;
    }
  }

  async onFlowActionEvaluateFormula(args, state) {
    const cardIdFromArgs = args.cardId;
    if (
      (!args.formula || !args.formula.id) &&
      cardIdFromArgs === "evaluate_formula_ld"
    ) {
      this.logger.warn(
        `onFlowActionEvaluateFormula (LD) called on LU device ${this.getName()}. Falling back to re-evaluate all.`,
      );
      return this.onFlowActionReEvaluateAll(args, state);
    }
    
    if (!args.formula || !args.formula.id) {
      const safeArgs = { formulaId: args?.formula?.id ?? null, cardId: args?.cardId ?? null };
      this.logger.warn("onFlowActionEvaluateFormula: Missing formula ID.", { safeArgs });

      return false;
    }
    const formulaId = args.formula.id;
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) {
      this.logger.warn("onFlowActionEvaluateFormula: Invalid formula ID.", {
        formulaId,
      });
      return false;
    }
    this.logger.flow(
      `onFlowActionEvaluateFormula: Evaluating '${formula.name}' (Resetting locks)`,
    );
    try {
      await this.evaluateFormula(formulaId, true);
      return true;
    } catch (e) {
      this.logger.error(
        `Error during onFlowActionEvaluateFormula for ${formulaId}`,
        e,
      );
      return false;
    }
  }

  async onFlowActionClearError(args, state) {
    const cardIdFromArgs = args.cardId;
    if (
      (!args.formula || !args.formula.id) &&
      cardIdFromArgs === "clear_error_ld"
    ) {
      this.logger.warn(
        `onFlowActionClearError (LD) called on LU device ${this.getName()}. Clearing all formula timeouts.`,
      );
      this.formulas.forEach((f) => {
        f.timedOut = false;
      });
      this.logger.info("notifications.error_cleared_all", {});
      return true;
    }
    
    if (!args.formula || !args.formula.id) {
      const safeArgs = { formulaId: args?.formula?.id ?? null, cardId: args?.cardId ?? null };
      this.logger.warn("onFlowActionClearError: Missing formula ID.", { safeArgs });

      return false;
    }
    const formulaId = args.formula.id;
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) {
      this.logger.warn("onFlowActionClearError: Invalid formula ID.", {
        formulaId,
      });
      return false;
    }
    this.logger.flow(
      `onFlowActionClearError: Clearing timeout state for '${formula.name}'`,
    );
    formula.timedOut = false;
    this.logger.info("notifications.error_cleared", {
      formulaName: formula.name,
    });
    return true;
  }

  async onFlowActionReEvaluateAll(args, state) {
    this.logger.flow(
      "onFlowActionReEvaluateAll: Re-evaluating all formulas",
      {},
    );
    try {
      await this.evaluateAllFormulas();
      return true;
    } catch (e) {
      this.logger.error("Error during onFlowActionReEvaluateAll", e);
      return false;
    }
  }

  async setAllInputsFromFlow(args, state) {
    const device = this;
    const valuesJson = args.values;
    this.logger.flow(
      `Executing Action 'set_all_inputs' on device '${device.getName()}'`,
    );
    if (typeof valuesJson !== "string" || valuesJson.trim() === "") {
      this.logger.warn(
        `RunListener set_all_inputs: Empty or invalid JSON provided.`,
      );
      return false;
    }
    try {
      const values = JSON.parse(valuesJson);
      if (typeof values !== "object" || values === null) {
        throw new Error("Parsed JSON is not an object.");
      }
      const promises = [];
      const inputs = device.getAvailableInputIds
        ? device.getAvailableInputIds()
        : [];
      const formulas = Array.isArray(device.formulas) ? device.formulas : [];

      for (const key in values) {
        if (!inputs.includes(key.toLowerCase())) {
          this.logger.warn(
            `setAllInputsFromFlow: JSON contains invalid input key '${key}' for this device.`,
          );
        }
      }

      for (const inputId of inputs) {
        const key = inputId.toUpperCase();
        if (values.hasOwnProperty(key)) {
          formulas.forEach((f) => {
            if (
              f &&
              f.enabled &&
              typeof device.setInputForFormula === "function"
            ) {
              const boolValue =
                values[key] === true ||
                String(values[key]).toLowerCase() === "true";
              promises.push(
                device.setInputForFormula(f.id, inputId, boolValue),
              );
            }
          });
        }
      }
      await Promise.all(promises);
      this.logger.info(`set_all_inputs OK for ${device.getName()}`, {});
      return true;
    } catch (e) {
      this.logger.error(`Error set_all_inputs for ${device.getName()}`, e);
      return false;
    }
  }

  async setInputForAllFormulasFromFlow(args, state) {
    const device = this;
    const inputId = args.input?.id;
    const value = args.value === "true";

    this.logger.flow(
      `Executing Action 'set_input' on device '${device.getName()}'`,
      {
        input: inputId,
        value,
      },
    );

    if (!inputId || !this.availableInputs.includes(inputId)) {
      this.logger.error(
        `RunListener set_input: Invalid or missing input ID: ${inputId}. Available: ${this.availableInputs.join(",")}`,
      );

      return false;
    }

    const promises = [];
    const formulas = Array.isArray(device.formulas) ? device.formulas : [];
    try {
      formulas.forEach((f) => {
        if (f && f.enabled && typeof device.setInputForFormula === "function") {
          promises.push(device.setInputForFormula(f.id, inputId, value));
        }
      });
      await Promise.all(promises);
      this.logger.info(`set_input OK for ${device.getName()}`, {});
      return true;
    } catch (e) {
      this.logger.error(`Error set_input for ${device.getName()}`, e);
      return false;
    }
  }

  getAvailableInputIds() {
    const allInputs = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
    const count = Math.max(
      0,
      Math.min(allInputs.length, Number(this.numInputs) || 0),
    );
    return allInputs.slice(0, count);
  }

  getAvailableInputsUppercase() {
    return this.availableInputs.map((i) => i.toUpperCase());
  }

  initializeFormulas() {
    this.logger.debug("Initializing formulas from settings...", {});
    const settings = this.getSettings();
    try {
      const formulasData = settings.formulas
        ? JSON.parse(settings.formulas)
        : [];
      if (!Array.isArray(formulasData)) {
        this.logger.error("errors.invalid_formula", {
          message: "Formulas setting is not an array.",
        });
        this.formulas = [];
      } else {
        this.formulas = formulasData.map((f) => ({
          id: f.id || `formula_${Math.random().toString(16).slice(2)}`,
          name: f.name || this.homey.__("formula.unnamed_formula"),
          expression: f.expression || "",
          enabled: f.enabled !== false,
          timeout: Number(f.timeout) || 0,
          firstImpression: !!f.firstImpression,
          inputStates: {},
          lockedInputs: {},
          lastInputTime: null,
          result: null,
          timedOut: false,
          sessionComplete: false, // Track if all inputs have been set in current flow session
        }));
      }

      this.formulas.forEach((formula) => {
        this.availableInputs.forEach((id) => {
          formula.inputStates[id] = "undefined";
          formula.lockedInputs[id] = false;
        });
      });
    } catch (e) {
      this.logger.error("errors.invalid_formula", e);
      this.formulas = [];
    }

    if (this.formulas.length === 0) {
      this.logger.warn(
        "No valid formulas found in settings, creating default.",
        {},
      );
      const defaultFormula = {
        id: "formula_1",
        name: this.homey.__
          ? this.homey.__("formula.default_name_alt")
          : this.homey.__("formula.default_name_alt_fallback"),
        expression: this.getDefaultExpression(),
        enabled: true,
        timeout: 0,
        firstImpression: false,
        inputStates: {},
        lockedInputs: {},
        lastInputTime: null,
        result: null,
        timedOut: false,
        sessionComplete: false,
      };

      this.availableInputs.forEach((id) => {
        defaultFormula.inputStates[id] = "undefined";
        defaultFormula.lockedInputs[id] = false;
      });
      this.formulas = [defaultFormula];
    }
    this.logger.info("formula.initialized", {
      count: this.formulas.length,
    });
    this.formulas.forEach((f) =>
      this.logger.debug("formula.details", {
        name: f.name,
        expression: f.expression,
        enabled: f.enabled,
      }),
    );
  }

  getDefaultExpression() {
    const inputs = this.getAvailableInputsUppercase();
    return inputs.length > 0 ? inputs.join(" AND ") : "true";
  }

  getFormulas() {
    return this.formulas
      .filter((f) => f.enabled)
      .map((f) => ({
        id: f.id,
        name: f.name,
        description:
          f.expression ||
          (this.homey.__
            ? this.homey.__("formula.no_expression")
            : "(no expression)"),
      }));
  }

  getInputOptions() {
    return this.getAvailableInputsUppercase().map((input) => ({
      id: input.toLowerCase(),
      name: input,
    }));
  }

  validateExpression(expression) {
    this.logger.debug(`Validating expression: "${expression || ""}"`, {});
    if (
      !expression ||
      typeof expression !== "string" ||
      expression.trim() === ""
    ) {
      return {
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.expression_empty")
          : "Expression empty",
      };
    }
    const upper = expression.toUpperCase();
    const inputs = this.getAvailableInputsUppercase();
    if (!inputs.length && upper.match(/[A-J]/)) {
      return {
        valid: false,
        error: this.homey.__("formula.error_inputs_used_but_none_configured"),
      };
    }
    let validationInputs = inputs.length > 0 ? inputs : ["TEMP_VALIDATION_VAR"];

    const tokenRe = new RegExp(
      `\\b(?:AND|OR|XOR|NOT)\\b|&&|\\|\\||&|\\||\\^|!=|\\*|\\+|!|\\(|\\)|\\b(?:${validationInputs.join("|")})\\b|\\bTRUE\\b|\\bFALSE\\b`,
      "gi",
    );
    const stripped = upper.replace(tokenRe, "").replace(/\s+/g, "");
    if (stripped.length > 0) {
      return {
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.invalid_tokens", {
              tokens: stripped,
            })
          : `Invalid tokens: ${stripped}`,
      };
    }

    let depth = 0;
    for (const ch of upper) {
      if (ch === "(") depth++;
      else if (ch === ")") depth--;
      if (depth < 0)
        return {
          valid: false,
          error: this.homey.__("formula.error_unbalanced_parentheses"),
        };
    }
    if (depth !== 0)
      return {
        valid: false,
        error: "Unbalanced parentheses",
      };

    // Normalize alternative syntax to standard keywords for AST evaluation
    let normalizedExpr = upper
      .replace(/&|\*/g, " AND ") // Convert & or * to AND
      .replace(/\||\+/g, " OR ") // Convert | or + to OR
      .replace(/\^|!=/g, " XOR ") // Convert ^ or != to XOR
      .replace(/!/g, " NOT "); // Convert ! to NOT

    // Clean up extra spaces
    normalizedExpr = normalizedExpr.replace(/\s+/g, " ").trim();

    // Try validating med AST, men med fiktiv FORMULA-ID (namespacet)
    try {
      
      const fakeId = { id: "FAKE_FORMULA_VALIDATION" };
      const nsExpr = this._namespaceExprForFormula(fakeId, normalizedExpr);
      const testVars = {};
      (validationInputs.length ? validationInputs : ["TEMP_VALIDATION_VAR"])
        .forEach((input) => {
          const name = `F_${this._nsId(fakeId)}_${input}`;
          testVars[name] = true;
        });
      this.formulaEvaluator.evaluate(nsExpr, testVars);
      
      return {
        valid: true,
      };
    } catch (e) {
      return {
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.invalid_syntax", {
              message: e.message,
            })
          : `Syntax error: ${e.message}`,
      };
    }
  }

  parseExpression(expression) {
    if (!expression || typeof expression !== "string") return [];
    const inputs = this.getAvailableInputsUppercase();
    if (!inputs.length) return [];
    const varRe = new RegExp(`\\b(${inputs.join("|")})\\b`, "gi");
    const matches = expression.match(varRe);
    return matches ? [...new Set(matches.map((c) => c.toUpperCase()))] : [];
  }

  async setInputForFormula(formulaId, inputId, value) {
    if (this._isDeleting) return null;
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) {
      this.logger.warn("errors.invalid_formula", {
        formulaId,
      });
      return null;
    }
    if (!this.availableInputs.includes(inputId)) {
      this.logger.warn(
        `setInputForFormula: Invalid inputId '${inputId}' for device with ${this.numInputs} inputs.`,
      );
      return null;
    }

    // DEBUG: Log current state of ALL formulas before any changes
    this.logger.info("🔍 DEBUG: setInputForFormula BEFORE changes", {
      targetFormula: formulaId,
      targetInput: inputId,
      targetValue: value,
      allFormulasState: this.formulas.map(f => ({
        id: f.id,
        name: f.name,
        inputStates: { ...f.inputStates },
        lockedInputs: { ...f.lockedInputs },
        sessionComplete: f.sessionComplete,
        firstImpression: f.firstImpression,
        result: f.result
      }))
    });

    // NEW: If firstImpression mode and a complete session exists, reset for new flow run
    if (
      formula.firstImpression === true &&
      formula.sessionComplete === true
    ) {
      this.logger.debug("inputs.new_flow_session", {
        formula: formula.name,
        resettingInputs: this.availableInputs.join(", "),
      });
      // Reset all locks AND input states for new flow session
      this.availableInputs.forEach((id) => {
        formula.lockedInputs[id] = false;
        formula.inputStates[id] = "undefined"; // CRITICAL: Clear old values!
      });
      formula.sessionComplete = false;
      
      // DEBUG: Log state after reset
      this.logger.info("🔍 DEBUG: Formula state AFTER reset", {
        formula: formula.name,
        inputStates: { ...formula.inputStates },
        lockedInputs: { ...formula.lockedInputs }
      });
    }

    if (
      formula.firstImpression === true &&
      formula.lockedInputs[inputId] === true
    ) {
      this.logger.debug("inputs.locked", {
        input: inputId.toUpperCase(),
        formula: formula.name,
      });
      return formula.result;
    }

    const oldValue = formula.inputStates[inputId];
    formula.inputStates[inputId] =
      value === true || value === false ? value : "undefined";
    formula.timedOut = false;

    // DEBUG: Log the specific change
    this.logger.info("🔍 DEBUG: Input value changed", {
      formula: formula.name,
      input: inputId,
      oldValue: oldValue,
      newValue: formula.inputStates[inputId]
    });

    if (
      formula.firstImpression === true &&
      formula.inputStates[inputId] !== "undefined" &&
      formula.lockedInputs[inputId] !== true
    ) {
      formula.lockedInputs[inputId] = true;
      this.logger.debug("inputs.locked_at_value", {
        input: inputId.toUpperCase(),
        value: formula.inputStates[inputId],
        formula: formula.name,
      });
    }

    if (formula.inputStates[inputId] !== "undefined") {
      formula.lastInputTime = Date.now();
    }

    // NEW: Check if all required inputs are now set in firstImpression mode
    if (formula.firstImpression === true && formula.sessionComplete === false) {
      const requiredInputs = this.parseExpression(formula.expression);
      const allSet = requiredInputs.every(
        (inputIdUpper) =>
          formula.inputStates[inputIdUpper.toLowerCase()] !== "undefined"
      );
      if (allSet) {
        formula.sessionComplete = true;
        this.logger.debug("inputs.session_complete", {
          formula: formula.name,
        });
      }
    }

    // DEBUG: Log current state of ALL formulas after changes
    this.logger.info("🔍 DEBUG: setInputForFormula AFTER changes", {
      targetFormula: formulaId,
      allFormulasState: this.formulas.map(f => ({
        id: f.id,
        name: f.name,
        inputStates: { ...f.inputStates },
        lockedInputs: { ...f.lockedInputs },
        sessionComplete: f.sessionComplete,
        firstImpression: f.firstImpression,
        result: f.result
      }))
    });

    return await this.evaluateFormula(formulaId, false);
  }

  async evaluateFormula(formulaId, resetLocks = false) {
    if (this._isDeleting) return null;
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula || !formula.enabled) {
      this.logger.debug("errors.invalid_formula", {
        formulaId,
      });
      return null;
    }

    if (resetLocks === true && formula.firstImpression === true) {
      this.availableInputs.forEach((id) => {
        formula.lockedInputs[id] = false;
      });
      formula.sessionComplete = false;
      this.logger.debug("inputs.unlocked", {
        formula: formula.name,
      });
    }

    const expression = formula.expression;
    if (!expression) {
      this.logger.debug("formula.invalid", {
        formula: formula.name,
        reason: "No expression",
      });
      formula.result = null;
      return null;
    }

    const requiredInputs = this.parseExpression(expression);
    const allDefined = requiredInputs.every(
      (inputIdUpper) =>
        formula.inputStates[inputIdUpper.toLowerCase()] !== "undefined",
    );

    if (!allDefined && requiredInputs.length > 0) {
      const missing = requiredInputs.filter(
        (id) => formula.inputStates[id.toLowerCase()] === "undefined",
      );
      this.logger.debug("inputs.waiting", {
        formula: formula.name,
        missing: missing.join(", "),
      });
      const previous = formula.result;
      formula.result = null;

      return null;
    }

    this.logger.debug("formula.evaluating", { formula: formula.name });

    try {
      
      // 1) Normaliser syntaks (AND/OR/XOR/NOT) uten å endre brukerens tekst
      const normalizedExprBase = expression
        .toUpperCase()
        .replace(/&|\*/g, " AND ") // Convert & or * to AND
        .replace(/\||\+/g, " OR ") // Convert | or + to OR
        .replace(/\^|!=/g, " XOR ") // Convert ^ or != to XOR
        .replace(/!/g, " NOT ") // Convert ! to NOT
        .replace(/\s+/g, " ") // Clean up extra spaces
        .trim();

      
      // 2) Namespac’e input‑tokens (A..J) per formel
      const nsExpr = this._namespaceExprForFormula(formula, normalizedExprBase);
      // 3) Bygg variabler for AST med namespacede nøkler
      const variables = this._buildNsVariables(formula);
      this.logger.formula("formula.evaluating_expression", {
        expression,
        evalExpression: nsExpr
      });
      // 4) Evaluer med AST
      const result = this.formulaEvaluator.evaluate(nsExpr, variables);


      this.logger.debug("formula.evaluated", {
        formula: formula.name,
        result: result,
      });

      const previous = formula.result;
      formula.result = result;
      formula.timedOut = false;

      if (result !== previous && previous !== null) {
        const triggerData = {
          formula: {
            id: formula.id,
            name: formula.name,
          },
        };
        const state = {
          formulaId: formula.id,
        };
        const triggerCardId = result
          ? "formula_changed_to_true"
          : "formula_changed_to_false";
        try {
          this.logger.flow(
            `Triggering flow '${triggerCardId}' for '${formula.name}'`,
          );
          const card = this.homey.flow.getDeviceTriggerCard(triggerCardId);
          await card.trigger(this, triggerData, state);
        } catch (e) {
          if (e.message && e.message.includes("Invalid Flow Card ID")) {
            this.logger.error(
              `FATAL: Trigger card '${triggerCardId}' not found. Check app.json/compose flow definitions.`,
              e,
            );
          } else {
            this.logger.error("flow.trigger_error", e);
          }
        }
      }
      return result;
    } catch (e) {
      // Check if error is due to undefined variable
      if (e.message && e.message.includes("is not defined")) {
        this.logger.debug("formula.waiting_for_input", {
          formula: formula.name,
          error: e.message,
        });
        formula.result = null;
        return null;
      }
      this.logger.error("errors.evaluation_failed", e);
      formula.result = null;
      return null;
    }
  }

  async evaluateAllFormulas() {
    this.logger.info("notifications.reevaluating", {});
    const results = [];
    for (const formula of this.formulas) {
      if (formula.enabled) {
        if (formula.firstImpression) {
          this.availableInputs.forEach((id) => {
            formula.lockedInputs[id] = false;
          });
          formula.sessionComplete = false;
          this.logger.debug("inputs.unlocked", {
            formula: formula.name,
          });
        }
        const result = await this.evaluateFormula(formula.id, false);
        results.push({
          id: formula.id,
          name: formula.name,
          result,
        });
      } else {
        formula.result = null;
      }
    }
    // ✅ Calculate overall state (TRUE if any formula is TRUE)
    const overallDeviceState = this.formulas.some(
      (f) => f.enabled && f.result === true,
    );

    this.logger.debug("formula.evaluated_count", {
      count: results.length,
    });
    return results;
  }

  async evaluateAllFormulasInitial() {
    this.logger.info("evaluation.initial_complete", {});
    let anyEvaluated = false;

    for (const formula of this.formulas) {
      if (!formula.enabled) {
        formula.result = null;
        continue;
      }
      const expr = formula.expression;
      if (!expr) {
        formula.result = null;
        continue;
      }
      const required = this.parseExpression(expr);
      this.logger.debug("debug.checking_formula", {
        name: formula.name,
        expression: expr,
      });
      if (required.length > 0) {
        this.logger.debug("debug.required_inputs", {
          inputs: required.join(", "),
        });
      }

      const allDefined = required.every(
        (id) => formula.inputStates[id.toLowerCase()] !== "undefined",
      );

      if (allDefined || required.length === 0) {
        this.logger.debug("formula.all_inputs_defined", {
          name: formula.name,
        });
        const result = await this.evaluateFormula(formula.id);
        if (result !== null) {
          anyEvaluated = true;
        }
      } else {
        const missing = required.filter(
          (id) => formula.inputStates[id.toLowerCase()] === "undefined",
        );
        this.logger.debug("inputs.waiting", {
          formula: formula.name,
          missing: missing.join(", "),
        });
        formula.result = null;
      }
    }

    const finalState = this.formulas.some(
      (f) => f.enabled && f.result === true,
    );

    this.logger.info(
      `Initial evaluation complete. Final state: ${finalState} (anyEvaluated=${anyEvaluated})`,
    );

    if (
      !anyEvaluated &&
      this.formulas.some(
        (f) =>
          f.enabled &&
          f.expression &&
          this.parseExpression(f.expression).length > 0,
      )
    ) {
      this.logger.warn("evaluation.no_formulas_ready", {});
    }
  }

  getFormulaResult(formulaId) {
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) {
      this.logger.warn("errors.invalid_formula", {
        formulaId,
      });
      return null;
    }
    this.logger.debug("formula.result_debug", {
      name: formula.name,
      id: formulaId,
      result: formula.result,
      type: typeof formula.result,
    });
    return formula.result === true;
  }

  hasFormulaTimedOut(formulaId) {
    const formula = this.formulas.find((f) => f.id === formulaId);
    return !!(formula && formula.timedOut);
  }

  startTimeoutChecks() {
    if (this.timeoutInterval) {
      clearInterval(this.timeoutInterval);
    }
    this.timeoutInterval = setInterval(() => {
      this.checkTimeouts();
    }, 1000);
    this.logger.debug("Started timeout check interval.", {});
  }

  checkTimeouts() {
    const now = Date.now();
    this.formulas.forEach((formula) => {
      if (
        !formula.enabled ||
        formula.timedOut ||
        !formula.timeout ||
        formula.timeout <= 0
      )
        return;

      const requiredInputs = this.parseExpression(formula.expression);
      if (
        requiredInputs.length === 0 ||
        requiredInputs.every(
          (id) => formula.inputStates[id.toLowerCase()] !== "undefined",
        )
      ) {
        return;
      }

      if (!formula.lastInputTime) return;

      const timeoutMs = formula.timeout * 1000;
      const elapsed = now - formula.lastInputTime;

      if (elapsed >= timeoutMs) {
        this.logger.info("formula.timed_out", {
          name: formula.name,
          timeout: formula.timeout,
        });
        formula.timedOut = true;

        const triggerData = {
          formula: {
            id: formula.id,
            name: formula.name,
          },
        };
        const state = {
          formulaId: formula.id,
        };
        try {
          const card =
            this.homey.flow.getDeviceTriggerCard("formula_timeout_lu");
          card
            .trigger(this, triggerData, state)
            .catch((err) => this.logger.error("timeout.error", err));
        } catch (e) {
          if (e.message && e.message.includes("Invalid Flow Card ID")) {
            this.logger.error(
              `FATAL: Trigger card 'formula_timeout' not found. Check app.json/compose flow definitions.`,
              e,
            );
          } else {
            this.logger.error(
              this.homey.__("errors.trigger_timeout_card_failed"),
              e,
            );
          }
        }
      }
    });
  }

  async onSettings({ oldSettings, newSettings, changedKeys }) {
    this.logger.info("settings.changed", {
      keys: changedKeys.join(", "),
    });
    if (this.timeoutInterval) {
      clearInterval(this.timeoutInterval);
      this.timeoutInterval = null;
    }

    // When formulas change, use newSettings directly instead of cached getSettings()
    if (changedKeys.includes("formulas")) {
      this.logger.debug(
        "Initializing formulas from newSettings (not cached)...",
        {},
      );
      try {
        const formulasData = newSettings.formulas
          ? JSON.parse(newSettings.formulas)
          : [];
        if (!Array.isArray(formulasData)) {
          this.logger.error("errors.invalid_formula", {
            message: "Formulas setting is not an array.",
          });
          this.formulas = [];
        } else {
          this.formulas = formulasData.map((f) => ({
            id: f.id || `formula_${Math.random().toString(16).slice(2)}`,
            name: f.name || this.homey.__("formula.unnamed_formula"),
            expression: f.expression || "",
            enabled: f.enabled !== false,
            timeout: Number(f.timeout) || 0,
            firstImpression: !!f.firstImpression,
            inputStates: {},
            lockedInputs: {},
            lastInputTime: null,
            result: null,
            timedOut: false,
            sessionComplete: false,
          }));
        }

        this.formulas.forEach((formula) => {
          this.availableInputs.forEach((id) => {
            formula.inputStates[id] = "undefined";
            formula.lockedInputs[id] = false;
          });
        });
      } catch (e) {
        this.logger.error("errors.invalid_formula", e);
        this.formulas = [];
      }

      if (this.formulas.length === 0) {
        this.logger.warn(
          "No valid formulas found in settings, creating default.",
          {},
        );
        const defaultFormula = {
          id: "formula_1",
          name: this.homey.__
            ? this.homey.__("formula.default_name_alt")
            : this.homey.__("formula.default_name_alt_fallback"),
          expression: this.getDefaultExpression(),
          enabled: true,
          timeout: 0,
          firstImpression: false,
          inputStates: {},
          lockedInputs: {},
          lastInputTime: null,
          result: null,
          timedOut: false,
          sessionComplete: false,
        };

        this.availableInputs.forEach((id) => {
          defaultFormula.inputStates[id] = "undefined";
          defaultFormula.lockedInputs[id] = false;
        });
        this.formulas = [defaultFormula];
      }
      this.logger.info("formula.initialized", {
        count: this.formulas.length,
      });
      this.formulas.forEach((f) =>
        this.logger.debug("formula.details", {
          name: f.name,
          expression: f.expression,
          enabled: f.enabled,
        }),
      );
    } else {
      // For other setting changes, use the normal initializeFormulas
      await this.initializeFormulas();
    }

    if (changedKeys.includes("formulas")) {
      for (const formula of this.formulas) {
        const validation = this.validateExpression(formula.expression);
        if (!validation.valid) {
          this.homey.notifications
            .createNotification({
              excerpt: this.homey.__("notifications.invalid_formula_config", {
                formulaName: formula.name,
                error: validation.error,
              }),
            })
            .catch((e) =>
              this.logger.error(
                this.homey.__("errors.notification_failed_invalid_formula"),
                e,
              ),
            );
          this.logger.error(
            `Invalid formula configuration saved for '${formula.name}'`,
            {
              error: validation.error,
            },
          );
        }
      }
    }

    await this.evaluateAllFormulasInitial();

    this.startTimeoutChecks();
    this.logger.info("settings.applied", {});

    const formatSettings = {};
    let needsFormat = false;
    if (changedKeys.includes("formulas")) {
      try {
        const parsed = JSON.parse(newSettings.formulas);
        const formatted = JSON.stringify(parsed, null, 2);
        if (formatted !== newSettings.formulas) {
          formatSettings.formulas = formatted;
          needsFormat = true;
          this.logger.debug("settings.formatting", {
            type: "formulas",
          });
        }
      } catch (e) {}
    }
    if (needsFormat) {
      setTimeout(async () => {
        try {
          this.logger.debug("settings.applying_formatted", {});
          await this.setSettings(formatSettings);
          this.logger.info("settings.auto_formatted", {});
        } catch (e) {
          this.logger.error("settings.format_failed", e);
        }
      }, 500);
    }
  }

  async onDeleted() {
    this._isDeleting = true;
    this.logger.device("device.deleted_cleanup", {
      name: this.getName(),
    });
    if (this.timeoutInterval) {
      clearInterval(this.timeoutInterval);
      this.timeoutInterval = null;
    }
    this.logger.info("device.cleanup_complete", {
      name: this.getName(),
    });
  }


// --- Async venting for condition-kort ---
_sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

/**
 * Vent til formelen har et bestemt (ikke-null) resultat ELLER har timet ut
 * Avslutter også hvis enheten slettes (onDeleted).
 */
async _waitForFormulaResolution(formula, maxWaitMs) {
  const start = Date.now();
  while (!this._isDeleting) {
    if (formula.result !== null) return;        // fikk true/false
    if (formula.timedOut === true) return;      // timeout slo inn (se checkTimeouts)
    if (Date.now() - start >= maxWaitMs) return; // sikkerhetsnett
    await this._sleep(50);
  }
}

};
--- END: lib/BaseLogicUnit.js ---

--- START: lib/BaseLogicUnit.js.backup (sha256=cc0fb08519d37c7bb4aad500db81ee54b7a9eef9c2d93be714b8599049c0ce07, bytes=32162) ---
"use strict";
const FormulaEvaluator = require('./FormulaEvaluator');
const Homey = require("homey");
const Logger = require("./Logger");

module.exports = class BaseLogicUnit extends Homey.Device {
  async safeSetCapabilityValue(cap, value) {
    if (this._isDeleting) return;
    try {
      if (!this.hasCapability(cap)) {
        return;
      }
      await this.setCapabilityValue(cap, value);
    } catch (e) {
      const msg = e?.message || String(e);
      if (e?.statusCode === 404 || /not\s*found/i.test(msg)) {
        this.logger.debug("device.capability_skip_deleted", {
          capability: cap,
        });
      } else {
        this.logger.error("device.capability_update_failed", {
          capability: cap,
          message: msg,
        });
      }
    }
  }

  async onInit() {
    const driverName = `Device: ${this.driver ? this.driver.id : "unknown-driver"}`;
    this.logger = new Logger(this, driverName);
    this.logger.device("device.initializing", {
      name: this.getName(),
    });

    if (!this.hasCapability("onoff")) {
      await this.addCapability("onoff").catch((e) =>
        this.logger.error("Failed to add 'onoff' capability", e),
      );
    }
    if (!this.hasCapability("alarm_generic")) {
      await this.addCapability("alarm_generic").catch((e) =>
        this.logger.error("Failed to add 'alarm_generic' capability", e),
      );
    }

    this.numInputs = this.getData().numInputs ?? 2;
    this.availableInputs = this.getAvailableInputIds();
    this.logger.debug(
      `Device initialized with ${this.numInputs} inputs: ${this.availableInputs.join(", ")}`,
      {},
    );

    await this.initializeFormulas();
    await this.evaluateAllFormulasInitial();
    this.startTimeoutChecks();

    // REGISTRATION IS REMOVED FROM HERE
    this.logger.info("device.initialized", {
      name: this.getName(),
      count: this.numInputs,
    });
  }

  async onFlowCondition(args, state, checkType) {
    this.logger.flow(`onFlowCondition called for checkType: '${checkType}'`, {
      formulaId: args.formula?.id,
    });

    if (checkType === "has_error") {
      const hasTimeout = this.formulas.some((f) => f.timedOut === true);
      this.logger.flow(`Condition 'has_any_error' check result: ${hasTimeout}`);
      return hasTimeout;
    }

    const cardIdFromArgs = args.cardId;
    if (
      (cardIdFromArgs === "formula_result_is_ld" ||
        cardIdFromArgs === "formula_has_timed_out_ld") &&
      !args.formula
    ) {
      this.logger.warn(
        "onFlowCondition: _ld card called without formula on LU device. Checking first formula as fallback.",
      );
      if (this.formulas.length > 0) args.formula = this.formulas[0];
      else return false;
    }

    if (!args.formula || !args.formula.id) {
      this.logger.warn(
        "onFlowCondition: No formula specified in args for formula-specific check.",
        {
          checkType,
        },
      );
      return false;
    }
    const formulaId = args.formula.id;
    const formula = this.formulas.find((f) => f.id === formulaId);

    if (!formula) {
      this.logger.warn("onFlowCondition: Invalid formula ID received.", {
        formulaId,
      });
      return false;
    }

    if (checkType === "timeout") {
      const isTimedOut = formula.timedOut === true;
      this.logger.flow(
        `Condition 'formula_has_timed_out' check for '${formula.name}': Result=${isTimedOut}`,
      );
      return isTimedOut;
    } else if (typeof checkType === "boolean") {
      const currentResult = formula.result;
      const desiredResult = checkType;
      const evaluatedResult = currentResult === true;
      const conditionMet = evaluatedResult === desiredResult;
      this.logger.flow(
        `Condition 'formula_result_is' check for '${formula.name}': Current=${currentResult}, Desired=${desiredResult}, Match=${conditionMet}`,
      );
      return conditionMet;
    } else {
      this.logger.error(
        `onFlowCondition: Unknown checkType received: '${checkType}'`,
      );
      return false;
    }
  }

  async onFlowActionSetInput(args, state) {
    if (!args.formula || !args.input || !args.formula.id || !args.input.id) {
      this.logger.warn("onFlowActionSetInput: Missing formula or input ID.", {
        args,
      });
      return false;
    }
    const formulaId = args.formula.id;
    const inputId = args.input.id;
    const value = args.value === "true";
    this.logger.flow("onFlowActionSetInput: Setting input", {
      formula: formulaId,
      input: inputId,
      value: value,
    });
    try {
      await this.setInputForFormula(formulaId, inputId, value);
      return true;
    } catch (e) {
      this.logger.error(
        `Error during onFlowActionSetInput for ${formulaId}/${inputId}`,
        e,
      );
      return false;
    }
  }

  async onFlowActionEvaluateFormula(args, state) {
    const cardIdFromArgs = args.cardId;
    if (
      (!args.formula || !args.formula.id) &&
      cardIdFromArgs === "evaluate_formula_ld"
    ) {
      this.logger.warn(
        `onFlowActionEvaluateFormula (LD) called on LU device ${this.getName()}. Falling back to re-evaluate all.`,
      );
      return this.onFlowActionReEvaluateAll(args, state);
    }
    if (!args.formula || !args.formula.id) {
      this.logger.warn("onFlowActionEvaluateFormula: Missing formula ID.", {
        args,
      });
      return false;
    }
    const formulaId = args.formula.id;
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) {
      this.logger.warn("onFlowActionEvaluateFormula: Invalid formula ID.", {
        formulaId,
      });
      return false;
    }
    this.logger.flow(
      `onFlowActionEvaluateFormula: Evaluating '${formula.name}' (Resetting locks)`,
    );
    try {
      await this.evaluateFormula(formulaId, true);
      return true;
    } catch (e) {
      this.logger.error(
        `Error during onFlowActionEvaluateFormula for ${formulaId}`,
        e,
      );
      return false;
    }
  }

  async onFlowActionClearError(args, state) {
    const cardIdFromArgs = args.cardId;
    if (
      (!args.formula || !args.formula.id) &&
      cardIdFromArgs === "clear_error_ld"
    ) {
      this.logger.warn(
        `onFlowActionClearError (LD) called on LU device ${this.getName()}. Clearing all formula timeouts.`,
      );
      this.formulas.forEach((f) => {
        f.timedOut = false;
      });
      this.logger.info("notifications.error_cleared_all", {});
      return true;
    }
    if (!args.formula || !args.formula.id) {
      this.logger.warn("onFlowActionClearError: Missing formula ID.", {
        args,
      });
      return false;
    }
    const formulaId = args.formula.id;
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) {
      this.logger.warn("onFlowActionClearError: Invalid formula ID.", {
        formulaId,
      });
      return false;
    }
    this.logger.flow(
      `onFlowActionClearError: Clearing timeout state for '${formula.name}'`,
    );
    formula.timedOut = false;
    this.logger.info("notifications.error_cleared", {
      formulaName: formula.name,
    });
    return true;
  }

  async onFlowActionReEvaluateAll(args, state) {
    this.logger.flow(
      "onFlowActionReEvaluateAll: Re-evaluating all formulas",
      {},
    );
    try {
      await this.evaluateAllFormulas();
      return true;
    } catch (e) {
      this.logger.error("Error during onFlowActionReEvaluateAll", e);
      return false;
    }
  }

  async setAllInputsFromFlow(args, state) {
    const device = this;
    const valuesJson = args.values;
    this.logger.flow(
      `Executing Action 'set_all_inputs' on device '${device.getName()}'`,
    );
    if (typeof valuesJson !== "string" || valuesJson.trim() === "") {
      this.logger.warn(
        `RunListener set_all_inputs: Empty or invalid JSON provided.`,
      );
      return false;
    }
    try {
      const values = JSON.parse(valuesJson);
      if (typeof values !== "object" || values === null) {
        throw new Error("Parsed JSON is not an object.");
      }
      const promises = [];
      const inputs = device.getAvailableInputIds
        ? device.getAvailableInputIds()
        : [];
      const formulas = Array.isArray(device.formulas) ? device.formulas : [];

      for (const key in values) {
        if (!inputs.includes(key.toLowerCase())) {
          this.logger.warn(
            `setAllInputsFromFlow: JSON contains invalid input key '${key}' for this device.`,
          );
        }
      }

      for (const inputId of inputs) {
        const key = inputId.toUpperCase();
        if (values.hasOwnProperty(key)) {
          formulas.forEach((f) => {
            if (
              f &&
              f.enabled &&
              typeof device.setInputForFormula === "function"
            ) {
              const boolValue =
                values[key] === true ||
                String(values[key]).toLowerCase() === "true";
              promises.push(
                device.setInputForFormula(f.id, inputId, boolValue),
              );
            }
          });
        }
      }
      await Promise.all(promises);
      this.logger.info(`set_all_inputs OK for ${device.getName()}`, {});
      return true;
    } catch (e) {
      this.logger.error(`Error set_all_inputs for ${device.getName()}`, e);
      return false;
    }
  }

  async setInputForAllFormulasFromFlow(args, state) {
    const device = this;
    const inputId = args.input?.id;
    const value = args.value === "true";

    this.logger.flow(
      `Executing Action 'set_input' on device '${device.getName()}'`,
      {
        input: inputId,
        value,
      },
    );

    if (!inputId || !this.availableInputs.includes(inputId)) {
      this.logger.error(
        `RunListener set_input: Invalid or missing input ID: ${inputId}. Available: ${this.availableInputs.join(",")}`,
      );

      return false;
    }

    const promises = [];
    const formulas = Array.isArray(device.formulas) ? device.formulas : [];
    try {
      formulas.forEach((f) => {
        if (f && f.enabled && typeof device.setInputForFormula === "function") {
          promises.push(device.setInputForFormula(f.id, inputId, value));
        }
      });
      await Promise.all(promises);
      this.logger.info(`set_input OK for ${device.getName()}`, {});
      return true;
    } catch (e) {
      this.logger.error(`Error set_input for ${device.getName()}`, e);
      return false;
    }
  }

  getAvailableInputIds() {
    const allInputs = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
    const count = Math.max(
      0,
      Math.min(allInputs.length, Number(this.numInputs) || 0),
    );
    return allInputs.slice(0, count);
  }

  getAvailableInputsUppercase() {
    return this.availableInputs.map((i) => i.toUpperCase());
  }

  initializeFormulas() {
    this.logger.debug("Initializing formulas from settings...", {});
    const settings = this.getSettings();
    try {
      const formulasData = settings.formulas
        ? JSON.parse(settings.formulas)
        : [];
      if (!Array.isArray(formulasData)) {
        this.logger.error("errors.invalid_formula", {
          message: "Formulas setting is not an array.",
        });
        this.formulas = [];
      } else {
        this.formulas = formulasData.map((f) => ({
          id: f.id || `formula_${Math.random().toString(16).slice(2)}`,
          name: f.name || this.homey.__("formula.unnamed_formula"),
          expression: f.expression || "",
          enabled: f.enabled !== false,
          timeout: Number(f.timeout) || 0,
          firstImpression: !!f.firstImpression,
          inputStates: {},
          lockedInputs: {},
          lastInputTime: null,
          result: null,
          timedOut: false,
        }));
      }

      this.formulas.forEach((formula) => {
        this.availableInputs.forEach((id) => {
          formula.inputStates[id] = "undefined";
          formula.lockedInputs[id] = false;
        });
      });
    } catch (e) {
      this.logger.error("errors.invalid_formula", e);
      this.formulas = [];
    }

    if (this.formulas.length === 0) {
      this.logger.warn(
        "No valid formulas found in settings, creating default.",
        {},
      );
      const defaultFormula = {
        id: "formula_1",
        name: this.homey.__
          ? this.homey.__("formula.default_name_alt")
          : this.homey.__("formula.default_name_alt_fallback"),
        expression: this.getDefaultExpression(),
        enabled: true,
        timeout: 0,
        firstImpression: false,
        inputStates: {},
        lockedInputs: {},
        lastInputTime: null,
        result: null,
        timedOut: false,
      };

      this.availableInputs.forEach((id) => {
        defaultFormula.inputStates[id] = "undefined";
        defaultFormula.lockedInputs[id] = false;
      });
      this.formulas = [defaultFormula];
    }
    this.logger.info("formula.initialized", {
      count: this.formulas.length,
    });
    this.formulas.forEach((f) =>
      this.logger.debug("formula.details", {
        name: f.name,
        expression: f.expression,
        enabled: f.enabled,
      }),
    );
  }

  getDefaultExpression() {
    const inputs = this.getAvailableInputsUppercase();
    return inputs.length > 0 ? inputs.join(" AND ") : "true";
  }

  getFormulas() {
    return this.formulas
      .filter((f) => f.enabled)
      .map((f) => ({
        id: f.id,
        name: f.name,
        description:
          f.expression ||
          (this.homey.__
            ? this.homey.__("formula.no_expression")
            : "(no expression)"),
      }));
  }

  getInputOptions() {
    return this.getAvailableInputsUppercase().map((input) => ({
      id: input.toLowerCase(),
      name: input,
    }));
  }

  validateExpression(expression) {
    this.logger.debug(`Validating expression: "${expression || ""}"`, {});
    if (
      !expression ||
      typeof expression !== "string" ||
      expression.trim() === ""
    ) {
      return {
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.expression_empty")
          : "Expression empty",
      };
    }
    const upper = expression.toUpperCase();
    const inputs = this.getAvailableInputsUppercase();
    if (!inputs.length && upper.match(/[A-J]/)) {
      return {
        valid: false,
        error: this.homey.__("formula.error_inputs_used_but_none_configured"),
      };
    }
    let validationInputs = inputs.length > 0 ? inputs : ["TEMP_VALIDATION_VAR"];

    const tokenRe = new RegExp(
      `\\b(?:AND|OR|XOR|NOT)\\b|&&|\\|\\||\\^|!=|\\*|\\+|!|\\(|\\)|\\b(?:${validationInputs.join("|")})\\b|\\bTRUE\\b|\\bFALSE\\b`,
      "gi",
    );
    const stripped = upper.replace(tokenRe, "").replace(/\s+/g, "");
    if (stripped.length > 0) {
      return {
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.invalid_tokens", {
              tokens: stripped,
            })
          : `Invalid tokens: ${stripped}`,
      };
    }

    let depth = 0;
    for (const ch of upper) {
      if (ch === "(") depth++;
      else if (ch === ")") depth--;
      if (depth < 0)
        return {
          valid: false,
          error: this.homey.__("formula.error_unbalanced_parentheses"),
        };
    }
    if (depth !== 0)
      return {
        valid: false,
        error: "Unbalanced parentheses",
      };

    // Attempt to evaluate with dummy values to catch syntax errors
    let testExpr = upper
      .replace(/\bAND\b|&|\*/gi, "&&") // Normalize AND operators
      .replace(/\bOR\b|\||\+/gi, "||") // Normalize OR operators
      .replace(/\bXOR\b|\^|!=/gi, "!=") // Normalize XOR operators (use JS !=)
      .replace(/\bNOT\b|!/gi, "!"); // Normalize NOT operator

    // Replace input letters and TRUE/FALSE with boolean literals
    for (const key of validationInputs) {
      const re = new RegExp(`\\b${key}\\b`, "g");
      testExpr = testExpr.replace(re, "true");
    }
    testExpr = testExpr
      .replace(/\bTRUE\b/g, "true")
      .replace(/\bFALSE\b/g, "false");

    // Try creating a function to catch final syntax errors
    try {
      const fn = new Function(`return ${testExpr};`);
      fn(); // Execute once to be sure
      return {
        valid: true,
      };
    } catch (e) {
      return {
        valid: false,
        error: this.homey.__
          ? this.homey.__("formula.invalid_syntax", {
              message: e.message,
            })
          : `Syntax error: ${e.message}`,
      };
    }
  }

  parseExpression(expression) {
    if (!expression || typeof expression !== "string") return [];
    const inputs = this.getAvailableInputsUppercase();
    if (!inputs.length) return [];
    const varRe = new RegExp(`\\b(${inputs.join("|")})\\b`, "gi");
    const matches = expression.match(varRe);
    return matches ? [...new Set(matches.map((c) => c.toUpperCase()))] : [];
  }

  async setInputForFormula(formulaId, inputId, value) {
    if (this._isDeleting) return null;
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) {
      this.logger.warn("errors.invalid_formula", {
        formulaId,
      });
      return null;
    }
    if (!this.availableInputs.includes(inputId)) {
      this.logger.warn(
        `setInputForFormula: Invalid inputId '${inputId}' for device with ${this.numInputs} inputs.`,
      );
      return null;
    }

    if (
      formula.firstImpression === true &&
      formula.lockedInputs[inputId] === true
    ) {
      this.logger.debug("inputs.locked", {
        input: inputId.toUpperCase(),
        formula: formula.name,
      });
      return formula.result;
    }

    const oldValue = formula.inputStates[inputId];
    formula.inputStates[inputId] =
      value === true || value === false ? value : "undefined";
    formula.timedOut = false;

    if (
      formula.firstImpression === true &&
      formula.inputStates[inputId] !== "undefined" &&
      formula.lockedInputs[inputId] !== true
    ) {
      formula.lockedInputs[inputId] = true;
      this.logger.debug("inputs.locked_at_value", {
        input: inputId.toUpperCase(),
        value: formula.inputStates[inputId],
        formula: formula.name,
      });
    }

    if (formula.inputStates[inputId] !== "undefined") {
      formula.lastInputTime = Date.now();
    }

    return await this.evaluateFormula(formulaId, false);
  }

  async evaluateFormula(formulaId, resetLocks = false) {
    if (this._isDeleting) return null;
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula || !formula.enabled) {
      this.logger.debug("errors.invalid_formula", {
        formulaId,
      });
      return null;
    }

    if (resetLocks === true && formula.firstImpression === true) {
      this.availableInputs.forEach((id) => {
        formula.lockedInputs[id] = false;
      });
      this.logger.debug("inputs.unlocked", {
        formula: formula.name,
      });
    }

    const expression = formula.expression;
    if (!expression) {
      this.logger.debug("formula.invalid", {
        formula: formula.name,
        reason: "No expression",
      });
      formula.result = null;
      return null;
    }

    const requiredInputs = this.parseExpression(expression);
    const allDefined = requiredInputs.every(
      (inputIdUpper) =>
        formula.inputStates[inputIdUpper.toLowerCase()] !== "undefined",
    );

    if (!allDefined && requiredInputs.length > 0) {
      const missing = requiredInputs.filter(
        (id) => formula.inputStates[id.toLowerCase()] === "undefined",
      );
      this.logger.debug("inputs.waiting", {
        formula: formula.name,
        missing: missing.join(", "),
      });
      return formula.result;
    }

    const values = {};
    this.availableInputs.forEach((id) => {
      values[id.toUpperCase()] = formula.inputStates[id];
    });
    this.logger.debug("formula.evaluating", {
      formula: formula.name,
    });

    let evalExpression = expression
      .replace(/\bAND\b|&|\*/gi, "&&")
      .replace(/\bOR\b|\||\+/gi, "||")
      .replace(/\bXOR\b|\^|!=/gi, "!=")
      .replace(/\bNOT\b|!/gi, "!");

    for (const key in values) {
      if (requiredInputs.includes(key) && values[key] !== "undefined") {
        const re = new RegExp(`\\b${key}\\b`, "gi");
        evalExpression = evalExpression.replace(
          re,
          String(values[key] === true),
        );
      }
    }
    evalExpression = evalExpression
      .replace(/\bTRUE\b/gi, "true")
      .replace(/\bFALSE\b/gi, "false");
    this.logger.formula("formula.evaluating_expression", {
      expression: expression,
      evalExpression: evalExpression,
    });

    try {
      const evaluateFn = new Function(`return ${evalExpression};`);
      const result = !!evaluateFn();
      this.logger.debug("formula.evaluated", {
        formula: formula.name,
        result: result,
      });

      const previous = formula.result;
      formula.result = result;
      formula.timedOut = false;

      const overallDeviceState = this.formulas.some(
        (f) => f.enabled && f.result === true,
      );
      const currentOnOffState = this.getCapabilityValue("onoff");

      if (currentOnOffState !== overallDeviceState) {
        await this.safeSetCapabilityValue("onoff", overallDeviceState);
        await this.safeSetCapabilityValue("alarm_generic", overallDeviceState);
        this.logger.info(
          `Overall device capability updated: ${overallDeviceState}`,
        );
      }

      if (result !== previous && previous !== null) {
        const triggerData = {
          formula: {
            id: formula.id,
            name: formula.name,
          },
        };
        const state = {
          formulaId: formula.id,
        };
        const triggerCardId = result
          ? "formula_changed_to_true"
          : "formula_changed_to_false";
        try {
          this.logger.flow(
            `Triggering flow '${triggerCardId}' for '${formula.name}'`,
          );
          const card = this.homey.flow.getDeviceTriggerCard(triggerCardId);
          await card.trigger(this, triggerData, state);
        } catch (e) {
          if (e.message && e.message.includes("Invalid Flow Card ID")) {
            this.logger.error(
              `FATAL: Trigger card '${triggerCardId}' not found. Check app.json/compose flow definitions.`,
              e,
            );
          } else {
            this.logger.error("flow.trigger_error", e);
          }
        }
      }
      return result;
    } catch (e) {
      this.logger.error("errors.evaluation_failed", e);
      formula.result = null;
      return null;
    }
  }

  async evaluateAllFormulas() {
    this.logger.info("notifications.reevaluating", {});
    const results = [];
    for (const formula of this.formulas) {
      if (formula.enabled) {
        if (formula.firstImpression) {
          this.availableInputs.forEach((id) => {
            formula.lockedInputs[id] = false;
          });
          this.logger.debug("inputs.unlocked", {
            formula: formula.name,
          });
        }
        const result = await this.evaluateFormula(formula.id, false);
        results.push({
          id: formula.id,
          name: formula.name,
          result,
        });
      } else {
        formula.result = null;
      }
    }
    const overallDeviceState = this.formulas.some(
      (f) => f.enabled && f.result === true,
    );
    if (this.getCapabilityValue("onoff") !== overallDeviceState) {
      await this.safeSetCapabilityValue("onoff", overallDeviceState);
      await this.safeSetCapabilityValue("alarm_generic", overallDeviceState);
      this.logger.info(
        `Overall device capability updated after re-evaluating all: ${overallDeviceState}`,
      );
    }
    this.logger.debug("formula.evaluated_count", {
      count: results.length,
    });
    return results;
  }

  async evaluateAllFormulasInitial() {
    this.logger.info("evaluation.initial_complete", {});
    let anyEvaluated = false;

    for (const formula of this.formulas) {
      if (!formula.enabled) {
        formula.result = null;
        continue;
      }
      const expr = formula.expression;
      if (!expr) {
        formula.result = null;
        continue;
      }
      const required = this.parseExpression(expr);
      this.logger.debug("debug.checking_formula", {
        name: formula.name,
        expression: expr,
      });
      if (required.length > 0) {
        this.logger.debug("debug.required_inputs", {
          inputs: required.join(", "),
        });
      }

      const allDefined = required.every(
        (id) => formula.inputStates[id.toLowerCase()] !== "undefined",
      );

      if (allDefined || required.length === 0) {
        this.logger.debug("formula.all_inputs_defined", {
          name: formula.name,
        });
        const result = await this.evaluateFormula(formula.id);
        if (result !== null) {
          anyEvaluated = true;
        }
      } else {
        const missing = required.filter(
          (id) => formula.inputStates[id.toLowerCase()] === "undefined",
        );
        this.logger.debug("inputs.waiting", {
          formula: formula.name,
          missing: missing.join(", "),
        });
        formula.result = null;
      }
    }

    const finalState = this.formulas.some(
      (f) => f.enabled && f.result === true,
    );

    this.logger.info(
      `Initial evaluation complete. Final state: ${finalState} (anyEvaluated=${anyEvaluated})`,
    );

    await this.safeSetCapabilityValue("onoff", finalState);
    await this.safeSetCapabilityValue("alarm_generic", finalState);

    if (
      !anyEvaluated &&
      this.formulas.some(
        (f) =>
          f.enabled &&
          f.expression &&
          this.parseExpression(f.expression).length > 0,
      )
    ) {
      this.logger.warn("evaluation.no_formulas_ready", {});
    }
  }

  getFormulaResult(formulaId) {
    const formula = this.formulas.find((f) => f.id === formulaId);
    if (!formula) {
      this.logger.warn("errors.invalid_formula", {
        formulaId,
      });
      return null;
    }
    this.logger.debug("formula.result_debug", {
      name: formula.name,
      id: formulaId,
      result: formula.result,
      type: typeof formula.result,
    });
    return formula.result === true;
  }

  hasFormulaTimedOut(formulaId) {
    const formula = this.formulas.find((f) => f.id === formulaId);
    return !!(formula && formula.timedOut);
  }

  startTimeoutChecks() {
    if (this.timeoutInterval) {
      clearInterval(this.timeoutInterval);
    }
    this.timeoutInterval = setInterval(() => {
      this.checkTimeouts();
    }, 1000);
    this.logger.debug("Started timeout check interval.", {});
  }

  checkTimeouts() {
    const now = Date.now();
    this.formulas.forEach((formula) => {
      if (
        !formula.enabled ||
        formula.timedOut ||
        !formula.timeout ||
        formula.timeout <= 0
      )
        return;

      const requiredInputs = this.parseExpression(formula.expression);
      if (
        requiredInputs.length === 0 ||
        requiredInputs.every(
          (id) => formula.inputStates[id.toLowerCase()] !== "undefined",
        )
      ) {
        return;
      }

      if (!formula.lastInputTime) return;

      const timeoutMs = formula.timeout * 1000;
      const elapsed = now - formula.lastInputTime;

      if (elapsed >= timeoutMs) {
        this.logger.info("formula.timed_out", {
          name: formula.name,
          timeout: formula.timeout,
        });
        formula.timedOut = true;

        const triggerData = {
          formula: {
            id: formula.id,
            name: formula.name,
          },
        };
        const state = {
          formulaId: formula.id,
        };
        try {
          const card = this.homey.flow.getDeviceTriggerCard("formula_timeout");
          card
            .trigger(this, triggerData, state)
            .catch((err) => this.logger.error("timeout.error", err));
        } catch (e) {
          if (e.message && e.message.includes("Invalid Flow Card ID")) {
            this.logger.error(
              `FATAL: Trigger card 'formula_timeout' not found. Check app.json/compose flow definitions.`,
              e,
            );
          } else {
            this.logger.error(
              this.homey.__("errors.trigger_timeout_card_failed"),
              e,
            );
          }
        }
      }
    });
  }

  async onSettings({ oldSettings, newSettings, changedKeys }) {
    this.logger.info("settings.changed", {
      keys: changedKeys.join(", "),
    });
    if (this.timeoutInterval) {
      clearInterval(this.timeoutInterval);
      this.timeoutInterval = null;
    }

    await this.initializeFormulas();

    if (changedKeys.includes("formulas")) {
      for (const formula of this.formulas) {
        const validation = this.validateExpression(formula.expression);
        if (!validation.valid) {
          this.homey.notifications
            .createNotification({
              excerpt: this.homey.__("notifications.invalid_formula_config", {
                formulaName: formula.name,
                error: validation.error,
              }),
            })
            .catch((e) =>
              this.logger.error(
                this.homey.__("errors.notification_failed_invalid_formula"),
                e,
              ),
            );
          this.logger.error(
            `Invalid formula configuration saved for '${formula.name}'`,
            {
              error: validation.error,
            },
          );
        }
      }
    }

    await this.evaluateAllFormulasInitial();

    this.startTimeoutChecks();
    this.logger.info("settings.applied", {});

    const formatSettings = {};
    let needsFormat = false;
    if (changedKeys.includes("formulas")) {
      try {
        const parsed = JSON.parse(newSettings.formulas);
        const formatted = JSON.stringify(parsed, null, 2);
        if (formatted !== newSettings.formulas) {
          formatSettings.formulas = formatted;
          needsFormat = true;
          this.logger.debug("settings.formatting", {
            type: "formulas",
          });
        }
      } catch (e) {}
    }
    if (needsFormat) {
      setTimeout(async () => {
        try {
          this.logger.debug("settings.applying_formatted", {});
          await this.setSettings(formatSettings);
          this.logger.info("settings.auto_formatted", {});
        } catch (e) {
          this.logger.error("settings.format_failed", e);
        }
      }, 500);
    }
  }

  async onDeleted() {
    this._isDeleting = true;
    this.logger.device("device.deleted_cleanup", {
      name: this.getName(),
    });
    if (this.timeoutInterval) {
      clearInterval(this.timeoutInterval);
      this.timeoutInterval = null;
    }
    this.logger.info("device.cleanup_complete", {
      name: this.getName(),
    });
  }
};
--- END: lib/BaseLogicUnit.js.backup ---

--- START: lib/FormulaEvaluator.js (sha256=a085ed2bf42d431328eaaa1e4520c7927359743e8219e2d60fc9eb80b6cd6824, bytes=9631) ---
/**
 * AST-Based Formula Evaluator
 * 
 * Securely evaluates boolean formulas without using eval() or new Function()
 * by parsing expressions into an Abstract Syntax Tree (AST) and evaluating it.
 * 
 * Supported operators:
 * - AND: AND, &&, *, &
 * - OR: OR, ||, +, |
 * - XOR: XOR, ^, !=
 * - NOT: NOT, !
 * 
 * Supported values:
 * - Variables: A-J (case-insensitive)
 * - Literals: TRUE, FALSE, true, false, 1, 0
 * - Parentheses: ( )
 */

class FormulaEvaluator {
  constructor() {
    this.tokens = [];
    this.position = 0;
  }

  /**
   * Tokenize the expression into tokens
   * @param {string} expression - The formula expression to tokenize
   * @returns {Array} Array of tokens
   */
  tokenize(expression) {
    if (!expression || typeof expression !== 'string') {
      throw new Error('Expression must be a non-empty string');
    }

    const tokens = [];
    const expr = expression.trim();
    let i = 0;

    while (i < expr.length) {
      // Skip whitespace
      if (/\s/.test(expr[i])) {
        i++;
        continue;
      }

      // Parentheses
      if (expr[i] === '(') {
        tokens.push({ type: 'LPAREN', value: '(' });
        i++;
        continue;
      }
      if (expr[i] === ')') {
        tokens.push({ type: 'RPAREN', value: ')' });
        i++;
        continue;
      }

      // Two-character operators
      if (i < expr.length - 1) {
        const twoChar = expr.substring(i, i + 2);
        if (twoChar === '&&') {
          tokens.push({ type: 'AND', value: '&&' });
          i += 2;
          continue;
        }
        if (twoChar === '||') {
          tokens.push({ type: 'OR', value: '||' });
          i += 2;
          continue;
        }
        if (twoChar === '!=') {
          tokens.push({ type: 'XOR', value: '!=' });
          i += 2;
          continue;
        }
      }

      // Single-character operators
      if (expr[i] === '&') {
        tokens.push({ type: 'AND', value: '&' });
        i++;
        continue;
      }
      if (expr[i] === '*') {
        tokens.push({ type: 'AND', value: '*' });
        i++;
        continue;
      }
      if (expr[i] === '|') {
        tokens.push({ type: 'OR', value: '|' });
        i++;
        continue;
      }
      if (expr[i] === '+') {
        tokens.push({ type: 'OR', value: '+' });
        i++;
        continue;
      }
      if (expr[i] === '^') {
        tokens.push({ type: 'XOR', value: '^' });
        i++;
        continue;
      }
      if (expr[i] === '!') {
        tokens.push({ type: 'NOT', value: '!' });
        i++;
        continue;
      }

      
      // Keywords and variables (utvidet: [A-Z][A-Z0-9_]*)
      if (/[a-zA-Z]/.test(expr[i])) {

        let word = '';
        while (i < expr.length && /[a-zA-Z0-9_]/.test(expr[i])) {
          word += expr[i];
          i++;
        }

        const upper = word.toUpperCase();
        
        // Keywords
        if (upper === 'AND') {
          tokens.push({ type: 'AND', value: 'AND' });
        } else if (upper === 'OR') {
          tokens.push({ type: 'OR', value: 'OR' });
        } else if (upper === 'XOR') {
          tokens.push({ type: 'XOR', value: 'XOR' });
        } else if (upper === 'NOT') {
          tokens.push({ type: 'NOT', value: 'NOT' });
        } else if (upper === 'TRUE') {
          tokens.push({ type: 'LITERAL', value: true });
        } else if (upper === 'FALSE') {
          tokens.push({ type: 'LITERAL', value: false });
        
        } else if (/^[A-J]$/.test(upper) || /^[A-Z][A-Z0-9_]*$/.test(upper)) {
          // Variabler: enten en enkel A–J, eller et namespacet navn (F_FORMULA_1_A)
          tokens.push({ type: 'VARIABLE', value: upper });
        } else {
          throw new Error(`Invalid identifier: ${word}`);
        }

        continue;
      }

      // Numbers (0 or 1 as boolean literals)
      if (/[0-9]/.test(expr[i])) {
        const num = expr[i];
        if (num === '0') {
          tokens.push({ type: 'LITERAL', value: false });
        } else if (num === '1') {
          tokens.push({ type: 'LITERAL', value: true });
        } else {
          throw new Error(`Invalid number: ${num}. Only 0 and 1 are allowed.`);
        }
        i++;
        continue;
      }

      // Unknown character
      throw new Error(`Unexpected character: ${expr[i]}`);
    }

    return tokens;
  }

  /**
   * Parse tokens into an Abstract Syntax Tree (AST)
   * @param {Array} tokens - Array of tokens from tokenize()
   * @returns {Object} AST root node
   */
  parse(tokens) {
    this.tokens = tokens;
    this.position = 0;

    if (tokens.length === 0) {
      throw new Error('Empty expression');
    }

    const ast = this.parseOr();

    if (this.position < this.tokens.length) {
      throw new Error(`Unexpected token: ${this.tokens[this.position].value}`);
    }

    return ast;
  }

  /**
   * Parse OR expressions (lowest precedence)
   */
  parseOr() {
    let left = this.parseXor();

    while (this.position < this.tokens.length && this.tokens[this.position].type === 'OR') {
      this.position++;
      const right = this.parseXor();
      left = {
        type: 'BinaryOp',
        operator: 'OR',
        left: left,
        right: right
      };
    }

    return left;
  }

  /**
   * Parse XOR expressions
   */
  parseXor() {
    let left = this.parseAnd();

    while (this.position < this.tokens.length && this.tokens[this.position].type === 'XOR') {
      this.position++;
      const right = this.parseAnd();
      left = {
        type: 'BinaryOp',
        operator: 'XOR',
        left: left,
        right: right
      };
    }

    return left;
  }

  /**
   * Parse AND expressions
   */
  parseAnd() {
    let left = this.parseUnary();

    while (this.position < this.tokens.length && this.tokens[this.position].type === 'AND') {
      this.position++;
      const right = this.parseUnary();
      left = {
        type: 'BinaryOp',
        operator: 'AND',
        left: left,
        right: right
      };
    }

    return left;
  }

  /**
   * Parse unary expressions (NOT)
   */
  parseUnary() {
    if (this.position < this.tokens.length && this.tokens[this.position].type === 'NOT') {
      this.position++;
      const operand = this.parseUnary(); // Allow multiple NOTs
      return {
        type: 'UnaryOp',
        operator: 'NOT',
        operand: operand
      };
    }

    return this.parsePrimary();
  }

  /**
   * Parse primary expressions (literals, variables, parentheses)
   */
  parsePrimary() {
    if (this.position >= this.tokens.length) {
      throw new Error('Unexpected end of expression');
    }

    const token = this.tokens[this.position];

    // Parentheses
    if (token.type === 'LPAREN') {
      this.position++;
      const expr = this.parseOr();
      if (this.position >= this.tokens.length || this.tokens[this.position].type !== 'RPAREN') {
        throw new Error('Unbalanced parentheses');
      }
      this.position++;
      return expr;
    }

    // Literals
    if (token.type === 'LITERAL') {
      this.position++;
      return {
        type: 'Literal',
        value: token.value
      };
    }

    // Variables
    if (token.type === 'VARIABLE') {
      this.position++;
      return {
        type: 'Variable',
        name: token.value
      };
    }

    throw new Error(`Unexpected token: ${token.value}`);
  }

  /**
   * Evaluate an AST with given variable values
   * @param {Object} ast - The AST to evaluate
   * @param {Object} variables - Object mapping variable names to boolean values
   * @returns {boolean} The result of the evaluation
   */
  evaluateAST(ast, variables = {}) {
    if (!ast) {
      throw new Error('Invalid AST');
    }

    switch (ast.type) {
      case 'Literal':
        return !!ast.value;

      case 'Variable':
        const val = variables[ast.name];
        // Throw error if variable is not defined - don't treat it as false
        if (val === undefined || val === "undefined") {
          throw new Error(`Variable ${ast.name} is not defined`);
        }
        return !!val;

      case 'UnaryOp':
        if (ast.operator === 'NOT') {
          return !this.evaluateAST(ast.operand, variables);
        }
        throw new Error(`Unknown unary operator: ${ast.operator}`);

      case 'BinaryOp':
        const left = this.evaluateAST(ast.left, variables);
        const right = this.evaluateAST(ast.right, variables);

        switch (ast.operator) {
          case 'AND':
            return left && right;
          case 'OR':
            return left || right;
          case 'XOR':
            return left !== right;
          default:
            throw new Error(`Unknown binary operator: ${ast.operator}`);
        }

      default:
        throw new Error(`Unknown AST node type: ${ast.type}`);
    }
  }

  /**
   * Validate and evaluate an expression
   * @param {string} expression - The formula expression
   * @param {Object} variables - Object mapping variable names to boolean values
   * @returns {boolean} The result of the evaluation
   */
  evaluate(expression, variables = {}) {
    const tokens = this.tokenize(expression);
    const ast = this.parse(tokens);
    return this.evaluateAST(ast, variables);
  }
}

module.exports = FormulaEvaluator;
--- END: lib/FormulaEvaluator.js ---

--- START: lib/Logger.js (sha256=e773213b80dc58ab8ff517e98d03f438a0cfda46f8c43d8a031ce6a01f74a26f, bytes=11782) ---
"use strict";

/**
 * Advanced Logger for Homey Apps
 *
 * NEW: Supports global configuration via loggerConfig.js
 * FIX: Manually performs variable substitution as this.homey.__() fails to do so.
 * FIX (User): Added log level (e.g., [INFO ], [DEBUG]) to the console output.
 * FIX (User): Moved log level to the front of the output.
 * FIX (User): Fixed 'minLevel = 0 || ...' bug.
 * FIX (User): Added config loaded logging and static cache.
 * FIX (User): Moved config log to appear *after* the banner.
 * FIX (User): Fixed bug in _getDefaultConfig catch block return shape.
 * FIX (User): Fixed null-logging in banner().
 * FIX (User): Reverted info() to log as INFO. Code should be explicit.
 */

class Logger {
  static LEVELS = {
    DEBUG: 0,
    INFO: 1,
    WARN: 2,
    ERROR: 3,
    NONE: 4,
  };

  static SYMBOLS = {
    DEBUG: "🔍",
    INFO: "✅",
    WARN: "⚠️",
    ERROR: "❌",
    TIMER: "⏱️",
    FORMULA: "📐",
    INPUT: "📥",
    OUTPUT: "📤",
    DEVICE: "🔌",
    API: "🌐",
    FLOW: "🔄",
  };

  static _globalConfig = null;

  /**
   * Get default configuration
   * Tries to load from loggerConfig.js, falls back to defaults
   * @private
   */
  static _getDefaultConfig() {
    // Use cache if available
    if (Logger._globalConfig) {
      return Logger._globalConfig;
    }

    try {
      const config = require("./loggerConfig");
      Logger._globalConfig = { config: config, source: "custom" };
      return Logger._globalConfig;
    } catch (e) {
      const defaultConfig = {
        defaultLevel: "DEBUG", // ENDRET: Fallback til DEBUG
        categoryLevels: {},
        options: {},
      };
      // --- FIKS: Returner samme objektform som i 'try' ---
      Logger._globalConfig = { config: defaultConfig, source: "default" };
      return Logger._globalConfig;
      // --- SLUTT FIKS ---
    }
  }

  constructor(context, category = "App", options = {}) {
    // --- FIKS I KONSTRUKTØR ---
    // Finner det *ekte* homey-objektet uansett om 'context' er App eller Device
    if (context && context.homey) {
      this.homey = context.homey;
    } else if (context && context.app && context.app.homey) {
      // Fallback
      this.homey = context.app.homey;
    } else {
      console.error(
        `Logger: Could not find 'homey' object on context for category '${category}'.`,
      );
      // Oppretter en dummy for å unngå krasj
      this.homey = {
        app: { log: console.log, error: console.error },
        __: (s) => s, // Returnerer bare nøkkelen
      };
    }
    // --- SLUTT FIKS ---

    this.context = context;
    this.category = category;

    // Load global config
    const { config: globalConfig, source: configSource } =
      Logger._getDefaultConfig();
    this.configSource = configSource; // Lagrer kilden for bruk i banner()

    // Determine log level (priority: options > categoryLevels > defaultLevel)
    let level = options.level;
    if (!level && globalConfig.categoryLevels[category]) {
      level = globalConfig.categoryLevels[category];
    }
    if (!level) {
      level = globalConfig.defaultLevel || "DEBUG"; // ENDRET: Fallback til DEBUG
    }

    this.options = {
      level: level.toUpperCase(),
      timestamps:
        options.timestamps || globalConfig.options.timestamps || false,
      colors: options.colors || globalConfig.options.colors || false,
    }; // --- FIKS: Manglende } lagt til ---

    // --- FIKS: Korrekt sjekk for 0 (DEBUG) ---
    if (Logger.LEVELS[this.options.level] !== undefined) {
      this.minLevel = Logger.LEVELS[this.options.level];
    } else {
      this.minLevel = Logger.LEVELS.DEBUG; // Fallback
    }
    // --- SLUTT FIKS ---

    this.timers = new Map();
  }

  setLevel(level) {
    const upperLevel = level.toUpperCase();
    if (Logger.LEVELS[upperLevel] !== undefined) {
      this.minLevel = Logger.LEVELS[upperLevel];
      this.options.level = upperLevel;
    }
  }

  getLevel() {
    return this.options.level;
  }

  _shouldLog(level) {
    return Logger.LEVELS[level] >= this.minLevel;
  }

  _getPrefix(symbol) {
    return `${symbol} [${this.category}]`;
  }

  _formatMessage(keyOrMessage, data) {
    let message = keyOrMessage; // Start with the original key/message

    // 1. Attempt Translation IF it looks like a key and __ exists
    if (
      typeof keyOrMessage === "string" &&
      keyOrMessage.includes(".") &&
      this.homey &&
      typeof this.homey.__ === "function"
    ) {
      try {
        const translated = this.homey.__(keyOrMessage, data);
        // Use translation ONLY if it's a non-empty string and DIFFERENT from the key
        if (
          typeof translated === "string" &&
          translated.trim() !== "" &&
          translated !== keyOrMessage
        ) {
          message = translated;
        }
        // If translated is null, undefined, empty, or same as key, 'message' remains keyOrMessage
      } catch (e) {
        // If translation throws error, 'message' remains keyOrMessage
        // console.error(`Logger: Error during this.homey.__ for key '${keyOrMessage}'. Using key.`, e);
      }
    }

    // 2. Ensure 'message' is now DEFINITELY a string (fallback if translation failed badly)
    let messageStr = String(message ?? keyOrMessage); // Use keyOrMessage if message became null/undefined

    // 3. Perform Manual Substitution on the resulting string
    if (data && typeof data === "object" && data !== null) {
      try {
        messageStr = messageStr.replace(/\{([^{}]+)\}/g, (match, key) => {
          // Use value from data if exists and is not null/undefined, otherwise keep placeholder
          return data.hasOwnProperty(key) &&
            data[key] !== null &&
            data[key] !== undefined
            ? String(data[key]) // Ensure replacement is a string
            : match;
        });
      } catch (e) {
        console.error(
          `Logger: Manual substitution failed for: "${messageStr}"`,
          e,
        );
        // messageStr remains as it was before substitution attempt
      }
    }

    // Return the final string
    return messageStr;
  }

  _log(level, symbol, keyOrMessage, data) {
    if (!this._shouldLog(level)) {
      return;
    }

    // --- FIKS: Log-nivå lagt til ---
    const levelString = `[${level.padEnd(5)}]`;
    const prefix = this._getPrefix(symbol);
    const formattedMessage = this._formatMessage(keyOrMessage, data);

    try {
      // Bruk ALLTID this.homey.app.log
      // --- FIKS: Flyttet levelString FØRST ---
      this.homey.app.log(levelString, prefix, formattedMessage);
    } catch (error) {
      console.error("Logger internal error:", error);
      console.log(levelString, prefix, formattedMessage); // Fallback til console.log
    }
  }

  _logError(keyOrMessage, error) {
    if (!this._shouldLog("ERROR")) {
      return;
    }

    // --- FIKS: Log-nivå lagt til ---
    const levelString = `[${"ERROR".padEnd(5)}]`;

    const prefix = this._getPrefix(Logger.SYMBOLS.ERROR);

    // Data-objektet kan være gjemt i 'error' hvis det ikke er en ekte Error
    let data = error instanceof Error ? null : error;
    const formattedMessage = this._formatMessage(keyOrMessage, data);

    try {
      // --- FIKS: Flyttet levelString FØRST ---
      this.homey.app.error(levelString, prefix, formattedMessage);
      if (error instanceof Error) {
        this.homey.app.error(error); // Logg stack trace hvis det er en Error
      } else if (data) {
        // Hvis 'error' bare var data, er den allerede i formattedMessage
      }
    } catch (err) {
      console.error("Logger internal error (error):", err);
      console.error(levelString, prefix, formattedMessage);
      if (error) {
        console.error(error);
      }
    }
  }

  debug(message, data) {
    this._log("DEBUG", Logger.SYMBOLS.DEBUG, message, data);
  }

  // --- FIKS: info() logger nå som INFO ---
  info(message, data) {
    this._log("INFO", Logger.SYMBOLS.INFO, message, data);
  }

  warn(message, data) {
    this._log("WARN", Logger.SYMBOLS.WARN, message, data);
  }

  error(message, error) {
    this._logError(message, error);
  }

  formula(message, data) {
    this._log("DEBUG", Logger.SYMBOLS.FORMULA, message, data);
  }

  input(message, data) {
    this._log("DEBUG", Logger.SYMBOLS.INPUT, message, data);
  }

  output(message, data) {
    this._log("DEBUG", Logger.SYMBOLS.OUTPUT, message, data);
  }

  // --- FIKS: device() logger nå som DEBUG ---
  device(message, data) {
    this._log("DEBUG", Logger.SYMBOLS.DEVICE, message, data);
  }

  api(message, data) {
    this._log("DEBUG", Logger.SYMBOLS.API, message, data);
  }

  // --- FIKS: flow() logger nå som DEBUG ---
  flow(message, data) {
    this._log("DEBUG", Logger.SYMBOLS.FLOW, message, data);
  }

  timeStart(label) {
    this.timers.set(label, Date.now());
    if (this._shouldLog("DEBUG")) {
      this._log("DEBUG", Logger.SYMBOLS.TIMER, `Timer started: ${label}`);
    }
  }

  timeEnd(label) {
    const startTime = this.timers.get(label);
    if (!startTime) {
      this.warn(`Timer '${label}' was not started`);
      return 0;
    }

    const duration = Date.now() - startTime;
    this.timers.delete(label);

    if (this._shouldLog("DEBUG")) {
      this._log(
        "DEBUG",
        Logger.SYMBOLS.TIMER,
        `Timer '${label}': ${duration}ms`,
      );
    }

    return duration;
  }

  dump(label, object) {
    if (!this._shouldLog("DEBUG")) {
      return;
    }

    try {
      const formatted = JSON.stringify(object, null, 2);
      this._log("DEBUG", Logger.SYMBOLS.DEBUG, `${label}:\n${formatted}`);
    } catch (error) {
      this._log("DEBUG", Logger.SYMBOLS.DEBUG, `${label}:`, object);
    }
  }

  once(key, level, message, data) {
    if (!this._onceKeys) {
      this._onceKeys = new Set();
    }

    if (this._onceKeys.has(key)) {
      return;
    }

    this._onceKeys.add(key);
    const method = level.toLowerCase();
    if (typeof this[method] === "function") {
      this[method](message, data);
    } else {
      console.warn(
        `Logger: Invalid level "${level}" provided to 'once' method.`,
      );
    }
  }

  child(subCategory) {
    return new Logger(
      this.context,
      `${this.category}:${subCategory}`,
      this.options,
    );
  }

  separator() {
    if (this._shouldLog("DEBUG")) {
      this._log("DEBUG", "", "─".repeat(50));
    }
  }

  banner(message) {
    if (this._shouldLog("INFO")) {
      const line = "═".repeat(message.length + 4);
      // Banner kaller logg-funksjonen direkte for å unngå prefiks
      try {
        this.homey.app.log(line);
        this.homey.app.log(`  ${message}  `);
        this.homey.app.log(line);

        // --- FIKS: Bruker this.homey.app.log direkte ---
        // _log() feilet fordi this.homey.__() ikke var klar for strenger
        // som ikke var locale-nøkler på dette tidlige stadiet.
        if (this.configSource) {
          const configMessage =
            this.configSource === "custom"
              ? "Loaded custom configuration from ./loggerConfig.js"
              : "Using default log settings (./loggerConfig.js not found)";

          // Logger med [INFO] og 🔍-symbolet, som du foreslo
          // Bruker this.homey.app.log direkte for å unngå _formatMessage-feil
          this.homey.app.log(
            `[INFO ] ${Logger.SYMBOLS.DEBUG} [${this.category}]`,
            configMessage,
          );

          // Nullstill, så den ikke logger dette igjen hvis banner() kalles på nytt
          this.configSource = null;
        }
        // --- SLUTT FIKS ---
      } catch (e) {
        console.log(line);
        console.log(`  ${message}  `);
        console.log(line);
      }
    }
  }
}

module.exports = Logger;
--- END: lib/Logger.js ---

--- START: lib/Logger_docs/Logger_minimal_guide.md (sha256=91cb38c5fbf91ca055e761632ffc8096548ac6994bf2e4e3f2d610623d11472e, bytes=5503) ---
# Minimal User Guide for Logger.js

This is a simplified guide to using `Logger.js` in your app.

## 1. Initialization

In your `driver.js` or `device.js`, initialize the logger in the `onInit()` method.

```
// ... import Logger ...
const Logger = require('../../lib/Logger'); // (Adjust path as needed)

class MyDevice extends Homey.Device {
  async onInit() {
    // 1. Initialize the logger
    // 'this' is the device context
    // 'MyCategory' is the name that will appear in logs, e.g., [MyCategory]
    this.logger = new Logger(this, 'MyCategory');

    // 2. Now you can use it
    this.logger.info('Device has initialized');
  }
}
```

## 2. Basic Usage (Key and Data)

The logger uses a `(message, data)` pattern.

`this.logger.info(message, data);`

The `data` object is used *only* to replace `{variables}` in the message string.

### Example A: With Localization (Recommended)

This is the primary way to use the logger.

**File: `locales/en.json`**
```
{
  "device.ready": "Device '{name}' is ready with {count} inputs."
}
```

**File: `driver.js` or `device.js`**
```
// Send the LOCALIZATION KEY, not the translated text
this.logger.info('device.ready', { name: 'My Device', count: 5 });
```
**Output:**`✅ [MyCategory] Device 'My Device' is ready with 5 inputs.`

**Important:** Do not call `this.homey.__()` yourself. Pass the raw key and the data object directly to the logger. The logger will handle the translation and variable substitution internally.

### Example B: Without Localization (Simple Logging)

This works in the exact same way, thanks to the logger's manual substitution fix. The `data` object replaces `{variables}` in the string.
```
let temp = 21.5;
let sensor = 'Living Room';

this.logger.debug('Current temperature for {sensor} is {temp}°C', { temp: temp, sensor: sensor });
```
**Output:**`🔍 [MyCategory] Current temperature for Living Room is 21.5°C`

**Critical Point:** If your message string does *not* contain `{}` placeholders, the `data` object will be ignored (as it's only used for substitution).
```
// DON'T DO THIS: The data object is ignored
this.logger.debug('Checking status...', { status: 'active' });
// Output: 🔍 [MyCategory] Checking status...

// DO THIS:
this.logger.debug('Checking status... (Status: {status})', { status: 'active' });
// Output: 🔍 [MyCategory] Checking status... (Status: active)
```
### Example C: Without Data

If you don't pass a data object, the message is logged as-is.
```
this.logger.info('Checking for updates...');
```
**Output:**`✅ [MyCategory] Checking for updates...`

## 3. Error Logging

`this.logger.error()` is special and has two modes:

### Mode 1: Message + Error Object (Recommended in `catch`)

Pass a simple string (non-localized) and the actual `Error` object as the second argument.
```
try {
  // ... something fails ...
  throw new Error('Network timeout');
} catch (e) {
  this.logger.error('Something went wrong during init', e);
}
```
**Output (two lines):**
```
    ❌ [MyCategory] Something went wrong during init
    ❌ [MyCategory] [Error: Network timeout ...and full stack trace...]
```
The logger automatically prints the full error object and stack trace for you.

### Mode 2: Message with Substitution

If you do *not* pass an `Error` object as the second argument, `error()` works just like `info()`.
```
// locales/en.json: 
// { "errors.load": "Failed to load {file}." }

this.logger.error('errors.load', { file: 'config.json' });
```
**Output (one line, no stack trace):**`❌ [MyCategory] Failed to load config.json`

## 4. Configuration (loggerConfig.js)

The logger automatically looks for a file named `lib/loggerConfig.js` to control log levels.

**File: `lib/loggerConfig.js` (Optional)**
```
module.exports = {
  // Default for all categories not listed below
  // Options: 'DEBUG', 'INFO', 'WARN', 'ERROR', 'NONE'
  defaultLevel: 'INFO',

  // Specific overrides
  categoryLevels: {
    'MyCategory': 'DEBUG', // Show DEBUG logs for this category
    'AnotherDriver': 'WARN'  // Only show warnings and errors
  }
};
```
**Log Level Priority:**

1. **Code:** `new Logger(this, 'MyCat', { level: 'DEBUG' })` (Overrides everything. **Avoid this!**)
2. **Config `categoryLevels`**: (e.g., `'MyCategory': 'DEBUG'`)
3. **Config `defaultLevel`**: (e.g., `'INFO'`)
4. **Logger Default**: (`'INFO'`)

**Recommendation:** **Do not** pass a level in the constructor. Control all levels using the `loggerConfig.js` file.

## 5. Common Methods

| Method | Default Level | Symbol | Description |
| --- | --- | --- | --- |
| `debug(msg, data)` | DEBUG | 🔍 | For detailed troubleshooting. |
| `info(msg, data)` | INFO | ✅ | For general app flow and important events. |
| `warn(msg, data)` | WARN | ⚠️ | For warnings (e.g., missing data, but app continues). |
| `error(msg, err)` | ERROR | ❌ | For errors that stop an operation. |
| `device(msg, data)` | INFO | 🔌 | (INFO Level) For device-specific events (init, delete). |
| `formula(msg, data)` | DEBUG | 📐 | (DEBUG Level) For logging formula calculations. |
| `input(msg, data)` | DEBUG | 📥 | (DEBUG Level) For incoming data. |
| `output(msg, data)` | DEBUG | 📤 | (DEBUG Level) For outgoing data. |
| `api(msg, data)` | DEBUG | 🌐 | (DEBUG Level) For API calls. |
| `flow(msg, data)` | INFO | 🔄 | (INFO Level) For Flow Card activity. |
--- END: lib/Logger_docs/Logger_minimal_guide.md ---

--- START: lib/loggerConfig.js (sha256=9e328e032df0983f1272e22b51e30f724870ff8b74c374e51c0166b678ab7281, bytes=1329) ---
'use strict';

/**
 * Global Logger Configuration for Boolean Toolbox
 *
 * This is the central configuration for all logging in the app.
 * Place this file in: lib/loggerConfig.js
 *
 * USAGE:
 * - Adjust `defaultLevel` to change the standard log level for all modules.
 * - Add specific class names to `categoryLevels` for finer control over individual modules.
 * - The Logger will automatically pick up this file if it exists.
 */
module.exports = {
  // Default log level for any logger not specified below.
  // Options: 'DEBUG', 'INFO', 'WARN', 'ERROR', 'NONE'
  defaultLevel: 'debug',

  // Override log levels for specific categories (class names).
  // This helps in reducing noise or enabling detailed logs for specific parts of the app.
  categoryLevels: {
    // Example: Show detailed logging for a specific driver during debugging.
    // 'MyDeviceName': 'DEBUG',

    // Reduce noise from base classes which are generally stable.
    // 'BaseLogicDriver': 'INFO',
    // 'BaseLogicUnit': 'INFO',

    // Always show important app-level messages.
    // 'App': 'INFO',
  },

  // Global options (rarely needed).
  options: {
    timestamps: false, // Homey already adds timestamps to its logs.
    colors: false,     // Not supported in the Homey development console.
  },
};
--- END: lib/loggerConfig.js ---

--- START: locales/da.json (sha256=1caa63cf9fa56b531868022f21ea2701511c530b2121dbec92050f73ab07e507, bytes=22949) ---
{
  "app": {
    "athom_api_loaded": "athom-api indlæst korrekt",
    "checking_for_error": "Tjekker for fejl. Input: '{textInput}', Har fejl: {hasError}",
    "condition_check": "Betingelsestjek: Formel '{formulaName}' resultat = {result}, tjekker om det er '{expected}'",
    "error_getting_devices": "Fejl ved hentning af enheder for zone {zoneId}:",
    "error_getting_zones": "Fejl ved hentning af zoner:",
    "error_stack": "Fejlstak:",
    "evaluation_finished": "Evaluering afsluttet. Output: {output}",
    "flow_cards_registered": "Flow-kort registreret",
    "formula_not_evaluated": "Betingelse: Formel '{formulaName}' er ikke evalueret endnu (resultat er {result})",
    "found_devices_in_zone": "Fandt {count} enheder i zone {zoneId}",
    "found_zones": "Fandt {count} zoner",
    "getting_devices_for_zone": "Henter enheder for zone-ID: {zoneId}",
    "getting_zones": "Henter tilgængelige zoner...",
    "homey_api_extracted": "HomeyAPI udpakket, type:",
    "homey_api_methods": "HomeyAPI-metoder:",
    "homey_api_not_function": "HomeyAPI.forCurrentHomey er ikke en funktion",
    "initializing_homey_api": "Initialiserer HomeyAPI.forCurrentHomey...",
    "registering_flow_cards": "Registrerer flow-kort...",
    "running_evaluation": "Kører evaluering. Input: {input}, Regler: '{rules}'",
    "value_outside_logic": "Værdi {input} er uden for den definerede logik."
  },
  "capability": {
    "logic_state": {
      "title": "Logisk tilstand"
    }
  },
  "common": {
    "disabled": "Deaktiveret",
    "done": "Færdig",
    "enabled": "Aktiveret",
    "failed": "Mislykkedes",
    "false": "Falsk",
    "info": "Information",
    "loading": "Indlæser...",
    "max": "Maksimum",
    "min": "Minimum",
    "name": "Navn",
    "no": "Nej",
    "off": "Slukket",
    "on": "Tændt",
    "processing": "Behandler...",
    "state": "Status",
    "success": "Succes",
    "true": "Sand",
    "type": "Type",
    "unknown": "Ukendt",
    "value": "Værdi",
    "warning": "Advarsel",
    "yes": "Ja"
  },
  "debug": {
    "checking_formula": "Tjekker formel: {name} (\"{expression}\")",
    "raw_formulas": "Råformler indgang fra indstillinger:",
    "raw_input_links": "Rå input_links fra indstillinger:",
    "required_inputs": "  - Nødvendige indgange: {inputs}"
  },
  "device": {
    "capability_options_failed": "Kunne ikke indstille kapabilitetsindstillinger:",
    "capability_readonly": "Indstil onoff som skrivebeskyttet",
    "capability_skip_deleted": "(sikkert) Spring over {capability} – enheden eksisterer ikke længere.",
    "capability_update_failed": "Kapabilitetsopdatering mislykkedes for {capability}:",
    "capacity_expanded": "Registreret {detected} indgange nødvendige (oprindeligt {original}). Udvider kapasitet.",
    "capacity_updated": "Opdaterer kapacitet: {old} → {new} indgange",
    "cleanup_complete": "Oprydning færdig",
    "deleted_cleanup": "Enhed slettet — rydder op lyttere og timere",
    "deleted_skip_flow": "Enhed slettet, springer over flow-trigger",
    "deleted_skip_update": "Enhed slettet, springer over kapabilitetsopdatering",
    "initialized": "Logisk enhed '{name}' initialiseret med {count} indgange",
    "initializing": "Logisk enhed '{name}' initialiserer.",
    "logic_unit_dynamic_name": "Logisk Enhed",
    "logic_unit_dynamic_name_fallback": "Logisk Enhed",
    "logic_unit_name": "Logisk enhed ({count} indgange)",
    "logic_unit_name_fallback": "Logisk enhed ({count} indgange)",
    "max_input_detected": "Registreret maks indgang: {input} ({count} indgange nødvendige)",
    "ready": "Enhed klar: {name}"
  },
  "devicelinks": {
    "complete": "Enhedsforbindelser færdiggjort",
    "count": "Opsætning af {count} enhedsforbindelser",
    "error_cleanup": "Fejl ved oprydning af lytter:",
    "error_unregister": "Fejl ved afregistrering af lytter:",
    "setting_up": "Opsætning af enhedsforbindelser...",
    "setup_failed": "Kunne ikke opsætte lytter for indgang {input}:",
    "unregistered": "Afregistrerede lytter: {key}"
  },
  "driver": {
    "ensure_unique_failed": "ensureUniqueDeviceName mislykkedes:",
    "ready": "Driver klar",
    "registering_flow_cards": "Registrerer driver flow-kort..."
  },
  "errors": {
    "connection_failed": "Forbindelse mislykkedes",
    "device_not_found": "Enhed ikke fundet",
    "evaluation_failed": "Formelevaluering mislykkedes",
    "generic": "Der opstod en fejl",
    "helper_not_function": "Hjælpefunktion for '{argName}' er ikke en funktion.",
    "invalid_device_instance": "Ugyldig enhedsinstans",
    "invalid_formula": "Ugyldigt formeludtryk",
    "invalid_input": "Ugyldig indgangsværdi",
    "method_missing_on_device": "Metode '{methodName}' mangler på enheden",
    "notification_failed_invalid_formula": "Kunne ikke oprette notifikation for ugyldig formel",
    "permission_denied": "Adgang nægtet",
    "timeout": "Operation timeout",
    "trigger_timeout_card_failed": "Fejl ved hentning/udløsning af formula_timeout-kort",
    "unknown": "Ukendt fejl opstod"
  },
  "evaluation": {
    "initial_complete": "Initial evaluering af alle formler...",
    "no_formulas_ready": "Ingen formler kunne evalueres - venter på indgangsværdier",
    "reevaluating_all": "Gen-evaluerer alle formler (nulstiller låse)...",
    "running_initial": "Kører initial formelevaluering..."
  },
  "flow": {
    "actions": {
      "clear_error_state_lu": {
        "title": "Ryd formel fejlstatus",
        "titleFormatted": "Ryd fejlstatus for formel [[formula]]"
      },
      "clear_error_state_ld": {
        "title": "Ryd formel fejlstatus",
        "titleFormatted": "Ryd fejlstatus"
      },
      "evaluate_all_formula_lu": {
        "title": "Gentag evaluering af alle formler",
        "titleFormatted": "Gentag evaluering af alle formler"
      },
      "evaluate_expression": {
        "title": "Evaluer udtryk",
        "titleFormatted": "Evaluer [[input]] [[op1]] min [[logical_op]] [[op2]] max med regler [[rules]]"
      },
      "evaluate_formula_lu": {
        "title": "Evaluer specifik formel",
        "titleFormatted": "Evaluer formel [[formula]]"
      },
      "evaluate_formula_ld": {
        "title": "Tjek enhedsstatus igen",
        "titleFormatted": "Tjek status igen"
      },
      "reevaluate_formulas": {
        "title": "Gentag evaluering af alle formler",
        "titleFormatted": "Gentag evaluering af alle formler"
      },
      "set_all_inputs_lu": {
        "title": "Indstil alle indgange fra JSON",
        "titleFormatted": "Indstil alle indgange fra JSON: [[values]]"
      },
      "set_input_lu": {
        "title": "Indstil indgangsværdi (alle formler)",
        "titleFormatted": "Indstil indgang [[input]] til [[value]]"
      },
      "set_input_value_lu": {
        "title": "Indstil indgangsværdi for formel",
        "titleFormatted": "Indstil indgang [[input]] til [[value]] for formel [[formula]]"
      }
    },
    "args": {
      "formula": {
        "placeholder": "Vælg formel",
        "title": "Formel"
      },
      "input": {
        "placeholder": "Vælg indgang",
        "title": "Indgang"
      },
      "logical_op": {
        "AND": "OG",
        "OR": "ELLER",
        "title": "Logisk operatør"
      },
      "number_input": {
        "placeholder": "Indtast tal",
        "title": "Indgangsværdi"
      },
      "op1": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Første operatør"
      },
      "op2": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Anden operatør"
      },
      "rules": {
        "placeholder": "min,maks,output;...",
        "title": "Regler"
      },
      "text_input": {
        "placeholder": "Indtast fejlmeddelelse eller token",
        "title": "Fejlmeddelelse"
      },
      "value": {
        "false": "FALSK",
        "title": "Værdi",
        "true": "SAND"
      },
      "values": {
        "placeholder": "{\"A\": true, \"B\": false}",
        "title": "JSON-værdier"
      },
      "what_is": {
        "false": "FALSK",
        "title": "Værdi",
        "true": "SAND"
      }
    },
    "conditions": {
      "formula_has_timed_out_lu": {
        "title": "Formel !{{har|har ikke}} fået timeout",
        "titleFormatted": "Formel [[formula]] !{{har|har ikke}} fået timeout"
      },
      "formula_has_timed_out_ld": {
        "title": "Formel !{{har|har ikke}} fået timeout",
        "titleFormatted": "Formel !{{har|har ikke}} fået timeout"
      },
      "formula_result_is_lu": {
        "title": "Formelresultat er...",
        "titleFormatted": "Formel [[formula]] resultat er [[what_is]]"
      },
      "formula_result_is_ld": {
        "title": "Formelresultat er...",
        "titleFormatted": "Formelresultat er [[what_is]]"
      },
      "has_any_error_lu": {
        "title": "Enhed !{{har|har ingen}} fejl",
        "titleFormatted": "Enhed !{{har|har ingen}} fejl"
      },
      "has_any_error_ld": {
        "title": "Enhed !{{har|har ingen}} fejl",
        "titleFormatted": "Enhed !{{har|har ingen}} fejl"
      },
      "has_error": {
        "title": "!{{Har|Har ingen}} fejl",
        "titleFormatted": "!{{Har|Har ingen}} fejl i [[text_input]]"
      }
    },
    "tokens": {
      "errorMessage": {
        "title": "Fejlmeddelelse"
      },
      "outputValue": {
        "title": "Udgangsværdi"
      },
      "state": {
        "title": "Tilstand"
      }
    },
    "trigger_error": "Fejl ved udløsning af flow:",
    "triggered": "Udløser flow for formel '{name}' ændring til {result}",
    "triggers": {
      "device_state_changed": {
        "hint": "Udløses, når tilstanden for den Logiske Enhed ændres (tænd/sluk)",
        "title": "Tilstand ændret",
        "titleFormatted": "Tilstand ændret til [[state]]"
      },
      "device_state_changed_ld": {
        "hint": "Udløses, når tilstanden for den Logiske Enhed ændres (tænd/sluk)",
        "title": "Tilstand ændret",
        "titleFormatted": "Tilstand ændret"
      },
      "formula_changed_to_false_lu": {
        "title": "Formel ændret til FALSK",
        "titleFormatted": "Formel [[formula]] ændret til FALSK"
      },
      "formula_changed_to_true_lu": {
        "title": "Formel ændret til SAND",
        "titleFormatted": "Formel [[formula]] ændret til SAND"
      },
      "formula_timeout_lu": {
        "title": "Formel fik timeout",
        "titleFormatted": "Formel [[formula]] fik timeout"
      },
      "state_changed_ld": {
        "title": "Tilstand ændret",
        "titleFormatted": "Tilstand ændret"
      }
    }
  },
  "formula": {
    "all_inputs_defined": "Formel '{name}': Alle indgange defineret, evaluerer...",
    "default_name": "Hovedformel",
    "default_name_alt": "Formel 1",
    "default_name_alt_fallback": "Standard Formel",
    "details": "  - {name}: \"{expression}\" (aktiveret: {enabled})",
    "error": "Formelfejl",
    "error_inputs_used_but_none_configured": "Udtrykket bruger indgange, men ingen indgange er konfigureret for denne enhed.",
    "error_no_inputs": "Ingen indgange tilgængelige",
    "error_unbalanced_parentheses": "Ubalancerede parenteser",
    "error_validation": "Formel '{name}': {error}",
    "evaluated": "Formel evalueret",
    "evaluated_count": "Evaluerede {count} formler",
    "evaluating": "Evaluerer formel...",
    "evaluating_expression": "Evaluerer: \"{expression}\" → \"{evalExpression}\"",
    "evaluation": "Evaluering",
    "evaluation_failed": "Kunne ikke evaluere formel '{name}': {message}",
    "expression": "Udtryk",
    "expression_empty": "Udtryk kan ikke være tomt",
    "get_result_not_found": "getFormulaResult: Formel '{id}' ikke fundet",
    "initialized": "Initialiseret {count} formler",
    "input": "Indgang",
    "invalid": "Ugyldig formel",
    "invalid_syntax": "Ugyldig udtrykkssyntaks: {message}",
    "invalid_tokens": "Ugyldige tokens i udtryk: \"{tokens}\"",
    "missing_inputs": "Formel '{name}': Manglende indgange:",
    "name": "Formel",
    "no_expression": "(intet udtryk)",
    "not_found_or_disabled": "Formel '{id}' ikke fundet eller deaktiveret.",
    "output": "Udgang",
    "reinitialized": "Geninitialiseret {count} formler",
    "result": "Formel '{name}' resultat: {result}",
    "result_debug": "getFormulaResult: Formel '{name}' ({id}) resultat = {result} (type: {type})",
    "set_input_error": "setInputForFormula fejl:",
    "syntax_error": "Syntaksfejl i formel",
    "timed_out": "Formel '{name}' fik timeout efter {timeout}s",
    "timeout": "Formelevaluering timeout",
    "unlocked_inputs": "🔓 Låste alle indgange op for formel '{name}'",
    "unnamed_formula": "Navnløs Formel",
    "waiting_for_input": "Formel '{formula}' venter på udefinerede indgange: {error}",
    "waiting_for_inputs": "Formel '{name}': Venter på indgange. Påkrævet: [{required}]"
  },
  "help": {
    "first_impression": "Første indtryk tilstand låser indgange ved deres første modtagne værdi",
    "formula_syntax": "Brug logiske operatorer som OG, ELLER, IKKE til at oprette din formel",
    "input_values": "Indgangsværdier opdateres automatisk, når tilsluttede enheder ændres",
    "timeout_warning": "Hvis en indgang ikke opdateres inden for timeout-perioden, vil den blive markeret"
  },
  "initial": {
    "api_unavailable": "App API ikke tilgængelig til hentning af startværdier",
    "capability_not_found": "[{input}] Kapabilitet {capability} ikke fundet",
    "device_not_found": "[{input}] Enhed ikke fundet",
    "error": "[{input}] Fejl ved hentning af startværdi:",
    "fetching_all": "Henter startværdier for alle indgange...",
    "fetching_input": "[{input}] Henter startværdi...",
    "no_value_waiting": "[{input}] Ingen startværdi fundet - venter på første hændelse",
    "received_value": "[{input}] Modtog startværdi: {value}",
    "value_received": "[{input}] Startværdi: {value} → {boolean}"
  },
  "input_options": {
    "context_specific": "Indgangsindstillinger filtreret for formel: {formula} ({expression})"
  },
  "inputs": {
    "first_impression": "Første indtryk tilstand",
    "label": "Indgang",
    "locked": "Indgang låst",
    "locked_at_value": "🔒 Indgang '{input}' låst til værdi {value} (første indtryk tilstand)",
    "locked_first_impression": "Indgang '{input}' låst for formel '{formula}' (første indtryk tilstand)",
    "setting_value": "Sætter indgang '{input}' til {value} for formel '{formula}' (var: {oldValue})",
    "timeout_detected": "Timeout registreret på indgang",
    "unlocked": "Indgang låst op",
    "unused_warning": "Advarsel: Indgang {input} bruges ikke i nogen formel. Brugte: {usedInputs}",
    "value": "Værdi",
    "waiting": "Venter på indgang..."
  },
  "listener": {
    "api_unavailable": "App API ikke tilgængelig for opsætning af lytter",
    "capability_changed": "[{input}] Kapabilitet '{capability}' ændret: {value} → {boolean}",
    "capability_found": "Enhed har kapabilitet: {capability}",
    "capability_not_exist": "[{input}] Kapabilitet {capability} eksisterer ikke på enhed {device}",
    "device_found": "Fandt enhed: {device}",
    "device_not_found": "[{input}] Enhed {device} ikke fundet",
    "error_setup": "Fejl ved opsætning af lytter for indgang {input}:",
    "event_received": "Hændelse modtaget for indgang {input}",
    "invalid_config": "Ugyldig link-konfiguration for indgang {input}",
    "polling_setup": "[{input}] Opsatte polling for {device} ({capability})",
    "registered": "[{input}] Lytter til enhed {device} kapabilitet {capability}",
    "registering": "Registrerer kapabilitetslytter for {capability}...",
    "setting_up": "Opsætter lytter for indgang {input}"
  },
  "notifications": {
    "device_ready": "Enhed er klar",
    "error_cleared": "Fejlstatus ryddet",
    "error_cleared_all": "Fejlstatus ryddet for alle formler",
    "formula_updated": "Formel opdateret",
    "input_received": "Indgang modtaget",
    "invalid_formula_config": "Ugyldig formel '{formulaName}': {error}",
    "output_changed": "Udgang ændret",
    "reevaluating": "Gentag evaluering af alle formler..."
  },
  "operators": {
    "and": "OG",
    "equal": "Lig med",
    "greater_or_equal": "Større end eller lig med",
    "greater_than": "Større end",
    "less_or_equal": "Mindre end eller lig med",
    "less_than": "Mindre end",
    "not": "IKKE",
    "not_equal": "Ikke lig med",
    "or": "ELLER"
  },
  "pair": {
    "add": "Tilføj enhed",
    "capability_label": "Kapabilitet:",
    "configure": "Konfigurer enhed",
    "configure_all_inputs": "Konfigurer venligst alle indgange først!",
    "configure_inputs_description": "Vælg hvilken enhed og kapabilitet hver indgang skal følge:",
    "configure_inputs_title": "Konfigurer indgange",
    "configured": "Konfigureret",
    "create_device": "[PAIR] create_device kaldt",
    "creating_device": "[PAIR] Opretter enhed:",
    "default_formula_name": "Min Formel",
    "device_label": "Enhed:",
    "device_name_label": "Giv enheden et navn:",
    "device_name_placeholder": "Min logiske enhed",
    "error": "Kunne ikke tilføje enhed",
    "error_button_not_found": "Fuldfør-knap ikke fundet i DOM!",
    "error_completing_setup": "Fejl ved fuldførelse af opsætning: {error}",
    "error_homey_emit_unavailable": "Homey.emit er ikke tilgængelig",
    "error_homey_nextview_unavailable": "Homey.nextView er ikke tilgængelig",
    "error_homey_object_unavailable": "Homey-objekt eller påkrævede funktioner (emit, __) er ikke tilgængelige.",
    "error_i18n_unavailable": "Homey oversættelsesfunktion (__) er ikke tilgængelig.",
    "error_loading": "-- Fejl ved indlæsning --",
    "error_loading_capabilities": "Fejl ved indlæsning af kapabiliteter: {error}",
    "error_loading_initial_data": "Fejl ved indlæsning af startdata: {error}",
    "error_navigating": "Fejl ved navigering: {error}",
    "error_saving_config": "Fejl ved lagring af konfiguration: {error}",
    "error_saving_input_number": "Fejl ved lagring af antal indgange: {error}",
    "error_setting_up_interactions": "Fejl ved opsætning af sideinteraktioner: {error}",
    "error_system_not_ready": "Fejl: Parringssystem er ikke klar.",
    "formula_label": "Indtast formel:",
    "get_devices_error": "[PAIR] FEJL i get_devices_in_zone:",
    "get_devices_in_zone": "[PAIR] get_devices_in_zone kaldt for zone: {zone}",
    "get_num_inputs": "[PAIR] get_num_inputs kaldt",
    "get_zones": "[PAIR] get_zones kaldt",
    "get_zones_error": "[PAIR] FEJL i get_zones:",
    "handlers_registered": "Parring håndteringer registreret",
    "input": "Indgang",
    "inputs_configured": "indgange konfigureret",
    "inputs_range": "Vælg mellem 2 og 10 indgange",
    "intro": "Opret en ny logisk enhed til at evaluere komplekse formler",
    "load_devices_error": "Kunne ikke indlæse enheder for zonen",
    "name": "Enhedsnavn",
    "name_placeholder": "Min logiske enhed",
    "next": "Næste →",
    "no_zones_error": "Ingen zoner fundet. Opret venligst zoner i din Homey først.",
    "not_configured": "Ikke konfigureret",
    "of": "af",
    "save_complete": "Gem og fuldfør",
    "select_capability": "-- Vælg kapabilitet --",
    "select_device": "-- Vælg enhed --",
    "select_device_first": "-- Vælg enhed først --",
    "select_inputs_description": "Hvor mange enheder vil du forbinde til denne logiske enhed?",
    "select_inputs_title": "Vælg antal indgange",
    "select_zone": "-- Vælg zone/rum --",
    "select_zone_first": "-- Vælg zone først --",
    "session_started": "Parring session startet",
    "set_device_formula": "[PAIR] set_device_formula kaldt med: {formula}",
    "set_device_name": "[PAIR] set_device_name kaldt med:",
    "set_input_links": "[PAIR] set_input_links kaldt",
    "set_num_inputs": "[PAIR] set_num_inputs kaldt med data:",
    "status_label": "Status:",
    "success": "Enhed tilføjet",
    "title": "Tilføj logisk enhed",
    "unknown_capability_fallback": "Ukendt Kapabilitet",
    "unknown_device": "Ukendt Enhed",
    "zone_label": "Zone/Rum:"
  },
  "parse": {
    "error_detecting_inputs": "Fejl ved registrering af nødvendige indgange:",
    "error_formulas": "Kunne ikke parse formler:",
    "error_formulas_invalid": "Ugyldigt formler JSON: {message}",
    "error_formulas_json": "Kunne ikke parse formler:",
    "error_input_links": "Kunne ikke parse input_links:",
    "error_input_links_invalid": "Ugyldigt input_links JSON: {message}"
  },
  "polling": {
    "all_inputs": "Afsøger alle tilsluttede enhedsindgange...",
    "api_unavailable": "App API ikke tilgængelig til afsøgning",
    "device_not_found": "Enhed ikke fundet: {device}",
    "failed": "Kunne ikke afsøge {input}:",
    "input": "Afsøger indgang \"{input}\" fra enhed \"{device}\" kapabilitet \"{capability}\"",
    "no_links": "Ingen inputLinks tilgængelige til afsøgning",
    "no_value": "Ingen værdi for {input} ({capability})",
    "value_received": "Afsøgt {input}: {value} → {boolean}"
  },
  "refetch": {
    "fetching_values": "Henter startværdier igen før evaluering...",
    "invoked": "Genhentning og evaluering påkaldt (kilde={source})",
    "no_links": "Ingen input links tilgængelige under genhentning; springer over værdihentning.",
    "parse_failed": "Kunne ikke parse input_links under genhentning:",
    "reason": "Henter indgange igen (årsag: {reason})..."
  },
  "settings": {
    "applied": "Indstillinger anvendt med succes",
    "applying_formatted": "Anvender auto-formaterede indstillinger...",
    "auto_formatted": "Indstillinger auto-formateret",
    "cancel": "Annuller",
    "changed": "Indstillinger ændret:",
    "changed_dynamic": "Indstillinger ændret (dynamisk enhed):",
    "description": "Konfigurer din Boolean Toolbox logisk enhed",
    "error": "Kunne ikke gemme indstillinger",
    "expanded": "Kapacitet udvidet til {numInputs} indgange: {availableInputs}",
    "expanding_capacity": "Udvider kapacitet: {from} -> {to} (årsag: {reason})",
    "expansion_failed": "Kunne ikke auto-udvide kapacitet:",
    "format_failed": "Kunne ikke auto-formatere indstillinger:",
    "formatting": "Vil auto-formatere {type} JSON",
    "reset": "Nulstil til standard",
    "save": "Gem",
    "saved": "Indstillinger gemt",
    "title": "Indstillinger"
  },
  "timeout": {
    "error": "Fejl ved udløsning af timeout:"
  }
}
--- END: locales/da.json ---

--- START: locales/de.json (sha256=592d3c0b164cbc0864372a2862635d7e5893a3707bf6191e67e9ea7d3d0929dc, bytes=24023) ---
{
  "app": {
    "athom_api_loaded": "athom-api erfolgreich geladen",
    "checking_for_error": "Prüfe auf Fehler. Eingabe: '{textInput}', Hat Fehler: {hasError}",
    "condition_check": "Bedingungsprüfung: Formel '{formulaName}' Ergebnis = {result}, prüfe, ob es '{expected}' ist",
    "error_getting_devices": "Fehler beim Abrufen der Geräte für Zone {zoneId}:",
    "error_getting_zones": "Fehler beim Abrufen der Zonen:",
    "error_stack": "Fehler-Stack:",
    "evaluation_finished": "Auswertung abgeschlossen. Ausgabe: {output}",
    "flow_cards_registered": "Flow-Karten registriert",
    "formula_not_evaluated": "Bedingung: Formel '{formulaName}' wurde noch nicht ausgewertet (Ergebnis ist {result})",
    "found_devices_in_zone": "{count} Geräte in Zone {zoneId} gefunden",
    "found_zones": "{count} Zonen gefunden",
    "getting_devices_for_zone": "Geräte für Zonen-ID {zoneId} werden abgerufen",
    "getting_zones": "Verfügbare Zonen werden abgerufen...",
    "homey_api_extracted": "HomeyAPI extrahiert, Typ:",
    "homey_api_methods": "HomeyAPI-Methoden:",
    "homey_api_not_function": "HomeyAPI.forCurrentHomey ist keine Funktion",
    "initializing_homey_api": "Initialisiere HomeyAPI.forCurrentHomey...",
    "registering_flow_cards": "Flow-Karten werden registriert...",
    "running_evaluation": "Führe Auswertung durch. Eingabe: {input}, Regeln: '{rules}'",
    "value_outside_logic": "Wert {input} liegt außerhalb der definierten Logik."
  },
  "capability": {
    "logic_state": {
      "title": "Logikzustand"
    }
  },
  "common": {
    "disabled": "Deaktiviert",
    "done": "Fertig",
    "enabled": "Aktiviert",
    "failed": "Fehlgeschlagen",
    "false": "Falsch",
    "info": "Information",
    "loading": "Lädt...",
    "max": "Maximum",
    "min": "Minimum",
    "name": "Name",
    "no": "Nein",
    "off": "Aus",
    "on": "Ein",
    "processing": "Verarbeitung...",
    "state": "Status",
    "success": "Erfolg",
    "true": "Wahr",
    "type": "Typ",
    "unknown": "Unbekannt",
    "value": "Wert",
    "warning": "Warnung",
    "yes": "Ja"
  },
  "debug": {
    "checking_formula": "Prüfe Formel: {name} (\"{expression}\")",
    "raw_formulas": "Rohe Formeleingabe aus Einstellungen:",
    "raw_input_links": "Rohe input_links aus Einstellungen:",
    "required_inputs": "  - Erforderliche Eingänge: {inputs}"
  },
  "device": {
    "capability_options_failed": "Capability-Optionen konnten nicht gesetzt werden:",
    "capability_readonly": "onoff als schreibgeschützt gesetzt",
    "capability_skip_deleted": "(sicher) Überspringe {capability} – Gerät existiert nicht mehr.",
    "capability_update_failed": "Capability-Update für {capability} fehlgeschlagen:",
    "capacity_expanded": "{detected} Eingänge erkannt (ursprünglich {original}). Kapazität wird erweitert.",
    "capacity_updated": "Kapazität wird aktualisiert: {old} → {new} Eingänge",
    "cleanup_complete": "Bereinigung abgeschlossen",
    "deleted_cleanup": "Gerät gelöscht — Listener & Timer werden bereinigt",
    "deleted_skip_flow": "Gerät gelöscht, überspringe Flow-Auslöser",
    "deleted_skip_update": "Gerät gelöscht, überspringe Capability-Update",
    "initialized": "Logikgerät '{name}' mit {count} Eingängen initialisiert",
    "initializing": "Logikgerät '{name}' wird initialisiert.",
    "logic_unit_dynamic_name": "Logikeinheit",
    "logic_unit_dynamic_name_fallback": "Logikeinheit",
    "logic_unit_name": "Logikeinheit ({count} Eingänge)",
    "logic_unit_name_fallback": "Logikeinheit ({count} Eingänge)",
    "max_input_detected": "Maximaler Eingang erkannt: {input} ({count} Eingänge erforderlich)",
    "ready": "Gerät bereit: {name}"
  },
  "devicelinks": {
    "complete": "Geräteverbindungen eingerichtet",
    "count": "{count} Geräteverbindungen werden eingerichtet",
    "error_cleanup": "Fehler beim Bereinigen des Listeners:",
    "error_unregister": "Fehler beim Deregistrieren des Listeners:",
    "setting_up": "Geräteverbindungen werden eingerichtet...",
    "setup_failed": "Listener für Eingang {input} konnte nicht eingerichtet werden:",
    "unregistered": "Listener deregistriert: {key}"
  },
  "driver": {
    "ensure_unique_failed": "ensureUniqueDeviceName fehlgeschlagen:",
    "ready": "Treiber bereit",
    "registering_flow_cards": "Registriere Treiber-Flow-Karten..."
  },
  "errors": {
    "connection_failed": "Verbindung fehlgeschlagen",
    "device_not_found": "Gerät nicht gefunden",
    "evaluation_failed": "Formelauswertung fehlgeschlagen",
    "generic": "Ein Fehler ist aufgetreten",
    "helper_not_function": "Helferfunktion für '{argName}' ist keine Funktion.",
    "invalid_device_instance": "Ungültige Geräteinstanz",
    "invalid_formula": "Ungültiger Formelausdruck",
    "invalid_input": "Ungültiger Eingabewert",
    "method_missing_on_device": "Methode '{methodName}' fehlt auf dem Gerät",
    "notification_failed_invalid_formula": "Benachrichtigung für ungültige Formel konnte nicht erstellt werden",
    "permission_denied": "Zugriff verweigert",
    "timeout": "Zeitüberschreitung der Operation",
    "trigger_timeout_card_failed": "Fehler beim Abrufen/Auslösen der formula_timeout-Karte",
    "unknown": "Unbekannter Fehler aufgetreten"
  },
  "evaluation": {
    "initial_complete": "Erste Auswertung aller Formeln...",
    "no_formulas_ready": "Keine Formeln konnten ausgewertet werden - warte auf Eingangswerte",
    "reevaluating_all": "Alle Formeln werden neu ausgewertet (Sperren zurückgesetzt)...",
    "running_initial": "Erste Formelauswertung läuft..."
  },
  "flow": {
    "actions": {
      "clear_error_state_lu": {
        "title": "Formel-Fehlerstatus löschen",
        "titleFormatted": "Fehlerstatus für Formel [[formula]] löschen"
      },
      "clear_error_state_ld": {
        "title": "Formel-Fehlerstatus löschen",
        "titleFormatted": "Fehlerstatus löschen"
      },
      "evaluate_all_formula_lu": {
        "title": "Alle Formeln neu bewerten",
        "titleFormatted": "Alle Formeln neu bewerten"
      },
      "evaluate_expression": {
        "title": "Ausdruck auswerten",
        "titleFormatted": "Bewerte [[input]] [[op1]] min [[logical_op]] [[op2]] max mit Regeln [[rules]]"
      },
      "evaluate_formula_lu": {
        "title": "Spezifische Formel auswerten",
        "titleFormatted": "Formel [[formula]] auswerten"
      },
      "evaluate_formula_ld": {
        "title": "Gerätestatus erneut prüfen",
        "titleFormatted": "Status erneut prüfen"
      },
      "reevaluate_formulas": {
        "title": "Alle Formeln neu bewerten",
        "titleFormatted": "Alle Formeln neu bewerten"
      },
      "set_all_inputs_lu": {
        "title": "Alle Eingänge von JSON setzen",
        "titleFormatted": "Alle Eingänge von JSON setzen: [[values]]"
      },
      "set_input_lu": {
        "title": "Eingangswert setzen (alle Formeln)",
        "titleFormatted": "Eingang [[input]] auf [[value]] setzen"
      },
      "set_input_value_lu": {
        "title": "Eingangswert für Formel setzen",
        "titleFormatted": "Eingang [[input]] auf [[value]] für Formel [[formula]] setzen"
      }
    },
    "args": {
      "formula": {
        "placeholder": "Wähle Formel",
        "title": "Formel"
      },
      "input": {
        "placeholder": "Eingang wählen",
        "title": "Eingang"
      },
      "logical_op": {
        "AND": "UND",
        "OR": "ODER",
        "title": "Logischer Operator"
      },
      "number_input": {
        "placeholder": "Nummer eingeben",
        "title": "Eingangswert"
      },
      "op1": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Erster Operator"
      },
      "op2": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Zweiter Operator"
      },
      "rules": {
        "placeholder": "min,max,ausgabe;...",
        "title": "Regeln"
      },
      "text_input": {
        "placeholder": "Fehlermeldung oder Token eingeben",
        "title": "Fehlermeldung"
      },
      "value": {
        "false": "FALSCH",
        "title": "Wert",
        "true": "WAHR"
      },
      "values": {
        "placeholder": "{\"A\": true, \"B\": false}",
        "title": "JSON-Werte"
      },
      "what_is": {
        "false": "FALSCH",
        "title": "Wert",
        "true": "WAHR"
      }
    },
    "conditions": {
      "formula_has_timed_out_lu": {
        "title": "Formel !{{hat|hat nicht}} Zeitüberschreitung",
        "titleFormatted": "Formel [[formula]] !{{hat|hat nicht}} Zeitüberschreitung"
      },
      "formula_has_timed_out_ld": {
        "title": "Formel !{{hat|hat nicht}} Zeitüberschreitung",
        "titleFormatted": "Formel !{{hat|hat nicht}} Zeitüberschreitung"
      },
      "formula_result_is_lu": {
        "title": "Formelergebnis ist...",
        "titleFormatted": "Formel [[formula]] Ergebnis ist [[what_is]]"
      },
      "formula_result_is_ld": {
        "title": "Formelergebnis ist...",
        "titleFormatted": "Formelergebnis ist [[what_is]]"
      },
      "has_any_error_lu": {
        "title": "Gerät !{{hat|hat keinen}} Fehler",
        "titleFormatted": "Gerät !{{hat|hat keinen}} Fehler"
      },
      "has_any_error_ld": {
        "title": "Gerät !{{hat|hat keinen}} Fehler",
        "titleFormatted": "Gerät !{{hat|hat keinen}} Fehler"
      },
      "has_error": {
        "title": "!{{Hat|Hat keinen}} Fehler",
        "titleFormatted": "!{{Hat|Hat keinen}} Fehler in [[text_input]]"
      }
    },
    "tokens": {
      "errorMessage": {
        "title": "Fehlermeldung"
      },
      "outputValue": {
        "title": "Ausgabewert"
      },
      "state": {
        "title": "Zustand"
      }
    },
    "trigger_error": "Fehler beim Auslösen des Flows:",
    "triggered": "Löse Flow aus für Formel '{name}' Änderung zu {result}",
    "triggers": {
      "device_state_changed": {
        "hint": "Wird ausgelöst, wenn sich der Zustand des Logikgeräts ändert (ein/aus)",
        "title": "Zustand geändert",
        "titleFormatted": "Zustand geändert auf [[state]]"
      },
      "device_state_changed_ld": {
        "hint": "Wird ausgelöst, wenn sich der Zustand des Logikgeräts ändert (ein/aus)",
        "title": "Zustand geändert",
        "titleFormatted": "Zustand geändert"
      },
      "formula_changed_to_false_lu": {
        "title": "Formel auf FALSCH geändert",
        "titleFormatted": "Formel [[formula]] auf FALSCH geändert"
      },
      "formula_changed_to_true_lu": {
        "title": "Formel auf WAHR geändert",
        "titleFormatted": "Formel [[formula]] auf WAHR geändert"
      },
      "formula_timeout_lu": {
        "title": "Formel-Zeitüberschreitung",
        "titleFormatted": "Formel [[formula]] Zeitüberschreitung"
      },
      "state_changed_ld": {
        "title": "Zustand geändert",
        "titleFormatted": "Zustand geändert"
      }
    }
  },
  "formula": {
    "all_inputs_defined": "Formel '{name}': Alle Eingänge definiert, Auswertung...",
    "default_name": "Hauptformel",
    "default_name_alt": "Formel 1",
    "default_name_alt_fallback": "Standardformel",
    "details": "  - {name}: \"{expression}\" (aktiviert: {enabled})",
    "error": "Formelfehler",
    "error_inputs_used_but_none_configured": "Ausdruck verwendet Eingänge, aber es sind keine Eingänge für dieses Gerät konfiguriert.",
    "error_no_inputs": "Keine Eingänge verfügbar",
    "error_unbalanced_parentheses": "Unausgeglichene Klammern",
    "error_validation": "Formel '{name}': {error}",
    "evaluated": "Formel ausgewertet",
    "evaluated_count": "{count} Formeln ausgewertet",
    "evaluating": "Formel wird ausgewertet...",
    "evaluating_expression": "Werte aus: \"{expression}\" → \"{evalExpression}\"",
    "evaluation": "Auswertung",
    "evaluation_failed": "Auswertung der Formel '{name}' fehlgeschlagen: {message}",
    "expression": "Ausdruck",
    "expression_empty": "Ausdruck darf nicht leer sein",
    "get_result_not_found": "getFormulaResult: Formel '{id}' nicht gefunden",
    "initialized": "{count} Formeln initialisiert",
    "input": "Eingang",
    "invalid": "Ungültige Formel",
    "invalid_syntax": "Ungültige Ausdruckssyntax: {message}",
    "invalid_tokens": "Ungültige Tokens im Ausdruck: \"{tokens}\"",
    "missing_inputs": "Formel '{name}': Fehlende Eingänge:",
    "name": "Formel",
    "no_expression": "(kein Ausdruck)",
    "not_found_or_disabled": "Formel '{id}' nicht gefunden oder deaktiviert.",
    "output": "Ausgang",
    "reinitialized": "{count} Formeln neu initialisiert",
    "result": "Formel '{name}' Ergebnis: {result}",
    "result_debug": "getFormulaResult: Formel '{name}' ({id}) Ergebnis = {result} (Typ: {type})",
    "set_input_error": "setInputForFormula Fehler:",
    "syntax_error": "Syntaxfehler in Formel",
    "timed_out": "Formel '{name}' Zeitüberschreitung nach {timeout}s",
    "timeout": "Formelauswertung Zeitüberschreitung",
    "unlocked_inputs": "🔓 Alle Eingänge für Formel '{name}' entsperrt",
    "unnamed_formula": "Unbenannte Formel",
    "waiting_for_input": "Formel '{formula}' wartet auf undefinierte Eingänge: {error}",
    "waiting_for_inputs": "Formel '{name}': Warte auf Eingänge. Erforderlich: [{required}]"
  },
  "help": {
    "first_impression": "Der Erster-Eindruck-Modus sperrt Eingänge bei ihrem ersten empfangenen Wert",
    "formula_syntax": "Verwenden Sie logische Operatoren wie UND, ODER, NICHT, um Ihre Formel zu erstellen",
    "input_values": "Eingangswerte werden automatisch aktualisiert, wenn sich verbundene Geräte ändern",
    "timeout_warning": "Wenn ein Eingang nicht innerhalb der Zeitüberschreitung aktualisiert wird, wird er markert"
  },
  "initial": {
    "api_unavailable": "App-API zum Abrufen von Anfangswerten nicht verfügbar",
    "capability_not_found": "[{input}] Capability {capability} nicht gefunden",
    "device_not_found": "[{input}] Gerät nicht gefunden",
    "error": "[{input}] Fehler beim Abrufen des Anfangswerts:",
    "fetching_all": "Abrufen der Anfangswerte für alle Eingänge...",
    "fetching_input": "[{input}] Anfangswert wird abgerufen...",
    "no_value_waiting": "[{input}] Kein Anfangswert gefunden - warte auf erstes Ereignis",
    "received_value": "[{input}] Anfangswert empfangen: {value}",
    "value_received": "[{input}] Anfangswert: {value} → {boolean}"
  },
  "input_options": {
    "context_specific": "Eingabeoptionen gefiltert für Formel: {formula} ({expression})"
  },
  "inputs": {
    "first_impression": "Erster-Eindruck-Modus",
    "label": "Eingang",
    "locked": "Eingang gesperrt",
    "locked_at_value": "🔒 Eingang '{input}' auf Wert {value} gesperrt (Erster-Eindruck-Modus)",
    "locked_first_impression": "Eingang '{input}' für Formel '{formula}' gesperrt (Erster-Eindruck-Modus)",
    "setting_value": "Setze Eingang '{input}' auf {value} für Formel '{formula}' (war: {oldValue})",
    "timeout_detected": "Zeitüberschreitung am Eingang erkannt",
    "unlocked": "Eingang entsperrt",
    "unused_warning": "Warnung: Eingang {input} wird in keiner Formel verwendet. Verwendet: {usedInputs}",
    "value": "Wert",
    "waiting": "Warte auf Eingang..."
  },
  "listener": {
    "api_unavailable": "App-API für Listener-Setup nicht verfügbar",
    "capability_changed": "[{input}] Capability '{capability}' geändert: {value} → {boolean}",
    "capability_found": "Gerät hat Capability: {capability}",
    "capability_not_exist": "[{input}] Capability {capability} existiert nicht auf Gerät {device}",
    "device_found": "Gerät gefunden: {device}",
    "device_not_found": "[{input}] Gerät {device} nicht gefunden",
    "error_setup": "Fehler beim Einrichten des Listeners für Eingang {input}:",
    "event_received": "Ereignis für Eingang {input} empfangen",
    "invalid_config": "Ungültige Link-Konfiguration für Eingang {input}",
    "polling_setup": "[{input}] Polling für {device} ({capability}) eingerichtet",
    "registered": "[{input}] Überwacht Gerät {device} Capability {capability}",
    "registering": "Registriere Capability-Listener für {capability}...",
    "setting_up": "Richte Listener für Eingang {input} ein"
  },
  "notifications": {
    "device_ready": "Gerät ist bereit",
    "error_cleared": "Fehlerstatus gelöscht",
    "error_cleared_all": "Fehlerstatus für alle Formeln gelöscht",
    "formula_updated": "Formel aktualisiert",
    "input_received": "Eingang empfangen",
    "invalid_formula_config": "Ungültige Formel '{formulaName}': {error}",
    "output_changed": "Ausgang geändert",
    "reevaluating": "Alle Formeln werden neu bewertet..."
  },
  "operators": {
    "and": "UND",
    "equal": "Gleich",
    "greater_or_equal": "Größer oder gleich",
    "greater_than": "Größer als",
    "less_or_equal": "Kleiner oder gleich",
    "less_than": "Kleiner als",
    "not": "NICHT",
    "not_equal": "Nicht gleich",
    "or": "ODER"
  },
  "pair": {
    "add": "Gerät hinzufügen",
    "capability_label": "Fähigkeit:",
    "configure": "Gerät konfigurieren",
    "configure_all_inputs": "Bitte konfigurieren Sie zuerst alle Eingänge!",
    "configure_inputs_description": "Wählen Sie aus, welchem Gerät und welcher Fähigkeit jeder Eingang folgen soll:",
    "configure_inputs_title": "Eingänge konfigurieren",
    "configured": "Konfiguriert",
    "create_device": "[PAIR] create_device aufgerufen",
    "creating_device": "[PAIR] Gerät wird erstellt:",
    "default_formula_name": "Meine Formel",
    "device_label": "Gerät:",
    "device_name_label": "Geben Sie dem Gerät einen Namen:",
    "device_name_placeholder": "Mein Logikgerät",
    "error": "Gerät konnte nicht hinzugefügt werden",
    "error_button_not_found": "Fertig-Button im DOM nicht gefunden!",
    "error_completing_setup": "Fehler beim Abschließen der Einrichtung: {error}",
    "error_homey_emit_unavailable": "Homey.emit ist nicht verfügbar",
    "error_homey_nextview_unavailable": "Homey.nextView ist nicht verfügbar",
    "error_homey_object_unavailable": "Homey-Objekt oder erforderliche Funktionen (emit, __) sind nicht verfügbar.",
    "error_i18n_unavailable": "Homey-Übersetzungsfunktion (__) ist nicht verfügbar.",
    "error_loading": "-- Ladefehler --",
    "error_loading_capabilities": "Fehler beim Laden der Fähigkeiten: {error}",
    "error_loading_initial_data": "Fehler beim Laden der Initialdaten: {error}",
    "error_navigating": "Fehler beim Navigieren: {error}",
    "error_saving_config": "Fehler beim Speichern der Konfiguration: {error}",
    "error_saving_input_number": "Fehler beim Speichern der Eingangsanzahl: {error}",
    "error_setting_up_interactions": "Fehler beim Einrichten der Seiteninteraktionen: {error}",
    "error_system_not_ready": "Fehler: Pairing-System nicht bereit.",
    "formula_label": "Formel eingeben:",
    "get_devices_error": "[PAIR] FEHLER in get_devices_in_zone:",
    "get_devices_in_zone": "[PAIR] get_devices_in_zone für Zone aufgerufen: {zone}",
    "get_num_inputs": "[PAIR] get_num_inputs aufgerufen",
    "get_zones": "[PAIR] get_zones aufgerufen",
    "get_zones_error": "[PAIR] FEHLER in get_zones:",
    "handlers_registered": "Pairing-Handler registriert",
    "input": "Eingang",
    "inputs_configured": "Eingänge konfiguriert",
    "inputs_range": "Wählen Sie zwischen 2 und 10 Eingängen",
    "intro": "Erstellen Sie ein neues Logikgerät zur Auswertung komplexer Formeln",
    "load_devices_error": "Geräte für Zone konnten nicht geladen werden",
    "name": "Gerätename",
    "name_placeholder": "Mein Logikgerät",
    "next": "Weiter →",
    "no_zones_error": "Keine Zonen gefunden. Bitte erstellen Sie zuerst Zonen in Ihrem Homey.",
    "not_configured": "Nicht konfiguriert",
    "of": "von",
    "save_complete": "Speichern und abschließen",
    "select_capability": "-- Fähigkeit wählen --",
    "select_device": "-- Gerät wählen --",
    "select_device_first": "-- Zuerst Gerät wählen --",
    "select_inputs_description": "Wie viele Geräte möchten Sie mit diesem Logikgerät verbinden?",
    "select_inputs_title": "Anzahl der Eingänge wählen",
    "select_zone": "-- Zone/Raum wählen --",
    "select_zone_first": "-- Zuerst Zone wählen --",
    "session_started": "Pairing-Sitzung gestartet",
    "set_device_formula": "[PAIR] set_device_formula aufgerufen mit: {formula}",
    "set_device_name": "[PAIR] set_device_name aufgerufen mit:",
    "set_input_links": "[PAIR] set_input_links aufgerufen",
    "set_num_inputs": "[PAIR] set_num_inputs mit Daten aufgerufen:",
    "status_label": "Status:",
    "success": "Gerät erfolgreich hinzugefügt",
    "title": "Logikgerät hinzufügen",
    "unknown_capability_fallback": "Unbekannte Fähigkeit",
    "unknown_device": "Unbekanntes Gerät",
    "zone_label": "Zone/Raum:"
  },
  "parse": {
    "error_detecting_inputs": "Fehler beim Erkennen erforderlicher Eingänge:",
    "error_formulas": "Formeln konnten nicht geparst werden:",
    "error_formulas_invalid": "Ungültiges Formeln-JSON: {message}",
    "error_formulas_json": "Formeln konnten nicht geparst werden:",
    "error_input_links": "input_links konnten nicht geparst werden:",
    "error_input_links_invalid": "Ungültiges input_links-JSON: {message}"
  },
  "polling": {
    "all_inputs": "Abfrage aller verknüpften Geräteeingänge...",
    "api_unavailable": "App-API für Abfrage nicht verfügbar",
    "device_not_found": "Gerät nicht gefunden: {device}",
    "failed": "Abfrage von {input} fehlgeschlagen:",
    "input": "Abfrage von Eingang \"{input}\" von Gerät \"{device}\" Capability \"{capability}\"",
    "no_links": "Keine inputLinks für Abfrage verfügbar",
    "no_value": "Kein Wert für {input} ({capability})",
    "value_received": "Abgefragt {input}: {value} → {boolean}"
  },
  "refetch": {
    "fetching_values": "Rufe Anfangswerte vor der Auswertung erneut ab...",
    "invoked": "Erneutes Abrufen und Auswerten aufgerufen (Quelle={source})",
    "no_links": "Keine Input-Links während des erneuten Abrufens verfügbar; Abrufen von Werten wird übersprungen.",
    "parse_failed": "Parsen von input_links während des erneuten Abrufens fehlgeschlagen:",
    "reason": "Eingänge werden erneut abgerufen (Grund: {reason})..."
  },
  "settings": {
    "applied": "Einstellungen erfolgreich angewendet",
    "applying_formatted": "Wende automatisch formatierte Einstellungen an...",
    "auto_formatted": "Einstellungen automatisch formatiert",
    "cancel": "Abbrechen",
    "changed": "Einstellungen geändert:",
    "changed_dynamic": "Einstellungen geändert (dynamisches Gerät):",
    "description": "Konfigurieren Sie Ihr Boolean Toolbox Logikgerät",
    "error": "Einstellungen konnten nicht gespeichert werden",
    "expanded": "Kapazität auf {numInputs} Eingänge erweitert: {availableInputs}",
    "expanding_capacity": "Erweitere Kapazität: {from} -> {to} (Grund: {reason})",
    "expansion_failed": "Automatische Kapazitätserweiterung fehlgeschlagen:",
    "format_failed": "Automatisches Formatieren der Einstellungen fehlgeschlagen:",
    "formatting": "Wird {type} JSON automatisch formatieren",
    "reset": "Auf Standard zurücksetzen",
    "save": "Speichern",
    "saved": "Einstellungen gespeichert",
    "title": "Einstellungen"
  },
  "timeout": {
    "error": "Fehler beim Auslösen der Zeitüberschreitung:"
  }
}
--- END: locales/de.json ---

--- START: locales/en.json (sha256=99472e75431ef4fdba1c1a8c3d80904a01efaa490d3db610d2f504858fed8588, bytes=22134) ---
{
  "app": {
    "athom_api_loaded": "athom-api loaded successfully",
    "checking_for_error": "Checking for error. Input: '{textInput}', Has error: {hasError}",
    "condition_check": "Condition check: Formula '{formulaName}' result = {result}, checking if it is '{expected}'",
    "error_getting_devices": "Error getting devices for zone {zoneId}:",
    "error_getting_zones": "Error getting zones:",
    "error_stack": "Error stack:",
    "evaluation_finished": "Evaluation finished. Output: {output}",
    "flow_cards_registered": "Flow cards registered",
    "formula_not_evaluated": "Condition: Formula '{formulaName}' has not been evaluated yet (result is {result})",
    "found_devices_in_zone": "Found {count} devices in zone {zoneId}",
    "found_zones": "Found {count} zones",
    "getting_devices_for_zone": "Getting devices for zone ID: {zoneId}",
    "getting_zones": "Getting available zones...",
    "homey_api_extracted": "HomeyAPI extracted, type:",
    "homey_api_methods": "HomeyAPI methods:",
    "homey_api_not_function": "HomeyAPI.forCurrentHomey is not a function",
    "initializing_homey_api": "Initializing HomeyAPI.forCurrentHomey...",
    "registering_flow_cards": "Registering flow cards...",
    "running_evaluation": "Running evaluation. Input: {input}, Rules: '{rules}'",
    "value_outside_logic": "Value {input} is outside the defined logic."
  },
  "capability": {
    "logic_state": {
      "title": "Logic State"
    }
  },
  "common": {
    "disabled": "Disabled",
    "done": "Done",
    "enabled": "Enabled",
    "failed": "Failed",
    "false": "False",
    "info": "Information",
    "loading": "Loading...",
    "max": "Maximum",
    "min": "Minimum",
    "name": "Name",
    "no": "No",
    "off": "Off",
    "on": "On",
    "processing": "Processing...",
    "state": "State",
    "success": "Success",
    "true": "True",
    "type": "Type",
    "unknown": "Unknown",
    "value": "Value",
    "warning": "Warning",
    "yes": "Yes"
  },
  "debug": {
    "checking_formula": "Checking formula: {name} (\"{expression}\")",
    "raw_formulas": "Raw formulas input from settings:",
    "raw_input_links": "Raw input_links from settings:",
    "required_inputs": "  - Required inputs: {inputs}"
  },
  "device": {
    "capability_options_failed": "Could not set capability options:",
    "capability_readonly": "Set onoff as read-only",
    "capability_skip_deleted": "(safe) Skipping {capability} – device no longer exists.",
    "capability_update_failed": "Capability update failed for {capability}:",
    "capacity_expanded": "Detected {detected} inputs needed (originally {original}). Expanding capacity.",
    "capacity_updated": "Updating capacity: {old} → {new} inputs",
    "cleanup_complete": "Cleanup complete",
    "deleted_cleanup": "Device deleted – cleaning up listeners & timers",
    "deleted_skip_flow": "Device deleted, skipping flow trigger",
    "deleted_skip_update": "Device deleted, skipping capability update",
    "initialized": "Logic Device '{name}' initialized with {count} inputs",
    "initializing": "Logic Device '{name}' initializing.",
    "logic_unit_dynamic_name": "Logic Unit",
    "logic_unit_dynamic_name_fallback": "Logic Unit",
    "logic_unit_name": "Logic Unit ({count} inputs)",
    "logic_unit_name_fallback": "Logic Unit ({count} inputs)",
    "max_input_detected": "Detected max input: {input} ({count} inputs needed)",
    "ready": "Device ready: {name}"
  },
  "devicelinks": {
    "complete": "Device links setup complete",
    "count": "Setting up {count} device links",
    "error_cleanup": "Error cleaning up listener:",
    "error_unregister": "Error unregistering listener:",
    "setting_up": "Setting up device links...",
    "setup_failed": "Failed to setup listener for input {input}:",
    "unregistered": "Unregistered listener: {key}"
  },
  "driver": {
    "ensure_unique_failed": "ensureUniqueDeviceName failed:",
    "ready": "Driver ready",
    "registering_flow_cards": "Registering driver flow cards..."
  },
  "errors": {
    "connection_failed": "Connection failed",
    "device_not_found": "Device not found",
    "evaluation_failed": "Formula evaluation failed",
    "generic": "An error occurred",
    "helper_not_function": "Helper function for '{argName}' is not a function.",
    "invalid_device_instance": "Invalid device instance",
    "invalid_formula": "Invalid formula expression",
    "invalid_input": "Invalid input value",
    "method_missing_on_device": "Method '{methodName}' missing on device",
    "notification_failed_invalid_formula": "Failed to create notification for invalid formula",
    "permission_denied": "Permission denied",
    "timeout": "Operation timeout",
    "trigger_timeout_card_failed": "Error getting/triggering formula_timeout card",
    "unknown": "Unknown error occurred"
  },
  "evaluation": {
    "initial_complete": "Initial evaluation of all formulas...",
    "no_formulas_ready": "No formulas could be evaluated - waiting for input values",
    "reevaluating_all": "Re-evaluating all formulas (resetting locks)...",
    "running_initial": "Running initial formula evaluation..."
  },
  "flow": {
    "actions": {
      "clear_error_state_lu": {
        "title": "Clear formula error state",
        "titleFormatted": "Clear error state for formula [[formula]]"
      },
      "clear_error_state_ld": {
        "title": "Clear formula error state",
        "titleFormatted": "Clear formula error state"
      },
      "evaluate_all_formula_lu": {
        "title": "Re-evaluate all formulas",
        "titleFormatted": "Re-evaluate all formulas"
      },
      "evaluate_expression": {
        "title": "Evaluate expression",
        "titleFormatted": "Evaluate [[input]] [[op1]] min [[logical_op]] [[op2]] max with rules [[rules]]"
      },
      "evaluate_formula_lu": {
        "title": "Evaluate specific formula",
        "titleFormatted": "Evaluate formula [[formula]]"
      },
      "evaluate_formula_ld": {
        "title": "Re-check device state",
        "titleFormatted": "Re-check state"
      },
      "reevaluate_formulas": {
        "title": "Re-evaluate all formulas",
        "titleFormatted": "Re-evaluate all formulas"
      },
      "set_all_inputs_lu": {
        "title": "Set all inputs from JSON",
        "titleFormatted": "Set all inputs from JSON: [[values]]"
      },
      "set_input_lu": {
        "title": "Set input value (all formulas)",
        "titleFormatted": "Set input [[input]] to [[value]]"
      },
      "set_input_value_lu": {
        "title": "Set input value for formula",
        "titleFormatted": "Set input [[input]] to [[value]] for formula [[formula]]"
      }
    },
    "args": {
      "formula": {
        "placeholder": "Select formula",
        "title": "Formula"
      },
      "input": {
        "placeholder": "Select input",
        "title": "Input"
      },
      "logical_op": {
        "AND": "AND",
        "OR": "OR",
        "title": "Logical operator"
      },
      "number_input": {
        "placeholder": "Enter number",
        "title": "Input value"
      },
      "op1": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "First operator"
      },
      "op2": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Second operator"
      },
      "rules": {
        "placeholder": "min,max,output;...",
        "title": "Rules"
      },
      "text_input": {
        "placeholder": "Enter error message or token",
        "title": "Error message"
      },
      "value": {
        "false": "FALSE",
        "title": "Value",
        "true": "TRUE"
      },
      "values": {
        "placeholder": "{\"A\": true, \"B\": false}",
        "title": "JSON values"
      },
      "what_is": {
        "false": "FALSE",
        "title": "Value",
        "true": "TRUE"
      }
    },
    "conditions": {
      "formula_has_timed_out_lu": {
        "title": "Formula !{{has|has not}} timed out",
        "titleFormatted": "Formula [[formula]] !{{has|has not}} timed out"
      },
      "formula_has_timed_out_ld": {
        "title": "Formula !{{has|has not}} timed out",
        "titleFormatted": "Formula !{{has|has not}} timed out"
      },
      "formula_result_is_lu": {
        "title": "Formula result is...",
        "titleFormatted": "Formula [[formula]] result is [[what_is]]"
      },
      "formula_result_is_ld": {
        "title": "Formula result is...",
        "titleFormatted": "Formula result is [[what_is]]"
      },
      "has_any_error_lu": {
        "title": "Device !{{has|has no}} error",
        "titleFormatted": "Device !{{has|has no}} error"
      },
      "has_any_error_ld": {
        "title": "Device !{{has|has no}} error",
        "titleFormatted": "Device !{{has|has no}} error"
      },
      "has_error": {
        "title": "!{{Has|Has no}} error",
        "titleFormatted": "!{{Has|Has no}} error in [[text_input]]"
      }
    },
    "tokens": {
      "errorMessage": {
        "title": "Error message"
      },
      "outputValue": {
        "title": "Output value"
      },
      "state": {
        "title": "State"
      }
    },
    "trigger_error": "Error triggering flow:",
    "triggered": "Triggering flow for formula '{name}' change to {result}",
    "triggers": {
      "device_state_changed": {
        "hint": "Triggers when the Logic Device state changes (on/off)",
        "title": "State changed"
      },
      "device_state_changed_ld": {
        "hint": "Triggers when the Logic Device state changes (on/off)",
        "title": "State changed",
        "titleFormatted": "State changed"
      },
      "formula_changed_to_false_lu": {
        "title": "Formula changed to FALSE",
        "titleFormatted": "Formula [[formula]] changed to FALSE"
      },
      "formula_changed_to_true_lu": {
        "title": "Formula changed to TRUE",
        "titleFormatted": "Formula [[formula]] changed to TRUE"
      },
      "formula_timeout_lu": {
        "title": "Formula timed out",
        "titleFormatted": "Formula [[formula]] timed out"
      },
      "state_changed_ld": {
        "title": "State changed",
        "titleFormatted": "State changed"
      }
    }
  },
  "formula": {
    "all_inputs_defined": "Formula '{name}': All inputs defined, evaluating...",
    "default_name": "Main Formula",
    "default_name_alt": "Formula 1",
    "default_name_alt_fallback": "Default Formula",
    "details": "  - {name}: \"{expression}\" (enabled: {enabled})",
    "error": "Formula error",
    "error_inputs_used_but_none_configured": "Expression uses inputs, but no inputs are configured for this device.",
    "error_no_inputs": "No inputs available",
    "error_unbalanced_parentheses": "Unbalanced parentheses",
    "error_validation": "Formula '{name}': {error}",
    "evaluated": "Formula evaluated",
    "evaluated_count": "Evaluated {count} formulas",
    "evaluating": "Evaluating formula...",
    "evaluating_expression": "Evaluating: \"{expression}\" → \"{evalExpression}\"",
    "evaluation": "Evaluation",
    "evaluation_failed": "Failed to evaluate formula '{name}': {message}",
    "expression": "Expression",
    "expression_empty": "Expression cannot be empty",
    "get_result_not_found": "getFormulaResult: Formula '{id}' not found",
    "initialized": "Initialized {count} formulas",
    "input": "Input",
    "invalid": "Invalid formula",
    "invalid_syntax": "Invalid expression syntax: {message}",
    "invalid_tokens": "Invalid tokens in expression: \"{tokens}\"",
    "missing_inputs": "Formula '{name}': Missing inputs:",
    "name": "Formula",
    "no_expression": "(no expression)",
    "not_found_or_disabled": "Formula '{id}' not found or disabled.",
    "output": "Output",
    "reinitialized": "Re-initialized {count} formulas",
    "result": "Formula '{name}' result: {result}",
    "result_debug": "getFormulaResult: Formula '{name}' ({id}) result = {result} (type: {type})",
    "set_input_error": "setInputForFormula error:",
    "syntax_error": "Syntax error in formula",
    "timed_out": "Formula '{name}' timed out after {timeout}s",
    "timeout": "Formula evaluation timeout",
    "unlocked_inputs": "🔓 Unlocked all inputs for formula '{name}'",
    "unnamed_formula": "Unnamed Formula",
    "waiting_for_input": "Formula '{formula}' waiting for undefined inputs: {error}",
    "waiting_for_inputs": "Formula '{name}': Waiting for inputs. Required: [{required}]"
  },
  "help": {
    "first_impression": "First impression mode locks inputs at their first received value",
    "formula_syntax": "Use logical operators like AND, OR, NOT to create your formula",
    "input_values": "Input values are automatically updated when connected devices change",
    "timeout_warning": "If an input is not updated within the timeout period, it will be marked"
  },
  "initial": {
    "api_unavailable": "App API not available for fetching initial values",
    "capability_not_found": "[{input}] Capability {capability} not found",
    "device_not_found": "[{input}] Device not found",
    "error": "[{input}] Error fetching initial value:",
    "fetching_all": "Fetching initial values for all inputs...",
    "fetching_input": "[{input}] Fetching initial value...",
    "no_value_waiting": "[{input}] No initial value found - waiting for first event",
    "received_value": "[{input}] Received initial value: {value}",
    "value_received": "[{input}] Initial value: {value} → {boolean}"
  },
  "input_options": {
    "context_specific": "Input options filtered for formula: {formula} ({expression})"
  },
  "inputs": {
    "first_impression": "First impression mode",
    "label": "Input",
    "locked": "Input locked",
    "locked_at_value": "🔒 Input '{input}' locked at value {value} (firstImpression mode)",
    "locked_first_impression": "Input '{input}' locked for formula '{formula}' (firstImpression mode)",
    "setting_value": "Setting input '{input}' to {value} for formula '{formula}' (was: {oldValue})",
    "timeout_detected": "Timeout detected on input",
    "unlocked": "Input unlocked",
    "unused_warning": "Warning: Input {input} is not used in any formula. Used: {usedInputs}",
    "value": "Value",
    "waiting": "Waiting for input..."
  },
  "listener": {
    "api_unavailable": "App API not available for listener setup",
    "capability_changed": "[{input}] Capability '{capability}' changed: {value} → {boolean}",
    "capability_found": "Device has capability: {capability}",
    "capability_not_exist": "[{input}] Capability {capability} does not exist on device {device}",
    "device_found": "Found device: {device}",
    "device_not_found": "[{input}] Device {device} not found",
    "error_setup": "Error setting up listener for input {input}:",
    "event_received": "Event received for input {input}",
    "invalid_config": "Invalid link configuration for input {input}",
    "polling_setup": "[{input}] Set up polling for {device} ({capability})",
    "registered": "[{input}] Listening to device {device} capability {capability}",
    "registering": "Registering capability listener for {capability}...",
    "setting_up": "Setting up listener for input {input}"
  },
  "notifications": {
    "device_ready": "Device is ready",
    "error_cleared": "Error status cleared",
    "error_cleared_all": "Error status cleared for all formulas",
    "formula_updated": "Formula updated",
    "input_received": "Input received",
    "invalid_formula_config": "Invalid formula '{formulaName}': {error}",
    "output_changed": "Output changed",
    "reevaluating": "Re-evaluating all formulas..."
  },
  "operators": {
    "and": "AND",
    "equal": "Equal",
    "greater_or_equal": "Greater or equal",
    "greater_than": "Greater than",
    "less_or_equal": "Less or equal",
    "less_than": "Less than",
    "not": "NOT",
    "not_equal": "Not equal",
    "or": "OR"
  },
  "pair": {
    "add": "Add device",
    "capability_label": "Capability:",
    "configure": "Configure device",
    "configure_all_inputs": "Please configure all inputs first!",
    "configure_inputs_description": "Select which device and capability each input should follow:",
    "configure_inputs_title": "Configure inputs",
    "configured": "Configured",
    "create_device": "[PAIR] create_device called",
    "creating_device": "[PAIR] Creating device:",
    "default_formula_name": "My Formula",
    "device_label": "Device:",
    "device_name_label": "Give the device a name:",
    "device_name_placeholder": "My logic device",
    "error": "Could not add device",
    "error_button_not_found": "Complete button not found in DOM!",
    "error_completing_setup": "Error completing setup: {error}",
    "error_homey_emit_unavailable": "Homey.emit is not available",
    "error_homey_nextview_unavailable": "Homey.nextView is not available",
    "error_homey_object_unavailable": "Homey object or required functions (emit, __) are not available.",
    "error_i18n_unavailable": "Homey translation function (__) is not available.",
    "error_loading": "-- Error loading --",
    "error_loading_capabilities": "Error loading capabilities: {error}",
    "error_loading_initial_data": "Error loading initial data: {error}",
    "error_navigating": "Error navigating: {error}",
    "error_saving_config": "Error saving configuration: {error}",
    "error_saving_input_number": "Error saving input number: {error}",
    "error_setting_up_interactions": "Error setting up page interactions: {error}",
    "error_system_not_ready": "Error: Pairing system not ready.",
    "formula_label": "Enter formula:",
    "get_devices_error": "[PAIR] ERROR in get_devices_in_zone:",
    "get_devices_in_zone": "[PAIR] get_devices_in_zone called for zone: {zone}",
    "get_num_inputs": "[PAIR] get_num_inputs called",
    "get_zones": "[PAIR] get_zones called",
    "get_zones_error": "[PAIR] ERROR in get_zones:",
    "handlers_registered": "Pairing handlers registered",
    "input": "Input",
    "inputs_configured": "inputs configured",
    "inputs_range": "Choose between 2 and 10 inputs",
    "intro": "Create a new logic device to evaluate complex formulas",
    "load_devices_error": "Failed to load devices for zone",
    "name": "Device name",
    "name_placeholder": "My logic device",
    "next": "Next →",
    "no_zones_error": "No zones found. Please create zones in your Homey first.",
    "not_configured": "Not configured",
    "of": "of",
    "save_complete": "Save and complete",
    "select_capability": "-- Select capability --",
    "select_device": "-- Select device --",
    "select_device_first": "-- Select device first --",
    "select_inputs_description": "How many devices do you want to connect to this logic device?",
    "select_inputs_title": "Select number of inputs",
    "select_zone": "-- Select zone/room --",
    "select_zone_first": "-- Select zone first --",
    "session_started": "Pairing session started",
    "set_device_formula": "[PAIR] set_device_formula called with: {formula}",
    "set_device_name": "[PAIR] set_device_name called with:",
    "set_input_links": "[PAIR] set_input_links called",
    "set_num_inputs": "[PAIR] set_num_inputs called with data:",
    "status_label": "Status:",
    "success": "Device added successfully",
    "title": "Add logic device",
    "unknown_capability_fallback": "Unknown Capability",
    "unknown_device": "Unknown Device",
    "zone_label": "Zone/Room:"
  },
  "parse": {
    "error_detecting_inputs": "Error detecting required inputs:",
    "error_formulas": "Failed to parse formulas:",
    "error_formulas_invalid": "Invalid formulas JSON: {message}",
    "error_formulas_json": "Could not parse formulas:",
    "error_input_links": "Failed to parse input_links:",
    "error_input_links_invalid": "Invalid input_links JSON: {message}"
  },
  "polling": {
    "all_inputs": "Polling all linked device inputs...",
    "api_unavailable": "App API not available for polling",
    "device_not_found": "Device not found: {device}",
    "failed": "Failed to poll {input}:",
    "input": "Polling input \"{input}\" from device \"{device}\" capability \"{capability}\"",
    "no_links": "No inputLinks available for polling",
    "no_value": "No value for {input} ({capability})",
    "value_received": "Polled {input}: {value} → {boolean}"
  },
  "refetch": {
    "fetching_values": "Refetching initial values before evaluation...",
    "invoked": "Refetch and evaluate invoked (source={source})",
    "no_links": "No input links available during refetch; skipping value fetch.",
    "parse_failed": "Failed to parse input_links during refetch:",
    "reason": "Re-fetching inputs (reason: {reason})..."
  },
  "settings": {
    "applied": "Settings applied successfully",
    "applying_formatted": "Applying auto-formatted settings...",
    "auto_formatted": "Settings auto-formatted",
    "cancel": "Cancel",
    "changed": "Settings changed:",
    "changed_dynamic": "Settings changed (dynamic device):",
    "description": "Configure your Boolean Toolbox logic device",
    "error": "Could not save settings",
    "expanded": "Capacity expanded to {numInputs} inputs: {availableInputs}",
    "expanding_capacity": "Expanding capacity: {from} -> {to} (reason: {reason})",
    "expansion_failed": "Failed to auto-expand capacity:",
    "format_failed": "Failed to auto-format settings:",
    "formatting": "Will auto-format {type} JSON",
    "reset": "Reset to default",
    "save": "Save",
    "saved": "Settings saved",
    "title": "Settings"
  },
  "timeout": {
    "error": "Error triggering timeout:"
  }
}
--- END: locales/en.json ---

--- START: locales/es.json (sha256=e98df11f6ab8342d77d823d05b4088f8d5c03ebe4e8d636e717df2ab200d082d, bytes=24416) ---
{
  "app": {
    "athom_api_loaded": "athom-api cargada exitosamente",
    "checking_for_error": "Comprobando error. Entrada: '{textInput}', Tiene error: {hasError}",
    "condition_check": "Comprobación de condición: Fórmula '{formulaName}' resultado = {result}, comprobando si es '{expected}'",
    "error_getting_devices": "Error al obtener dispositivos para la zona {zoneId}:",
    "error_getting_zones": "Error al obtener zonas:",
    "error_stack": "Pila de errores:",
    "evaluation_finished": "Evaluación finalizada. Salida: {output}",
    "flow_cards_registered": "Tarjetas de flujo registradas",
    "formula_not_evaluated": "Condición: La fórmula '{formulaName}' aún no ha sido evaluada (el resultado es {result})",
    "found_devices_in_zone": "Se encontraron {count} dispositivos en la zona {zoneId}",
    "found_zones": "Se encontraron {count} zonas",
    "getting_devices_for_zone": "Obteniendo dispositivos para la zona ID: {zoneId}",
    "getting_zones": "Obteniendo zonas disponibles...",
    "homey_api_extracted": "HomeyAPI extraída, tipo:",
    "homey_api_methods": "Métodos de HomeyAPI:",
    "homey_api_not_function": "HomeyAPI.forCurrentHomey no es una función",
    "initializing_homey_api": "Inicializando HomeyAPI.forCurrentHomey...",
    "registering_flow_cards": "Registrando tarjetas de flujo...",
    "running_evaluation": "Ejecutando evaluación. Entrada: {input}, Reglas: '{rules}'",
    "value_outside_logic": "El valor {input} está fuera de la lógica definida."
  },
  "capability": {
    "logic_state": {
      "title": "Estado lógico"
    }
  },
  "common": {
    "disabled": "Deshabilitado",
    "done": "Hecho",
    "enabled": "Habilitado",
    "failed": "Fallido",
    "false": "Falso",
    "info": "Información",
    "loading": "Cargando...",
    "max": "Máximo",
    "min": "Mínimo",
    "name": "Nombre",
    "no": "No",
    "off": "Apagado",
    "on": "Encendido",
    "processing": "Procesando...",
    "state": "Estado",
    "success": "Éxito",
    "true": "Verdadero",
    "type": "Tipo",
    "unknown": "Desconocido",
    "value": "Valor",
    "warning": "Advertencia",
    "yes": "Sí"
  },
  "debug": {
    "checking_formula": "Comprobando fórmula: {name} (\"{expression}\")",
    "raw_formulas": "Datos crudos de fórmulas desde la configuración:",
    "raw_input_links": "Datos crudos de input_links desde la configuración:",
    "required_inputs": "  - Entradas requeridas: {inputs}"
  },
  "device": {
    "capability_options_failed": "No se pudieron establecer las opciones de capacidad:",
    "capability_readonly": "Se estableció onoff como solo lectura",
    "capability_skip_deleted": "(seguro) Omitiendo {capability} – el dispositivo ya no existe.",
    "capability_update_failed": "Actualización de capacidad fallida para {capability}:",
    "capacity_expanded": "Se detectaron {detected} entradas necesarias (originalmente {original}). Expandiendo capacidad.",
    "capacity_updated": "Actualizando capacidad: {old} → {new} entradas",
    "cleanup_complete": "Limpieza completa",
    "deleted_cleanup": "Dispositivo eliminado — limpiando oyentes y temporizadores",
    "deleted_skip_flow": "Dispositivo eliminado, omitiendo disparador de flow",
    "deleted_skip_update": "Dispositivo eliminado, omitiendo actualización de capacidad",
    "initialized": "Dispositivo lógico '{name}' inicializado con {count} entradas",
    "initializing": "Dispositivo lógico '{name}' inicializando.",
    "logic_unit_dynamic_name": "Unidad Lógica",
    "logic_unit_dynamic_name_fallback": "Unidad Lógica",
    "logic_unit_name": "Unidad lógica ({count} entradas)",
    "logic_unit_name_fallback": "Unidad lógica ({count} entradas)",
    "max_input_detected": "Entrada máxima detectada: {input} ({count} entradas necesarias)",
    "ready": "Dispositivo listo: {name}"
  },
  "devicelinks": {
    "complete": "Configuración de enlaces de dispositivos completa",
    "count": "Configurando {count} enlaces de dispositivos",
    "error_cleanup": "Error al limpiar el oyente:",
    "error_unregister": "Error al desregistrar el oyente:",
    "setting_up": "Configurando enlaces de dispositivos...",
    "setup_failed": "No se pudo configurar el oyente para la entrada {input}:",
    "unregistered": "Oyente desregistrado: {key}"
  },
  "driver": {
    "ensure_unique_failed": "ensureUniqueDeviceName falló:",
    "ready": "Controlador listo",
    "registering_flow_cards": "Registrando tarjetas de flujo del controlador..."
  },
  "errors": {
    "connection_failed": "Conexión fallida",
    "device_not_found": "Dispositivo no encontrado",
    "evaluation_failed": "La evaluación de la fórmula falló",
    "generic": "Ocurrió un error",
    "helper_not_function": "La función de ayuda para '{argName}' no es una función.",
    "invalid_device_instance": "Instancia de dispositivo no válida",
    "invalid_formula": "Expresión de fórmula inválida",
    "invalid_input": "Valor de entrada inválido",
    "method_missing_on_device": "Método '{methodName}' faltante en el dispositivo",
    "notification_failed_invalid_formula": "No se pudo crear la notificación para la fórmula no válida",
    "permission_denied": "Permiso denegado",
    "timeout": "Tiempo de espera de operación agotado",
    "trigger_timeout_card_failed": "Error al obtener/activar la tarjeta formula_timeout",
    "unknown": "Ocurrió un error desconocido"
  },
  "evaluation": {
    "initial_complete": "Evaluación inicial de todas las fórmulas...",
    "no_formulas_ready": "No se pudieron evaluar fórmulas - esperando valores de entrada",
    "reevaluating_all": "Re-evaluando todas las fórmulas (reiniciando bloqueos)...",
    "running_initial": "Ejecutando evaluación inicial de fórmulas..."
  },
  "flow": {
    "actions": {
      "clear_error_state_lu": {
        "title": "Borrar estado de error de fórmula",
        "titleFormatted": "Borrar estado de error para fórmula [[formula]]"
      },
      "clear_error_state_ld": {
        "title": "Borrar error",
        "titleFormatted": "Borrar estado de error"
      },
      "evaluate_all_formula_lu": {
        "title": "Reevaluar todo",
        "titleFormatted": "Reevaluar todas las fórmulas"
      },
      "evaluate_expression": {
        "title": "Evaluar expresión",
        "titleFormatted": "Evaluar [[input]] [[op1]] min [[logical_op]] [[op2]] max con reglas [[rules]]"
      },
      "evaluate_formula_lu": {
        "title": "Evaluar fórmula específica",
        "titleFormatted": "Evaluar fórmula [[formula]]"
      },
      "evaluate_formula_ld": {
        "title": "Re-comprobar estado del dispositivo",
        "titleFormatted": "Re-comprobar estado"
      },
      "reevaluate_formulas": {
        "title": "Reevaluar todo",
        "titleFormatted": "Reevaluar todas las fórmulas"
      },
      "set_all_inputs_lu": {
        "title": "Establecer todas las entradas desde JSON",
        "titleFormatted": "Establecer todas las entradas desde JSON: [[values]]"
      },
      "set_input_lu": {
        "title": "Establecer valor de entrada (todas las fórmulas)",
        "titleFormatted": "Establecer entrada [[input]] a [[value]]"
      },
      "set_input_value_lu": {
        "title": "Establecer valor de entrada para fórmula",
        "titleFormatted": "Establecer entrada [[input]] a [[value]] para fórmula [[formula]]"
      }
    },
    "args": {
      "formula": {
        "placeholder": "Seleccionar fórmula",
        "title": "Fórmula"
      },
      "input": {
        "placeholder": "Seleccionar entrada",
        "title": "Entrada"
      },
      "logical_op": {
        "AND": "Y",
        "OR": "O",
        "title": "Operador lógico"
      },
      "number_input": {
        "placeholder": "Ingresar número",
        "title": "Valor de entrada"
      },
      "op1": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Primer operador"
      },
      "op2": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Segundo operador"
      },
      "rules": {
        "placeholder": "min,max,output;...",
        "title": "Reglas"
      },
      "text_input": {
        "placeholder": "Ingrese mensaje de error o token",
        "title": "Mensaje de error"
      },
      "value": {
        "false": "FALSO",
        "title": "Valor",
        "true": "VERDADERO"
      },
      "values": {
        "placeholder": "{\"A\": true, \"B\": false}",
        "title": "Valores JSON"
      },
      "what_is": {
        "false": "FALSO",
        "title": "Valor",
        "true": "VERDADERO"
      }
    },
    "conditions": {
      "formula_has_timed_out_lu": {
        "title": "La fórmula !{{ha|no ha}} expirado",
        "titleFormatted": "Fórmula [[formula]] !{{ha|no ha}} expirado"
      },
      "formula_has_timed_out_ld": {
        "title": "Tiene un error (LD)",
        "titleFormatted": "Fórmula !{{ha|no ha}} expirado"
      },
      "formula_result_is_lu": {
        "title": "El resultado de la fórmula es...",
        "titleFormatted": "El resultado de la fórmula [[formula]] es [[what_is]]"
      },
      "formula_result_is_ld": {
        "title": "El resultado es... (LD)",
        "titleFormatted": "El resultado de la fórmula es [[what_is]]"
      },
      "has_any_error_lu": {
        "title": "El dispositivo !{{tiene|no tiene}} error",
        "titleFormatted": "El dispositivo !{{tiene|no tiene}} error"
      },
      "has_any_error_ld": {
        "title": "El dispositivo !{{tiene|no tiene}} error",
        "titleFormatted": "El dispositivo !{{tiene|no tiene}} error"
      },
      "has_error": {
        "title": "!{{Tiene|No tiene}} error",
        "titleFormatted": "!{{Tiene|No tiene}} error en [[text_input]]"
      }
    },
    "tokens": {
      "errorMessage": {
        "title": "Mensaje de error"
      },
      "outputValue": {
        "title": "Valor de salida"
      },
      "state": {
        "title": "Estado"
      }
    },
    "trigger_error": "Error al disparar el flow:",
    "triggered": "Disparando flow por cambio de fórmula '{name}' a {result}",
    "triggers": {
      "device_state_changed": {
        "hint": "Se activa cuando el estado del dispositivo lógico cambia (encendido/apagado)",
        "title": "Estado cambiado",
        "titleFormatted": "Estado cambiado a [[state]]"
      },
      "device_state_changed_ld": {
        "hint": "Se activa cuando el estado del dispositivo lógico cambia (encendido/apagado)",
        "title": "Estado cambiado",
        "titleFormatted": "Estado cambiado"
      },
      "formula_changed_to_false_lu": {
        "title": "Fórmula cambió a FALSO",
        "titleFormatted": "Fórmula [[formula]] cambió a FALSO"
      },
      "formula_changed_to_true_lu": {
        "title": "Fórmula cambió a VERDADERO",
        "titleFormatted": "Fórmula [[formula]] cambió a VERDADERO"
      },
      "formula_timeout_lu": {
        "title": "Fórmula expiró",
        "titleFormatted": "Fórmula [[formula]] expiró"
      },
      "state_changed_ld": {
        "title": "Estado cambiado",
        "titleFormatted": "Estado cambiado"
      }
    }
  },
  "formula": {
    "all_inputs_defined": "Fórmula '{name}': Todas las entradas definidas, evaluando...",
    "default_name": "Fórmula principal",
    "default_name_alt": "Fórmula 1",
    "default_name_alt_fallback": "Fórmula predeterminada",
    "details": "  - {name}: \"{expression}\" (habilitado: {enabled})",
    "error": "Error de fórmula",
    "error_inputs_used_but_none_configured": "La expresión usa entradas, pero no hay entradas configuradas para este dispositivo.",
    "error_no_inputs": "No hay entradas disponibles",
    "error_unbalanced_parentheses": "Paréntesis no balanceados",
    "error_validation": "Fórmula '{name}': {error}",
    "evaluated": "Fórmula evaluada",
    "evaluated_count": "Se evaluaron {count} fórmulas",
    "evaluating": "Evaluando fórmula...",
    "evaluating_expression": "Evaluando: \"{expression}\" → \"{evalExpression}\"",
    "evaluation": "Evaluación",
    "evaluation_failed": "Error al evaluar la fórmula '{name}': {message}",
    "expression": "Expresión",
    "expression_empty": "La expresión no puede estar vacía",
    "get_result_not_found": "getFormulaResult: Fórmula '{id}' no encontrada",
    "initialized": "Se inicializaron {count} fórmulas",
    "input": "Entrada",
    "invalid": "Fórmula inválida",
    "invalid_syntax": "Sintaxis de expresión inválida: {message}",
    "invalid_tokens": "Tokens inválidos en la expresión: \"{tokens}\"",
    "missing_inputs": "Fórmula '{name}': Entradas faltantes:",
    "name": "Fórmula",
    "no_expression": "(sin expresión)",
    "not_found_or_disabled": "Fórmula '{id}' no encontrada o deshabilitada.",
    "output": "Salida",
    "reinitialized": "Se reinicializaron {count} fórmulas",
    "result": "Fórmula '{name}' resultado: {result}",
    "result_debug": "getFormulaResult: Fórmula '{name}' ({id}) resultado = {result} (tipo: {type})",
    "set_input_error": "Error en setInputForFormula:",
    "syntax_error": "Error de sintaxis en la fórmula",
    "timed_out": "Fórmula '{name}' agotó el tiempo de espera después de {timeout}s",
    "timeout": "Tiempo de espera de evaluación de fórmula",
    "unlocked_inputs": "🔓 Se desbloquearon todas las entradas para la fórmula '{name}'",
    "unnamed_formula": "Fórmula sin nombre",
    "waiting_for_input": "Fórmula '{formula}' esperando entradas indefinidas: {error}",
    "waiting_for_inputs": "Fórmula '{name}': Esperando entradas. Requeridas: [{required}]"
  },
  "help": {
    "first_impression": "El modo primera impresión bloquea las entradas en su primer valor recibido",
    "formula_syntax": "Use operadores lógicos como Y, O, NO para crear su fórmula",
    "input_values": "Los valores de entrada se actualizan automáticamente cuando los dispositivos conectados cambian",
    "timeout_warning": "Si una entrada no se actualiza dentro del período de tiempo de espera, se marcará"
  },
  "initial": {
    "api_unavailable": "API de la aplicación no disponible para obtener valores iniciales",
    "capability_not_found": "[{input}] Capacidad {capability} no encontrada",
    "device_not_found": "[{input}] Dispositivo no encontrado",
    "error": "[{input}] Error al obtener el valor inicial:",
    "fetching_all": "Obteniendo valores iniciales para todas las entradas...",
    "fetching_input": "[{input}] Obteniendo valor inicial...",
    "no_value_waiting": "[{input}] No se encontró valor inicial - esperando primer evento",
    "received_value": "[{input}] Valor inicial recibido: {value}",
    "value_received": "[{input}] Valor inicial: {value} → {boolean}"
  },
  "input_options": {
    "context_specific": "Opciones de entrada filtradas para la fórmula: {formula} ({expression})"
  },
  "inputs": {
    "first_impression": "Modo primera impresión",
    "label": "Entrada",
    "locked": "Entrada bloqueada",
    "locked_at_value": "🔒 Entrada '{input}' bloqueada en el valor {value} (modo primera impresión)",
    "locked_first_impression": "Entrada '{input}' bloqueada para la fórmula '{formula}' (modo primera impresión)",
    "setting_value": "Estableciendo entrada '{input}' a {value} para la fórmula '{formula}' (era: {oldValue})",
    "timeout_detected": "Tiempo de espera detectado en la entrada",
    "unlocked": "Entrada desbloqueada",
    "unused_warning": "Advertencia: La entrada {input} no se usa en ninguna fórmula. Usadas: {usedInputs}",
    "value": "Valor",
    "waiting": "Esperando entrada..."
  },
  "listener": {
    "api_unavailable": "API de la aplicación no disponible para configuración de oyente",
    "capability_changed": "[{input}] Capacidad '{capability}' cambiada: {value} → {boolean}",
    "capability_found": "El dispositivo tiene capacidad: {capability}",
    "capability_not_exist": "[{input}] La capacidad {capability} no existe en el dispositivo {device}",
    "device_found": "Dispositivo encontrado: {device}",
    "device_not_found": "[{input}] Dispositivo {device} no encontrado",
    "error_setup": "Error al configurar el oyente para la entrada {input}:",
    "event_received": "Evento recibido para la entrada {input}",
    "invalid_config": "Configuración de enlace inválida para la entrada {input}",
    "polling_setup": "[{input}] Se configuró el sondeo para {device} ({capability})",
    "registered": "[{input}] Escuchando al dispositivo {device} capacidad {capability}",
    "registering": "Registrando oyente de capacidad para {capability}...",
    "setting_up": "Configurando oyente para entrada {input}"
  },
  "notifications": {
    "device_ready": "El dispositivo está listo",
    "error_cleared": "Estado de error borrado",
    "error_cleared_all": "Estado de error borrado para todas las fórmulas",
    "formula_updated": "Fórmula actualizada",
    "input_received": "Entrada recibida",
    "invalid_formula_config": "Fórmula no válida '{formulaName}': {error}",
    "output_changed": "Salida modificada",
    "reevaluating": "Re-evaluar todas las fórmulas..."
  },
  "operators": {
    "and": "Y",
    "equal": "Igual a",
    "greater_or_equal": "Mayor o igual a",
    "greater_than": "Mayor que",
    "less_or_equal": "Menor o igual a",
    "less_than": "Menor que",
    "not": "NO",
    "not_equal": "Diferente de",
    "or": "O"
  },
  "pair": {
    "add": "Agregar dispositivo",
    "capability_label": "Capacidad:",
    "configure": "Configurar dispositivo",
    "configure_all_inputs": "¡Por favor configure todas las entradas primero!",
    "configure_inputs_description": "Seleccione qué dispositivo y capacidad debe seguir cada entrada:",
    "configure_inputs_title": "Configurar entradas",
    "configured": "Configurado",
    "create_device": "[PAIR] create_device llamado",
    "creating_device": "[PAIR] Creando dispositivo:",
    "default_formula_name": "Mi Fórmula",
    "device_label": "Dispositivo:",
    "device_name_label": "Dale un nombre al dispositivo:",
    "device_name_placeholder": "Mi dispositivo lógico",
    "error": "No se pudo agregar el dispositivo",
    "error_button_not_found": "¡Botón Completar no encontrado en el DOM!",
    "error_completing_setup": "Error al completar la configuración: {error}",
    "error_homey_emit_unavailable": "Homey.emit no está disponible",
    "error_homey_nextview_unavailable": "Homey.nextView no está disponible",
    "error_homey_object_unavailable": "El objeto Homey o las funciones requeridas (emit, __) no están disponibles.",
    "error_i18n_unavailable": "La función de traducción de Homey (__) no está disponible.",
    "error_loading": "-- Error al cargar --",
    "error_loading_capabilities": "Error al cargar capacidades: {error}",
    "error_loading_initial_data": "Error al cargar datos iniciales: {error}",
    "error_navigating": "Error al navegar: {error}",
    "error_saving_config": "Error al guardar la configuración: {error}",
    "error_saving_input_number": "Error al guardar el número de entrada: {error}",
    "error_setting_up_interactions": "Error al configurar las interacciones de la página: {error}",
    "error_system_not_ready": "Error: El sistema de emparejamiento no está listo.",
    "formula_label": "Introducir fórmula:",
    "get_devices_error": "[PAIR] ERROR en get_devices_in_zone:",
    "get_devices_in_zone": "[PAIR] get_devices_in_zone llamado para zona: {zone}",
    "get_num_inputs": "[PAIR] get_num_inputs llamado",
    "get_zones": "[PAIR] get_zones llamado",
    "get_zones_error": "[PAIR] ERROR en get_zones:",
    "handlers_registered": "Manejadores de emparejamiento registrados",
    "input": "Entrada",
    "inputs_configured": "entradas configuradas",
    "inputs_range": "Elija entre 2 y 10 entradas",
    "intro": "Cree un nuevo dispositivo lógico para evaluar fórmulas complejas",
    "load_devices_error": "No se pudieron cargar los dispositivos para la zona",
    "name": "Nombre del dispositivo",
    "name_placeholder": "Mi dispositivo lógico",
    "next": "Siguiente →",
    "no_zones_error": "No se encontraron zonas. Por favor, cree zonas en su Homey primero.",
    "not_configured": "No configurado",
    "of": "de",
    "save_complete": "Guardar y completar",
    "select_capability": "-- Seleccionar capacidad --",
    "select_device": "-- Seleccionar dispositivo --",
    "select_device_first": "-- Seleccione el dispositivo primero --",
    "select_inputs_description": "¿Cuántos dispositivos desea conectar a este dispositivo lógico?",
    "select_inputs_title": "Seleccionar número de entradas",
    "select_zone": "-- Seleccionar zona/habitación --",
    "select_zone_first": "-- Seleccione la zona primero --",
    "session_started": "Sesión de emparejamiento iniciada",
    "set_device_formula": "[PAIR] set_device_formula llamado con: {formula}",
    "set_device_name": "[PAIR] set_device_name llamado con:",
    "set_input_links": "[PAIR] set_input_links llamado",
    "set_num_inputs": "[PAIR] set_num_inputs llamado con datos:",
    "status_label": "Estado:",
    "success": "Dispositivo agregado exitosamente",
    "title": "Agregar dispositivo lógico",
    "unknown_capability_fallback": "Capacidad desconocida",
    "unknown_device": "Dispositivo desconocido",
    "zone_label": "Zona/Habitación:"
  },
  "parse": {
    "error_detecting_inputs": "Error al detectar las entradas requeridas:",
    "error_formulas": "No se pudieron analizar las fórmulas:",
    "error_formulas_invalid": "JSON de fórmulas inválido: {message}",
    "error_formulas_json": "No se pudieron analizar las fórmulas:",
    "error_input_links": "No se pudieron analizar los input_links:",
    "error_input_links_invalid": "JSON de input_links inválido: {message}"
  },
  "polling": {
    "all_inputs": "Sondeando todas las entradas de dispositivos vinculados...",
    "api_unavailable": "API de la aplicación no disponible para sondear",
    "device_not_found": "Dispositivo no encontrado: {device}",
    "failed": "No se pudo sondear {input}:",
    "input": "Sondeando entrada \"{input}\" del dispositivo \"{device}\" capacidad \"{capability}\"",
    "no_links": "No hay inputLinks disponibles para sondear",
    "no_value": "Sin valor para {input} ({capability})",
    "value_received": "Sondeado {input}: {value} → {boolean}"
  },
  "refetch": {
    "fetching_values": "Re-obteniendo valores iniciales antes de la evaluación...",
    "invoked": "Re-obtener y evaluar invocado (fuente={source})",
    "no_links": "No hay enlaces de entrada disponibles durante la re-obtención; omitiendo obtención de valores.",
    "parse_failed": "Error al analizar input_links durante la re-obtención:",
    "reason": "Volviendo a obtener entradas (razón: {reason})..."
  },
  "settings": {
    "applied": "Configuración aplicada correctamente",
    "applying_formatted": "Aplicando configuración auto-formateada...",
    "auto_formatted": "Configuración auto-formateada",
    "cancel": "Cancelar",
    "changed": "Configuración modificada:",
    "changed_dynamic": "Configuración modificada (dispositivo dinámico):",
    "description": "Configure su dispositivo lógico Boolean Toolbox",
    "error": "No se pudo guardar la configuración",
    "expanded": "Capacidad expandida a {numInputs} entradas: {availableInputs}",
    "expanding_capacity": "Expandiendo capacidad: {from} -> {to} (razón: {reason})",
    "expansion_failed": "No se pudo auto-expandir la capacidad:",
    "format_failed": "Error al auto-formatear la configuración:",
    "formatting": "Se auto-formateará {type} JSON",
    "reset": "Restablecer valores predeterminados",
    "save": "Guardar",
    "saved": "Configuración guardada",
    "title": "Configuración"
  },
  "timeout": {
    "error": "Error al activar el tiempo de espera:"
  }
}
--- END: locales/es.json ---

--- START: locales/fi.json (sha256=ef2b411483d0130d79f6513779fe49eb0e411edd6ab9a5820319ad407cb7ca70, bytes=23390) ---
{
  "app": {
    "athom_api_loaded": "athom-api ladattu onnistuneesti",
    "checking_for_error": "Tarkistetaan virhettä. Tulo: '{textInput}', Onko virhe: {hasError}",
    "condition_check": "Ehtotarkistus: Kaavan '{formulaName}' tulos = {result}, tarkistetaan onko se '{expected}'",
    "error_getting_devices": "Virhe haettaessa laitteita alueelle {zoneId}:",
    "error_getting_zones": "Virhe alueita haettaessa:",
    "error_stack": "Virhepino:",
    "evaluation_finished": "Arviointi valmis. Lähtö: {output}",
    "flow_cards_registered": "Flow-kortit rekisteröity",
    "formula_not_evaluated": "Ehto: Kaavaa '{formulaName}' ei ole vielä arvioitu (tulos on {result})",
    "found_devices_in_zone": "Löytyi {count} laitetta alueelta {zoneId}",
    "found_zones": "Löytyi {count} aluetta",
    "getting_devices_for_zone": "Haetaan laitteita alueelle ID: {zoneId}",
    "getting_zones": "Haetaan saatavilla olevia alueita...",
    "homey_api_extracted": "HomeyAPI purettu, tyyppi:",
    "homey_api_methods": "HomeyAPI-metodit:",
    "homey_api_not_function": "HomeyAPI.forCurrentHomey ei ole funktio",
    "initializing_homey_api": "Alustetaan HomeyAPI.forCurrentHomey...",
    "registering_flow_cards": "Rekisteröidään flow-kortteja...",
    "running_evaluation": "Ajetaan arviointi. Tulo: {input}, Säännöt: '{rules}'",
    "value_outside_logic": "Arvo {input} on määritellyn logiikan ulkopuolella."
  },
  "capability": {
    "logic_state": {
      "title": "Logiikan tila"
    }
  },
  "common": {
    "disabled": "Ei käytössä",
    "done": "Valmis",
    "enabled": "Käytössä",
    "failed": "Epäonnistui",
    "false": "Epätosi",
    "info": "Tiedot",
    "loading": "Ladataan...",
    "max": "Maksimi",
    "min": "Minimi",
    "name": "Nimi",
    "no": "Ei",
    "off": "Pois päältä",
    "on": "Päällä",
    "processing": "Käsitellään...",
    "state": "Tila",
    "success": "Onnistui",
    "true": "Tosi",
    "type": "Tyyppi",
    "unknown": "Tuntematon",
    "value": "Arvo",
    "warning": "Varoitus",
    "yes": "Kyllä"
  },
  "debug": {
    "checking_formula": "Tarkistetaan kaavaa: {name} (\"{expression}\")",
    "raw_formulas": "Raakat kaavatiedot asetuksista:",
    "raw_input_links": "Raakat input_links-tiedot asetuksista:",
    "required_inputs": "  - Vaaditut tulot: {inputs}"
  },
  "device": {
    "capability_options_failed": "Kyvykkyysasetusten asettaminen epäonnistui:",
    "capability_readonly": "Asetettu onoff vain luku -tilaan",
    "capability_skip_deleted": "(turvallinen) Ohitetaan {capability} – laitetta ei enää ole.",
    "capability_update_failed": "Kyvykkyyspäivitys epäonnistui kohteelle {capability}:",
    "capacity_expanded": "Havaittiin {detected} tuloa tarpeen (alun perin {original}). Laajennetaan kapasiteettia.",
    "capacity_updated": "Päivitetään kapasiteettia: {old} → {new} tuloa",
    "cleanup_complete": "Siivous valmis",
    "deleted_cleanup": "Laite poistettu — siivotaan kuuntelijat ja ajastimet",
    "deleted_skip_flow": "Laite poistettu, ohitetaan flow-käynnistin",
    "deleted_skip_update": "Laite poistettu, ohitetaan kyvykkyyspäivitys",
    "initialized": "Logiikkalaite '{name}' alustettu {count} tulolla",
    "initializing": "Logiikkalaite '{name}' alustaa.",
    "logic_unit_dynamic_name": "Logiikkayksikkö",
    "logic_unit_dynamic_name_fallback": "Logiikkayksikkö",
    "logic_unit_name": "Logiikkayksikkö ({count} tuloa)",
    "logic_unit_name_fallback": "Logiikkayksikkö ({count} tuloa)",
    "max_input_detected": "Havaittu suurin tulo: {input} ({count} tuloa tarvitaan)",
    "ready": "Laite valmis: {name}"
  },
  "devicelinks": {
    "complete": "Laitelinkkien määritys valmis",
    "count": "Määritetään {count} laitelinkkiä",
    "error_cleanup": "Virhe kuuntelijan siivoamisessa:",
    "error_unregister": "Virhe kuuntelijan rekisteristä poistamisessa:",
    "setting_up": "Määritetään laitelinkkejä...",
    "setup_failed": "Kuuntelijan määrittäminen tulolle {input} epäonnistui:",
    "unregistered": "Kuuntelija poistettu rekisteristä: {key}"
  },
  "driver": {
    "ensure_unique_failed": "ensureUniqueDeviceName epäonnistui:",
    "ready": "Ajuri valmis",
    "registering_flow_cards": "Rekisteröidään ajurin flow-kortteja..."
  },
  "errors": {
    "connection_failed": "Yhteys epäonnistui",
    "device_not_found": "Laitetta ei löytynyt",
    "evaluation_failed": "Kaavan arviointi epäonnistui",
    "generic": "Tapahtui virhe",
    "helper_not_function": "Aputoiminto '{argName}' varten ei ole funktio.",
    "invalid_device_instance": "Virheellinen laiteinstanssi",
    "invalid_formula": "Virheellinen kaavan lauseke",
    "invalid_input": "Virheellinen tuloarvo",
    "method_missing_on_device": "Metodi '{methodName}' puuttuu laitteesta",
    "notification_failed_invalid_formula": "Ilmoituksen luominen virheelliselle kaavalle epäonnistui",
    "permission_denied": "Käyttö estetty",
    "timeout": "Toiminnon aikakatkaisu",
    "trigger_timeout_card_failed": "Virhe haettaessa/käynnistettäessä formula_timeout-korttia",
    "unknown": "Tuntematon virhe tapahtui"
  },
  "evaluation": {
    "initial_complete": "Kaikkien kaavojen alkuarviointi...",
    "no_formulas_ready": "Kaavoja ei voitu arvioida - odotetaan tuloarvoja",
    "reevaluating_all": "Arvioidaan kaikki kaavat uudelleen (nollataan lukot)...",
    "running_initial": "Ajetaan kaavojen alkuarviointi..."
  },
  "flow": {
    "actions": {
      "clear_error_state_lu": {
        "title": "Tyhjennä kaavan virhetila",
        "titleFormatted": "Tyhjennä virhetila kaavalle [[formula]]"
      },
      "clear_error_state_ld": {
        "title": "Tyhjennä kaavan virhetila",
        "titleFormatted": "Tyhjennä virhetila"
      },
      "evaluate_all_formula_lu": {
        "title": "Arvioi kaikki kaavat uudelleen",
        "titleFormatted": "Arvioi kaikki kaavat uudelleen"
      },
      "evaluate_expression": {
        "title": "Arvioi lauseke",
        "titleFormatted": "Arvioi [[input]] [[op1]] min [[logical_op]] [[op2]] max säännöillä [[rules]]"
      },
      "evaluate_formula_lu": {
        "title": "Arvioi tietty kaava",
        "titleFormatted": "Arvioi kaava [[formula]]"
      },
      "evaluate_formula_ld": {
        "title": "Tarkista laitteen tila uudelleen",
        "titleFormatted": "Tarkista tila uudelleen"
      },
      "reevaluate_formulas": {
        "title": "Arvioi kaikki kaavat uudelleen",
        "titleFormatted": "Arvioi kaikki kaavat uudelleen"
      },
      "set_all_inputs_lu": {
        "title": "Aseta kaikki tulot JSON-muodosta",
        "titleFormatted": "Aseta kaikki tulot JSON-muodosta: [[values]]"
      },
      "set_input_lu": {
        "title": "Aseta tuloarvo (kaikki kaavat)",
        "titleFormatted": "Aseta tulo [[input]] arvoon [[value]]"
      },
      "set_input_value_lu": {
        "title": "Aseta tuloarvo kaavalle",
        "titleFormatted": "Aseta tulo [[input]] arvoon [[value]] kaavalle [[formula]]"
      }
    },
    "args": {
      "formula": {
        "placeholder": "Valitse kaava",
        "title": "Kaava"
      },
      "input": {
        "placeholder": "Valitse tulo",
        "title": "Tulo"
      },
      "logical_op": {
        "AND": "JA",
        "OR": "TAI",
        "title": "Looginen operaattori"
      },
      "number_input": {
        "placeholder": "Anna numero",
        "title": "Tuloarvo"
      },
      "op1": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Ensimmäinen operaattori"
      },
      "op2": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Toinen operaattori"
      },
      "rules": {
        "placeholder": "min,max,lähtö;...",
        "title": "Säännöt"
      },
      "text_input": {
        "placeholder": "Anna virheilmoitus tai tunniste",
        "title": "Virheilmoitus"
      },
      "value": {
        "false": "EPÄTOSI",
        "title": "Arvo",
        "true": "TOSI"
      },
      "values": {
        "placeholder": "{\"A\": true, \"B\": false}",
        "title": "JSON-arvot"
      },
      "what_is": {
        "false": "EPÄTOSI",
        "title": "Arvo",
        "true": "TOSI"
      }
    },
    "conditions": {
      "formula_has_timed_out_lu": {
        "title": "Kaava !{{on|ei ole}} aikakatkaistu",
        "titleFormatted": "Kaava [[formula]] !{{on|ei ole}} aikakatkaistu"
      },
      "formula_has_timed_out_ld": {
        "title": "Kaava !{{on|ei ole}} aikakatkaistu",
        "titleFormatted": "Kaava !{{on|ei ole}} aikakatkaistu"
      },
      "formula_result_is_lu": {
        "title": "Kaavan tulos on...",
        "titleFormatted": "Kaava [[formula]] tulos on [[what_is]]"
      },
      "formula_result_is_ld": {
        "title": "Kaavan tulos on...",
        "titleFormatted": "Kaavan tulos on [[what_is]]"
      },
      "has_any_error_lu": {
        "title": "Laite !{{on|ei ole}} virheellinen",
        "titleFormatted": "Laite !{{on|ei ole}} virheellinen"
      },
      "has_any_error_ld": {
        "title": "Laite !{{on|ei ole}} virheellinen",
        "titleFormatted": "Laite !{{on|ei ole}} virheellinen"
      },
      "has_error": {
        "title": "!{{On|Ei ole}} virhe",
        "titleFormatted": "!{{On|Ei ole}} virhe [[text_input]]:ssa"
      }
    },
    "tokens": {
      "errorMessage": {
        "title": "Virheilmoitus"
      },
      "outputValue": {
        "title": "Lähtöarvo"
      },
      "state": {
        "title": "Tila"
      }
    },
    "trigger_error": "Virhe flow'n käynnistämisessä:",
    "triggered": "Käynnistetään flow kaavan '{name}' muutokselle arvoon {result}",
    "triggers": {
      "device_state_changed": {
        "hint": "Laukaistaan, kun Logiikkalaitteen tila muuttuu (päälle/pois)",
        "title": "Tila muuttunut",
        "titleFormatted": "Tila muuttui arvoon [[state]]"
      },
      "device_state_changed_ld": {
        "hint": "Laukaistaan, kun Logiikkalaitteen tila muuttuu (päälle/pois)",
        "title": "Tila muuttunut",
        "titleFormatted": "Tila muuttunut"
      },
      "formula_changed_to_false_lu": {
        "title": "Kaava muuttui EPÄTODEKSI",
        "titleFormatted": "Kaava [[formula]] muuttui EPÄTODEKSI"
      },
      "formula_changed_to_true_lu": {
        "title": "Kaava muuttui TODEKSI",
        "titleFormatted": "Kaava [[formula]] muuttui TODEKSI"
      },
      "formula_timeout_lu": {
        "title": "Kaava aikakatkaistu",
        "titleFormatted": "Kaava [[formula]] aikakatkaistu"
      },
      "state_changed_ld": {
        "title": "Tila muuttunut",
        "titleFormatted": "Tila muuttunut"
      }
    }
  },
  "formula": {
    "all_inputs_defined": "Kaava '{name}': Kaikki tulot määritelty, arvioidaan...",
    "default_name": "Pääkaava",
    "default_name_alt": "Kaava 1",
    "default_name_alt_fallback": "Oletuskaava",
    "details": "  - {name}: \"{expression}\" (käytössä: {enabled})",
    "error": "Kaavavirhe",
    "error_inputs_used_but_none_configured": "Lauseke käyttää tuloja, mutta tälle laitteelle ei ole määritetty tuloja.",
    "error_no_inputs": "Tuloja ei saatavilla",
    "error_unbalanced_parentheses": "Tasapainottamattomat sulut",
    "error_validation": "Kaava '{name}': {error}",
    "evaluated": "Kaava arvioitu",
    "evaluated_count": "Arvioitu {count} kaavaa",
    "evaluating": "Arvioidaan kaavaa...",
    "evaluating_expression": "Arvioidaan: \"{expression}\" → \"{evalExpression}\"",
    "evaluation": "Arviointi",
    "evaluation_failed": "Kaavan '{name}' arviointi epäonnistui: {message}",
    "expression": "Lauseke",
    "expression_empty": "Lauseke ei voi olla tyhjä",
    "get_result_not_found": "getFormulaResult: Kaavaa '{id}' ei löydy",
    "initialized": "Alustettu {count} kaavaa",
    "input": "Tulo",
    "invalid": "Virheellinen kaava",
    "invalid_syntax": "Virheellinen lausekkeen syntaksi: {message}",
    "invalid_tokens": "Virheellisiä osia lausekkeessa: \"{tokens}\"",
    "missing_inputs": "Kaava '{name}': Puuttuvat tulot:",
    "name": "Kaava",
    "no_expression": "(ei lauseketta)",
    "not_found_or_disabled": "Kaavaa '{id}' ei löydy tai se on poistettu käytöstä.",
    "output": "Lähtö",
    "reinitialized": "Uudelleenalustettu {count} kaavaa",
    "result": "Kaavan '{name}' tulos: {result}",
    "result_debug": "getFormulaResult: Kaava '{name}' ({id}) tulos = {result} (tyyppi: {type})",
    "set_input_error": "setInputForFormula virhe:",
    "syntax_error": "Syntaksivirhe kaavassa",
    "timed_out": "Kaava '{name}' aikakatkaistiin {timeout}s jälkeen",
    "timeout": "Kaavan arvioinnin aikakatkaisu",
    "unlocked_inputs": "🔓 Kaikki tulot avattu kaavalle '{name}'",
    "unnamed_formula": "Nimetön Kaava",
    "waiting_for_input": "Kaava '{formula}' odottaa määrittelemättömiä syötteitä: {error}",
    "waiting_for_inputs": "Kaava '{name}': Odotetaan tuloja. Vaaditut: [{required}]"
  },
  "help": {
    "first_impression": "Ensivaikutelman tila lukitsee tulot niiden ensimmäiseen vastaanotettuun arvoon",
    "formula_syntax": "Käytä loogisia operaattoreita kuten JA, TAI, EI luodaksesi kaavasi",
    "input_values": "Tuloarvot päivittyvät automaattisesti, kun yhdistetyt laitteet muuttuvat",
    "timeout_warning": "Jos tuloa ei päivitetä aikakatkaisujakson aikana, se merkitään"
  },
  "initial": {
    "api_unavailable": "Sovelluksen API ei ole käytettävissä alkuarvojen hakemiseen",
    "capability_not_found": "[{input}] Kyvykkyyttä {capability} ei löydy",
    "device_not_found": "[{input}] Laitetta ei löydy",
    "error": "[{input}] Virhe alkuarvon hakemisessa:",
    "fetching_all": "Haetaan alkuarvoja kaikille tuloille...",
    "fetching_input": "[{input}] Haetaan alkuarvoa...",
    "no_value_waiting": "[{input}] Alkuarvoa ei löytynyt - odotetaan ensimmäistä tapahtumaa",
    "received_value": "[{input}] Vastaanotettu alkuarvo: {value}",
    "value_received": "[{input}] Alkuarvo: {value} → {boolean}"
  },
  "input_options": {
    "context_specific": "Tuloasetukset suodatettu kaavalle: {formula} ({expression})"
  },
  "inputs": {
    "first_impression": "Ensivaikutelman tila",
    "label": "Tulo",
    "locked": "Tulo lukittu",
    "locked_at_value": "🔒 Tulo '{input}' lukittu arvoon {value} (ensivaikutelman tila)",
    "locked_first_impression": "Tulo '{input}' lukittu kaavalle '{formula}' (ensivaikutelman tila)",
    "setting_value": "Asetetaan tulo '{input}' arvoon {value} kaavalle '{formula}' (oli: {oldValue})",
    "timeout_detected": "Aikakatkaisu havaittu tulossa",
    "unlocked": "Tulon lukitus avattu",
    "unused_warning": "Varoitus: Tuloa {input} ei käytetä missään kaavassa. Käytetyt: {usedInputs}",
    "value": "Arvo",
    "waiting": "Odotetaan tuloa..."
  },
  "listener": {
    "api_unavailable": "Sovelluksen API ei ole käytettävissä kuuntelijan määritykseen",
    "capability_changed": "[{input}] Kyvykkyys '{capability}' muuttui: {value} → {boolean}",
    "capability_found": "Laitteella on kyvykkyys: {capability}",
    "capability_not_exist": "[{input}] Kyvykkyyttä {capability} ei ole laitteessa {device}",
    "device_found": "Laite löydetty: {device}",
    "device_not_found": "[{input}] Laitetta {device} ei löydy",
    "error_setup": "Virhe kuuntelijan määrittämisessä tulolle {input}:",
    "event_received": "Tapahtuma vastaanotettu tulolle {input}",
    "invalid_config": "Virheellinen linkkimääritys tulolle {input}",
    "polling_setup": "[{input}] Määritetty pollaus laitteelle {device} ({capability})",
    "registered": "[{input}] Kuunnellaan laitetta {device} kyvykkyyttä {capability}",
    "registering": "Rekisteröidään kyvykkyyskuuntelijaa kohteelle {capability}...",
    "setting_up": "Määritetään kuuntelijaa tulolle {input}"
  },
  "notifications": {
    "device_ready": "Laite on valmis",
    "error_cleared": "Virhetila tyhjennetty",
    "error_cleared_all": "Virhetila tyhjennetty kaikille kaavoille",
    "formula_updated": "Kaava päivitetty",
    "input_received": "Tulo vastaanotettu",
    "invalid_formula_config": "Virheellinen kaava '{formulaName}': {error}",
    "output_changed": "Lähtö muutettu",
    "reevaluating": "Arvioi kaikki kaavat uudelleen..."
  },
  "operators": {
    "and": "JA",
    "equal": "Yhtä suuri kuin",
    "greater_or_equal": "Suurempi tai yhtä suuri kuin",
    "greater_than": "Suurempi kuin",
    "less_or_equal": "Pienempi tai yhtä suuri kuin",
    "less_than": "Pienempi kuin",
    "not": "EI",
    "not_equal": "Eri kuin",
    "or": "TAI"
  },
  "pair": {
    "add": "Lisää laite",
    "capability_label": "Kyvykkyys:",
    "configure": "Määritä laite",
    "configure_all_inputs": "Määritä kaikki tulot ensin!",
    "configure_inputs_description": "Valitse, mitä laitetta ja kyvykkyyttä kunkin tulon tulee seurata:",
    "configure_inputs_title": "Määritä tulot",
    "configured": "Määritetty",
    "create_device": "[PAIR] create_device kutsuttu",
    "creating_device": "[PAIR] Luodaan laitetta:",
    "default_formula_name": "Oma Kaava",
    "device_label": "Laite:",
    "device_name_label": "Anna laitteelle nimi:",
    "device_name_placeholder": "Logiikkalaitteeni",
    "error": "Laitteen lisääminen epäonnistui",
    "error_button_not_found": "Valmis-painiketta ei löydy DOM:sta!",
    "error_completing_setup": "Asennuksen viimeistely epäonnistui: {error}",
    "error_homey_emit_unavailable": "Homey.emit ei ole käytettävissä",
    "error_homey_nextview_unavailable": "Homey.nextView ei ole käytettävissä",
    "error_homey_object_unavailable": "Homey-objekti tai vaaditut funktiot (emit, __) eivät ole käytettävissä.",
    "error_i18n_unavailable": "Homey-käännöstoiminto (__) ei ole käytettävissä.",
    "error_loading": "-- Lastausvirhe --",
    "error_loading_capabilities": "Kyvykkyyksien lataus epäonnistui: {error}",
    "error_loading_initial_data": "Alkutietojen lataus epäonnistui: {error}",
    "error_navigating": "Siirtymisvirhe: {error}",
    "error_saving_config": "Määrityksen tallennus epäonnistui: {error}",
    "error_saving_input_number": "Tulomäärän tallennus epäonnistui: {error}",
    "error_setting_up_interactions": "Sivun vuorovaikutusten asettaminen epäonnistui: {error}",
    "error_system_not_ready": "Virhe: Paritusjärjestelmä ei ole valmis.",
    "formula_label": "Syötä kaava:",
    "get_devices_error": "[PAIR] VIRHE get_devices_in_zone:",
    "get_devices_in_zone": "[PAIR] get_devices_in_zone kutsuttu alueelle: {zone}",
    "get_num_inputs": "[PAIR] get_num_inputs kutsuttu",
    "get_zones": "[PAIR] get_zones kutsuttu",
    "get_zones_error": "[PAIR] VIRHE get_zones:",
    "handlers_registered": "Parituskäsittelijät rekisteröity",
    "input": "Tulo",
    "inputs_configured": "tuloa määritetty",
    "inputs_range": "Valitse 2–10 tuloa",
    "intro": "Luo uusi logiikkalaite monimutkaisten kaavojen arvioimiseksi",
    "load_devices_error": "Laitteiden lataaminen alueelle epäonnistui",
    "name": "Laitteen nimi",
    "name_placeholder": "Logiikkalaitteeni",
    "next": "Seuraava →",
    "no_zones_error": "Alueita ei löydy. Luo ensin alueita Homey-laitteeseesi.",
    "not_configured": "Ei määritetty",
    "of": "/",
    "save_complete": "Tallenna ja viimeistele",
    "select_capability": "-- Valitse kyvykkyys --",
    "select_device": "-- Valitse laite --",
    "select_device_first": "-- Valitse laite ensin --",
    "select_inputs_description": "Kuinka monta laitetta haluat yhdistää tähän logiikkalaitteeseen?",
    "select_inputs_title": "Valitse tulojen määrä",
    "select_zone": "-- Valitse alue/huone --",
    "select_zone_first": "-- Valitse alue ensin --",
    "session_started": "Paritusistunto aloitettu",
    "set_device_formula": "[PAIR] set_device_formula kutsuttu arvolla: {formula}",
    "set_device_name": "[PAIR] set_device_name kutsuttu arvolla:",
    "set_input_links": "[PAIR] set_input_links kutsuttu",
    "set_num_inputs": "[PAIR] set_num_inputs kutsuttu datalla:",
    "status_label": "Tila:",
    "success": "Laite lisätty onnistuneesti",
    "title": "Lisää logiikkalaite",
    "unknown_capability_fallback": "Tuntematon kyvykkyys",
    "unknown_device": "Tuntematon laite",
    "zone_label": "Alue/Huone:"
  },
  "parse": {
    "error_detecting_inputs": "Virhe tarvittavien tulojen tunnistamisessa:",
    "error_formulas": "Kaavojen jäsentäminen epäonnistui:",
    "error_formulas_invalid": "Virheellinen kaavojen JSON: {message}",
    "error_formulas_json": "Kaavojen jäsentäminen epäonnistui:",
    "error_input_links": "input_links-määritysten jäsentäminen epäonnistui:",
    "error_input_links_invalid": "Virheellinen input_links JSON: {message}"
  },
  "polling": {
    "all_inputs": "Pollataan kaikkia linkitettyjä laitetuloja...",
    "api_unavailable": "Sovelluksen API ei ole käytettävissä pollaamiseen",
    "device_not_found": "Laitetta ei löydy: {device}",
    "failed": "Tiedonhaku epäonnistui kohteelle {input}:",
    "input": "Pollataan tuloa \"{input}\" laitteesta \"{device}\" kyvykkyys \"{capability}\"",
    "no_links": "Ei inputLinks-määrityksiä pollattavaksi",
    "no_value": "Ei arvoa kohteelle {input} ({capability})",
    "value_received": "Pollattu {input}: {value} → {boolean}"
  },
  "refetch": {
    "fetching_values": "Haetaan alkuarvot uudelleen ennen arviointia...",
    "invoked": "Uudelleenhaku ja arviointi käynnistetty (lähde={source})",
    "no_links": "Ei syöttölinkkejä saatavilla uudelleenhaun aikana; ohitetaan arvojen haku.",
    "parse_failed": "input_links-määritysten jäsentäminen epäonnistui uudelleenhaun aikana:",
    "reason": "Haetaan tulot uudelleen (syy: {reason})..."
  },
  "settings": {
    "applied": "Asetukset otettu käyttöön onnistuneesti",
    "applying_formatted": "Otetaan käyttöön automaattisesti muotoiltuja asetuksia...",
    "auto_formatted": "Asetukset automaattisesti muotoiltu",
    "cancel": "Peruuta",
    "changed": "Asetukset muutettu:",
    "changed_dynamic": "Asetukset muutettu (dynaaminen laite):",
    "description": "Määritä Boolean Toolbox -logiikkalaite",
    "error": "Asetusten tallentaminen epäonnistui",
    "expanded": "Kapasiteetti laajennettu {numInputs} tuloon: {availableInputs}",
    "expanding_capacity": "Laajennetaan kapasiteettia: {from} -> {to} (syy: {reason})",
    "expansion_failed": "Kapasiteetin automaattinen laajentaminen epäonnistui:",
    "format_failed": "Asetusten automaattinen muotoilu epäonnistui:",
    "formatting": "Automaattisesti muotoillaan {type} JSON",
    "reset": "Palauta oletusasetuksiin",
    "save": "Tallenna",
    "saved": "Asetukset tallennettu",
    "title": "Asetukset"
  },
  "timeout": {
    "error": "Virhe aikakatkaisun laukaisemisessa:"
  }
}
--- END: locales/fi.json ---

--- START: locales/fr.json (sha256=8b909faa96e4e076938e85f208c459e69dfd056bf25070624a77651c144b9197, bytes=25064) ---
{
  "app": {
    "athom_api_loaded": "athom-api chargée avec succès",
    "checking_for_error": "Vérification d'erreur. Entrée: '{textInput}', A une erreur: {hasError}",
    "condition_check": "Vérification de condition: Formule '{formulaName}' résultat = {result}, vérification si c'est '{expected}'",
    "error_getting_devices": "Erreur lors de la récupération des appareils pour la zone {zoneId}:",
    "error_getting_zones": "Erreur lors de la récupération des zones:",
    "error_stack": "Pile d'erreurs:",
    "evaluation_finished": "Évaluation terminée. Sortie: {output}",
    "flow_cards_registered": "Cartes de flux enregistrées",
    "formula_not_evaluated": "Condition: La formule '{formulaName}' n'a pas encore été évaluée (le résultat est {result})",
    "found_devices_in_zone": "{count} appareils trouvés dans la zone {zoneId}",
    "found_zones": "{count} zones trouvées",
    "getting_devices_for_zone": "Récupération des appareils pour la zone ID: {zoneId}",
    "getting_zones": "Récupération des zones disponibles...",
    "homey_api_extracted": "HomeyAPI extraite, type:",
    "homey_api_methods": "Méthodes HomeyAPI:",
    "homey_api_not_function": "HomeyAPI.forCurrentHomey n'est pas une fonction",
    "initializing_homey_api": "Initialisation de HomeyAPI.forCurrentHomey...",
    "registering_flow_cards": "Enregistrement des cartes de flux...",
    "running_evaluation": "Exécution de l'évaluation. Entrée: {input}, Règles: '{rules}'",
    "value_outside_logic": "La valeur {input} est en dehors de la logique définie."
  },
  "capability": {
    "logic_state": {
      "title": "État logique"
    }
  },
  "common": {
    "disabled": "Désactivé",
    "done": "Terminé",
    "enabled": "Activé",
    "failed": "Échoué",
    "false": "Faux",
    "info": "Information",
    "loading": "Chargement...",
    "max": "Maximum",
    "min": "Minimum",
    "name": "Nom",
    "no": "Non",
    "off": "Désactivé",
    "on": "Activé",
    "processing": "Traitement...",
    "state": "État",
    "success": "Succès",
    "true": "Vrai",
    "type": "Type",
    "unknown": "Inconnu",
    "value": "Valeur",
    "warning": "Avertissement",
    "yes": "Oui"
  },
  "debug": {
    "checking_formula": "Vérification de la formule : {name} (\"{expression}\")",
    "raw_formulas": "Entrée de formules brutes depuis les paramètres:",
    "raw_input_links": "Entrée de input_links bruts depuis les paramètres:",
    "required_inputs": "  - Entrées requises : {inputs}"
  },
  "device": {
    "capability_options_failed": "Impossible de définir les options de capacité:",
    "capability_readonly": "Défini onoff en lecture seule",
    "capability_skip_deleted": "(sûr) Ignorer {capability} – l'appareil n'existe plus.",
    "capability_update_failed": "Échec de la mise à jour de la capacité pour {capability}:",
    "capacity_expanded": "{detected} entrées nécessaires détectées (originalement {original}). Extension de la capacité.",
    "capacity_updated": "Mise à jour de la capacité: {old} → {new} entrées",
    "cleanup_complete": "Nettoyage terminé",
    "deleted_cleanup": "Appareil supprimé — nettoyage des écouteurs et des minuteurs",
    "deleted_skip_flow": "Appareil supprimé, déclencheur de flow ignoré",
    "deleted_skip_update": "Appareil supprimé, mise à jour de capacité ignorée",
    "initialized": "Appareil logique '{name}' initialisé avec {count} entrées",
    "initializing": "Appareil logique '{name}' en cours d'initialisation.",
    "logic_unit_dynamic_name": "Unité Logique",
    "logic_unit_dynamic_name_fallback": "Unité Logique",
    "logic_unit_name": "Unité logique ({count} entrées)",
    "logic_unit_name_fallback": "Unité logique ({count} entrées)",
    "max_input_detected": "Entrée maximale détectée: {input} ({count} entrées nécessaires)",
    "ready": "Appareil prêt: {name}"
  },
  "devicelinks": {
    "complete": "Configuration des liaisons d'appareils terminée",
    "count": "Configuration de {count} liaisons d'appareils",
    "error_cleanup": "Erreur lors du nettoyage de l'écouteur:",
    "error_unregister": "Erreur lors du désenregistrement de l'écouteur:",
    "setting_up": "Configuration des liaisons d'appareils...",
    "setup_failed": "Impossible de configurer l'écouteur pour l'entrée {input}:",
    "unregistered": "Écouteur désenregistré: {key}"
  },
  "driver": {
    "ensure_unique_failed": "ensureUniqueDeviceName a échoué:",
    "ready": "Pilote prêt",
    "registering_flow_cards": "Enregistrement des cartes de flux du pilote..."
  },
  "errors": {
    "connection_failed": "Échec de la connexion",
    "device_not_found": "Appareil non trouvé",
    "evaluation_failed": "Échec de l'évaluation de la formule",
    "generic": "Une erreur s'est produite",
    "helper_not_function": "La fonction d'assistance pour '{argName}' n'est pas une fonction.",
    "invalid_device_instance": "Instance d'appareil non valide",
    "invalid_formula": "Expression de formule invalide",
    "invalid_input": "Valeur d'entrée invalide",
    "method_missing_on_device": "Méthode '{methodName}' manquante sur l'appareil",
    "notification_failed_invalid_formula": "Échec de la création de la notification pour une formule non valide",
    "permission_denied": "Permission refusée",
    "timeout": "Délai d'attente de l'opération",
    "trigger_timeout_card_failed": "Erreur lors de l'obtention/du déclenchement de la carte formula_timeout",
    "unknown": "Erreur inconnue"
  },
  "evaluation": {
    "initial_complete": "Évaluation initiale de toutes les formules...",
    "no_formulas_ready": "Aucune formule n'a pu être évaluée - en attente des valeurs d'entrée",
    "reevaluating_all": "Réévaluation de toutes les formules (réinitialisation des verrous)...",
    "running_initial": "Exécution de l'évaluation initiale des formules..."
  },
  "flow": {
    "actions": {
      "clear_error_state_lu": {
        "title": "Effacer l'état d'erreur de la formule",
        "titleFormatted": "Effacer l'erreur pour formule [[formula]]"
      },
      "clear_error_state_ld": {
        "title": "Effacer l'état d'erreur de la formule",
        "titleFormatted": "Effacer l'état d'erreur"
      },
      "evaluate_all_formula_lu": {
        "title": "Réévaluer toutes les formules",
        "titleFormatted": "Réévaluer toutes les formules"
      },
      "evaluate_expression": {
        "title": "Évaluer l'expression",
        "titleFormatted": "Évaluer [[input]] [[op1]] min [[logical_op]] [[op2]] max avec règles [[rules]]"
      },
      "evaluate_formula_lu": {
        "title": "Évaluer la formule spécifique",
        "titleFormatted": "Évaluer la formule [[formula]]"
      },
      "evaluate_formula_ld": {
        "title": "Revérifier l'état de l'appareil",
        "titleFormatted": "Revérifier l'état"
      },
      "reevaluate_formulas": {
        "title": "Réévaluer toutes les formules",
        "titleFormatted": "Réévaluer toutes les formules"
      },
      "set_all_inputs_lu": {
        "title": "Définir toutes les entrées depuis JSON",
        "titleFormatted": "Définir toutes les entrées depuis JSON : [[values]]"
      },
      "set_input_lu": {
        "title": "Définir la valeur d'entrée (toutes formules)",
        "titleFormatted": "Mettre l'entrée [[input]] à [[value]]"
      },
      "set_input_value_lu": {
        "title": "Définir la valeur d'entrée pour la formule",
        "titleFormatted": "Mettre l'entrée [[input]] à [[value]] pour la formule [[formula]]"
      }
    },
    "args": {
      "formula": {
        "placeholder": "Sélectionner la formule",
        "title": "Formule"
      },
      "input": {
        "placeholder": "Sélectionner l'entrée",
        "title": "Entrée"
      },
      "logical_op": {
        "AND": "ET",
        "OR": "OU",
        "title": "Opérateur logique"
      },
      "number_input": {
        "placeholder": "Entrez un nombre",
        "title": "Valeur d'entrée"
      },
      "op1": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Premier opérateur"
      },
      "op2": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Deuxième opérateur"
      },
      "rules": {
        "placeholder": "min,max,sortie;...",
        "title": "Règles"
      },
      "text_input": {
        "placeholder": "Entrez le message d'erreur ou le jeton",
        "title": "Message d'erreur"
      },
      "value": {
        "false": "FAUX",
        "title": "Valeur",
        "true": "VRAI"
      },
      "values": {
        "placeholder": "{\"A\": true, \"B\": false}",
        "title": "Valeurs JSON"
      },
      "what_is": {
        "false": "FAUX",
        "title": "Valeur",
        "true": "VRAI"
      }
    },
    "conditions": {
      "formula_has_timed_out_lu": {
        "title": "Formule !{{a|n'a pas}} expiré",
        "titleFormatted": "Formule [[formula]] !{{a|n'a pas}} expiré"
      },
      "formula_has_timed_out_ld": {
        "title": "Formule !{{a|n'a pas}} expiré",
        "titleFormatted": "La formule !{{a|n'a pas}} expiré"
      },
      "formula_result_is_lu": {
        "title": "Résultat de la formule est...",
        "titleFormatted": "Formule [[formula]] résultat est [[what_is]]"
      },
      "formula_result_is_ld": {
        "title": "Résultat de la formule est...",
        "titleFormatted": "Le résultat de la formule est [[what_is]]"
      },
      "has_any_error_lu": {
        "title": "Appareil !{{a|n'a pas}} d'erreur",
        "titleFormatted": "Appareil !{{a|n'a pas}} d'erreur"
      },
      "has_any_error_ld": {
        "title": "Appareil !{{a|n'a pas}} d'erreur",
        "titleFormatted": "Appareil !{{a|n'a pas}} d'erreur"
      },
      "has_error": {
        "title": "!{{A|N'a pas}} d'erreur",
        "titleFormatted": "!{{A|N'a pas}} d'erreur dans [[text_input]]"
      }
    },
    "tokens": {
      "errorMessage": {
        "title": "Message d'erreur"
      },
      "outputValue": {
        "title": "Valeur de sortie"
      },
      "state": {
        "title": "État"
      }
    },
    "trigger_error": "Erreur lors du déclenchement du flow:",
    "triggered": "Déclenchement du flow pour le changement de la formule '{name}' à {result}",
    "triggers": {
      "device_state_changed": {
        "hint": "Se déclenche lorsque l'état de l'Appareil Logique change (marche/arrêt)",
        "title": "État modifié",
        "titleFormatted": "État changé en [[state]]"
      },
      "device_state_changed_ld": {
        "hint": "Se déclenche lorsque l'état de l'Appareil Logique change (marche/arrêt)",
        "title": "État modifié",
        "titleFormatted": "État modifié"
      },
      "formula_changed_to_false_lu": {
        "title": "Formule changée en FAUX",
        "titleFormatted": "Formule [[formula]] changée en FAUX"
      },
      "formula_changed_to_true_lu": {
        "title": "Formule changée en VRAI",
        "titleFormatted": "Formule [[formula]] changée en VRAI"
      },
      "formula_timeout_lu": {
        "title": "Délai d'attente de la formule expiré",
        "titleFormatted": "Formule [[formula]] expirée"
      },
      "state_changed_ld": {
        "title": "État modifié",
        "titleFormatted": "État modifié"
      }
    }
  },
  "formula": {
    "all_inputs_defined": "Formule '{name}': Toutes les entrées définies, évaluation...",
    "default_name": "Formule principale",
    "default_name_alt": "Formule 1",
    "default_name_alt_fallback": "Formule par défaut",
    "details": "  - {name}: \"{expression}\" (activé: {enabled})",
    "error": "Erreur de formule",
    "error_inputs_used_but_none_configured": "L'expression utilise des entrées, mais aucune entrée n'est configurée pour cet appareil.",
    "error_no_inputs": "Aucune entrée disponible",
    "error_unbalanced_parentheses": "Parenthèses non équilibrées",
    "error_validation": "Formule '{name}': {error}",
    "evaluated": "Formule évaluée",
    "evaluated_count": "{count} formules évaluées",
    "evaluating": "Évaluation de la formule...",
    "evaluating_expression": "Évaluation: \"{expression}\" → \"{evalExpression}\"",
    "evaluation": "Évaluation",
    "evaluation_failed": "Échec de l'évaluation de la formule '{name}': {message}",
    "expression": "Expression",
    "expression_empty": "L'expression ne peut pas être vide",
    "get_result_not_found": "getFormulaResult: Formule '{id}' non trouvée",
    "initialized": "{count} formules initialisées",
    "input": "Entrée",
    "invalid": "Formule invalide",
    "invalid_syntax": "Syntaxe d'expression invalide: {message}",
    "invalid_tokens": "Jetons invalides dans l'expression: \"{tokens}\"",
    "missing_inputs": "Formule '{name}': Entrées manquantes:",
    "name": "Formule",
    "no_expression": "(aucune expression)",
    "not_found_or_disabled": "Formule '{id}' non trouvée ou désactivée.",
    "output": "Sortie",
    "reinitialized": "{count} formules réinitialisées",
    "result": "Résultat de la formule '{name}': {result}",
    "result_debug": "getFormulaResult: Formule '{name}' ({id}) résultat = {result} (type: {type})",
    "set_input_error": "Erreur setInputForFormula:",
    "syntax_error": "Erreur de syntaxe dans la formule",
    "timed_out": "La formule '{name}' a expiré après {timeout}s",
    "timeout": "Délai d'attente de l'évaluation de la formule",
    "unlocked_inputs": "🔓 Toutes les entrées déverrouillées pour la formule '{name}'",
    "unnamed_formula": "Formule sans nom",
    "waiting_for_input": "Formule '{formula}' en attente d'entrées non définies: {error}",
    "waiting_for_inputs": "Formule '{name}': En attente d'entrées. Requis: [{required}]"
  },
  "help": {
    "first_impression": "Le mode première impression verrouille les entrées à leur première valeur reçue",
    "formula_syntax": "Utilisez des opérateurs logiques comme ET, OU, NON pour créer votre formule",
    "input_values": "Les valeurs d'entrée sont automatically mises à jour lorsque les appareils connectés changent",
    "timeout_warning": "Si une entrée n'est pas mise à jour dans le délai imparti, elle sera signalée"
  },
  "initial": {
    "api_unavailable": "L'API de l'application n'est pas disponible pour récupérer les valeurs initiales",
    "capability_not_found": "[{input}] Capacité {capability} non trouvée",
    "device_not_found": "[{input}] Appareil non trouvé",
    "error": "[{input}] Erreur lors de la récupération de la valeur initiale:",
    "fetching_all": "Récupération des valeurs initiales pour toutes les entrées...",
    "fetching_input": "[{input}] Récupération de la valeur initiale...",
    "no_value_waiting": "[{input}] Aucune valeur initiale trouvée - en attente du premier événement",
    "received_value": "[{input}] Valeur initiale reçue: {value}",
    "value_received": "[{input}] Valeur initiale: {value} → {boolean}"
  },
  "input_options": {
    "context_specific": "Options d'entrée filtrées pour la formule : {formula} ({expression})"
  },
  "inputs": {
    "first_impression": "Mode première impression",
    "label": "Entrée",
    "locked": "Entrée verrouillée",
    "locked_at_value": "🔒 Entrée '{input}' verrouillée à la valeur {value} (mode première impression)",
    "locked_first_impression": "Entrée '{input}' verrouillée pour la formule '{formula}' (mode première impression)",
    "setting_value": "Définition de l'entrée '{input}' à {value} pour la formule '{formula}' (était: {oldValue})",
    "timeout_detected": "Délai d'attente détecté sur l'entrée",
    "unlocked": "Entrée déverrouillée",
    "unused_warning": "Avertissement : L'entrée {input} n'est utilisée dans aucune formule. Utilisées : {usedInputs}",
    "value": "Valeur",
    "waiting": "En attente d'entrée..."
  },
  "listener": {
    "api_unavailable": "API de l'application non disponible pour la configuration de l'écouteur",
    "capability_changed": "[{input}] Capacité '{capability}' modifiée: {value} → {boolean}",
    "capability_found": "L'appareil a la capacité: {capability}",
    "capability_not_exist": "[{input}] La capacité {capability} n'existe pas sur l'appareil {device}",
    "device_found": "Appareil trouvé: {device}",
    "device_not_found": "[{input}] Appareil {device} non trouvé",
    "error_setup": "Erreur lors de la configuration de l'écouteur pour l'entrée {input}:",
    "event_received": "Événement reçu pour l'entrée {input}",
    "invalid_config": "Configuration de lien invalide pour l'entrée {input}",
    "polling_setup": "[{input}] Configuration de l'interrogation pour {device} ({capability})",
    "registered": "[{input}] Écoute de l'appareil {device} capacité {capability}",
    "registering": "Enregistrement de l'écouteur de capacité pour {capability}...",
    "setting_up": "Configuration de l'écouteur pour l'entrée {input}"
  },
  "notifications": {
    "device_ready": "L'appareil est prêt",
    "error_cleared": "État d'erreur effacé",
    "error_cleared_all": "État d'erreur effacé pouroutes les formules",
    "formula_updated": "Formule mise à jour",
    "input_received": "Entrée reçue",
    "invalid_formula_config": "Formule non valide '{formulaName}' : {error}",
    "output_changed": "Sortie modifiée",
    "reevaluating": "Réévaluation de toutes les formules..."
  },
  "operators": {
    "and": "ET",
    "equal": "Égal à",
    "greater_or_equal": "Supérieur ou égal à",
    "greater_than": "Plus grand que",
    "less_or_equal": "Inférieur ou égal à",
    "less_than": "Plus petit que",
    "not": "NON",
    "not_equal": "Différent de",
    "or": "OU"
  },
  "pair": {
    "add": "Ajouter l'appareil",
    "capability_label": "Capacité:",
    "configure": "Configurer l'appareil",
    "configure_all_inputs": "Veuillez d'abord configurer toutes les entrées !",
    "configure_inputs_description": "Sélectionnez l'appareil et la capacité que chaque entrée doit suivre :",
    "configure_inputs_title": "Configurer les entrées",
    "configured": "Configuré",
    "create_device": "[PAIR] create_device appelé",
    "creating_device": "[PAIR] Création de l'appareil:",
    "default_formula_name": "Ma Formule",
    "device_label": "Appareil:",
    "device_name_label": "Donnez un nom à l'appareil :",
    "device_name_placeholder": "Mon appareil logique",
    "error": "Échec de l'ajout de l'appareil",
    "error_button_not_found": "Bouton Terminer introuvable dans le DOM !",
    "error_completing_setup": "Erreur lors de la finalisation de la configuration : {error}",
    "error_homey_emit_unavailable": "Homey.emit n'est pas disponible",
    "error_homey_nextview_unavailable": "Homey.nextView n'est pas disponible",
    "error_homey_object_unavailable": "L'objet Homey ou les fonctions requises (emit, __) ne sont pas disponibles.",
    "error_i18n_unavailable": "La fonction de traduction Homey (__) n'est pas disponible.",
    "error_loading": "-- Erreur de chargement --",
    "error_loading_capabilities": "Erreur lors du chargement des capacités : {error}",
    "error_loading_initial_data": "Erreur lors du chargement des données initiales : {error}",
    "error_navigating": "Erreur de navigation : {error}",
    "error_saving_config": "Erreur lors de l'enregistrement de la configuration : {error}",
    "error_saving_input_number": "Erreur lors de l'enregistrement du nombre d'entrées : {error}",
    "error_setting_up_interactions": "Erreur lors de la configuration des interactions de la page : {error}",
    "error_system_not_ready": "Erreur : Le système d'appairage n'est pas prêt.",
    "formula_label": "Entrez la formule :",
    "get_devices_error": "[PAIR] ERREUR dans get_devices_in_zone:",
    "get_devices_in_zone": "[PAIR] get_devices_in_zone appelé pour la zone: {zone}",
    "get_num_inputs": "[PAIR] get_num_inputs appelé",
    "get_zones": "[PAIR] get_zones appelé",
    "get_zones_error": "[PAIR] ERREUR dans get_zones:",
    "handlers_registered": "Gestionnaires d'appairage enregistrés",
    "input": "Entrée",
    "inputs_configured": "entrées configurées",
    "inputs_range": "Choisissez entre 2 et 10 entrées",
    "intro": "Créez un nouvel appareil logique pour évaluer des formules complexes",
    "load_devices_error": "Échec du chargement des appareils pour la zone",
    "name": "Nom de l'appareil",
    "name_placeholder": "Mon appareil logique",
    "next": "Suivant →",
    "no_zones_error": "Aucune zone trouvée. Veuillez d'abord créer des zones dans votre Homey.",
    "not_configured": "Non configuré",
    "of": "sur",
    "save_complete": "Enregistrer et terminer",
    "select_capability": "-- Sélectionner la capacité --",
    "select_device": "-- Sélectionner l'appareil --",
    "select_device_first": "-- Sélectionnez d'abord l'appareil --",
    "select_inputs_description": "Combien d'appareils souhaitez-vous connecter à cet appareil logique ?",
    "select_inputs_title": "Sélectionner le nombre d'entrées",
    "select_zone": "-- Sélectionner la zone/pièce --",
    "select_zone_first": "-- Sélectionnez d'abord la zone --",
    "session_started": "Session d'appairage démarrée",
    "set_device_formula": "[PAIR] set_device_formula appelé avec : {formula}",
    "set_device_name": "[PAIR] set_device_name appelé avec:",
    "set_input_links": "[PAIR] set_input_links appelé",
    "set_num_inputs": "[PAIR] set_num_inputs appelé avec données:",
    "status_label": "Statut:",
    "success": "Appareil ajouté avec succès",
    "title": "Ajouter un appareil logique",
    "unknown_capability_fallback": "Capacité inconnue",
    "unknown_device": "Appareil inconnu",
    "zone_label": "Zone/Pièce:"
  },
  "parse": {
    "error_detecting_inputs": "Erreur lors de la détection des entrées requises:",
    "error_formulas": "Échec de l'analyse des formules:",
    "error_formulas_invalid": "JSON de formules invalide: {message}",
    "error_formulas_json": "Impossible d'analyser les formules:",
    "error_input_links": "Échec de l'analyse des input_links:",
    "error_input_links_invalid": "JSON de input_links invalide: {message}"
  },
  "polling": {
    "all_inputs": "Interrogation de toutes les entrées d'appareils liées...",
    "api_unavailable": "L'API de l'application n'est pas disponible pour l'interrogation",
    "device_not_found": "Appareil non trouvé: {device}",
    "failed": "Échec de l'interrogation de {input}:",
    "input": "Interrogation de l'entrée \"{input}\" de l'appareil \"{device}\" capacité \"{capability}\"",
    "no_links": "Aucun inputLinks disponible pour l'interrogation",
    "no_value": "Aucune valeur pour {input} ({capability})",
    "value_received": "Interrogé {input}: {value} → {boolean}"
  },
  "refetch": {
    "fetching_values": "Nouvelle récupération des valeurs initiales avant évaluation...",
    "invoked": "Récupération et évaluation invoquées (source={source})",
    "no_links": "Aucun lien d'entrée disponible lors de la nouvelle récupération; récupération des valeurs ignorée.",
    "parse_failed": "Échec de l'analyse des input_links lors de la nouvelle récupération:",
    "reason": "Nouvelle récupération des entrées (raison: {reason})..."
  },
  "settings": {
    "applied": "Paramètres appliqués avec succès",
    "applying_formatted": "Application des paramètres auto-formatés...",
    "auto_formatted": "Paramètres auto-formatés",
    "cancel": "Annuler",
    "changed": "Paramètres modifiés:",
    "changed_dynamic": "Paramètres modifiés (appareil dynamique) :",
    "description": "Configurez votre appareil logique Boolean Toolbox",
    "error": "Échec de l'enregistrement des paramètres",
    "expanded": "Capacité étendue à {numInputs} entrées : {availableInputs}",
    "expanding_capacity": "Extension de la capacité : {from} -> {to} (raison : {reason})",
    "expansion_failed": "Échec de l'extension automatique de la capacité :",
    "format_failed": "Échec de l'auto-formatage des paramètres:",
    "formatting": "Formatera automatiquement {type} JSON",
    "reset": "Réinitialiser aux valeurs par défaut",
    "save": "Enregistrer",
    "saved": "Paramètres enregistrés",
    "title": "Paramètres"
  },
  "timeout": {
    "error": "Erreur lors du déclenchement du délai d'attente:"
  }
}
--- END: locales/fr.json ---

--- START: locales/it.json (sha256=9630540802ec290f6b857b14b33e842bfda0dd27a492ed15ef30d030e3869ad4, bytes=23917) ---
{
  "app": {
    "athom_api_loaded": "athom-api caricata con successo",
    "checking_for_error": "Controllo errore. Input: '{textInput}', Ha errore: {hasError}",
    "condition_check": "Controllo condizione: Formula '{formulaName}' risultato = {result}, controllo se è '{expected}'",
    "error_getting_devices": "Errore nel recupero dei dispositivi per la zona {zoneId}:",
    "error_getting_zones": "Errore nel recupero delle zone:",
    "error_stack": "Stack errori:",
    "evaluation_finished": "Valutazione terminata. Output: {output}",
    "flow_cards_registered": "Schede di flusso registrate",
    "formula_not_evaluated": "Condizione: Formula '{formulaName}' non ancora valutata (risultato è {result})",
    "found_devices_in_zone": "Trovati {count} dispositivi nella zona {zoneId}",
    "found_zones": "Trovate {count} zone",
    "getting_devices_for_zone": "Recupero dispositivi per la zona ID: {zoneId}",
    "getting_zones": "Recupero zone disponibili...",
    "homey_api_extracted": "HomeyAPI estratta, tipo:",
    "homey_api_methods": "Metodi HomeyAPI:",
    "homey_api_not_function": "HomeyAPI.forCurrentHomey non è una funzione",
    "initializing_homey_api": "Inizializzazione HomeyAPI.forCurrentHomey...",
    "registering_flow_cards": "Registrazione schede di flusso...",
    "running_evaluation": "Esecuzione valutazione. Input: {input}, Regole: '{rules}'",
    "value_outside_logic": "Valore {input} fuori dalla logica definita."
  },
  "capability": {
    "logic_state": {
      "title": "Stato Logico"
    }
  },
  "common": {
    "disabled": "Disabilitato",
    "done": "Fatto",
    "enabled": "Abilitato",
    "failed": "Fallito",
    "false": "Falso",
    "info": "Informazioni",
    "loading": "Caricamento...",
    "max": "Massimo",
    "min": "Minimo",
    "name": "Nome",
    "no": "No",
    "off": "Spento",
    "on": "Acceso",
    "processing": "Elaborazione...",
    "state": "Stato",
    "success": "Successo",
    "true": "Vero",
    "type": "Tipo",
    "unknown": "Sconosciuto",
    "value": "Valore",
    "warning": "Avviso",
    "yes": "Sì"
  },
  "debug": {
    "checking_formula": "Controllo formula: {name} (\"{expression}\")",
    "raw_formulas": "Input formule grezze dalle impostazioni:",
    "raw_input_links": "Input input_links grezzi dalle impostazioni:",
    "required_inputs": "  - Input richiesti: {inputs}"
  },
  "device": {
    "capability_options_failed": "Impossibile impostare le opzioni di capacità:",
    "capability_readonly": "Impostato onoff come sola lettura",
    "capability_skip_deleted": "(sicuro) Saltando {capability} – dispositivo non più esistente.",
    "capability_update_failed": "Aggiornamento capacità fallito per {capability}:",
    "capacity_expanded": "Rilevati {detected} input necessari (originariamente {original}). Espansione capacità.",
    "capacity_updated": "Aggiornamento capacità: {old} → {new} input",
    "cleanup_complete": "Pulizia completata",
    "deleted_cleanup": "Dispositivo eliminato — pulizia listener e timer",
    "deleted_skip_flow": "Dispositivo eliminato, salto attivazione flow",
    "deleted_skip_update": "Dispositivo eliminato, salto aggiornamento capacità",
    "initialized": "Dispositivo logico '{name}' inizializzato con {count} input",
    "initializing": "Dispositivo logico '{name}' in fase di inizializzazione.",
    "logic_unit_dynamic_name": "Unità Logica",
    "logic_unit_dynamic_name_fallback": "Unità Logica",
    "logic_unit_name": "Unità logica ({count} input)",
    "logic_unit_name_fallback": "Unità logica ({count} input)",
    "max_input_detected": "Rilevato input massimo: {input} ({count} input necessari)",
    "ready": "Dispositivo pronto: {name}"
  },
  "devicelinks": {
    "complete": "Impostazione collegamenti dispositivo completata",
    "count": "Impostazione di {count} collegamenti dispositivo",
    "error_cleanup": "Errore during la pulizia del listener:",
    "error_unregister": "Errore during la deregistrazione del listener:",
    "setting_up": "Impostazione collegamenti dispositivo...",
    "setup_failed": "Impossibile impostare il listener per l'input {input}:",
    "unregistered": "Listener non registrato: {key}"
  },
  "driver": {
    "ensure_unique_failed": "ensureUniqueDeviceName fallito:",
    "ready": "Driver pronto",
    "registering_flow_cards": "Registrazione schede di flusso del driver..."
  },
  "errors": {
    "connection_failed": "Connessione fallita",
    "device_not_found": "Dispositivo non trovato",
    "evaluation_failed": "Valutazione formula fallita",
    "generic": "Si è verificato un errore",
    "helper_not_function": "La funzione di supporto per '{argName}' non è una funzione.",
    "invalid_device_instance": "Istanza dispositivo non valida",
    "invalid_formula": "Espressione formula non valida",
    "invalid_input": "Valore di input non valido",
    "method_missing_on_device": "Metodo '{methodName}' mancante sul dispositivo",
    "notification_failed_invalid_formula": "Impossibile creare la notifica per formula non valida",
    "permission_denied": "Permesso negato",
    "timeout": "Timeout operazione",
    "trigger_timeout_card_failed": "Errore nel recupero/attivazione della scheda formula_timeout",
    "unknown": "Si è verificato un errore sconosciuto"
  },
  "evaluation": {
    "initial_complete": "Valutazione iniziale di tutte le formule...",
    "no_formulas_ready": "Nessuna formula valutabile - in attesa dei valori di input",
    "reevaluating_all": "Rivalutazione di tutte le formule (ripristino blocchi)...",
    "running_initial": "Esecuzione valutazione formula iniziale..."
  },
  "flow": {
    "actions": {
      "clear_error_state_lu": {
        "title": "Cancella stato errore formula",
        "titleFormatted": "Cancella stato errore per formula [[formula]]"
      },
      "clear_error_state_ld": {
        "title": "Cancella errore",
        "titleFormatted": "Cancella stato errore"
      },
      "evaluate_all_formula_lu": {
        "title": "Rivaluta tutto",
        "titleFormatted": "Rivaluta tutte le formule"
      },
      "evaluate_expression": {
        "title": "Valuta espressione",
        "titleFormatted": "Valuta [[input]] [[op1]] min [[logical_op]] [[op2]] max con regole [[rules]]"
      },
      "evaluate_formula_lu": {
        "title": "Valuta formula specifica",
        "titleFormatted": "Valuta formula [[formula]]"
      },
      "evaluate_formula_ld": {
        "title": "Ricontrolla stato dispositivo",
        "titleFormatted": "Ricontrolla stato"
      },
      "reevaluate_formulas": {
        "title": "Rivaluta tutto",
        "titleFormatted": "Rivaluta tutte le formule"
      },
      "set_all_inputs_lu": {
        "title": "Imposta tutti gli input da JSON",
        "titleFormatted": "Imposta tutti gli input da JSON: [[values]]"
      },
      "set_input_lu": {
        "title": "Imposta valore di ingresso (tutte le formule)",
        "titleFormatted": "Imposta input [[input]] a [[value]]"
      },
      "set_input_value_lu": {
        "title": "Imposta valore di ingresso per formula",
        "titleFormatted": "Imposta input [[input]] a [[value]] per formula [[formula]]"
      }
    },
    "args": {
      "formula": {
        "placeholder": "Seleziona formula",
        "title": "Formula"
      },
      "input": {
        "placeholder": "Seleziona input",
        "title": "Input"
      },
      "logical_op": {
        "AND": "E",
        "OR": "O",
        "title": "Operatore logico"
      },
      "number_input": {
        "placeholder": "Inserisci numero",
        "title": "Valore di input"
      },
      "op1": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Primo operatore"
      },
      "op2": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Secondo operatore"
      },
      "rules": {
        "placeholder": "min,max,output;...",
        "title": "Regole"
      },
      "text_input": {
        "placeholder": "Inserisci messaggio di errore o token",
        "title": "Messaggio di errore"
      },
      "value": {
        "false": "FALSO",
        "title": "Valore",
        "true": "VERO"
      },
      "values": {
        "placeholder": "{\"A\": true, \"B\": false}",
        "title": "Valori JSON"
      },
      "what_is": {
        "false": "FALSO",
        "title": "Valore",
        "true": "VERO"
      }
    },
    "conditions": {
      "formula_has_timed_out_lu": {
        "title": "Formula !{{è|non è}} in timeout",
        "titleFormatted": "Formula [[formula]] !{{è|non è}} in timeout"
      },
      "formula_has_timed_out_ld": {
        "title": "Formula !{{è|non è}} in timeout",
        "titleFormatted": "Formula !{{è|non è}} in timeout"
      },
      "formula_result_is_lu": {
        "title": "Il risultato della formula è...",
        "titleFormatted": "Il risultato della formula [[formula]] è [[what_is]]"
      },
      "formula_result_is_ld": {
        "title": "Il risultato è... (LD)",
        "titleFormatted": "Il risultato della formula è [[what_is]]"
      },
      "has_any_error_lu": {
        "title": "Il dispositivo !{{ha|non ha}} errori",
        "titleFormatted": "Il dispositivo !{{ha|non ha}} errori"
      },
      "has_any_error_ld": {
        "title": "Ha un errore (LD)",
        "titleFormatted": "Il dispositivo !{{ha|non ha}} errori"
      },
      "has_error": {
        "title": "!{{Ha|Non ha}} errori",
        "titleFormatted": "!{{Ha|Non ha}} errori in [[text_input]]"
      }
    },
    "tokens": {
      "errorMessage": {
        "title": "Messaggio di errore"
      },
      "outputValue": {
        "title": "Valore di output"
      },
      "state": {
        "title": "Stato"
      }
    },
    "trigger_error": "Errore during l'attivazione del flow:",
    "triggered": "Attivazione flow per formula '{name}' modificata in {result}",
    "triggers": {
      "device_state_changed": {
        "hint": "Si attiva quando lo stato del Dispositivo Logico cambia (acceso/spento)",
        "title": "Stato modificato",
        "titleFormatted": "Stato modificato in [[state]]"
      },
      "device_state_changed_ld": {
        "hint": "Si attiva quando lo stato del Dispositivo Logico cambia (acceso/spento)",
        "title": "Stato modificato",
        "titleFormatted": "Stato modificato"
      },
      "formula_changed_to_false_lu": {
        "title": "Formula modificata in FALSO",
        "titleFormatted": "Formula [[formula]] modificata in FALSO"
      },
      "formula_changed_to_true_lu": {
        "title": "Formula modificata in VERO",
        "titleFormatted": "Formula [[formula]] modificata in VERO"
      },
      "formula_timeout_lu": {
        "title": "Formula in timeout",
        "titleFormatted": "Formula [[formula]] in timeout"
      },
      "state_changed_ld": {
        "title": "Stato modificato",
        "titleFormatted": "Stato modificato"
      }
    }
  },
  "formula": {
    "all_inputs_defined": "Formula '{name}': Tutti gli input definiti, valutazione...",
    "default_name": "Formula principale",
    "default_name_alt": "Formula 1",
    "default_name_alt_fallback": "Formula predefinita",
    "details": "  - {name}: \"{expression}\" (abilitato: {enabled})",
    "error": "Errore formula",
    "error_inputs_used_but_none_configured": "L'espressione utilizza input, ma nessun input è configurato per questo dispositivo.",
    "error_no_inputs": "Nessun input disponibile",
    "error_unbalanced_parentheses": "Parentesi non bilanciate",
    "error_validation": "Formula '{name}': {error}",
    "evaluated": "Formula valutata",
    "evaluated_count": "Valutate {count} formule",
    "evaluating": "Valutazione formula...",
    "evaluating_expression": "Valutazione: \"{expression}\" → \"{evalExpression}\"",
    "evaluation": "Valutazione",
    "evaluation_failed": "Impossibile valutare la formula '{name}': {message}",
    "expression": "Espressione",
    "expression_empty": "L'espressione non può essere vuota",
    "get_result_not_found": "getFormulaResult: Formula '{id}' non trovata",
    "initialized": "Inizializzate {count} formule",
    "input": "Input",
    "invalid": "Formula non valida",
    "invalid_syntax": "Sintassi espressione non valida: {message}",
    "invalid_tokens": "Token non validi nell'espressione: \"{tokens}\"",
    "missing_inputs": "Formula '{name}': Input mancanti:",
    "name": "Formula",
    "no_expression": "(nessuna espressione)",
    "not_found_or_disabled": "Formula '{id}' non trovata o disabilitata.",
    "output": "Output",
    "reinitialized": "Re-inizializzate {count} formule",
    "result": "Formula '{name}' risultato: {result}",
    "result_debug": "getFormulaResult: Formula '{name}' ({id}) risultato = {result} (tipo: {type})",
    "set_input_error": "Errore setInputForFormula:",
    "syntax_error": "Errore di sintassi nella formula",
    "timed_out": "Formula '{name}' in timeout dopo {timeout}s",
    "timeout": "Timeout valutazione formula",
    "unlocked_inputs": "🔓 Sbloccati tutti gli input per la formula '{name}'",
    "unnamed_formula": "Formula senza nome",
    "waiting_for_input": "Formula '{formula}' in attesa di input non definiti: {error}",
    "waiting_for_inputs": "Formula '{name}': In attesa di input. Richiesti: [{required}]"
  },
  "help": {
    "first_impression": "La modalità prima impressione blocca gli input al loro primo valore ricevuto",
    "formula_syntax": "Usa operatori logici come E, O, NON per creare la tua formula",
    "input_values": "I valori di input vengono aggiornati automaticamente quando i dispositivi collegati cambiano",
    "timeout_warning": "Se un input non viene aggiornato entro il periodo di timeout, verrà contrassegnato"
  },
  "initial": {
    "api_unavailable": "API app non disponibile per il recupero dei valori iniziali",
    "capability_not_found": "[{input}] Capacità {capability} non trovata",
    "device_not_found": "[{input}] Dispositivo non trovato",
    "error": "[{input}] Errore nel recupero del valore iniziale:",
    "fetching_all": "Recupero valori iniziali per tutti gli input...",
    "fetching_input": "[{input}] Recupero valore iniziale...",
    "no_value_waiting": "[{input}] Nessun valore iniziale trovato - in attesa del primo evento",
    "received_value": "[{input}] Ricevuto valore iniziale: {value}",
    "value_received": "[{input}] Valore iniziale: {value} → {boolean}"
  },
  "input_options": {
    "context_specific": "Opzioni di input filtrate per la formula: {formula} ({expression})"
  },
  "inputs": {
    "first_impression": "Modalità prima impressione",
    "label": "Input",
    "locked": "Input bloccato",
    "locked_at_value": "🔒 Input '{input}' bloccato al valore {value} (modalità prima impressione)",
    "locked_first_impression": "Input '{input}' bloccato per la formula '{formula}' (modalità prima impressione)",
    "setting_value": "Impostazione input '{input}' a {value} per la formula '{formula}' (era: {oldValue})",
    "timeout_detected": "Timeout rilevato sull'input",
    "unlocked": "Input sbloccato",
    "unused_warning": "Attenzione: L'input {input} non è utilizzato in nessuna formula. Usati: {usedInputs}",
    "value": "Valore",
    "waiting": "In attesa di input..."
  },
  "listener": {
    "api_unavailable": "API app non disponibile per l'impostazione del listener",
    "capability_changed": "[{input}] Capacità '{capability}' modificata: {value} → {boolean}",
    "capability_found": "Il dispositivo ha la capacità: {capability}",
    "capability_not_exist": "[{input}] La capacità {capability} non esiste sul dispositivo {device}",
    "device_found": "Dispositivo trovato: {device}",
    "device_not_found": "[{input}] Dispositivo {device} non trovato",
    "error_setup": "Errore nell'impostazione del listener per l'input {input}:",
    "event_received": "Evento ricevuto per l'input {input}",
    "invalid_config": "Configurazione link non valida per l'input {input}",
    "polling_setup": "[{input}] Impostato polling per {device} ({capability})",
    "registered": "[{input}] In ascolto del dispositivo {device} capacità {capability}",
    "registering": "Registrazione listener capacità per {capability}...",
    "setting_up": "Impostazione listener per l'input {input}"
  },
  "notifications": {
    "device_ready": "Il dispositivo è pronto",
    "error_cleared": "Stato di errore cancellato",
    "error_cleared_all": "Stato di errore cancellato per tutte le formule",
    "formula_updated": "Formula aggiornata",
    "input_received": "Input ricevuto",
    "invalid_formula_config": "Formula non valida '{formulaName}': {error}",
    "output_changed": "Output modificato",
    "reevaluating": "Rivaluta tutte le formule..."
  },
  "operators": {
    "and": "E",
    "equal": "Uguale a",
    "greater_or_equal": "Maggiore o uguale a",
    "greater_than": "Maggiore di",
    "less_or_equal": "Minore o uguale a",
    "less_than": "Minore di",
    "not": "NON",
    "not_equal": "Diverso da",
    "or": "O"
  },
  "pair": {
    "add": "Aggiungi dispositivo",
    "capability_label": "Capacità:",
    "configure": "Configura dispositivo",
    "configure_all_inputs": "Si prega di configurare prima tutti gli input!",
    "configure_inputs_description": "Seleziona quale dispositivo e capacità deve seguire ciascun input:",
    "configure_inputs_title": "Configura input",
    "configured": "Configurato",
    "create_device": "[PAIR] create_device chiamato",
    "creating_device": "[PAIR] Creazione dispositivo:",
    "default_formula_name": "La mia Formula",
    "device_label": "Dispositivo:",
    "device_name_label": "Dai un nome al dispositivo:",
    "device_name_placeholder": "Il mio dispositivo logico",
    "error": "Impossibile aggiungere il dispositivo",
    "error_button_not_found": "Pulsante 'Completa' non trovato nel DOM!",
    "error_completing_setup": "Errore nel completamento della configurazione: {error}",
    "error_homey_emit_unavailable": "Homey.emit non è disponibile",
    "error_homey_nextview_unavailable": "Homey.nextView non è disponibile",
    "error_homey_object_unavailable": "Oggetto Homey o funzioni richieste (emit, __) non disponibili.",
    "error_i18n_unavailable": "Funzione di traduzione Homey (__) non disponibile.",
    "error_loading": "-- Errore di caricamento --",
    "error_loading_capabilities": "Errore nel caricamento delle capacità: {error}",
    "error_loading_initial_data": "Errore nel caricamento dei dati iniziali: {error}",
    "error_navigating": "Errore di navigazione: {error}",
    "error_saving_config": "Errore nel salvataggio della configurazione: {error}",
    "error_saving_input_number": "Errore nel salvataggio del numero di input: {error}",
    "error_setting_up_interactions": "Errore nell'impostazione delle interazioni della pagina: {error}",
    "error_system_not_ready": "Errore: Sistema di abbinamento non pronto.",
    "formula_label": "Inserisci formula:",
    "get_devices_error": "[PAIR] ERRORE in get_devices_in_zone:",
    "get_devices_in_zone": "[PAIR] get_devices_in_zone chiamato per la zona: {zone}",
    "get_num_inputs": "[PAIR] get_num_inputs chiamato",
    "get_zones": "[PAIR] get_zones chiamato",
    "get_zones_error": "[PAIR] ERRORE in get_zones:",
    "handlers_registered": "Gestori di abbinamento registrati",
    "input": "Input",
    "inputs_configured": "input configurati",
    "inputs_range": "Scegli tra 2 e 10 input",
    "intro": "Crea un nuovo dispositivo logico per valutare formule complesse",
    "load_devices_error": "Impossibile caricare i dispositivi per la zona",
    "name": "Nome dispositivo",
    "name_placeholder": "Il mio dispositivo logico",
    "next": "Avanti →",
    "no_zones_error": "Nessuna zona trovata. Crea prima le zone nel tuo Homey.",
    "not_configured": "Non configurato",
    "of": "di",
    "save_complete": "Salva e completa",
    "select_capability": "-- Seleziona capacità --",
    "select_device": "-- Seleziona dispositivo --",
    "select_device_first": "-- Seleziona prima il dispositivo --",
    "select_inputs_description": "Quanti dispositivi vuoi collegare a questo dispositivo logico?",
    "select_inputs_title": "Seleziona numero di input",
    "select_zone": "-- Seleziona zona/stanza --",
    "select_zone_first": "-- Seleziona prima la zona --",
    "session_started": "Sessione di abbinamento avviata",
    "set_device_formula": "[PAIR] set_device_formula chiamato con: {formula}",
    "set_device_name": "[PAIR] set_device_name chiamato con:",
    "set_input_links": "[PAIR] set_input_links chiamato",
    "set_num_inputs": "[PAIR] set_num_inputs chiamato con dati:",
    "status_label": "Stato:",
    "success": "Dispositivo aggiunto con successo",
    "title": "Aggiungi dispositivo logico",
    "unknown_capability_fallback": "Capacità sconosciuta",
    "unknown_device": "Dispositivo sconosciuto",
    "zone_label": "Zona/Stanza:"
  },
  "parse": {
    "error_detecting_inputs": "Errore nel rilevamento degli input richiesti:",
    "error_formulas": "Impossibile analizzare le formule:",
    "error_formulas_invalid": "JSON formule non valido: {message}",
    "error_formulas_json": "Impossibile analizzare le formule:",
    "error_input_links": "Impossibile analizzare input_links:",
    "error_input_links_invalid": "JSON input_links non valido: {message}"
  },
  "polling": {
    "all_inputs": "Polling di tutti gli input dei dispositivi collegati...",
    "api_unavailable": "API app non disponibile per il polling",
    "device_not_found": "Dispositivo non trovato: {device}",
    "failed": "Polling fallito per {input}:",
    "input": "Polling input \"{input}\" dal dispositivo \"{device}\" capacità \"{capability}\"",
    "no_links": "Nessun inputLink disponibile per il polling",
    "no_value": "Nessun valore per {input} ({capability})",
    "value_received": "Polled {input}: {value} → {boolean}"
  },
  "refetch": {
    "fetching_values": "Recupero valori iniziali prima della valutazione...",
    "invoked": "Richiamata e valutazione invocate (sorgente={source})",
    "no_links": "Nessun link di input disponibile durante il recupero; salto recupero valori.",
    "parse_failed": "Impossibile analizzare input_links durante il recupero:",
    "reason": "Recupero nuovamente gli input (motivo: {reason})..."
  },
  "settings": {
    "applied": "Impostazioni applicate con successo",
    "applying_formatted": "Applicazione impostazioni formattate automaticamente...",
    "auto_formatted": "Impostazioni formattate automaticamente",
    "cancel": "Annulla",
    "changed": "Impostazioni modificate:",
    "changed_dynamic": "Impostazioni modificate (dispositivo dinamico):",
    "description": "Configura il tuo dispositivo logico Boolean Toolbox",
    "error": "Impossibile salvare le impostazioni",
    "expanded": "Capacità espansa a {numInputs} input: {availableInputs}",
    "expanding_capacity": "Espansione capacità: {from} -> {to} (motivo: {reason})",
    "expansion_failed": "Impossibile auto-espandere la capacità:",
    "format_failed": "Impossibile formattare automaticamente le impostazioni:",
    "formatting": "Formattazione automatica {type} JSON",
    "reset": "Ripristina predefiniti",
    "save": "Salva",
    "saved": "Impostazioni salvate",
    "title": "Impostazioni"
  },
  "timeout": {
    "error": "Errore nell'attivazione del timeout:"
  }
}
--- END: locales/it.json ---

--- START: locales/nl.json (sha256=a47264dea7cab9abe536c4293fc07ed2a96f5b408d7f42c0b3c99dc0a4e637bd, bytes=23486) ---
{
  "app": {
    "athom_api_loaded": "athom-api succesvol geladen",
    "checking_for_error": "Controleren op fout. Invoer: '{textInput}', Heeft fout: {hasError}",
    "condition_check": "Conditiecontrole: Formule '{formulaName}' resultaat = {result}, controleer of het '{expected}' is",
    "error_getting_devices": "Fout bij ophalen apparaten voor zone {zoneId}:",
    "error_getting_zones": "Fout bij ophalen zones:",
    "error_stack": "Fout-stack:",
    "evaluation_finished": "Evaluatie voltooid. Uitvoer: {output}",
    "flow_cards_registered": "Flow-kaarten geregistreerd",
    "formula_not_evaluated": "Conditie: Formule '{formulaName}' is nog niet geëvalueerd (resultaat is {result})",
    "found_devices_in_zone": "{count} apparaten gevonden in zone {zoneId}",
    "found_zones": "{count} zones gevonden",
    "getting_devices_for_zone": "Apparaten ophalen voor zone ID: {zoneId}",
    "getting_zones": "Beschikbare zones ophalen...",
    "homey_api_extracted": "HomeyAPI geëxtraheerd, type:",
    "homey_api_methods": "HomeyAPI-methoden:",
    "homey_api_not_function": "HomeyAPI.forCurrentHomey is geen functie",
    "initializing_homey_api": "HomeyAPI.forCurrentHomey initialiseren...",
    "registering_flow_cards": "Flow-kaarten registreren...",
    "running_evaluation": "Evaluatie uitvoeren. Invoer: {input}, Regels: '{rules}'",
    "value_outside_logic": "Waarde {input} valt buiten de gedefinieerde logica."
  },
  "capability": {
    "logic_state": {
      "title": "Logische Staat"
    }
  },
  "common": {
    "disabled": "Uitgeschakeld",
    "done": "Klaar",
    "enabled": "Ingeschakeld",
    "failed": "Mislukt",
    "false": "Onwaar",
    "info": "Informatie",
    "loading": "Laden...",
    "max": "Maximum",
    "min": "Minimum",
    "name": "Naam",
    "no": "Nee",
    "off": "Uit",
    "on": "Aan",
    "processing": "Verwerken...",
    "state": "Status",
    "success": "Succes",
    "true": "Waar",
    "type": "Type",
    "unknown": "Onbekend",
    "value": "Waarde",
    "warning": "Waarschuwing",
    "yes": "Ja"
  },
  "debug": {
    "checking_formula": "Formule controleren: {name} (\"{expression}\")",
    "raw_formulas": "Ruwe formules invoer van instellingen:",
    "raw_input_links": "Ruwe input_links van instellingen:",
    "required_inputs": "  - Vereiste ingangen: {inputs}"
  },
  "device": {
    "capability_options_failed": "Kan capability-opties niet instellen:",
    "capability_readonly": "onoff ingesteld als alleen-lezen",
    "capability_skip_deleted": "(veilig) Overslaan {capability} – apparaat bestaat niet meer.",
    "capability_update_failed": "Capability-update mislukt voor {capability}:",
    "capacity_expanded": "{detected} ingangen gedetecteerd (oorspronkelijk {original}). Capaciteit wordt uitgebreid.",
    "capacity_updated": "Capaciteit bijwerken: {old} → {new} ingangen",
    "cleanup_complete": "Opschonen voltooid",
    "deleted_cleanup": "Apparaat verwijderd — listeners & timers opschonen",
    "deleted_skip_flow": "Apparaat verwijderd, flow-trigger overslaan",
    "deleted_skip_update": "Apparaat verwijderd, capability-update overslaan",
    "initialized": "Logisch apparaat '{name}' geïnitialiseerd met {count} ingangen",
    "initializing": "Logisch apparaat '{name}' wordt geïnitialiseerd.",
    "logic_unit_dynamic_name": "Logische Eenheid",
    "logic_unit_dynamic_name_fallback": "Logische Eenheid",
    "logic_unit_name": "Logische eenheid ({count} ingangen)",
    "logic_unit_name_fallback": "Logische eenheid ({count} ingangen)",
    "max_input_detected": "Maximale ingang gedetecteerd: {input} ({count} ingangen nodig)",
    "ready": "Apparaat gereed: {name}"
  },
  "devicelinks": {
    "complete": "Apparaatkoppelingen ingesteld",
    "count": "{count} apparaatkoppelingen instellen",
    "error_cleanup": "Fout bij opschonen listener:",
    "error_unregister": "Fout bij uitschrijven listener:",
    "setting_up": "Apparaatkoppelingen instellen...",
    "setup_failed": "Kan listener niet instellen voor ingang {input}:",
    "unregistered": "Listener uitgeschreven: {key}"
  },
  "driver": {
    "ensure_unique_failed": "ensureUniqueDeviceName mislukt:",
    "ready": "Driver gereed",
    "registering_flow_cards": "Driver flow-kaarten registreren..."
  },
  "errors": {
    "connection_failed": "Verbinding mislukt",
    "device_not_found": "Apparaat niet gevonden",
    "evaluation_failed": "Formule-evaluatie mislukt",
    "generic": "Er is een fout opgetreden",
    "helper_not_function": "Hulpfunctie voor '{argName}' is geen functie.",
    "invalid_device_instance": "Ongeldige apparaatinstantie",
    "invalid_formula": "Ongeldige formule-uitdrukking",
    "invalid_input": "Ongeldige invoerwaarde",
    "method_missing_on_device": "Methode '{methodName}' ontbreekt op apparaat",
    "notification_failed_invalid_formula": "Kan geen melding maken voor ongeldige formule",
    "permission_denied": "Toegang geweigerd",
    "timeout": "Bewerking time-out",
    "trigger_timeout_card_failed": "Fout bij ophalen/triggeren van formula_timeout-kaart",
    "unknown": "Onbekende fout opgetreden"
  },
  "evaluation": {
    "initial_complete": "Initiële evaluatie van alle formules...",
    "no_formulas_ready": "Geen formules konden worden geëvalueerd - wachten op ingangswaarden",
    "reevaluating_all": "Alle formules opnieuw evalueren (vergrendelingen resetten)...",
    "running_initial": "Initiële formule-evaluatie uitvoeren..."
  },
  "flow": {
    "actions": {
      "clear_error_state_lu": {
        "title": "Formule-foutstatus wissen",
        "titleFormatted": "Foutstatus voor formule [[formula]] wissen"
      },
      "clear_error_state_ld": {
        "title": "Formule-foutstatus wissen",
        "titleFormatted": "Foutstatus wissen"
      },
      "evaluate_all_formula_lu": {
        "title": "Alle formules opnieuw evalueren",
        "titleFormatted": "Alle formules opnieuw evalueren"
      },
      "evaluate_expression": {
        "title": "Uitdrukking evalueren",
        "titleFormatted": "Evalueer [[input]] [[op1]] min [[logical_op]] [[op2]] max met regels [[rules]]"
      },
      "evaluate_formula_lu": {
        "title": "Specifieke formule evalueren",
        "titleFormatted": "Formule [[formula]] evalueren"
      },
      "evaluate_formula_ld": {
        "title": "Apparaatstatus opnieuw controleren",
        "titleFormatted": "Status opnieuw controleren"
      },
      "reevaluate_formulas": {
        "title": "Alle formules opnieuw evalueren",
        "titleFormatted": "Alle formules opnieuw evalueren"
      },
      "set_all_inputs_lu": {
        "title": "Alle ingangen instellen vanuit JSON",
        "titleFormatted": "Alle ingangen instellen vanuit JSON: [[values]]"
      },
      "set_input_lu": {
        "title": "Ingangswaarde instellen (alle formules)",
        "titleFormatted": "Ingang [[input]] instellen op [[value]]"
      },
      "set_input_value_lu": {
        "title": "Ingangswaarde instellen voor formule",
        "titleFormatted": "Ingang [[input]] instellen op [[value]] voor formule [[formula]]"
      }
    },
    "args": {
      "formula": {
        "placeholder": "Selecteer formule",
        "title": "Formule"
      },
      "input": {
        "placeholder": "Selecteer ingang",
        "title": "Ingang"
      },
      "logical_op": {
        "AND": "EN",
        "OR": "OF",
        "title": "Logische operator"
      },
      "number_input": {
        "placeholder": "Voer nummer in",
        "title": "Invoerwaarde"
      },
      "op1": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Eerste operator"
      },
      "op2": {
        "gt": ">",
        "gte": "≥",
        "lt": "<",
        "lte": "≤",
        "title": "Tweede operator"
      },
      "rules": {
        "placeholder": "min,max,uitvoer;...",
        "title": "Regels"
      },
      "text_input": {
        "placeholder": "Voer foutmelding of token in",
        "title": "Foutmelding"
      },
      "value": {
        "false": "ONWAAR",
        "title": "Waarde",
        "true": "WAAR"
      },
      "values": {
        "placeholder": "{\"A\": true, \"B\": false}",
        "title": "JSON-waarden"
      },
      "what_is": {
        "false": "ONWAAR",
        "title": "Waarde",
        "true": "WAAR"
      }
    },
    "conditions": {
      "formula_has_timed_out_lu": {
        "title": "Formule !{{is|is niet}} verlopen",
        "titleFormatted": "Formule [[formula]] !{{is|is niet}} verlopen"
      },
      "formula_has_timed_out_ld": {
        "title": "Formule !{{is|is niet}} verlopen",
        "titleFormatted": "Formule !{{is|is niet}} verlopen"
      },
      "formula_result_is_lu": {
        "title": "Formule resultaat is...",
        "titleFormatted": "Formule [[formula]] resultaat is [[what_is]]"
      },
      "formula_result_is_ld": {
        "title": "Formule resultaat is...",
        "titleFormatted": "Formule resultaat is [[what_is]]"
      },
      "has_any_error_lu": {
        "title": "Apparaat !{{heeft|heeft geen}} fout",
        "titleFormatted": "Apparaat !{{heeft|heeft geen}} fout"
      },
      "has_any_error_ld": {
        "title": "Apparaat !{{heeft|heeft geen}} fout",
        "titleFormatted": "Apparaat !{{heeft|heeft geen}} fout"
      },
      "has_error": {
        "title": "!{{Heeft|Heeft geen}} fout",
        "titleFormatted": "!{{Heeft|Heeft geen}} fout in [[text_input]]"
      }
    },
    "tokens": {
      "errorMessage": {
        "title": "Foutmelding"
      },
      "outputValue": {
        "title": "Uitvoerwaarde"
      },
      "state": {
        "title": "Staat"
      }
    },
    "trigger_error": "Fout bij triggeren van flow:",
    "triggered": "Flow triggeren voor formule '{name}' wijziging naar {result}",
    "triggers": {
      "device_state_changed": {
        "hint": "Activeert wanneer de status van het Logisch Apparaat verandert (aan/uit)",
        "title": "Staat gewijzigd",
        "titleFormatted": "Staat gewijzigd naar [[state]]"
      },
      "device_state_changed_ld": {
        "hint": "Activeert wanneer de status van het Logisch Apparaat verandert (aan/uit)",
        "title": "Staat gewijzigd",
        "titleFormatted": "Staat gewijzigd"
      },
      "formula_changed_to_false_lu": {
        "title": "Formule veranderde naar ONWAAR",
        "titleFormatted": "Formule [[formula]] veranderde naar ONWAAR"
      },
      "formula_changed_to_true_lu": {
        "title": "Formule veranderde naar WAAR",
        "titleFormatted": "Formule [[formula]] veranderde naar WAAR"
      },
      "formula_timeout_lu": {
        "title": "Formule time-out",
        "titleFormatted": "Formule [[formula]] time-out"
      },
      "state_changed_ld": {
        "title": "Staat gewijzigd",
        "titleFormatted": "Staat gewijzigd"
      }
    }
  },
  "formula": {
    "all_inputs_defined": "Formule '{name}': Alle ingangen gedefinieerd, evalueren...",
    "default_name": "Hoofdformule",
    "default_name_alt": "Formule 1",
    "default_name_alt_fallback": "Standaard Formule",
    "details": "  - {name}: \"{expression}\" (ingeschakeld: {enabled})",
    "error": "Formulefout",
    "error_inputs_used_but_none_configured": "Expressie gebruikt ingangen, maar er zijn geen ingangen geconfigureerd voor dit apparaat.",
    "error_no_inputs": "Geen ingangen beschikbaar",
    "error_unbalanced_parentheses": "Ongebalanceerde haakjes",
    "error_validation": "Formule '{name}': {error}",
    "evaluated": "Formule geëvalueerd",
    "evaluated_count": "{count} formules geëvalueerd",
    "evaluating": "Formule evalueren...",
    "evaluating_expression": "Evalueren: \"{expression}\" → \"{evalExpression}\"",
    "evaluation": "Evaluatie",
    "evaluation_failed": "Evaluatie van formule '{name}' mislukt: {message}",
    "expression": "Uitdrukking",
    "expression_empty": "Expressie mag niet leeg zijn",
    "get_result_not_found": "getFormulaResult: Formule '{id}' niet gevonden",
    "initialized": "{count} formules geïnitialiseerd",
    "input": "Ingang",
    "invalid": "Ongeldige formule",
    "invalid_syntax": "Ongeldige expressiesyntaxis: {message}",
    "invalid_tokens": "Ongeldige tokens in expressie: \"{tokens}\"",
    "missing_inputs": "Formule '{name}': Ontbrekende ingangen:",
    "name": "Formule",
    "no_expression": "(geen expressie)",
    "not_found_or_disabled": "Formule '{id}' niet gevonden of uitgeschakeld.",
    "output": "Uitgang",
    "reinitialized": "{count} formules opnieuw geïnitialiseerd",
    "result": "Formule '{name}' resultaat: {result}",
    "result_debug": "getFormulaResult: Formule '{name}' ({id}) resultaat = {result} (type: {type})",
    "set_input_error": "setInputForFormula fout:",
    "syntax_error": "Syntaxfout in formule",
    "timed_out": "Formule '{name}' time-out na {timeout}s",
    "timeout": "Formule-evaluatie time-out",
    "unlocked_inputs": "🔓 Alle ingangen ontgrendeld voor formule '{name}'",
    "unnamed_formula": "Naamloze Formule",
    "waiting_for_input": "Formule '{formula}' wacht op ongedefinieerde invoeren: {error}",
    "waiting_for_inputs": "Formule '{name}': Wachten op ingangen. Vereist: [{required}]"
  },
  "help": {
    "first_impression": "Eerste indruk modus vergrendelt ingangen bij hun eerste ontvangen waarde",
    "formula_syntax": "Gebruik logische operatoren zoals EN, OF, NIET om uw formule te maken",
    "input_values": "Ingangswaarden worden automatisch bijgewerkt wanneer aangesloten apparaten wijzigen",
    "timeout_warning": "Als een ingang niet binnen de time-out periode wordt bijgewerkt, wordt deze gemarkeerd"
  },
  "initial": {
    "api_unavailable": "App API niet beschikbaar voor ophalen beginwaarden",
    "capability_not_found": "[{input}] Capability {capability} niet gevonden",
    "device_not_found": "[{input}] Apparaat niet gevonden",
    "error": "[{input}] Fout bij ophalen beginwaarde:",
    "fetching_all": "Beginwaarden ophalen voor alle ingangen...",
    "fetching_input": "[{input}] Beginwaarde ophalen...",
    "no_value_waiting": "[{input}] Geen beginwaarde gevonden - wachten op eerste gebeurtenis",
    "received_value": "[{input}] Beginwaarde ontvangen: {value}",
    "value_received": "[{input}] Beginwaarde: {value} → {boolean}"
  },
  "input_options": {
    "context_specific": "Invoeropties gefilterd voor formule: {formula} ({expression})"
  },
  "inputs": {
    "first_impression": "Eerste indruk modus",
    "label": "Ingang",
    "locked": "Ingang vergrendeld",
    "locked_at_value": "🔒 Ingang '{input}' vergrendeld op waarde {value} (eerste indruk modus)",
    "locked_first_impression": "Ingang '{input}' vergrendeld voor formule '{formula}' (eerste indruk modus)",
    "setting_value": "Ingang '{input}' instellen op {value} voor formule '{formula}' (was: {oldValue})",
    "timeout_detected": "Time-out gedetecteerd op ingang",
    "unlocked": "Ingang ontgrendeld",
    "unused_warning": "Waarschuwing: Ingang {input} wordt in geen enkele formule gebruikt. Gebruikt: {usedInputs}",
    "value": "Waarde",
    "waiting": "Wachten op ingang..."
  },
  "listener": {
    "api_unavailable": "App API niet beschikbaar voor listener setup",
    "capability_changed": "[{input}] Capability '{capability}' gewijzigd: {value} → {boolean}",
    "capability_found": "Apparaat heeft capability: {capability}",
    "capability_not_exist": "[{input}] Capability {capability} bestaat niet op apparaat {device}",
    "device_found": "Apparaat gevonden: {device}",
    "device_not_found": "[{input}] Apparaat {device} niet gevonden",
    "error_setup": "Fout bij instellen listener for ingang {input}:",
    "event_received": "Gebeurtenis ontvangen voor ingang {input}",
    "invalid_config": "Ongeldige linkconfiguratie voor ingang {input}",
    "polling_setup": "[{input}] Polling ingesteld voor {device} ({capability})",
    "registered": "[{input}] Luisteren naar apparaat {device} capability {capability}",
    "registering": "Capability listener registreren voor {capability}...",
    "setting_up": "Listener instellen voor ingang {input}"
  },
  "notifications": {
    "device_ready": "Apparaat is klaar",
    "error_cleared": "Foutstatus gewist",
    "error_cleared_all": "Foutstatus gewist voor alle formules",
    "formula_updated": "Formule bijgewerkt",
    "input_received": "Ingang ontvangen",
    "invalid_formula_config": "Ongeldige formule '{formulaName}': {error}",
    "output_changed": "Uitgang gewijzigd",
    "reevaluating": "Alle formules opnieuw evalueren..."
  },
  "operators": {
    "and": "EN",
    "equal": "Gelijk aan",
    "greater_or_equal": "Groter dan of gelijk aan",
    "greater_than": "Groter dan",
    "less_or_equal": "Kleiner dan of gelijk aan",
    "less_than": "Kleiner dan",
    "not": "NIET",
    "not_equal": "Niet gelijk aan",
    "or": "OF"
  },
  "pair": {
    "add": "Apparaat toevoegen",
    "capability_label": "Capaciteit:",
    "configure": "Apparaat configureren",
    "configure_all_inputs": "Configureer eerst alle ingangen!",
    "configure_inputs_description": "Selecteer welk apparaat en welke capaciteit elke ingang moet volgen:",
    "configure_inputs_title": "Ingangen configureren",
    "configured": "Geconfigureerd",
    "create_device": "[PAIR] create_device aangeroepen",
    "creating_device": "[PAIR] Apparaat maken:",
    "default_formula_name": "Mijn Formule",
    "device_label": "Apparaat:",
    "device_name_label": "Geef het apparaat een naam:",
    "device_name_placeholder": "Mijn logisch apparaat",
    "error": "Apparaat toevoegen mislukt",
    "error_button_not_found": "Voltooi-knop niet gevonden in DOM!",
    "error_completing_setup": "Fout bij voltooien installatie: {error}",
    "error_homey_emit_unavailable": "Homey.emit is niet beschikbaar",
    "error_homey_nextview_unavailable": "Homey.nextView is niet beschikbaar",
    "error_homey_object_unavailable": "Homey-object of vereiste functies (emit, __) zijn niet beschikbaar.",
    "error_i18n_unavailable": "Homey vertaalfunctie (__) is niet beschikbaar.",
    "error_loading": "-- Fout bij laden --",
    "error_loading_capabilities": "Fout bij laden capaciteiten: {error}",
    "error_loading_initial_data": "Fout bij laden initiële gegevens: {error}",
    "error_navigating": "Fout bij navigeren: {error}",
    "error_saving_config": "Fout bij opslaan configuratie: {error}",
    "error_saving_input_number": "Fout bij opslaan ingangsnummer: {error}",
    "error_setting_up_interactions": "Fout bij instellen pagina-interacties: {error}",
    "error_system_not_ready": "Fout: Koppelsysteem niet gereed.",
    "formula_label": "Voer formule in:",
    "get_devices_error": "[PAIR] FOUT in get_devices_in_zone:",
    "get_devices_in_zone": "[PAIR] get_devices_in_zone aangeroepen voor zone: {zone}",
    "get_num_inputs": "[PAIR] get_num_inputs aangeroepen",
    "get_zones": "[PAIR] get_zones aangeroepen",
    "get_zones_error": "[PAIR] FOUT in get_zones:",
    "handlers_registered": "Koppelhandlers geregistreerd",
    "input": "Ingang",
    "inputs_configured": "ingangen geconfigureerd",
    "inputs_range": "Kies tussen 2 en 10 ingangen",
    "intro": "Maak een nieuw logisch apparaat om complexe formules te evalueren",
    "load_devices_error": "Laden van apparaten voor zone mislukt",
    "name": "Apparaatnaam",
    "name_placeholder": "Mijn logisch apparaat",
    "next": "Volgende →",
    "no_zones_error": "Geen zones gevonden. Maak eerst zones aan in uw Homey.",
    "not_configured": "Niet geconfigureerd",
    "of": "van",
    "save_complete": "Opslaan en voltooien",
    "select_capability": "-- Selecteer capaciteit --",
    "select_device": "-- Selecteer apparaat --",
    "select_device_first": "-- Selecteer eerst apparaat --",
    "select_inputs_description": "Hoeveel apparaten wilt u verbinden met dit logische apparaat?",
    "select_inputs_title": "Selecteer aantal ingangen",
    "select_zone": "-- Selecteer zone/kamer --",
    "select_zone_first": "-- Selecteer eerst zone --",
    "session_started": "Koppelsessie gestart",
    "set_device_formula": "[PAIR] set_device_formula aangeroepen met: {formula}",
    "set_device_name": "[PAIR] set_device_name aangeroepen met:",
    "set_input_links": "[PAIR] set_input_links aangeroepen",
    "set_num_inputs": "[PAIR] set_num_inputs aangeroepen met data:",
    "status_label": "Status:",
    "success": "Apparaat succesvol toegevoegd",
    "title": "Logisch apparaat toevoegen",
    "unknown_capability_fallback": "Onbekende Capaciteit",
    "unknown_device": "Onbekend Apparaat",
    "zone_label": "Zone/Kamer:"
  },
  "parse": {
    "error_detecting_inputs": "Fout bij detecteren vereiste ingangen:",
    "error_formulas": "Formules parsen mislukt:",
    "error_formulas_invalid": "Ongeldige formules JSON: {message}",
    "error_formulas_json": "Kan formules niet parsen:",
    "error_input_links": "input_links parsen mislukt:",
    "error_input_links_invalid": "Ongeldige input_links JSON: {message}"
  },
  "polling": {
    "all_inputs": "Alle gekoppelde apparaatingangen pollen...",
    "api_unavailable": "App API niet beschikbaar voor pollen",
    "device_not_found": "Apparaat niet gevonden: {device}",
    "failed": "Pollen van {input} mislukt:",
    "input": "Ingang \"{input}\" pollen van apparaat \"{device}\" capability \"{capability}\"",
    "no_links": "Geen inputLinks beschikbaar voor pollen",
    "no_value": "Geen waarde voor {input} ({capability})",
    "value_received": "Gepolled {input}: {value} → {boolean}"
  },
  "refetch": {
    "fetching_values": "Beginwaarden opnieuw ophalen voor evaluatie...",
    "invoked": "Opnieuw ophalen en evalueren aangeroepen (bron={source})",
    "no_links": "Geen input links beschikbaar tijdens opnieuw ophalen; ophalen van waarden overgeslagen.",
    "parse_failed": "Parsen van input_links mislukt tijdens opnieuw ophalen:",
    "reason": "Ingangen opnieuw ophalen (reden: {reason})..."
  },
  "settings": {
    "applied": "Instellingen succesvol toegepast",
    "applying_formatted": "Automatisch geformatteerde instellingen toepassen...",
    "auto_formatted": "Instellingen automatisch geformatteerd",
    "cancel": "Annuleren",
    "changed": "Instellingen gewijzigd:",
    "changed_dynamic": "Instellingen gewijzigd (dynamisch apparaat):",
    "description": "Configureer uw Boolean Toolbox logisch apparaat",
    "error": "Instellingen opslaan mislukt",
    "expanded": "Capaciteit uitgebreid naar {numInputs} ingangen: {availableInputs}",
    "expanding_capacity": "Capaciteit uitbreiden: {from} -> {to} (reden: {reason})",
    "expansion_failed": "Automatisch uitbreiden van capaciteit mislukt:",
    "format_failed": "Automatisch formatteren van instellingen mislukt:",
    "formatting": "Zal {type} JSON automatisch formatteren",
    "reset": "Standaardinstellingen herstellen",
    "save": "Opslaan",
    "saved": "Instellingen opgeslagen",
    "title": "Instellingen"
  },
  "timeout": {
    "error": "Fout bij activeren time-out:"
  }
}
--- END: locales/nl.json ---

--- START: locales/no.json (sha256=0d6a9a8fa32a40d88f3f952e30f6b5c98afad5a47118570bc6442142395af84a, bytes=25190) ---
{
    "app": {
        "athom_api_loaded": "athom-api lastet vellykket",
        "checking_for_error": "Sjekker for feil. Inndata: '{textInput}', Har feil: {hasError}",
        "condition_check": "Betingelsessjekk: Formel '{formulaName}' resultat = {result}, sjekker om det er '{expected}'",
        "error_getting_devices": "Feil ved henting av enheter for sone {zoneId}:",
        "error_getting_zones": "Feil ved henting av soner:",
        "error_stack": "Feil-stakk:",
        "evaluation_finished": "Evaluering fullført. Utdata: {output}",
        "flow_cards_registered": "Flytkort registrert",
        "formula_not_evaluated": "Betingelse: Formel '{formulaName}' har ikke blitt evaluert enda (resultat er {result})",
        "found_devices_in_zone": "Fant {count} enheter i sone {zoneId}",
        "found_zones": "Fant {count} soner",
        "getting_devices_for_zone": "Henter enheter for sone-ID: {zoneId}",
        "getting_zones": "Henter tilgjengelige soner...",
        "homey_api_extracted": "HomeyAPI hentet ut, type:",
        "homey_api_methods": "HomeyAPI-metoder:",
        "homey_api_not_function": "HomeyAPI.forCurrentHomey er ikke en funksjon",
        "initializing_homey_api": "Initialiserer HomeyAPI.forCurrentHomey...",
        "registering_flow_cards": "Registrerer flytkort...",
        "running_evaluation": "Kjører evaluering. Inndata: {input}, Regler: '{rules}'",
        "value_outside_logic": "Verdi {input} er utenfor den definerte logikken."
    },
    "capability": {
        "logic_state": {
            "title": "Logisk tilstand"
        }
    },
    "common": {
        "disabled": "Deaktivert",
        "done": "Ferdig",
        "enabled": "Aktivert",
        "failed": "Feilet",
        "false": "Usant",
        "info": "Informasjon",
        "loading": "Laster...",
        "max": "Maksimum",
        "min": "Minimum",
        "name": "Navn",
        "no": "Nei",
        "off": "Av",
        "on": "På",
        "processing": "Behandler...",
        "state": "Tilstand",
        "success": "Vellykket",
        "true": "Sant",
        "type": "Type",
        "unknown": "Ukjent",
        "value": "Verdi",
        "warning": "Advarsel",
        "yes": "Ja"
    },
    "debug": {
        "checking_formula": "Sjekker formel: {name} (\"{expression}\")",
        "raw_formulas": "Rå formler inngang fra innstillinger:",
        "raw_input_links": "Rå input_links fra innstillinger:",
        "required_inputs": "  - Nødvendige innganger: {inputs}"
    },
    "device": {
        "capability_options_failed": "Kunne ikke sette kapabilitetsalternativer:",
        "capability_readonly": "Satt onoff som skrivebeskyttet",
        "capability_skip_deleted": "(trygt) Hopper over {capability} – enheten eksisterer ikke lenger.",
        "capability_update_failed": "Kapabilitetsoppdatering feilet for {capability}:",
        "capacity_expanded": "Oppdaget {detected} innganger nødvendig (opprinnelig {original}). Utvider kapasitet.",
        "capacity_updated": "Oppdaterer kapasitet: {old} → {new} innganger",
        "cleanup_complete": "Opprydding fullført",
        "deleted_cleanup": "Enhet slettet — rydder opp lyttere og timere",
        "deleted_skip_flow": "Enhet slettet, hopper over flow-utløser",
        "deleted_skip_update": "Enhet slettet, hopper over kapabilitetsoppdatering",
        "initialized": "Logisk enhet '{name}' initialisert med {count} innganger",
        "initializing": "Logisk enhet '{name}' initialiserer.",
        "logic_unit_dynamic_name": "Logisk Enhet",
        "logic_unit_dynamic_name_fallback": "Logisk Enhet",
        "logic_unit_name": "Logisk enhet ({count} innganger)",
        "logic_unit_name_fallback": "Logisk enhet ({count} innganger)",
        "max_input_detected": "Oppdaget maks inngang: {input} ({count} innganger nødvendig)",
        "ready": "Enhet klar: {name}"
    },
    "devicelinks": {
        "complete": "Enhetskoblinger fullført",
        "count": "Setter opp {count} enhetskoblinger",
        "error_cleanup": "Feil ved opprydding av lytter:",
        "error_unregister": "Feil ved avregistrering av lytter:",
        "setting_up": "Setter opp enhetskoblinger...",
        "setup_failed": "Klarte ikke å sette opp lytter for inngang {input}:",
        "unregistered": "Avregistrerte lytter: {key}"
    },
    "driver": {
        "ensure_unique_failed": "ensureUniqueDeviceName feilet:",
        "ready": "Driver klar",
        "registering_flow_cards": "Registrerer driver-flytkort..."
    },
    "errors": {
        "connection_failed": "Tilkobling feilet",
        "device_not_found": "Enhet ikke funnet",
        "evaluation_failed": "Formelevaluering feilet",
        "generic": "En feil oppstod",
        "helper_not_function": "Hjelpefunksjon for '{argName}' er ikke en funksjon.",
        "invalid_device_instance": "Ugyldig enhetsinstans",
        "invalid_formula": "Ugyldig formeluttrykk",
        "invalid_input": "Ugyldig inngangsverdi",
        "method_missing_on_device": "Metode '{methodName}' mangler på enhet",
        "notification_failed_invalid_formula": "Kunne ikke opprette varsel for ugyldig formel",
        "permission_denied": "Tilgang nektet",
        "timeout": "Operasjon tidsavbrudd",
        "trigger_timeout_card_failed": "Feil ved henting/utløsing av formula_timeout-kort",
        "unknown": "Ukjent feil oppstod"
    },
    "evaluation": {
        "initial_complete": "Initial evaluering av alle formler...",
        "no_formulas_ready": "Ingen formler kunne evalueres - venter på inngangsverdier",
        "reevaluating_all": "Re-evaluerer alle formler (tilbakestiller låser)...",
        "running_initial": "Kjører initial formelevaluering..."
    },
    "flow": {
        "actions": {
            "clear_error_state_lu": {
                "title": "Fjern formel-feilstatus",
                "titleFormatted": "Fjern feilstatus for formel [[formula]]"
            },
            "clear_error_state_ld": {
                "title": "Fjern formel-feilstatus",
                "titleFormatted": "Fjern formel-feilstatus"
            },
            "evaluate_all_formula_lu": {
                "title": "Re-evaluer alle formler",
                "titleFormatted": "Re-evaluer alle formler"
            },
            "evaluate_expression": {
                "title": "Evaluer uttrykk",
                "titleFormatted": "Evaluer [[input]] [[op1]] min [[logical_op]] [[op2]] maks med regler [[rules]]"
            },
            "evaluate_formula_lu": {
                "title": "Evaluer spesifikk formel",
                "titleFormatted": "Evaluer formel [[formula]]"
            },
            "evaluate_formula_ld": {
                "title": "Re-sjekk enhetstilstand",
                "titleFormatted": "Re-sjekk tilstand"
            },
            "reevaluate_formulas": {
                "title": "Re-evaluer alle formler",
                "titleFormatted": "Re-evaluer alle formler"
            },
            "set_all_inputs_lu": {
                "title": "Sett alle innganger fra JSON",
                "titleFormatted": "Sett alle innganger fra JSON: [[values]]"
            },
            "set_input_lu": {
                "title": "Sett inngangsverdi (alle formler)",
                "titleFormatted": "Sett inngang [[input]] til [[value]]"
            },
            "set_input_value_lu": {
                "title": "Sett inngangsverdi for formel",
                "titleFormatted": "Sett inngang [[input]] til [[value]] for formel [[formula]]"
            }
        },
        "args": {
            "formula": {
                "placeholder": "Velg formel",
                "title": "Formel"
            },
            "input": {
                "placeholder": "Velg inngang",
                "title": "Inngang"
            },
            "logical_op": {
                "AND": "OG",
                "OR": "ELLER",
                "title": "Logisk operator"
            },
            "number_input": {
                "placeholder": "Skriv inn tall",
                "title": "Inngangsverdi"
            },
            "op1": {
                "gt": ">",
                "gte": "≥",
                "lt": "<",
                "lte": "≤",
                "title": "Første operator"
            },
            "op2": {
                "gt": ">",
                "gte": "≥",
                "lt": "<",
                "lte": "≤",
                "title": "Andre operator"
            },
            "rules": {
                "placeholder": "min,maks,utgang;...",
                "title": "Regler"
            },
            "text_input": {
                "placeholder": "Skriv inn feilmelding eller token",
                "title": "Feilmelding"
            },
            "value": {
                "false": "USANN",
                "title": "Verdi",
                "true": "SANN"
            },
            "values": {
                "placeholder": "{\"A\": true, \"B\": false}",
                "title": "JSON-verdier"
            },
            "what_is": {
                "false": "USANN",
                "title": "Verdi",
                "true": "SANN"
            }
        },
        "conditions": {
            "formula_has_timed_out_lu": {
                "title": "Formel !{{har|har ikke}} fått timeout",
                "titleFormatted": "Formel [[formula]] !{{har|har ikke}} fått timeout"
            },
            "formula_has_timed_out_ld": {
                "title": "Formel !{{har|har ikke}} fått timeout",
                "titleFormatted": "Formel !{{har|har ikke}} fått timeout"
            },
            "formula_result_is_lu": {
                "title": "Formelresultat er...",
                "titleFormatted": "Formel [[formula]] resultat er [[what_is]]"
            },
            "formula_result_is_ld": {
                "title": "Formelresultat er...",
                "titleFormatted": "Formelresultat er [[what_is]]"
            },
            "has_any_error_lu": {
                "title": "Enhet !{{har|har ingen}} feil",
                "titleFormatted": "Enhet !{{har|har ingen}} feil"
            },
            "has_any_error_ld": {
                "title": "Enhet !{{har|har ingen}} feil",
                "titleFormatted": "Enhet !{{har|har ingen}} feil"
            },
            "has_error": {
                "title": "!{{Har|Har ingen}} feil",
                "titleFormatted": "!{{Har|Har ingen}} feil i [[text_input]]"
            }
        },
        "tokens": {
            "errorMessage": {
                "title": "Feilmelding"
            },
            "outputValue": {
                "title": "Utgangsverdi"
            },
            "state": {
                "title": "Tilstand"
            }
        },
        "trigger_error": "Feil ved utløsning av flow:",
        "triggered": "Trigger flow for formel '{name}' endret til {result}",
        "triggers": {
            "device_state_changed": {
                "hint": "Trigges når tilstanden til den Logiske Enheten endres (på/av)",
                "title": "Tilstand endret",
                "titleFormatted": "Tilstand endret til [[state]]"
            },
            "device_state_changed_ld": {
                "hint": "Trigges når tilstanden til den Logiske Enheten endres (på/av)",
                "title": "Tilstand endret",
                "titleFormatted": "Tilstand endret"
            },
            "formula_changed_to_false_lu": {
                "title": "Formel endret til USANN",
                "titleFormatted": "Formel [[formula]] endret til USANN"
            },
            "formula_changed_to_true_lu": {
                "title": "Formel endret til SANN",
                "titleFormatted": "Formel [[formula]] endret til SANN"
            },
            "formula_timeout_lu": {
                "title": "Formel fikk timeout",
                "titleFormatted": "Formel [[formula]] fikk timeout"
            },
            "state_changed_ld": {
                "title": "Tilstand endret",
                "titleFormatted": "Tilstand endret"
            }
        }
    },
    "formula": {
        "all_inputs_defined": "Formel '{name}': Alle innganger definert, evaluerer...",
        "default_name": "Hovedformel",
        "default_name_alt": "Formel 1",
        "default_name_alt_fallback": "Standardformel",
        "details": "  - {name}: \"{expression}\" (aktivert: {enabled})",
        "error": "Formelfeil",
        "error_inputs_used_but_none_configured": "Uttrykket bruker innganger, men ingen innganger er konfigurert for denne enheten.",
        "error_no_inputs": "Ingen innganger tilgjengelig",
        "error_unbalanced_parentheses": "Ubalanserte parenteser",
        "error_validation": "Formel '{name}': {error}",
        "evaluated": "Formel evaluert",
        "evaluated_count": "Evaluerte {count} formler",
        "evaluating": "Evaluerer formel...",
        "evaluating_expression": "Evaluerer: \"{expression}\" → \"{evalExpression}\"",
        "evaluation": "Evaluering",
        "evaluation_failed": "Klarte ikke å evaluere formel '{name}': {message}",
        "expression": "Uttrykk",
        "expression_empty": "Uttrykk kan ikke være tomt",
        "get_result_not_found": "getFormulaResult: Formel '{id}' ikke funnet",
        "initialized": "Initialiserte {count} formler",
        "input": "Inngang",
        "invalid": "Ugyldig formel",
        "invalid_syntax": "Ugyldig uttrykkssyntaks: {message}",
        "invalid_tokens": "Ugyldige tokens i uttrykk: \"{tokens}\"",
        "missing_inputs": "Formel '{name}': Manglende innganger:",
        "name": "Formel",
        "no_expression": "(inget uttrykk)",
        "not_found_or_disabled": "Formel '{id}' ikke funnet eller deaktivert.",
        "output": "Utgang",
        "reinitialized": "Re-initialiserte {count} formler",
        "result": "Formel '{name}' resultat: {result}",
        "result_debug": "getFormulaResult: Formel '{name}' ({id}) resultat = {result} (type: {type})",
        "set_input_error": "setInputForFormula feil:",
        "syntax_error": "Syntaksfeil i formel",
        "timed_out": "Formel '{name}' fikk tidsavbrudd etter {timeout}s",
        "timeout": "Formelevaluering timeout",
        "unlocked_inputs": "🔓 Låste opp alle innganger for formel '{name}'",
        "unnamed_formula": "Navnløs formel",
        "waiting_for_input": "Formel '{formula}' venter på udefinerte inputs: {error}",
        "waiting_for_inputs": "Formel '{name}': Venter på innganger. Kreves: [{required}]"
    },
    "help": {
        "first_impression": "Førsteinntrykk-modus låser innganger ved deres første mottatte verdi",
        "formula_syntax": "Bruk logiske operatorer som OG, ELLER, IKKE for å opprette formelen din",
        "input_values": "Inngangsverdier oppdateres automatisk når tilkoblede enheter endres",
        "timeout_warning": "Hvis en inngang ikke oppdateres innen tidsavbruddsperioden, vil den bli markert"
    },
    "initial": {
        "api_unavailable": "App-API ikke tilgjengelig for henting av initialverdier",
        "capability_not_found": "[{input}] Kapabilitet {capability} ikke funnet",
        "device_not_found": "[{input}] Enhet ikke funnet",
        "error": "[{input}] Feil ved henting av initialverdi:",
        "fetching_all": "Henter initialverdier for alle innganger...",
        "fetching_input": "[{input}] Henter initialverdi...",
        "no_value_waiting": "[{input}] Ingen initialverdi funnet - venter på første hendelse",
        "received_value": "[{input}] Mottok initialverdi: {value}",
        "value_received": "[{input}] Initialverdi: {value} → {boolean}"
    },
    "input_options": {
        "context_specific": "Inngangsvalg filtrert for formel: {formula} ({expression})"
    },
    "inputs": {
        "first_impression": "Førsteinntrykk-modus",
        "label": "Inngang",
        "locked": "Inngang låst",
        "locked_at_value": "🔒 Inngang '{input}' låst til verdi {value} (førsteinntrykk-modus)",
        "locked_first_impression": "Inngang '{input}' låst for formel '{formula}' (førsteinntrykk-modus)",
        "setting_value": "Setter inngang '{input}' til {value} for formel '{formula}' (var: {oldValue})",
        "timeout_detected": "Tidsavbrudd oppdaget på inngang",
        "unlocked": "Inngang låst opp",
        "unused_warning": "Advarsel: Inngang {input} brukes ikke i noen formel. Brukte: {usedInputs}",
        "value": "Verdi",
        "waiting": "Venter på inngang..."
    },
    "listener": {
        "api_unavailable": "App-API ikke tilgjengelig for lytteroppsett",
        "capability_changed": "[{input}] Kapabilitet '{capability}' endret: {value} → {boolean}",
        "capability_found": "Enhet har kapabilitet: {capability}",
        "capability_not_exist": "[{input}] Kapabilitet {capability} eksisterer ikke på enhet {device}",
        "device_found": "Fant enhet: {device}",
        "device_not_found": "[{input}] Enhet {device} ikke funnet",
        "error_setup": "Feil ved oppsett av lytter for inngang {input}:",
        "event_received": "Hendelse mottatt for inngang {input}",
        "invalid_config": "Ugyldig koblingskonfigurasjon for inngang {input}",
        "polling_setup": "[{input}] Satt opp polling for {device} ({capability})",
        "registered": "[{input}] Lytter til enhet {device} kapabilitet {capability}",
        "registering": "Registrerer kapabilitetslytter for {capability}...",
        "setting_up": "Setter opp lytter for inngang {input}"
    },
    "notifications": {
        "device_ready": "Enhet er klar",
        "error_cleared": "Feilstatus fjernet",
        "error_cleared_all": "Feilstatus fjernet for alle formler",
        "formula_updated": "Formel oppdatert",
        "input_received": "Inngang mottatt",
        "invalid_formula_config": "Ugyldig formel '{formulaName}': {error}",
        "output_changed": "Utgang endret",
        "reevaluating": "Gentag evaluering av alle formler..."
    },
    "operators": {
        "and": "OG",
        "equal": "Lik",
        "greater_or_equal": "Større enn eller lik",
        "greater_than": "Større enn",
        "less_or_equal": "Mindre enn eller lik",
        "less_than": "Mindre enn",
        "not": "IKKE",
        "not_equal": "Ikke lik",
        "or": "ELLER"
    },
    "pair": {
        "add": "Legg til enhet",
        "capability_label": "Kapabilitet:",
        "configure": "Konfigurer enhet",
        "configure_all_inputs": "Vennligst konfigurer alle innganger først!",
        "configure_inputs_description": "Velg hvilken enhet og kapabilitet hver inngang skal følge:",
        "configure_inputs_title": "Konfigurer innganger",
        "configured": "Konfigurert",
        "create_device": "[PAIR] create_device kalt",
        "creating_device": "[PAIR] Oppretter enhet:",
        "default_formula_name": "Min Formel",
        "device_label": "Enhet:",
        "device_name_label": "Gi enheten et navn:",
        "device_name_placeholder": "Min logiske enhet",
        "error": "Kunne ikke legge til enhet",
        "error_button_not_found": "Fullfør-knapp ikke funnet i DOM!",
        "error_completing_setup": "Feil ved fullføring av oppsett: {error}",
        "error_homey_emit_unavailable": "Homey.emit er ikke tilgjengelig",
        "error_homey_nextview_unavailable": "Homey.nextView er ikke tilgjengelig",
        "error_homey_object_unavailable": "Homey-objekt eller nødvendige funksjoner (emit, __) er ikke tilgjengelige.",
        "error_i18n_unavailable": "Homey-oversettelsesfunksjon (__) er ikke tilgjengelig.",
        "error_loading": "-- Feil ved lasting --",
        "error_loading_capabilities": "Feil ved lasting av kapabiliteter: {error}",
        "error_loading_initial_data": "Feil ved lasting av initialdata: {error}",
        "error_navigating": "Feil ved navigering: {error}",
        "error_saving_config": "Feil ved lagring av konfigurasjon: {error}",
        "error_saving_input_number": "Feil ved lagring av antall innganger: {error}",
        "error_setting_up_interactions": "Feil ved oppsett av sideinteraksjoner: {error}",
        "error_system_not_ready": "Feil: Parkoblingssystem er ikke klart.",
        "formula_label": "Skriv inn formel:",
        "get_devices_error": "[PAIR] FEIL i get_devices_in_zone:",
        "get_devices_in_zone": "[PAIR] get_devices_in_zone kalt for sone: {zone}",
        "get_num_inputs": "[PAIR] get_num_inputs kalt",
        "get_zones": "[PAIR] get_zones kalt",
        "get_zones_error": "[PAIR] FEIL i get_zones:",
        "handlers_registered": "Parkoblingshåndterere registrert",
        "input": "Inngang",
        "inputs_configured": "innganger konfigurert",
        "inputs_range": "Velg mellom 2 og 10 innganger",
        "intro": "Opprett en ny logisk enhet for å evaluere komplekse formler",
        "load_devices_error": "Kunne ikke laste enheter for sone",
        "name": "Enhetsnavn",
        "name_placeholder": "Min logiske enhet",
        "next": "Neste →",
        "no_zones_error": "Ingen soner funnet. Vennligst opprett soner i din Homey først.",
        "not_configured": "Ikke konfigurert",
        "of": "av",
        "save_complete": "Lagre og fullfør",
        "select_capability": "-- Velg kapabilitet --",
        "select_device": "-- Velg enhet --",
        "select_device_first": "-- Velg enhet først --",
        "select_inputs_description": "Hvor mange enheter vil du koble til denne logiske enheten?",
        "select_inputs_title": "Velg antall innganger",
        "select_zone": "-- Velg sone/rom --",
        "select_zone_first": "-- Velg sone først --",
        "session_started": "Parkoblingsøkt startet",
        "set_device_formula": "[PAIR] set_device_formula kalt med: {formula}",
        "set_device_name": "[PAIR] set_device_name kalt med:",
        "set_input_links": "[PAIR] set_input_links kalt",
        "set_num_inputs": "[PAIR] set_num_inputs kalt med data:",
        "status_label": "Status:",
        "success": "Enhet lagt til",
        "title": "Legg til logisk enhet",
        "unknown_capability_fallback": "Ukjent kapabilitet",
        "unknown_device": "Ukjent enhet",
        "zone_label": "Sone/Rom:"
    },
    "parse": {
        "error_detecting_inputs": "Feil ved deteksjon av nødvendige innganger:",
        "error_formulas": "Klarte ikke å parse formler:",
        "error_formulas_invalid": "Ugyldig formler JSON: {message}",
        "error_formulas_json": "Kunne ikke parse formler:",
        "error_input_links": "Klarte ikke å parse input_links:",
        "error_input_links_invalid": "Ugyldig input_links JSON: {message}"
    },
    "polling": {
        "all_inputs": "Poller alle koblede enhetsinnganger...",
        "api_unavailable": "App-API ikke tilgjengelig for polling",
        "device_not_found": "Enhet ikke funnet: {device}",
        "failed": "Klarte ikke å polle {input}:",
        "input": "Poller inngang \"{input}\" fra enhet \"{device}\" kapabilitet \"{capability}\"",
        "no_links": "Ingen inputLinks tilgjengelig for polling",
        "no_value": "Ingen verdi for {input} ({capability})",
        "value_received": "Pollet {input}: {value} → {boolean}"
    },
    "refetch": {
        "fetching_values": "Henter initialverdier på nytt før evaluering...",
        "invoked": "Re-henting og evaluering påkalt (kilde={source})",
        "no_links": "Ingen inngangskoblinger tilgjengelig under re-henting; hopper over verdihenting.",
        "parse_failed": "Klarte ikke å parse input_links under re-henting:",
        "reason": "Henter innganger på nytt (årsak: {reason})..."
    },
    "settings": {
        "applied": "Innstillinger anvendt vellykket",
        "applying_formatted": "Anvender auto-formaterte innstillinger...",
        "auto_formatted": "Innstillinger auto-formatert",
        "cancel": "Avbryt",
        "changed": "Innstillinger endret:",
        "changed_dynamic": "Innstillinger endret (dynamisk enhet):",
        "description": "Konfigurer din Boolean Toolbox logiske enhet",
        "error": "Kunne ikke lagre innstillinger",
        "expanded": "Kapasitet utvidet til {numInputs} innganger: {availableInputs}",
        "expanding_capacity": "Utvider kapasitet: {from} -> {to} (årsak: {reason})",
        "expansion_failed": "Klarte ikke å auto-utvide kapasitet:",
        "format_failed": "Klarte ikke å auto-formatere innstillinger:",
        "formatting": "Vil auto-formatere {type} JSON",
        "reset": "Tilbakestill til standard",
        "save": "Lagre",
        "saved": "Innstillinger lagret",
        "title": "Innstillinger"
    },
    "timeout": {
        "error": "Feil ved utløsing av tidsavbrudd:"
    }
}
--- END: locales/no.json ---

--- START: locales/pl.json (sha256=3d6498061e1afa9fc3e75b55d5d675684e952a2840459035abb59a330833c282, bytes=27026) ---
{
    "app": {
        "athom_api_loaded": "athom-api załadowane pomyślnie",
        "checking_for_error": "Sprawdzanie błędu. Wejście: '{textInput}', Ma błąd: {hasError}",
        "condition_check": "Sprawdzenie warunku: Formuła '{formulaName}' wynik = {result}, sprawdzanie, czy to '{expected}'",
        "error_getting_devices": "Błąd podczas pobierania urządzeń dla strefy {zoneId}:",
        "error_getting_zones": "Błąd podczas pobierania stref:",
        "error_stack": "Stos błędów:",
        "evaluation_finished": "Ocena zakończona. Wyjście: {output}",
        "flow_cards_registered": "Karty przepływu zarejestrowane",
        "formula_not_evaluated": "Warunek: Formuła '{formulaName}' nie została jeszcze oceniona (wynik to {result})",
        "found_devices_in_zone": "Znaleziono {count} urządzeń w strefie {zoneId}",
        "found_zones": "Znaleziono {count} stref",
        "getting_devices_for_zone": "Pobieranie urządzeń dla strefy ID: {zoneId}",
        "getting_zones": "Pobieranie dostępnych stref...",
        "homey_api_extracted": "HomeyAPI wyodrębnione, typ:",
        "homey_api_methods": "Metody HomeyAPI:",
        "homey_api_not_function": "HomeyAPI.forCurrentHomey nie jest funkcją",
        "initializing_homey_api": "Inicjalizacja HomeyAPI.forCurrentHomey...",
        "registering_flow_cards": "Rejestrowanie kart przepływu...",
        "running_evaluation": "Uruchamianie oceny. Wejście: {input}, Reguły: '{rules}'",
        "value_outside_logic": "Wartość {input} jest poza zdefiniowaną logiką."
    },
    "capability": {
        "logic_state": {
            "title": "Stan logiczny"
        }
    },
    "common": {
        "disabled": "Wyłączone",
        "done": "Gotowe",
        "enabled": "Włączone",
        "failed": "Nieudane",
        "false": "Fałsz",
        "info": "Informacja",
        "loading": "Ładowanie...",
        "max": "Maksimum",
        "min": "Minimum",
        "name": "Nazwa",
        "no": "Nie",
        "off": "Wyłącz",
        "on": "Włącz",
        "processing": "Przetwarzanie...",
        "state": "Stan",
        "success": "Sukces",
        "true": "Prawda",
        "type": "Typ",
        "unknown": "Nieznany",
        "value": "Wartość",
        "warning": "Ostrzeżenie",
        "yes": "Tak"
    },
    "debug": {
        "checking_formula": "Sprawdzanie formuły: {name} (\"{expression}\")",
        "raw_formulas": "Surowe dane wejściowe formuł z ustawień:",
        "raw_input_links": "Surowe input_links z ustawień:",
        "required_inputs": "  - Wymagane wejścia: {inputs}"
    },
    "device": {
        "capability_options_failed": "Nie udało się ustawić opcji zdolności:",
        "capability_readonly": "Ustawiono onoff jako tylko do odczytu",
        "capability_skip_deleted": "(bezpiecznie) Pomijanie {capability} – urządzenie już nie istnieje.",
        "capability_update_failed": "Aktualizacja zdolności nie powiodła się dla {capability}:",
        "capacity_expanded": "Wykryto {detected} wejść (początkowo {original}). Rozszerzanie pojemności.",
        "capacity_updated": "Aktualizacja pojemności: {old} → {new} wejść",
        "cleanup_complete": "Czyszczenie zakończone",
        "deleted_cleanup": "Urządzenie usunięte — czyszczenie słuchaczy i timerów",
        "deleted_skip_flow": "Urządzenie usunięte, pomijanie wyzwalacza przepływu",
        "deleted_skip_update": "Urządzenie usunięte, pomijanie aktualizacji zdolności",
        "initialized": "Urządzenie logiczne '{name}' zainicjalizowane z {count} wejściami",
        "initializing": "Urządzenie logiczne '{name}' inicjalizuje.",
        "logic_unit_dynamic_name": "Jednostka Logiczna",
        "logic_unit_dynamic_name_fallback": "Jednostka Logiczna",
        "logic_unit_name": "Jednostka logiczna ({count} wejść)",
        "logic_unit_name_fallback": "Jednostka logiczna ({count} wejść)",
        "max_input_detected": "Wykryto maksymalne wejście: {input} ({count} wejść wymaganych)",
        "ready": "Urządzenie gotowe: {name}"
    },
    "devicelinks": {
        "complete": "Konfiguracja połączeń urządzeń zakończona",
        "count": "Konfigurowanie {count} połączeń urządzeń",
        "error_cleanup": "Błąd przy czyszczeniu słuchacza:",
        "error_unregister": "Błąd przy wyrejestrowywaniu słuchacza:",
        "setting_up": "Konfigurowanie połączeń urządzeń...",
        "setup_failed": "Nie udało się skonfigurować słuchacza dla wejścia {input}:",
        "unregistered": "Wyrejestrowano słuchacz: {key}"
    },
    "driver": {
        "ensure_unique_failed": "ensureUniqueDeviceName nie powiodło się:",
        "ready": "Sterownik gotowy",
        "registering_flow_cards": "Rejestrowanie kart przepływu sterownika..."
    },
    "errors": {
        "connection_failed": "Połączenie nie powiodło się",
        "device_not_found": "Urządzenie nie znalezione",
        "evaluation_failed": "Ocena formuły nie powiodła się",
        "generic": "Wystąpił błąd",
        "helper_not_function": "Funkcja pomocnicza dla '{argName}' nie jest funkcją.",
        "invalid_device_instance": "Nieprawidłowa instancja urządzenia",
        "invalid_formula": "Nieprawidłowe wyrażenie formuły",
        "invalid_input": "Nieprawidłowa wartość wejściowa",
        "method_missing_on_device": "Brak metody '{methodName}' na urządzeniu",
        "notification_failed_invalid_formula": "Nie udało się utworzyć powiadomienia o nieprawidłowej formule",
        "permission_denied": "Odmowa dostępu",
        "timeout": "Przekroczenie czasu operacji",
        "trigger_timeout_card_failed": "Błąd podczas pobierania/wyzwalania karty formula_timeout",
        "unknown": "Wystąpił nieznany błąd"
    },
    "evaluation": {
        "initial_complete": "Wstępna ocena wszystkich formuł...",
        "no_formulas_ready": "Nie można było ocenić żadnych formuł - oczekiwanie na wartości wejściowe",
        "reevaluating_all": "Ponowna ocena wszystkich formuł (resetowanie blokad)...",
        "running_initial": "Uruchamianie wstępnej oceny formuły..."
    },
    "flow": {
        "actions": {
            "clear_error_state_lu": {
                "title": "Wyczyść stan błędu formuły",
                "titleFormatted": "Wyczyść stan błędu dla formuły [[formula]]"
            },
            "clear_error_state_ld": {
                "title": "Wyczyść stan błędu formuły",
                "titleFormatted": "Wyczyść stan błędu formuły"
            },
            "evaluate_all_formula_lu": {
                "title": "Przelicz ponownie wszystkie formuły",
                "titleFormatted": "Przelicz ponownie wszystkie formuły"
            },
            "evaluate_expression": {
                "title": "Oblicz wyrażenie",
                "titleFormatted": "Oblicz [[input]] [[op1]] min [[logical_op]] [[op2]] max z regułami [[rules]]"
            },
            "evaluate_formula_lu": {
                "title": "Oblicz konkretną formułę",
                "titleFormatted": "Oblicz formułę [[formula]]"
            },
            "evaluate_formula_ld": {
                "title": "Sprawdź ponownie stan urządzenia",
                "titleFormatted": "Sprawdź ponownie stan"
            },
            "reevaluate_formulas": {
                "title": "Przelicz ponownie wszystkie formuły",
                "titleFormatted": "Przelicz ponownie wszystkie formuły"
            },
            "set_all_inputs_lu": {
                "title": "Ustaw wszystkie wejścia z JSON",
                "titleFormatted": "Ustaw wszystkie wejścia z JSON: [[values]]"
            },
            "set_input_lu": {
                "title": "Ustaw wartość wejściową (wszystkie formuły)",
                "titleFormatted": "Ustaw wejście [[input]] na [[value]]"
            },
            "set_input_value_lu": {
                "title": "Ustaw wartość wejściową dla formuły",
                "titleFormatted": "Ustaw wejście [[input]] na [[value]] dla formuły [[formula]]"
            }
        },
        "args": {
            "formula": {
                "placeholder": "Wybierz formułę",
                "title": "Formuła"
            },
            "input": {
                "placeholder": "Wybierz wejście",
                "title": "Wejście"
            },
            "logical_op": {
                "AND": "I",
                "OR": "LUB",
                "title": "Operator logiczny"
            },
            "number_input": {
                "placeholder": "Wprowadź liczbę",
                "title": "Wartość wejściowa"
            },
            "op1": {
                "gt": ">",
                "gte": "≥",
                "lt": "<",
                "lte": "≤",
                "title": "Pierwszy operator"
            },
            "op2": {
                "gt": ">",
                "gte": "≥",
                "lt": "<",
                "lte": "≤",
                "title": "Drugi operator"
            },
            "rules": {
                "placeholder": "min,max,wyjście;...",
                "title": "Reguły"
            },
            "text_input": {
                "placeholder": "Wprowadź komunikat błędu lub token",
                "title": "Komunikat błędu"
            },
            "value": {
                "false": "FAŁSZ",
                "title": "Wartość",
                "true": "PRAWDA"
            },
            "values": {
                "placeholder": "{\"A\": true, \"B\": false}",
                "title": "Wartości JSON"
            },
            "what_is": {
                "false": "FAŁSZ",
                "title": "Wartość",
                "true": "PRAWDA"
            }
        },
        "conditions": {
            "formula_has_timed_out_lu": {
                "title": "Formuła !{{przekroczyła|nie przekroczyła}} limitu czasu",
                "titleFormatted": "Formuła [[formula]] !{{przekroczyła|nie przekroczyła}} limitu czasu"
            },
            "formula_has_timed_out_ld": {
                "title": "Formuła !{{przekroczyła|nie przekroczyła}} limitu czasu",
                "titleFormatted": "Formuła !{{przekroczyła|nie przekroczyła}} limitu czasu"
            },
            "formula_result_is_lu": {
                "title": "Wynik formuły to...",
                "titleFormatted": "Wynik formuły [[formula]] to [[what_is]]"
            },
            "formula_result_is_ld": {
                "title": "Wynik formuły to...",
                "titleFormatted": "Wynik formuły to [[what_is]]"
            },
            "has_any_error_lu": {
                "title": "Urządzenie !{{ma|nie ma}} błędu",
                "titleFormatted": "Urządzenie !{{ma|nie ma}} błędu"
            },
            "has_any_error_ld": {
                "title": "Urządzenie !{{ma|nie ma}} błędu",
                "titleFormatted": "Urządzenie !{{ma|nie ma}} błędu"
            },
            "has_error": {
                "title": "!{{Ma|Nie ma}} błędu",
                "titleFormatted": "!{{Ma|Nie ma}} błędu w [[text_input]]"
            }
        },
        "tokens": {
            "errorMessage": {
                "title": "Komunikat błędu"
            },
            "outputValue": {
                "title": "Wartość wyjściowa"
            },
            "state": {
                "title": "Stan"
            }
        },
        "trigger_error": "Błąd wyzwalania przepływu:",
        "triggered": "Wyzwalanie przepływu dla zmiany formuły '{name}' na {result}",
        "triggers": {
            "device_state_changed": {
                "hint": "Wyzwalane po zmianie stanu Urządzenia Logicznego (wł./wył.)",
                "title": "Stan zmieniony",
                "titleFormatted": "Stan zmieniony na [[state]]"
            },
            "device_state_changed_ld": {
                "hint": "Wyzwalane po zmianie stanu Urządzenia Logicznego (wł./wył.)",
                "title": "Stan zmieniony",
                "titleFormatted": "Stan zmieniony"
            },
            "formula_changed_to_false_lu": {
                "title": "Formuła zmieniła się na FAŁSZ",
                "titleFormatted": "Formuła [[formula]] zmieniła się na FAŁSZ"
            },
            "formula_changed_to_true_lu": {
                "title": "Formuła zmieniła się na PRAWDA",
                "titleFormatted": "Formuła [[formula]] zmieniła się na PRAWDA"
            },
            "formula_timeout_lu": {
                "title": "Formuła przekroczyła limit czasu",
                "titleFormatted": "Formuła [[formula]] przekroczyła limit czasu"
            },
            "state_changed_ld": {
                "title": "Stan zmieniony",
                "titleFormatted": "Stan zmieniony"
            }
        }
    },
    "formula": {
        "all_inputs_defined": "Formuła '{name}': Wszystkie wejścia zdefiniowane, ocenianie...",
        "default_name": "Główna formuła",
        "default_name_alt": "Formuła 1",
        "default_name_alt_fallback": "Formuła domyślna",
        "details": "  - {name}: \"{expression}\" (włączone: {enabled})",
        "error": "Błąd formuły",
        "error_inputs_used_but_none_configured": "Wyrażenie używa wejść, ale żadne wejścia nie są skonfigurowane dla tego urządzenia.",
        "error_no_inputs": "Brak dostępnych wejść",
        "error_unbalanced_parentheses": "Niezrównoważone nawiasy",
        "error_validation": "Formuła '{name}': {error}",
        "evaluated": "Formuła oceniona",
        "evaluated_count": "Oceniono {count} formuł",
        "evaluating": "Ocenianie formuły...",
        "evaluating_expression": "Ocenianie: \"{expression}\" → \"{evalExpression}\"",
        "evaluation": "Ocena",
        "evaluation_failed": "Nie udało się ocenić formuły '{name}': {message}",
        "expression": "Wyrażenie",
        "expression_empty": "Wyrażenie nie może być puste",
        "get_result_not_found": "getFormulaResult: Formuła '{id}' nie znaleziona",
        "initialized": "Zainicjalizowano {count} formuł",
        "input": "Wejście",
        "invalid": "Nieprawidłowa formuła",
        "invalid_syntax": "Nieprawidłowa składnia wyrażenia: {message}",
        "invalid_tokens": "Nieprawidłowe tokeny w wyrażeniu: \"{tokens}\"",
        "missing_inputs": "Formuła '{name}': Brakujące wejścia:",
        "name": "Formuła",
        "no_expression": "(brak wyrażenia)",
        "not_found_or_disabled": "Formuła '{id}' nie znaleziona lub wyłączona.",
        "output": "Wyjście",
        "reinitialized": "Ponownie zainicjalizowano {count} formuł",
        "result": "Formuła '{name}' wynik: {result}",
        "result_debug": "getFormulaResult: Formuła '{name}' ({id}) wynik = {result} (typ: {type})",
        "set_input_error": "Błąd setInputForFormula:",
        "syntax_error": "Błąd składni w formule",
        "timed_out": "Formuła '{name}' przekroczenie czasu po {timeout}s",
        "timeout": "Przekroczenie czasu oceny formuły",
        "unlocked_inputs": "🔓 Odblokowano wszystkie wejścia dla formuły '{name}'",
        "unnamed_formula": "Formuła bez nazwy",
        "waiting_for_input": "Formuła '{formula}' czeka na niezdefiniowane wejścia: {error}",
        "waiting_for_inputs": "Formuła '{name}': Oczekiwanie na wejścia. Wymagane: [{required}]"
    },
    "help": {
        "first_impression": "Tryb pierwszego wrażenia blokuje wejścia przy ich pierwszej otrzymanej wartości",
        "formula_syntax": "Użyj operatorów logicznych takich jak I, LUB, NIE, aby utworzyć formułę",
        "input_values": "Wartości wejściowe są automatycznie aktualizowane, gdy zmienią się podłączone urządzenia",
        "timeout_warning": "Jeśli wejście nie zostanie zaktualizowane w okresie przekroczenia czasu, zostanie oznaczone"
    },
    "initial": {
        "api_unavailable": "API aplikacji niedostępne do pobierania wartości początkowych",
        "capability_not_found": "[{input}] Zdolność {capability} nie znaleziona",
        "device_not_found": "[{input}] Urządzenie nie znalezione",
        "error": "[{input}] Błąd pobierania wartości początkowej:",
        "fetching_all": "Pobieranie wartości początkowych dla wszystkich wejść...",
        "fetching_input": "[{input}] Pobieranie wartości początkowej...",
        "no_value_waiting": "[{input}] Nie znaleziono wartości początkowej - oczekiwanie na pierwsze zdarzenie",
        "received_value": "[{input}] Otrzymano wartość początkową: {value}",
        "value_received": "[{input}] Wartość początkowa: {value} → {boolean}"
    },
    "input_options": {
        "context_specific": "Opcje wejściowe filtrowane dla formuły: {formula} ({expression})"
    },
    "inputs": {
        "first_impression": "Tryb pierwszego wrażenia",
        "label": "Wejście",
        "locked": "Wejście zablokowane",
        "locked_at_value": "🔒 Wejście '{input}' zablokowane na wartości {value} (tryb pierwszego wrażenia)",
        "locked_first_impression": "Wejście '{input}' zablokowane dla formuły '{formula}' (tryb pierwszego wrażenia)",
        "setting_value": "Ustawianie wejścia '{input}' na {value} dla formuły '{formula}' (było: {oldValue})",
        "timeout_detected": "Wykryto przekroczenie czasu na wejściu",
        "unlocked": "Wejście odblokowane",
        "unused_warning": "Ostrzeżenie: Wejście {input} nie jest używane w żadnej formule. Używane: {usedInputs}",
        "value": "Wartość",
        "waiting": "Oczekiwanie na wejście..."
    },
    "listener": {
        "api_unavailable": "API aplikacji niedostępne do konfiguracji słuchacza",
        "capability_changed": "[{input}] Zdolność '{capability}' zmieniona: {value} → {boolean}",
        "capability_found": "Urządzenie ma zdolność: {capability}",
        "capability_not_exist": "[{input}] Zdolność {capability} nie istnieje na urządzeniu {device}",
        "device_found": "Znaleziono urządzenie: {device}",
        "device_not_found": "[{input}] Urządzenie {device} nie znalezione",
        "error_setup": "Błąd podczas konfigurowania słuchacza dla wejścia {input}:",
        "event_received": "Odebrano zdarzenie dla wejścia {input}",
        "invalid_config": "Nieprawidłowa konfiguracja linku dla wejścia {input}",
        "polling_setup": "[{input}] Skonfigurowano odpytywanie dla {device} ({capability})",
        "registered": "[{input}] Nasłuchiwanie urządzenia {device} zdolność {capability}",
        "registering": "Rejestrowanie słuchacza zdolności dla {capability}...",
        "setting_up": "Konfigurowanie słuchacza dla wejścia {input}"
    },
    "notifications": {
        "device_ready": "Urządzenie jest gotowe",
        "error_cleared": "Stan błędu wyczyszczony",
        "error_cleared_all": "Status błędu wyczyszczony dla wszystkich formuł",
        "formula_updated": "Formuła zaktualizowana",
        "input_received": "Wejście odebrane",
        "invalid_formula_config": "Nieprawidłowa formuła '{formulaName}': {error}",
        "output_changed": "Wyjście zmienione",
        "reevaluating": "Ponownie oceń wszystkie formuły..."
    },
    "operators": {
        "and": "I",
        "equal": "Równy",
        "greater_or_equal": "Większy lub równy",
        "greater_than": "Większy niż",
        "less_or_equal": "Mniejszy lub równy",
        "less_than": "Mniejszy niż",
        "not": "NIE",
        "not_equal": "Nierówny",
        "or": "LUB"
    },
    "pair": {
        "add": "Dodaj urządzenie",
        "capability_label": "Zdolność:",
        "configure": "Konfiguruj urządzenie",
        "configure_all_inputs": "Proszę najpierw skonfigurować wszystkie wejścia!",
        "configure_inputs_description": "Wybierz, które urządzenie i zdolność ma śledzić każde wejście:",
        "configure_inputs_title": "Konfiguruj wejścia",
        "configured": "Skonfigurowano",
        "create_device": "[PAIR] create_device wywołane",
        "creating_device": "[PAIR] Tworzenie urządzenia:",
        "default_formula_name": "Moja Formuła",
        "device_label": "Urządzenie:",
        "device_name_label": "Nadaj urządzeniu nazwę:",
        "device_name_placeholder": "Moje urządzenie logiczne",
        "error": "Nie udało się dodać urządzenia",
        "error_button_not_found": "Przycisk Zakończ nie znaleziony w DOM!",
        "error_completing_setup": "Błąd podczas kończenia konfiguracji: {error}",
        "error_homey_emit_unavailable": "Homey.emit jest niedostępny",
        "error_homey_nextview_unavailable": "Homey.nextView jest niedostępny",
        "error_homey_object_unavailable": "Obiekt Homey lub wymagane funkcje (emit, __) są niedostępne.",
        "error_i18n_unavailable": "Funkcja tłumaczenia Homey (__) jest niedostępna.",
        "error_loading": "-- Błąd ładowania --",
        "error_loading_capabilities": "Błąd ładowania zdolności: {error}",
        "error_loading_initial_data": "Błąd ładowania danych początkowych: {error}",
        "error_navigating": "Błąd nawigacji: {error}",
        "error_saving_config": "Błąd zapisu konfiguracji: {error}",
        "error_saving_input_number": "Błąd zapisu liczby wejść: {error}",
        "error_setting_up_interactions": "Błąd konfiguracji interakcji strony: {error}",
        "error_system_not_ready": "Błąd: System parowania nie jest gotowy.",
        "formula_label": "Wprowadź formułę:",
        "get_devices_error": "[PAIR] BŁĄD w get_devices_in_zone:",
        "get_devices_in_zone": "[PAIR] get_devices_in_zone wywołane dla strefy: {zone}",
        "get_num_inputs": "[PAIR] get_num_inputs wywołane",
        "get_zones": "[PAIR] get_zones wywołane",
        "get_zones_error": "[PAIR] BŁĄD w get_zones:",
        "handlers_registered": "Rejestratory parowania zarejestrowane",
        "input": "Wejście",
        "inputs_configured": "wejść skonfigurowanych",
        "inputs_range": "Wybierz od 2 do 10 wejść",
        "intro": "Utwórz nowe urządzenie logiczne do oceny złożonych formuł",
        "load_devices_error": "Nie udało się załadować urządzeń dla strefy",
        "name": "Nazwa urządzenia",
        "name_placeholder": "Moje urządzenie logiczne",
        "next": "Dalej →",
        "no_zones_error": "Nie znaleziono stref. Proszę najpierw utworzyć strefy w Homey.",
        "not_configured": "Nie skonfigurowano",
        "of": "z",
        "save_complete": "Zapisz i zakończ",
        "select_capability": "-- Wybierz zdolność --",
        "select_device": "-- Wybierz urządzenie --",
        "select_device_first": "-- Najpierw wybierz urządzenie --",
        "select_inputs_description": "Ile urządzeń chcesz podłączyć do tego urządzenia logicznego?",
        "select_inputs_title": "Wybierz liczbę wejść",
        "select_zone": "-- Wybierz strefę/pomieszczenie --",
        "select_zone_first": "-- Najpierw wybierz strefę --",
        "session_started": "Sesja parowania rozpoczęta",
        "set_device_formula": "[PAIR] set_device_formula wywołane z: {formula}",
        "set_device_name": "[PAIR] set_device_name wywołane z:",
        "set_input_links": "[PAIR] set_input_links wywołane",
        "set_num_inputs": "[PAIR] set_num_inputs wywołane z danymi:",
        "status_label": "Status:",
        "success": "Urządzenie dodane pomyślnie",
        "title": "Dodaj urządzenie logiczne",
        "unknown_capability_fallback": "Nieznana zdolność",
        "unknown_device": "Nieznane urządzenie",
        "zone_label": "Strefa/Pomieszczenie:"
    },
    "parse": {
        "error_detecting_inputs": "Błąd wykrywania wymaganych wejść:",
        "error_formulas": "Nie udało się sparsować formuł:",
        "error_formulas_invalid": "Nieprawidłowy JSON formuł: {message}",
        "error_formulas_json": "Nie udało się sparsować formuł:",
        "error_input_links": "Nie udało się sparsować input_links:",
        "error_input_links_invalid": "Nieprawidłowy JSON input_links: {message}"
    },
    "polling": {
        "all_inputs": "Odpytywanie wszystkich podłączonych wejść urządzeń...",
        "api_unavailable": "API aplikacji niedostępne do odpytywania",
        "device_not_found": "Urządzenie nie znalezione: {device}",
        "failed": "Nie udało się odpytać {input}:",
        "input": "Odpytywanie wejścia \"{input}\" z urządzenia \"{device}\" zdolność \"{capability}\"",
        "no_links": "Brak inputLinks dostępnych do odpytywania",
        "no_value": "Brak wartości dla {input} ({capability})",
        "value_received": "Odpytano {input}: {value} → {boolean}"
    },
    "refetch": {
        "fetching_values": "Ponowne pobieranie wartości początkowych przed oceną...",
        "invoked": "Ponowne pobieranie i ocena wywołane (źródło={source})",
        "no_links": "Brak dostępnych linków wejściowych podczas ponownego pobierania; pomijanie pobierania wartości.",
        "parse_failed": "Nie udało się sparsować input_links podczas ponownego pobierania:",
        "reason": "Ponowne pobieranie wejść (powód: {reason})..."
    },
    "settings": {
        "applied": "Ustawienia zastosowane pomyślnie",
        "applying_formatted": "Stosowanie automatycznie sformatowanych ustawień...",
        "auto_formatted": "Ustawienia automatycznie sformatowane",
        "cancel": "Anuluj",
        "changed": "Ustawienia zmienione:",
        "changed_dynamic": "Ustawienia zmienione (urządzenie dynamiczne):",
        "description": "Skonfiguruj urządzenie logiczne Boolean Toolbox",
        "error": "Nie udało się zapisać ustawień",
        "expanded": "Pojemność rozszerzona do {numInputs} wejść: {availableInputs}",
        "expanding_capacity": "Rozszerzanie pojemności: {from} -> {to} (powód: {reason})",
        "expansion_failed": "Nie udało się automatycznie rozszerzyć pojemności:",
        "format_failed": "Nie udało się automatycznie sformatować ustawień:",
        "formatting": "Automatycznie sformatuje {type} JSON",
        "reset": "Przywróć domyślne",
        "save": "Zapisz",
        "saved": "Ustawienia zapisane",
        "title": "Ustawienia"
    },
    "timeout": {
        "error": "Błąd wyzwalania przekroczenia czasu:"
    }
}
--- END: locales/pl.json ---

--- START: locales/sv.json (sha256=a09149570fbe70f24ea91752415a29ce3f9db1af6ca58f2df670d6588d77e6b9, bytes=25557) ---
{
    "app": {
        "athom_api_loaded": "athom-api laddades framgångsrikt",
        "checking_for_error": "Söker efter fel. Indata: '{textInput}', Har fel: {hasError}",
        "condition_check": "Villkorskontroll: Formel '{formulaName}' resultat = {result}, kontrollerar om det är '{expected}'",
        "error_getting_devices": "Fel vid hämtning av enheter för zon {zoneId}:",
        "error_getting_zones": "Fel vid hämtning av zoner:",
        "error_stack": "Felstack:",
        "evaluation_finished": "Utvärdering slutförd. Utdata: {output}",
        "flow_cards_registered": "Flödeskort registrerade",
        "formula_not_evaluated": "Villkor: Formel '{formulaName}' har inte utvärderats än (resultat är {result})",
        "found_devices_in_zone": "Hittade {count} enheter i zon {zoneId}",
        "found_zones": "Hittade {count} zoner",
        "getting_devices_for_zone": "Hämtar enheter för zon-ID: {zoneId}",
        "getting_zones": "Hämtar tillgängliga zoner...",
        "homey_api_extracted": "HomeyAPI extraherad, typ:",
        "homey_api_methods": "HomeyAPI-metoder:",
        "homey_api_not_function": "HomeyAPI.forCurrentHomey är inte en funktion",
        "initializing_homey_api": "Initialiserar HomeyAPI.forCurrentHomey...",
        "registering_flow_cards": "Registrerar flödeskort...",
        "running_evaluation": "Kör utvärdering. Indata: {input}, Regler: '{rules}'",
        "value_outside_logic": "Värdet {input} ligger utanför den definierade logiken."
    },
    "capability": {
        "logic_state": {
            "title": "Logiskt tillstånd"
        }
    },
    "common": {
        "disabled": "Inaktiverad",
        "done": "Klar",
        "enabled": "Aktiverad",
        "failed": "Misslyckades",
        "false": "Falskt",
        "info": "Information",
        "loading": "Laddar...",
        "max": "Maximum",
        "min": "Minimum",
        "name": "Namn",
        "no": "Nej",
        "off": "Av",
        "on": "På",
        "processing": "Behandlar...",
        "state": "Status",
        "success": "Lyckades",
        "true": "Sant",
        "type": "Typ",
        "unknown": "Okänd",
        "value": "Värde",
        "warning": "Varning",
        "yes": "Ja"
    },
    "debug": {
        "checking_formula": "Kontrollerar formel: {name} (\"{expression}\")",
        "raw_formulas": "Råa formler indata från inställningar:",
        "raw_input_links": "Råa input_links från inställningar:",
        "required_inputs": "  - Nödvändiga ingångar: {inputs}"
    },
    "device": {
        "capability_options_failed": "Kunde inte ställa in kapacitetsinställningar:",
        "capability_readonly": "Ställde in onoff som skrivskyddad",
        "capability_skip_deleted": "(säkert) Hoppar över {capability} – enheten finns inte längre.",
        "capability_update_failed": "Kapacitetsuppdatering misslyckades för {capability}:",
        "capacity_expanded": "Upptäckte {detected} ingångar behövs (ursprungligen {original}). Utökar kapacitet.",
        "capacity_updated": "Uppdaterar kapacitet: {old} → {new} ingångar",
        "cleanup_complete": "Rensning klar",
        "deleted_cleanup": "Enhet raderad — rensar lyssnare & timers",
        "deleted_skip_flow": "Enhet raderad, hoppar över flödesutlösare",
        "deleted_skip_update": "Enhet raderad, hoppar över kapabilitetsuppdatering",
        "initialized": "Logisk enhet '{name}' initialiserad med {count} ingångar",
        "initializing": "Logisk enhet '{name}' initialiserar.",
        "logic_unit_dynamic_name": "Logikenhet",
        "logic_unit_dynamic_name_fallback": "Logikenhet",
        "logic_unit_name": "Logisk enhet ({count} ingångar)",
        "logic_unit_name_fallback": "Logisk enhet ({count} ingångar)",
        "max_input_detected": "Upptäckte max ingång: {input} ({count} ingångar behövs)",
        "ready": "Enhet redo: {name}"
    },
    "devicelinks": {
        "complete": "Enhetslänkar inställda",
        "count": "Ställer in {count} enhetslänkar",
        "error_cleanup": "Fel vid rensning av lyssnare:",
        "error_unregister": "Fel vid avregistrering av lyssnare:",
        "setting_up": "Ställer in enhetslänkar...",
        "setup_failed": "Kunde inte ställa in lyssnare för ingång {input}:",
        "unregistered": "Avregistrerade lyssnare: {key}"
    },
    "driver": {
        "ensure_unique_failed": "ensureUniqueDeviceName misslyckades:",
        "ready": "Drivrutin redo",
        "registering_flow_cards": "Registrerar drivrutinsflödeskort..."
    },
    "errors": {
        "connection_failed": "Anslutning misslyckades",
        "device_not_found": "Enhet hittades inte",
        "evaluation_failed": "Formelutvärdering misslyckades",
        "generic": "Ett fel uppstod",
        "helper_not_function": "Hjälpfunktion för '{argName}' är inte en funktion.",
        "invalid_device_instance": "Ogiltig enhetsinstans",
        "invalid_formula": "Ogiltigt formeluttrykk",
        "invalid_input": "Ogiltigt ingångsvärde",
        "method_missing_on_device": "Metod '{methodName}' saknas på enheten",
        "notification_failed_invalid_formula": "Kunde inte skapa avisering för ogiltig formel",
        "permission_denied": "Åtkomst nekad",
        "timeout": "Operation timeout",
        "trigger_timeout_card_failed": "Fel vid hämtning/utlösning av formula_timeout-kort",
        "unknown": "Okänt fel uppstod"
    },
    "evaluation": {
        "initial_complete": "Initial utvärdering av alla formler...",
        "no_formulas_ready": "Inga formler kunde utvärderas - väntar på ingångsvärden",
        "reevaluating_all": "Omvärderar alla formler (återställer lås)...",
        "running_initial": "Kör initial formelutvärdering..."
    },
    "flow": {
        "actions": {
            "clear_error_state_lu": {
                "title": "Rensa formelfelstatus",
                "titleFormatted": "Rensa felstatus för formel [[formula]]"
            },
            "clear_error_state_ld": {
                "title": "Rensa formelfelstatus",
                "titleFormatted": "Rensa felstatus"
            },
            "evaluate_all_formula_lu": {
                "title": "Omvärdera alla formler",
                "titleFormatted": "Omvärdera alla formler"
            },
            "evaluate_expression": {
                "title": "Utvärdera uttryck",
                "titleFormatted": "Utvärdera [[input]] [[op1]] min [[logical_op]] [[op2]] max med regler [[rules]]"
            },
            "evaluate_formula_lu": {
                "title": "Utvärdera specifik formel",
                "titleFormatted": "Utvärdera formel [[formula]]"
            },
            "evaluate_formula_ld": {
                "title": "Kontrollera enhetsstatus igen",
                "titleFormatted": "Kontrollera status igen"
            },
            "reevaluate_formulas": {
                "title": "Omvärdera alla formler",
                "titleFormatted": "Omvärdera alla formler"
            },
            "set_all_inputs_lu": {
                "title": "Ställ in alla ingångar från JSON",
                "titleFormatted": "Ställ in alla ingångar från JSON: [[values]]"
            },
            "set_input_lu": {
                "title": "Ställ in ingångsvärde (alla formler)",
                "titleFormatted": "Ställ in ingång [[input]] till [[value]]"
            },
            "set_input_value_lu": {
                "title": "Ställ in ingångsvärde för formel",
                "titleFormatted": "Ställ in ingång [[input]] till [[value]] för formel [[formula]]"
            }
        },
        "args": {
            "formula": {
                "placeholder": "Välj formel",
                "title": "Formel"
            },
            "input": {
                "placeholder": "Välj ingång",
                "title": "Ingång"
            },
            "logical_op": {
                "AND": "OCH",
                "OR": "ELLER",
                "title": "Logisk operator"
            },
            "number_input": {
                "placeholder": "Ange nummer",
                "title": "Ingångsvärde"
            },
            "op1": {
                "gt": ">",
                "gte": "≥",
                "lt": "<",
                "lte": "≤",
                "title": "Första operator"
            },
            "op2": {
                "gt": ">",
                "gte": "≥",
                "lt": "<",
                "lte": "≤",
                "title": "Andra operator"
            },
            "rules": {
                "placeholder": "min,max,utgång;...",
                "title": "Regler"
            },
            "text_input": {
                "placeholder": "Ange felmeddelande eller token",
                "title": "Felmeddelande"
            },
            "value": {
                "false": "FALSKT",
                "title": "Värde",
                "true": "SANT"
            },
            "values": {
                "placeholder": "{\"A\": true, \"B\": false}",
                "title": "JSON-värden"
            },
            "what_is": {
                "false": "FALSKT",
                "title": "Värde",
                "true": "SANT"
            }
        },
        "conditions": {
            "formula_has_timed_out_lu": {
                "title": "Formel !{{har|har inte}} fått timeout",
                "titleFormatted": "Formel [[formula]] !{{har|har inte}} fått timeout"
            },
            "formula_has_timed_out_ld": {
                "title": "Formel !{{har|har inte}} fått timeout",
                "titleFormatted": "Formel !{{har|har inte}} fått timeout"
            },
            "formula_result_is_lu": {
                "title": "Formelresultat är...",
                "titleFormatted": "Formel [[formula]] resultat är [[what_is]]"
            },
            "formula_result_is_ld": {
                "title": "Formelresultat är...",
                "titleFormatted": "Formelresultat är [[what_is]]"
            },
            "has_any_error_lu": {
                "title": "Enhet !{{har|har inget}} fel",
                "titleFormatted": "Enhet !{{har|har inget}} fel"
            },
            "has_any_error_ld": {
                "title": "Enhet !{{har|har inget}} fel",
                "titleFormatted": "Enhet !{{har|har inget}} fel"
            },
            "has_error": {
                "title": "!{{Har|Har inget}} fel",
                "titleFormatted": "!{{Har|Har inget}} fel i [[text_input]]"
            }
        },
        "tokens": {
            "errorMessage": {
                "title": "Felmeddelande"
            },
            "outputValue": {
                "title": "Utgångsvärde"
            },
            "state": {
                "title": "Tillstånd"
            }
        },
        "trigger_error": "Fel vid utlösning av flöde:",
        "triggered": "Utlöser flöde för formel '{name}' ändring till {result}",
        "triggers": {
            "device_state_changed": {
                "hint": "Utlöses när tillståndet för Logikenheten ändras (på/av)",
                "title": "Tillstånd ändrat",
                "titleFormatted": "Tillstånd ändrat till [[state]]"
            },
            "device_state_changed_ld": {
                "hint": "Utlöses när tillståndet för Logikenheten ändras (på/av)",
                "title": "Tillstånd ändrat",
                "titleFormatted": "Tillstånd ändrat"
            },
            "formula_changed_to_false_lu": {
                "title": "Formel ändrades till FALSK",
                "titleFormatted": "Formel [[formula]] ändrades till FALSK"
            },
            "formula_changed_to_true_lu": {
                "title": "Formel ändrades till SANN",
                "titleFormatted": "Formel [[formula]] ändrades till SANN"
            },
            "formula_timeout_lu": {
                "title": "Formel fick timeout",
                "titleFormatted": "Formel [[formula]] fick timeout"
            },
            "state_changed_ld": {
                "title": "Tillstånd ändrat",
                "titleFormatted": "Tillstånd ändrat"
            }
        }
    },
    "formula": {
        "all_inputs_defined": "Formel '{name}': Alla ingångar definierade, utvärderar...",
        "default_name": "Huvudformel",
        "default_name_alt": "Formel 1",
        "default_name_alt_fallback": "Standardformel",
        "details": "  - {name}: \"{expression}\" (aktiverad: {enabled})",
        "error": "Formelfel",
        "error_inputs_used_but_none_configured": "Uttrycket använder ingångar, men inga ingångar är konfigurerade för denna enhet.",
        "error_no_inputs": "Inga ingångar tillgängliga",
        "error_unbalanced_parentheses": "Obalanserade parenteser",
        "error_validation": "Formel '{name}': {error}",
        "evaluated": "Formel utvärderad",
        "evaluated_count": "Utvärderade {count} formler",
        "evaluating": "Utvärderar formel...",
        "evaluating_expression": "Utvärderar: \"{expression}\" → \"{evalExpression}\"",
        "evaluation": "Utvärdering",
        "evaluation_failed": "Kunde inte utvärdera formel '{name}': {message}",
        "expression": "Uttryck",
        "expression_empty": "Uttryck kan inte vara tomt",
        "get_result_not_found": "getFormulaResult: Formel '{id}' hittades inte",
        "initialized": "Initialiserade {count} formler",
        "input": "Ingång",
        "invalid": "Ogiltig formel",
        "invalid_syntax": "Ogiltig uttryckssyntax: {message}",
        "invalid_tokens": "Ogiltiga tokens i uttryck: \"{tokens}\"",
        "missing_inputs": "Formel '{name}': Saknade ingångar:",
        "name": "Formel",
        "no_expression": "(inget uttryck)",
        "not_found_or_disabled": "Formel '{id}' hittades inte eller är inaktiverad.",
        "output": "Utgång",
        "reinitialized": "Ominitialiserade {count} formler",
        "result": "Formel '{name}' resultat: {result}",
        "result_debug": "getFormulaResult: Formel '{name}' ({id}) resultat = {result} (typ: {type})",
        "set_input_error": "setInputForFormula fel:",
        "syntax_error": "Syntaxfel i formel",
        "timed_out": "Formel '{name}' fick timeout efter {timeout}s",
        "timeout": "Formelutvärdering timeout",
        "unlocked_inputs": "🔓 Låste upp alla ingångar för formel '{name}'",
        "unnamed_formula": "Namnlös formel",
        "waiting_for_input": "Formel '{formula}' väntar på odefinierade ingångar: {error}",
        "waiting_for_inputs": "Formel '{name}': Väntar på ingångar. Krävs: [{required}]"
    },
    "help": {
        "first_impression": "Första intryck läge låser ingångar vid deras första mottagna värde",
        "formula_syntax": "Använd logiska operatorer som OCH, ELLER, INTE för att skapa din formel",
        "input_values": "Ingångsvärden uppdateras automatiskt när anslutna enheter ändras",
        "timeout_warning": "Om en ingång inte uppdateras inom timeout-perioden kommer den att markeras"
    },
    "initial": {
        "api_unavailable": "App-API inte tillgängligt för hämtning av initialvärden",
        "capability_not_found": "[{input}] Kapacitet {capability} hittades inte",
        "device_not_found": "[{input}] Enhet hittades inte",
        "error": "[{input}] Fel vid hämtning av initialvärde:",
        "fetching_all": "Hämtar initialvärden för alla ingångar...",
        "fetching_input": "[{input}] Hämtar initialvärde...",
        "no_value_waiting": "[{input}] Inget initialvärde hittades - väntar på första händelse",
        "received_value": "[{input}] Mottog initialvärde: {value}",
        "value_received": "[{input}] Initialvärde: {value} → {boolean}"
    },
    "input_options": {
        "context_specific": "Ingångsalternativ filtrerade för formel: {formula} ({expression})"
    },
    "inputs": {
        "first_impression": "Första intryck läge",
        "label": "Ingång",
        "locked": "Ingång låst",
        "locked_at_value": "🔒 Ingång '{input}' låst vid värde {value} (första intryck läge)",
        "locked_first_impression": "Ingång '{input}' låst för formel '{formula}' (första intryck läge)",
        "setting_value": "Ställer in ingång '{input}' till {value} för formel '{formula}' (var: {oldValue})",
        "timeout_detected": "Timeout detekterad på ingång",
        "unlocked": "Ingång olåst",
        "unused_warning": "Varning: Ingång {input} används inte i någon formel. Använda: {usedInputs}",
        "value": "Värde",
        "waiting": "Väntar på ingång..."
    },
    "listener": {
        "api_unavailable": "App-API inte tillgängligt för lyssnarinställning",
        "capability_changed": "[{input}] Kapacitet '{capability}' ändrades: {value} → {boolean}",
        "capability_found": "Enhet har kapacitet: {capability}",
        "capability_not_exist": "[{input}] Kapacitet {capability} finns inte på enhet {device}",
        "device_found": "Hittade enhet: {device}",
        "device_not_found": "[{input}] Enhet {device} hittades inte",
        "error_setup": "Fel vid inställning av lyssnare för ingång {input}:",
        "event_received": "Händelse mottagen för ingång {input}",
        "invalid_config": "Ogiltig länkkonfiguration för ingång {input}",
        "polling_setup": "[{input}] Ställde in pollning för {device} ({capability})",
        "registered": "[{input}] Lyssnar på enhet {device} kapacitet {capability}",
        "registering": "Registrerar kapacitetslyssnare för {capability}...",
        "setting_up": "Ställer in lyssnare för ingång {input}"
    },
    "notifications": {
        "device_ready": "Enhet är redo",
        "error_cleared": "Felstatus rensad",
        "error_cleared_all": "Felstatus rensad för alla formler",
        "formula_updated": "Formel uppdaterad",
        "input_received": "Ingång mottagen",
        "invalid_formula_config": "Ogiltig formel '{formulaName}': {error}",
        "output_changed": "Utgång ändrad",
        "reevaluating": "Omvärdera alla formler..."
    },
    "operators": {
        "and": "OCH",
        "equal": "Lika med",
        "greater_or_equal": "Större än eller lika med",
        "greater_than": "Större än",
        "less_or_equal": "Mindre än eller lika med",
        "less_than": "Mindre än",
        "not": "INTE",
        "not_equal": "Inte lika med",
        "or": "ELLER"
    },
    "pair": {
        "add": "Lägg till enhet",
        "capability_label": "Kapacitet:",
        "configure": "Konfigurera enhet",
        "configure_all_inputs": "Vänligen konfigurera alla ingångar först!",
        "configure_inputs_description": "Välj vilken enhet och kapacitet varje ingång ska följa:",
        "configure_inputs_title": "Konfigurera ingångar",
        "configured": "Konfigurerad",
        "create_device": "[PAIR] create_device anropad",
        "creating_device": "[PAIR] Skapar enhet:",
        "default_formula_name": "Min Formel",
        "device_label": "Enhet:",
        "device_name_label": "Ge enheten ett namn:",
        "device_name_placeholder": "Min logiska enhet",
        "error": "Kunde inte lägga till enhet",
        "error_button_not_found": "Slutför-knappen hittades inte i DOM!",
        "error_completing_setup": "Fel vid slutförande av konfiguration: {error}",
        "error_homey_emit_unavailable": "Homey.emit är inte tillgänglig",
        "error_homey_nextview_unavailable": "Homey.nextView är inte tillgänglig",
        "error_homey_object_unavailable": "Homey-objekt eller nödvändiga funktioner (emit, __) är inte tillgängliga.",
        "error_i18n_unavailable": "Homey översättningsfunktion (__) är inte tillgänglig.",
        "error_loading": "-- Fel vid laddning --",
        "error_loading_capabilities": "Fel vid laddning av kapaciteter: {error}",
        "error_loading_initial_data": "Fel vid laddning av initialdata: {error}",
        "error_navigating": "Fel vid navigering: {error}",
        "error_saving_config": "Fel vid sparande av konfiguration: {error}",
        "error_saving_input_number": "Fel vid sparande av antal ingångar: {error}",
        "error_setting_up_interactions": "Fel vid inställning av sidinteraktioner: {error}",
        "error_system_not_ready": "Fel: Parkopplingssystemet är inte redo.",
        "formula_label": "Ange formel:",
        "get_devices_error": "[PAIR] FEL i get_devices_in_zone:",
        "get_devices_in_zone": "[PAIR] get_devices_in_zone anropad för zon: {zone}",
        "get_num_inputs": "[PAIR] get_num_inputs anropad",
        "get_zones": "[PAIR] get_zones anropad",
        "get_zones_error": "[PAIR] FEL i get_zones:",
        "handlers_registered": "Parkopplingshanterare registrerade",
        "input": "Ingång",
        "inputs_configured": "ingångar konfigurerade",
        "inputs_range": "Välj mellan 2 och 10 ingångar",
        "intro": "Skapa en ny logisk enhet för att utvärdera komplexa formler",
        "load_devices_error": "Kunde inte ladda enheter för zon",
        "name": "Enhetsnamn",
        "name_placeholder": "Min logiska enhet",
        "next": "Nästa →",
        "no_zones_error": "Inga zoner hittades. Vänligen skapa zoner i din Homey först.",
        "not_configured": "Inte konfigurerad",
        "of": "av",
        "save_complete": "Spara och slutför",
        "select_capability": "-- Välj kapacitet --",
        "select_device": "-- Välj enhet --",
        "select_device_first": "-- Välj enhet först --",
        "select_inputs_description": "Hur många enheter vill du ansluta till denna logiska enhet?",
        "select_inputs_title": "Välj antal ingångar",
        "select_zone": "-- Välj zon/rum --",
        "select_zone_first": "-- Välj zon först --",
        "session_started": "Parkopplingssession startad",
        "set_device_formula": "[PAIR] set_device_formula anropad med: {formula}",
        "set_device_name": "[PAIR] set_device_name anropad med:",
        "set_input_links": "[PAIR] set_input_links anropad",
        "set_num_inputs": "[PAIR] set_num_inputs anropad med data:",
        "status_label": "Status:",
        "success": "Enhet tillagd",
        "title": "Lägg till logisk enhet",
        "unknown_capability_fallback": "Okänd kapacitet",
        "unknown_device": "Okänd enhet",
        "zone_label": "Zon/Rum:"
    },
    "parse": {
        "error_detecting_inputs": "Fel vid identifiering av nödvändiga ingångar:",
        "error_formulas": "Kunde inte parsa formler:",
        "error_formulas_invalid": "Ogiltig formler JSON: {message}",
        "error_formulas_json": "Kunde inte parsa formler:",
        "error_input_links": "Kunde inte parsa input_links:",
        "error_input_links_invalid": "Ogiltig input_links JSON: {message}"
    },
    "polling": {
        "all_inputs": "Pollar alla länkade enhetsingångar...",
        "api_unavailable": "App-API inte tillgängligt för pollning",
        "device_not_found": "Enhet hittades inte: {device}",
        "failed": "Kunde inte polla {input}:",
        "input": "Pollar ingång \"{input}\" från enhet \"{device}\" kapacitet \"{capability}\"",
        "no_links": "Inga inputLinks tillgängliga för pollning",
        "no_value": "Inget värde för {input} ({capability})",
        "value_received": "Pollat {input}: {value} → {boolean}"
    },
    "refetch": {
        "fetching_values": "Hämtar initialvärden igen före utvärdering...",
        "invoked": "Ome-hämtning och utvärdering anropad (källa={source})",
        "no_links": "Inga ingångslänkar tillgängliga under om-hämtning; hoppar över värdehämtning.",
        "parse_failed": "Kunde inte parsa input_links under om-hämtning:",
        "reason": "Hämtar ingångar igen (anledning: {reason})..."
    },
    "settings": {
        "applied": "Inställningar tillämpade framgångsrikt",
        "applying_formatted": "Tillämpar auto-formaterade inställningar...",
        "auto_formatted": "Inställningar auto-formaterade",
        "cancel": "Avbryt",
        "changed": "Inställningar ändrade:",
        "changed_dynamic": "Inställningar ändrade (dynamisk enhet):",
        "description": "Konfigurera din Boolean Toolbox logisk enhet",
        "error": "Kunde inte spara inställningar",
        "expanded": "Kapacitet utökad till {numInputs} ingångar: {availableInputs}",
        "expanding_capacity": "Utökar kapacitet: {from} -> {to} (anledning: {reason})",
        "expansion_failed": "Kunde inte auto-utöka kapacitet:",
        "format_failed": "Kunde inte auto-formatera inställningar:",
        "formatting": "Kommer auto-formatera {type} JSON",
        "reset": "Återställ till standard",
        "save": "Spara",
        "saved": "Inställningar sparade",
        "title": "Inställningar"
    },
    "timeout": {
        "error": "Fel vid utlösning av timeout:"
    }
}
--- END: locales/sv.json ---

--- START: package-lock.json (sha256=5b96f76e237ab0e021d2d9a76a297a647adcec40773ecdd3e59ae5018bd7a1e9, bytes=159976) ---
{
  "name": "no.tiwas.booleantoolbox",
  "version": "1.2.4",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "no.tiwas.booleantoolbox",
      "version": "1.2.4",
      "license": "ISC",
      "dependencies": {
        "athom-api": "^3.5.0"
      },
      "devDependencies": {
        "jest": "^30.2.0"
      }
    },
    "node_modules/@babel/code-frame": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
      "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-validator-identifier": "^7.27.1",
        "js-tokens": "^4.0.0",
        "picocolors": "^1.1.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/compat-data": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/compat-data/-/compat-data-7.28.5.tgz",
      "integrity": "sha512-6uFXyCayocRbqhZOB+6XcuZbkMNimwfVGFji8CTZnCzOHVGvDqzvitu1re2AU5LROliz7eQPhB8CpAMvnx9EjA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/core": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/core/-/core-7.28.5.tgz",
      "integrity": "sha512-e7jT4DxYvIDLk1ZHmU/m/mB19rex9sv0c2ftBtjSBv+kVM/902eh0fINUzD7UwLLNR+jU585GxUJ8/EBfAM5fw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/generator": "^7.28.5",
        "@babel/helper-compilation-targets": "^7.27.2",
        "@babel/helper-module-transforms": "^7.28.3",
        "@babel/helpers": "^7.28.4",
        "@babel/parser": "^7.28.5",
        "@babel/template": "^7.27.2",
        "@babel/traverse": "^7.28.5",
        "@babel/types": "^7.28.5",
        "@jridgewell/remapping": "^2.3.5",
        "convert-source-map": "^2.0.0",
        "debug": "^4.1.0",
        "gensync": "^1.0.0-beta.2",
        "json5": "^2.2.3",
        "semver": "^6.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/babel"
      }
    },
    "node_modules/@babel/generator": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/generator/-/generator-7.28.5.tgz",
      "integrity": "sha512-3EwLFhZ38J4VyIP6WNtt2kUdW9dokXA9Cr4IVIFHuCpZ3H8/YFOl5JjZHisrn1fATPBmKKqXzDFvh9fUwHz6CQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.28.5",
        "@babel/types": "^7.28.5",
        "@jridgewell/gen-mapping": "^0.3.12",
        "@jridgewell/trace-mapping": "^0.3.28",
        "jsesc": "^3.0.2"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-compilation-targets": {
      "version": "7.27.2",
      "resolved": "https://registry.npmjs.org/@babel/helper-compilation-targets/-/helper-compilation-targets-7.27.2.tgz",
      "integrity": "sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/compat-data": "^7.27.2",
        "@babel/helper-validator-option": "^7.27.1",
        "browserslist": "^4.24.0",
        "lru-cache": "^5.1.1",
        "semver": "^6.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-globals": {
      "version": "7.28.0",
      "resolved": "https://registry.npmjs.org/@babel/helper-globals/-/helper-globals-7.28.0.tgz",
      "integrity": "sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-module-imports": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-module-imports/-/helper-module-imports-7.27.1.tgz",
      "integrity": "sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/traverse": "^7.27.1",
        "@babel/types": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-module-transforms": {
      "version": "7.28.3",
      "resolved": "https://registry.npmjs.org/@babel/helper-module-transforms/-/helper-module-transforms-7.28.3.tgz",
      "integrity": "sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-module-imports": "^7.27.1",
        "@babel/helper-validator-identifier": "^7.27.1",
        "@babel/traverse": "^7.28.3"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0"
      }
    },
    "node_modules/@babel/helper-plugin-utils": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-plugin-utils/-/helper-plugin-utils-7.27.1.tgz",
      "integrity": "sha512-1gn1Up5YXka3YYAHGKpbideQ5Yjf1tDa9qYcgysz+cNCXukyLl6DjPXhD3VRwSb8c0J9tA4b2+rHEZtc6R0tlw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-string-parser": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
      "integrity": "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-identifier": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.28.5.tgz",
      "integrity": "sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-option": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-option/-/helper-validator-option-7.27.1.tgz",
      "integrity": "sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helpers": {
      "version": "7.28.4",
      "resolved": "https://registry.npmjs.org/@babel/helpers/-/helpers-7.28.4.tgz",
      "integrity": "sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/template": "^7.27.2",
        "@babel/types": "^7.28.4"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/parser": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.5.tgz",
      "integrity": "sha512-KKBU1VGYR7ORr3At5HAtUQ+TV3SzRCXmA/8OdDZiLDBIZxVyzXuztPjfLd3BV1PRAQGCMWWSHYhL0F8d5uHBDQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.28.5"
      },
      "bin": {
        "parser": "bin/babel-parser.js"
      },
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@babel/plugin-syntax-async-generators": {
      "version": "7.8.4",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-async-generators/-/plugin-syntax-async-generators-7.8.4.tgz",
      "integrity": "sha512-tycmZxkGfZaxhMRbXlPXuVFpdWlXpir2W4AMhSJgRKzk/eDlIXOhb2LHWoLpDF7TEHylV5zNhykX6KAgHJmTNw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.8.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-bigint": {
      "version": "7.8.3",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-bigint/-/plugin-syntax-bigint-7.8.3.tgz",
      "integrity": "sha512-wnTnFlG+YxQm3vDxpGE57Pj0srRU4sHE/mDkt1qv2YJJSeUAec2ma4WLUnUPeKjyrfntVwe/N6dCXpU+zL3Npg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.8.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-class-properties": {
      "version": "7.12.13",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-class-properties/-/plugin-syntax-class-properties-7.12.13.tgz",
      "integrity": "sha512-fm4idjKla0YahUNgFNLCB0qySdsoPiZP3iQE3rky0mBUtMZ23yDJ9SJdg6dXTSDnulOVqiF3Hgr9nbXvXTQZYA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.12.13"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-class-static-block": {
      "version": "7.14.5",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-class-static-block/-/plugin-syntax-class-static-block-7.14.5.tgz",
      "integrity": "sha512-b+YyPmr6ldyNnM6sqYeMWE+bgJcJpO6yS4QD7ymxgH34GBPNDM/THBh8iunyvKIZztiwLH4CJZ0RxTk9emgpjw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.14.5"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-import-attributes": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-import-attributes/-/plugin-syntax-import-attributes-7.27.1.tgz",
      "integrity": "sha512-oFT0FrKHgF53f4vOsZGi2Hh3I35PfSmVs4IBFLFj4dnafP+hIWDLg3VyKmUHfLoLHlyxY4C7DGtmHuJgn+IGww==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-import-meta": {
      "version": "7.10.4",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-import-meta/-/plugin-syntax-import-meta-7.10.4.tgz",
      "integrity": "sha512-Yqfm+XDx0+Prh3VSeEQCPU81yC+JWZ2pDPFSS4ZdpfZhp4MkFMaDC1UqseovEKwSUpnIL7+vK+Clp7bfh0iD7g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.10.4"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-json-strings": {
      "version": "7.8.3",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-json-strings/-/plugin-syntax-json-strings-7.8.3.tgz",
      "integrity": "sha512-lY6kdGpWHvjoe2vk4WrAapEuBR69EMxZl+RoGRhrFGNYVK8mOPAW8VfbT/ZgrFbXlDNiiaxQnAtgVCZ6jv30EA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.8.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-jsx": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-jsx/-/plugin-syntax-jsx-7.27.1.tgz",
      "integrity": "sha512-y8YTNIeKoyhGd9O0Jiyzyyqk8gdjnumGTQPsz0xOZOQ2RmkVJeZ1vmmfIvFEKqucBG6axJGBZDE/7iI5suUI/w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-logical-assignment-operators": {
      "version": "7.10.4",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-logical-assignment-operators/-/plugin-syntax-logical-assignment-operators-7.10.4.tgz",
      "integrity": "sha512-d8waShlpFDinQ5MtvGU9xDAOzKH47+FFoney2baFIoMr952hKOLp1HR7VszoZvOsV/4+RRszNY7D17ba0te0ig==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.10.4"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-nullish-coalescing-operator": {
      "version": "7.8.3",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-nullish-coalescing-operator/-/plugin-syntax-nullish-coalescing-operator-7.8.3.tgz",
      "integrity": "sha512-aSff4zPII1u2QD7y+F8oDsz19ew4IGEJg9SVW+bqwpwtfFleiQDMdzA/R+UlWDzfnHFCxxleFT0PMIrR36XLNQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.8.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-numeric-separator": {
      "version": "7.10.4",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-numeric-separator/-/plugin-syntax-numeric-separator-7.10.4.tgz",
      "integrity": "sha512-9H6YdfkcK/uOnY/K7/aA2xpzaAgkQn37yzWUMRK7OaPOqOpGS1+n0H5hxT9AUw9EsSjPW8SVyMJwYRtWs3X3ug==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.10.4"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-object-rest-spread": {
      "version": "7.8.3",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-object-rest-spread/-/plugin-syntax-object-rest-spread-7.8.3.tgz",
      "integrity": "sha512-XoqMijGZb9y3y2XskN+P1wUGiVwWZ5JmoDRwx5+3GmEplNyVM2s2Dg8ILFQm8rWM48orGy5YpI5Bl8U1y7ydlA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.8.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-optional-catch-binding": {
      "version": "7.8.3",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-optional-catch-binding/-/plugin-syntax-optional-catch-binding-7.8.3.tgz",
      "integrity": "sha512-6VPD0Pc1lpTqw0aKoeRTMiB+kWhAoT24PA+ksWSBrFtl5SIRVpZlwN3NNPQjehA2E/91FV3RjLWoVTglWcSV3Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.8.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-optional-chaining": {
      "version": "7.8.3",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-optional-chaining/-/plugin-syntax-optional-chaining-7.8.3.tgz",
      "integrity": "sha512-KoK9ErH1MBlCPxV0VANkXW2/dw4vlbGDrFgz8bmUsBGYkFRcbRwMh6cIJubdPrkxRwuGdtCk0v/wPTKbQgBjkg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.8.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-private-property-in-object": {
      "version": "7.14.5",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-private-property-in-object/-/plugin-syntax-private-property-in-object-7.14.5.tgz",
      "integrity": "sha512-0wVnp9dxJ72ZUJDV27ZfbSj6iHLoytYZmh3rFcxNnvsJF3ktkzLDZPy/mA17HGsaQT3/DQsWYX1f1QGWkCoVUg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.14.5"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-top-level-await": {
      "version": "7.14.5",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-top-level-await/-/plugin-syntax-top-level-await-7.14.5.tgz",
      "integrity": "sha512-hx++upLv5U1rgYfwe1xBQUhRmU41NEvpUvrp8jkrSCdvGSnM5/qdRMtylJ6PG5OFkBaHkbTAKTnd3/YyESRHFw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.14.5"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/plugin-syntax-typescript": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/plugin-syntax-typescript/-/plugin-syntax-typescript-7.27.1.tgz",
      "integrity": "sha512-xfYCBMxveHrRMnAWl1ZlPXOZjzkN82THFvLhQhFXFt81Z5HnN+EtUkZhv/zcKpmT3fzmWZB0ywiBrbC3vogbwQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0-0"
      }
    },
    "node_modules/@babel/template": {
      "version": "7.27.2",
      "resolved": "https://registry.npmjs.org/@babel/template/-/template-7.27.2.tgz",
      "integrity": "sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/parser": "^7.27.2",
        "@babel/types": "^7.27.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/traverse": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/traverse/-/traverse-7.28.5.tgz",
      "integrity": "sha512-TCCj4t55U90khlYkVV/0TfkJkAkUg3jZFA3Neb7unZT8CPok7iiRfaX0F+WnqWqt7OxhOn0uBKXCw4lbL8W0aQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@babel/generator": "^7.28.5",
        "@babel/helper-globals": "^7.28.0",
        "@babel/parser": "^7.28.5",
        "@babel/template": "^7.27.2",
        "@babel/types": "^7.28.5",
        "debug": "^4.3.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/types": {
      "version": "7.28.5",
      "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.5.tgz",
      "integrity": "sha512-qQ5m48eI/MFLQ5PxQj4PFaprjyCTLI37ElWMmNs0K8Lk3dVeOdNpB3ks8jc7yM5CDmVC73eMVk/trk3fgmrUpA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/helper-string-parser": "^7.27.1",
        "@babel/helper-validator-identifier": "^7.28.5"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@bcoe/v8-coverage": {
      "version": "0.2.3",
      "resolved": "https://registry.npmjs.org/@bcoe/v8-coverage/-/v8-coverage-0.2.3.tgz",
      "integrity": "sha512-0hYQ8SB4Db5zvZB4axdMHGwEaQjkZzFjQiN9LVYvIFB2nSUHW9tYpxWriPrWDASIxiaXax83REcLxuSdnGPZtw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@emnapi/core": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/@emnapi/core/-/core-1.6.0.tgz",
      "integrity": "sha512-zq/ay+9fNIJJtJiZxdTnXS20PllcYMX3OE23ESc4HK/bdYu3cOWYVhsOhVnXALfU/uqJIxn5NBPd9z4v+SfoSg==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "@emnapi/wasi-threads": "1.1.0",
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@emnapi/runtime": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/@emnapi/runtime/-/runtime-1.6.0.tgz",
      "integrity": "sha512-obtUmAHTMjll499P+D9A3axeJFlhdjOWdKUNs/U6QIGT7V5RjcUW1xToAzjvmgTSQhDbYn/NwfTRoJcQ2rNBxA==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@emnapi/wasi-threads": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/@emnapi/wasi-threads/-/wasi-threads-1.1.0.tgz",
      "integrity": "sha512-WI0DdZ8xFSbgMjR1sFsKABJ/C5OnRrjT06JXbZKexJGrDuPTzZdDYfFlsgcCXCyf+suG5QU2e/y1Wo2V/OapLQ==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@isaacs/cliui": {
      "version": "8.0.2",
      "resolved": "https://registry.npmjs.org/@isaacs/cliui/-/cliui-8.0.2.tgz",
      "integrity": "sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "string-width": "^5.1.2",
        "string-width-cjs": "npm:string-width@^4.2.0",
        "strip-ansi": "^7.0.1",
        "strip-ansi-cjs": "npm:strip-ansi@^6.0.1",
        "wrap-ansi": "^8.1.0",
        "wrap-ansi-cjs": "npm:wrap-ansi@^7.0.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@istanbuljs/load-nyc-config": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/@istanbuljs/load-nyc-config/-/load-nyc-config-1.1.0.tgz",
      "integrity": "sha512-VjeHSlIzpv/NyD3N0YuHfXOPDIixcA1q2ZV98wsMqcYlPmv2n3Yb2lYP9XMElnaFVXg5A7YLTeLu6V84uQDjmQ==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "camelcase": "^5.3.1",
        "find-up": "^4.1.0",
        "get-package-type": "^0.1.0",
        "js-yaml": "^3.13.1",
        "resolve-from": "^5.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/@istanbuljs/schema": {
      "version": "0.1.3",
      "resolved": "https://registry.npmjs.org/@istanbuljs/schema/-/schema-0.1.3.tgz",
      "integrity": "sha512-ZXRY4jNvVgSVQ8DL3LTcakaAtXwTVUxE81hslsyD2AtoXW/wVob10HkOJ1X/pAlcI7D+2YoZKg5do8G/w6RYgA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/@jest/console": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/console/-/console-30.2.0.tgz",
      "integrity": "sha512-+O1ifRjkvYIkBqASKWgLxrpEhQAAE7hY77ALLUufSk5717KfOShg6IbqLmdsLMPdUiFvA2kTs0R7YZy+l0IzZQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "chalk": "^4.1.2",
        "jest-message-util": "30.2.0",
        "jest-util": "30.2.0",
        "slash": "^3.0.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/core": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/core/-/core-30.2.0.tgz",
      "integrity": "sha512-03W6IhuhjqTlpzh/ojut/pDB2LPRygyWX8ExpgHtQA8H/3K7+1vKmcINx5UzeOX1se6YEsBsOHQ1CRzf3fOwTQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/console": "30.2.0",
        "@jest/pattern": "30.0.1",
        "@jest/reporters": "30.2.0",
        "@jest/test-result": "30.2.0",
        "@jest/transform": "30.2.0",
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "ansi-escapes": "^4.3.2",
        "chalk": "^4.1.2",
        "ci-info": "^4.2.0",
        "exit-x": "^0.2.2",
        "graceful-fs": "^4.2.11",
        "jest-changed-files": "30.2.0",
        "jest-config": "30.2.0",
        "jest-haste-map": "30.2.0",
        "jest-message-util": "30.2.0",
        "jest-regex-util": "30.0.1",
        "jest-resolve": "30.2.0",
        "jest-resolve-dependencies": "30.2.0",
        "jest-runner": "30.2.0",
        "jest-runtime": "30.2.0",
        "jest-snapshot": "30.2.0",
        "jest-util": "30.2.0",
        "jest-validate": "30.2.0",
        "jest-watcher": "30.2.0",
        "micromatch": "^4.0.8",
        "pretty-format": "30.2.0",
        "slash": "^3.0.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      },
      "peerDependencies": {
        "node-notifier": "^8.0.1 || ^9.0.0 || ^10.0.0"
      },
      "peerDependenciesMeta": {
        "node-notifier": {
          "optional": true
        }
      }
    },
    "node_modules/@jest/diff-sequences": {
      "version": "30.0.1",
      "resolved": "https://registry.npmjs.org/@jest/diff-sequences/-/diff-sequences-30.0.1.tgz",
      "integrity": "sha512-n5H8QLDJ47QqbCNn5SuFjCRDrOLEZ0h8vAHCK5RL9Ls7Xa8AQLa/YxAc9UjFqoEDM48muwtBGjtMY5cr0PLDCw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/environment": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/environment/-/environment-30.2.0.tgz",
      "integrity": "sha512-/QPTL7OBJQ5ac09UDRa3EQes4gt1FTEG/8jZ/4v5IVzx+Cv7dLxlVIvfvSVRiiX2drWyXeBjkMSR8hvOWSog5g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/fake-timers": "30.2.0",
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "jest-mock": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/expect": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/expect/-/expect-30.2.0.tgz",
      "integrity": "sha512-V9yxQK5erfzx99Sf+7LbhBwNWEZ9eZay8qQ9+JSC0TrMR1pMDHLMY+BnVPacWU6Jamrh252/IKo4F1Xn/zfiqA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "expect": "30.2.0",
        "jest-snapshot": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/expect-utils": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/expect-utils/-/expect-utils-30.2.0.tgz",
      "integrity": "sha512-1JnRfhqpD8HGpOmQp180Fo9Zt69zNtC+9lR+kT7NVL05tNXIi+QC8Csz7lfidMoVLPD3FnOtcmp0CEFnxExGEA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/get-type": "30.1.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/fake-timers": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/fake-timers/-/fake-timers-30.2.0.tgz",
      "integrity": "sha512-HI3tRLjRxAbBy0VO8dqqm7Hb2mIa8d5bg/NJkyQcOk7V118ObQML8RC5luTF/Zsg4474a+gDvhce7eTnP4GhYw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/types": "30.2.0",
        "@sinonjs/fake-timers": "^13.0.0",
        "@types/node": "*",
        "jest-message-util": "30.2.0",
        "jest-mock": "30.2.0",
        "jest-util": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/get-type": {
      "version": "30.1.0",
      "resolved": "https://registry.npmjs.org/@jest/get-type/-/get-type-30.1.0.tgz",
      "integrity": "sha512-eMbZE2hUnx1WV0pmURZY9XoXPkUYjpc55mb0CrhtdWLtzMQPFvu/rZkTLZFTsdaVQa+Tr4eWAteqcUzoawq/uA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/globals": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/globals/-/globals-30.2.0.tgz",
      "integrity": "sha512-b63wmnKPaK+6ZZfpYhz9K61oybvbI1aMcIs80++JI1O1rR1vaxHUCNqo3ITu6NU0d4V34yZFoHMn/uoKr/Rwfw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/environment": "30.2.0",
        "@jest/expect": "30.2.0",
        "@jest/types": "30.2.0",
        "jest-mock": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/pattern": {
      "version": "30.0.1",
      "resolved": "https://registry.npmjs.org/@jest/pattern/-/pattern-30.0.1.tgz",
      "integrity": "sha512-gWp7NfQW27LaBQz3TITS8L7ZCQ0TLvtmI//4OwlQRx4rnWxcPNIYjxZpDcN4+UlGxgm3jS5QPz8IPTCkb59wZA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/node": "*",
        "jest-regex-util": "30.0.1"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/reporters": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/reporters/-/reporters-30.2.0.tgz",
      "integrity": "sha512-DRyW6baWPqKMa9CzeiBjHwjd8XeAyco2Vt8XbcLFjiwCOEKOvy82GJ8QQnJE9ofsxCMPjH4MfH8fCWIHHDKpAQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@bcoe/v8-coverage": "^0.2.3",
        "@jest/console": "30.2.0",
        "@jest/test-result": "30.2.0",
        "@jest/transform": "30.2.0",
        "@jest/types": "30.2.0",
        "@jridgewell/trace-mapping": "^0.3.25",
        "@types/node": "*",
        "chalk": "^4.1.2",
        "collect-v8-coverage": "^1.0.2",
        "exit-x": "^0.2.2",
        "glob": "^10.3.10",
        "graceful-fs": "^4.2.11",
        "istanbul-lib-coverage": "^3.0.0",
        "istanbul-lib-instrument": "^6.0.0",
        "istanbul-lib-report": "^3.0.0",
        "istanbul-lib-source-maps": "^5.0.0",
        "istanbul-reports": "^3.1.3",
        "jest-message-util": "30.2.0",
        "jest-util": "30.2.0",
        "jest-worker": "30.2.0",
        "slash": "^3.0.0",
        "string-length": "^4.0.2",
        "v8-to-istanbul": "^9.0.1"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      },
      "peerDependencies": {
        "node-notifier": "^8.0.1 || ^9.0.0 || ^10.0.0"
      },
      "peerDependenciesMeta": {
        "node-notifier": {
          "optional": true
        }
      }
    },
    "node_modules/@jest/schemas": {
      "version": "30.0.5",
      "resolved": "https://registry.npmjs.org/@jest/schemas/-/schemas-30.0.5.tgz",
      "integrity": "sha512-DmdYgtezMkh3cpU8/1uyXakv3tJRcmcXxBOcO0tbaozPwpmh4YMsnWrQm9ZmZMfa5ocbxzbFk6O4bDPEc/iAnA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@sinclair/typebox": "^0.34.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/snapshot-utils": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/snapshot-utils/-/snapshot-utils-30.2.0.tgz",
      "integrity": "sha512-0aVxM3RH6DaiLcjj/b0KrIBZhSX1373Xci4l3cW5xiUWPctZ59zQ7jj4rqcJQ/Z8JuN/4wX3FpJSa3RssVvCug==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/types": "30.2.0",
        "chalk": "^4.1.2",
        "graceful-fs": "^4.2.11",
        "natural-compare": "^1.4.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/source-map": {
      "version": "30.0.1",
      "resolved": "https://registry.npmjs.org/@jest/source-map/-/source-map-30.0.1.tgz",
      "integrity": "sha512-MIRWMUUR3sdbP36oyNyhbThLHyJ2eEDClPCiHVbrYAe5g3CHRArIVpBw7cdSB5fr+ofSfIb2Tnsw8iEHL0PYQg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/trace-mapping": "^0.3.25",
        "callsites": "^3.1.0",
        "graceful-fs": "^4.2.11"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/test-result": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/test-result/-/test-result-30.2.0.tgz",
      "integrity": "sha512-RF+Z+0CCHkARz5HT9mcQCBulb1wgCP3FBvl9VFokMX27acKphwyQsNuWH3c+ojd1LeWBLoTYoxF0zm6S/66mjg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/console": "30.2.0",
        "@jest/types": "30.2.0",
        "@types/istanbul-lib-coverage": "^2.0.6",
        "collect-v8-coverage": "^1.0.2"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/test-sequencer": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/test-sequencer/-/test-sequencer-30.2.0.tgz",
      "integrity": "sha512-wXKgU/lk8fKXMu/l5Hog1R61bL4q5GCdT6OJvdAFz1P+QrpoFuLU68eoKuVc4RbrTtNnTL5FByhWdLgOPSph+Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/test-result": "30.2.0",
        "graceful-fs": "^4.2.11",
        "jest-haste-map": "30.2.0",
        "slash": "^3.0.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/transform": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/transform/-/transform-30.2.0.tgz",
      "integrity": "sha512-XsauDV82o5qXbhalKxD7p4TZYYdwcaEXC77PPD2HixEFF+6YGppjrAAQurTl2ECWcEomHBMMNS9AH3kcCFx8jA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/core": "^7.27.4",
        "@jest/types": "30.2.0",
        "@jridgewell/trace-mapping": "^0.3.25",
        "babel-plugin-istanbul": "^7.0.1",
        "chalk": "^4.1.2",
        "convert-source-map": "^2.0.0",
        "fast-json-stable-stringify": "^2.1.0",
        "graceful-fs": "^4.2.11",
        "jest-haste-map": "30.2.0",
        "jest-regex-util": "30.0.1",
        "jest-util": "30.2.0",
        "micromatch": "^4.0.8",
        "pirates": "^4.0.7",
        "slash": "^3.0.0",
        "write-file-atomic": "^5.0.1"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jest/types": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/@jest/types/-/types-30.2.0.tgz",
      "integrity": "sha512-H9xg1/sfVvyfU7o3zMfBEjQ1gcsdeTMgqHoYdN79tuLqfTtuu7WckRA1R5whDwOzxaZAeMKTYWqP+WCAi0CHsg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/pattern": "30.0.1",
        "@jest/schemas": "30.0.5",
        "@types/istanbul-lib-coverage": "^2.0.6",
        "@types/istanbul-reports": "^3.0.4",
        "@types/node": "*",
        "@types/yargs": "^17.0.33",
        "chalk": "^4.1.2"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/@jridgewell/gen-mapping": {
      "version": "0.3.13",
      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.0",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/remapping": {
      "version": "2.3.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/remapping/-/remapping-2.3.5.tgz",
      "integrity": "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.5",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/resolve-uri": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/sourcemap-codec": {
      "version": "1.5.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
      "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@jridgewell/trace-mapping": {
      "version": "0.3.31",
      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.31.tgz",
      "integrity": "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/resolve-uri": "^3.1.0",
        "@jridgewell/sourcemap-codec": "^1.4.14"
      }
    },
    "node_modules/@napi-rs/wasm-runtime": {
      "version": "0.2.12",
      "resolved": "https://registry.npmjs.org/@napi-rs/wasm-runtime/-/wasm-runtime-0.2.12.tgz",
      "integrity": "sha512-ZVWUcfwY4E/yPitQJl481FjFo3K22D6qF0DuFH6Y/nbnE11GY5uguDxZMGXPQ8WQ0128MXQD7TnfHyK4oWoIJQ==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "@emnapi/core": "^1.4.3",
        "@emnapi/runtime": "^1.4.3",
        "@tybys/wasm-util": "^0.10.0"
      }
    },
    "node_modules/@pkgjs/parseargs": {
      "version": "0.11.0",
      "resolved": "https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz",
      "integrity": "sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "engines": {
        "node": ">=14"
      }
    },
    "node_modules/@pkgr/core": {
      "version": "0.2.9",
      "resolved": "https://registry.npmjs.org/@pkgr/core/-/core-0.2.9.tgz",
      "integrity": "sha512-QNqXyfVS2wm9hweSYD2O7F0G06uurj9kZ96TRQE5Y9hU7+tgdZwIkbAKc5Ocy1HxEY2kuDQa6cQ1WRs/O5LFKA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^12.20.0 || ^14.18.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/pkgr"
      }
    },
    "node_modules/@sinclair/typebox": {
      "version": "0.34.41",
      "resolved": "https://registry.npmjs.org/@sinclair/typebox/-/typebox-0.34.41.tgz",
      "integrity": "sha512-6gS8pZzSXdyRHTIqoqSVknxolr1kzfy4/CeDnrzsVz8TTIWUbOBr6gnzOmTYJ3eXQNh4IYHIGi5aIL7sOZ2G/g==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@sinonjs/commons": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/@sinonjs/commons/-/commons-3.0.1.tgz",
      "integrity": "sha512-K3mCHKQ9sVh8o1C9cxkwxaOmXoAMlDxC1mYyHrjqOWEcBjYr76t96zL2zlj5dUGZ3HSw240X1qgH3Mjf1yJWpQ==",
      "dev": true,
      "license": "BSD-3-Clause",
      "dependencies": {
        "type-detect": "4.0.8"
      }
    },
    "node_modules/@sinonjs/fake-timers": {
      "version": "13.0.5",
      "resolved": "https://registry.npmjs.org/@sinonjs/fake-timers/-/fake-timers-13.0.5.tgz",
      "integrity": "sha512-36/hTbH2uaWuGVERyC6da9YwGWnzUZXuPro/F2LfsdOsLnCojz/iSH8MxUt/FD2S5XBSVPhmArFUXcpCQ2Hkiw==",
      "dev": true,
      "license": "BSD-3-Clause",
      "dependencies": {
        "@sinonjs/commons": "^3.0.1"
      }
    },
    "node_modules/@tybys/wasm-util": {
      "version": "0.10.1",
      "resolved": "https://registry.npmjs.org/@tybys/wasm-util/-/wasm-util-0.10.1.tgz",
      "integrity": "sha512-9tTaPJLSiejZKx+Bmog4uSubteqTvFrVrURwkmHixBo0G4seD0zUxp98E1DzUBJxLQ3NPwXrGKDiVjwx/DpPsg==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@types/babel__core": {
      "version": "7.20.5",
      "resolved": "https://registry.npmjs.org/@types/babel__core/-/babel__core-7.20.5.tgz",
      "integrity": "sha512-qoQprZvz5wQFJwMDqeseRXWv3rqMvhgpbXFfVyWhbx9X47POIA6i/+dXefEmZKoAgOaTdaIgNSMqMIU61yRyzA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.20.7",
        "@babel/types": "^7.20.7",
        "@types/babel__generator": "*",
        "@types/babel__template": "*",
        "@types/babel__traverse": "*"
      }
    },
    "node_modules/@types/babel__generator": {
      "version": "7.27.0",
      "resolved": "https://registry.npmjs.org/@types/babel__generator/-/babel__generator-7.27.0.tgz",
      "integrity": "sha512-ufFd2Xi92OAVPYsy+P4n7/U7e68fex0+Ee8gSG9KX7eo084CWiQ4sdxktvdl0bOPupXtVJPY19zk6EwWqUQ8lg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.0.0"
      }
    },
    "node_modules/@types/babel__template": {
      "version": "7.4.4",
      "resolved": "https://registry.npmjs.org/@types/babel__template/-/babel__template-7.4.4.tgz",
      "integrity": "sha512-h/NUaSyG5EyxBIp8YRxo4RMe2/qQgvyowRwVMzhYhBCONbW8PUsg4lkFMrhgZhUe5z3L3MiLDuvyJ/CaPa2A8A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/parser": "^7.1.0",
        "@babel/types": "^7.0.0"
      }
    },
    "node_modules/@types/babel__traverse": {
      "version": "7.28.0",
      "resolved": "https://registry.npmjs.org/@types/babel__traverse/-/babel__traverse-7.28.0.tgz",
      "integrity": "sha512-8PvcXf70gTDZBgt9ptxJ8elBeBjcLOAcOtoO/mPJjtji1+CdGbHgm77om1GrsPxsiE+uXIpNSK64UYaIwQXd4Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/types": "^7.28.2"
      }
    },
    "node_modules/@types/istanbul-lib-coverage": {
      "version": "2.0.6",
      "resolved": "https://registry.npmjs.org/@types/istanbul-lib-coverage/-/istanbul-lib-coverage-2.0.6.tgz",
      "integrity": "sha512-2QF/t/auWm0lsy8XtKVPG19v3sSOQlJe/YHZgfjb/KBBHOGSV+J2q/S671rcq9uTBrLAXmZpqJiaQbMT+zNU1w==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/istanbul-lib-report": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/@types/istanbul-lib-report/-/istanbul-lib-report-3.0.3.tgz",
      "integrity": "sha512-NQn7AHQnk/RSLOxrBbGyJM/aVQ+pjj5HCgasFxc0K/KhoATfQ/47AyUl15I2yBUpihjmas+a+VJBOqecrFH+uA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/istanbul-lib-coverage": "*"
      }
    },
    "node_modules/@types/istanbul-reports": {
      "version": "3.0.4",
      "resolved": "https://registry.npmjs.org/@types/istanbul-reports/-/istanbul-reports-3.0.4.tgz",
      "integrity": "sha512-pk2B1NWalF9toCRu6gjBzR69syFjP4Od8WRAX+0mmf9lAjCRicLOWc+ZrxZHx/0XRjotgkF9t6iaMJ+aXcOdZQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/istanbul-lib-report": "*"
      }
    },
    "node_modules/@types/node": {
      "version": "24.9.1",
      "resolved": "https://registry.npmjs.org/@types/node/-/node-24.9.1.tgz",
      "integrity": "sha512-QoiaXANRkSXK6p0Duvt56W208du4P9Uye9hWLWgGMDTEoKPhuenzNcC4vGUmrNkiOKTlIrBoyNQYNpSwfEZXSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "undici-types": "~7.16.0"
      }
    },
    "node_modules/@types/stack-utils": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/@types/stack-utils/-/stack-utils-2.0.3.tgz",
      "integrity": "sha512-9aEbYZ3TbYMznPdcdr3SmIrLXwC/AKZXQeCf9Pgao5CKb8CyHuEX5jzWPTkvregvhRJHcpRO6BFoGW9ycaOkYw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/yargs": {
      "version": "17.0.34",
      "resolved": "https://registry.npmjs.org/@types/yargs/-/yargs-17.0.34.tgz",
      "integrity": "sha512-KExbHVa92aJpw9WDQvzBaGVE2/Pz+pLZQloT2hjL8IqsZnV62rlPOYvNnLmf/L2dyllfVUOVBj64M0z/46eR2A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/yargs-parser": "*"
      }
    },
    "node_modules/@types/yargs-parser": {
      "version": "21.0.3",
      "resolved": "https://registry.npmjs.org/@types/yargs-parser/-/yargs-parser-21.0.3.tgz",
      "integrity": "sha512-I4q9QU9MQv4oEOz4tAHJtNz1cwuLxn2F3xcc2iV5WdqLPpUnj30aUuxt1mAxYTG+oe8CZMV/+6rU4S4gRDzqtQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@ungap/structured-clone": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/@ungap/structured-clone/-/structured-clone-1.3.0.tgz",
      "integrity": "sha512-WmoN8qaIAo7WTYWbAZuG8PYEhn5fkz7dZrqTBZ7dtt//lL2Gwms1IcnQ5yHqjDfX8Ft5j4YzDM23f87zBfDe9g==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/@unrs/resolver-binding-android-arm-eabi": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-android-arm-eabi/-/resolver-binding-android-arm-eabi-1.11.1.tgz",
      "integrity": "sha512-ppLRUgHVaGRWUx0R0Ut06Mjo9gBaBkg3v/8AxusGLhsIotbBLuRk51rAzqLC8gq6NyyAojEXglNjzf6R948DNw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@unrs/resolver-binding-android-arm64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-android-arm64/-/resolver-binding-android-arm64-1.11.1.tgz",
      "integrity": "sha512-lCxkVtb4wp1v+EoN+HjIG9cIIzPkX5OtM03pQYkG+U5O/wL53LC4QbIeazgiKqluGeVEeBlZahHalCaBvU1a2g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@unrs/resolver-binding-darwin-arm64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-darwin-arm64/-/resolver-binding-darwin-arm64-1.11.1.tgz",
      "integrity": "sha512-gPVA1UjRu1Y/IsB/dQEsp2V1pm44Of6+LWvbLc9SDk1c2KhhDRDBUkQCYVWe6f26uJb3fOK8saWMgtX8IrMk3g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@unrs/resolver-binding-darwin-x64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-darwin-x64/-/resolver-binding-darwin-x64-1.11.1.tgz",
      "integrity": "sha512-cFzP7rWKd3lZaCsDze07QX1SC24lO8mPty9vdP+YVa3MGdVgPmFc59317b2ioXtgCMKGiCLxJ4HQs62oz6GfRQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@unrs/resolver-binding-freebsd-x64": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-freebsd-x64/-/resolver-binding-freebsd-x64-1.11.1.tgz",
      "integrity": "sha512-fqtGgak3zX4DCB6PFpsH5+Kmt/8CIi4Bry4rb1ho6Av2QHTREM+47y282Uqiu3ZRF5IQioJQ5qWRV6jduA+iGw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm-gnueabihf": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm-gnueabihf/-/resolver-binding-linux-arm-gnueabihf-1.11.1.tgz",
      "integrity": "sha512-u92mvlcYtp9MRKmP+ZvMmtPN34+/3lMHlyMj7wXJDeXxuM0Vgzz0+PPJNsro1m3IZPYChIkn944wW8TYgGKFHw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm-musleabihf": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm-musleabihf/-/resolver-binding-linux-arm-musleabihf-1.11.1.tgz",
      "integrity": "sha512-cINaoY2z7LVCrfHkIcmvj7osTOtm6VVT16b5oQdS4beibX2SYBwgYLmqhBjA1t51CarSaBuX5YNsWLjsqfW5Cw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm64-gnu/-/resolver-binding-linux-arm64-gnu-1.11.1.tgz",
      "integrity": "sha512-34gw7PjDGB9JgePJEmhEqBhWvCiiWCuXsL9hYphDF7crW7UgI05gyBAi6MF58uGcMOiOqSJ2ybEeCvHcq0BCmQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-arm64-musl": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-arm64-musl/-/resolver-binding-linux-arm64-musl-1.11.1.tgz",
      "integrity": "sha512-RyMIx6Uf53hhOtJDIamSbTskA99sPHS96wxVE/bJtePJJtpdKGXO1wY90oRdXuYOGOTuqjT8ACccMc4K6QmT3w==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-ppc64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-ppc64-gnu/-/resolver-binding-linux-ppc64-gnu-1.11.1.tgz",
      "integrity": "sha512-D8Vae74A4/a+mZH0FbOkFJL9DSK2R6TFPC9M+jCWYia/q2einCubX10pecpDiTmkJVUH+y8K3BZClycD8nCShA==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-riscv64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-riscv64-gnu/-/resolver-binding-linux-riscv64-gnu-1.11.1.tgz",
      "integrity": "sha512-frxL4OrzOWVVsOc96+V3aqTIQl1O2TjgExV4EKgRY09AJ9leZpEg8Ak9phadbuX0BA4k8U5qtvMSQQGGmaJqcQ==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-riscv64-musl": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-riscv64-musl/-/resolver-binding-linux-riscv64-musl-1.11.1.tgz",
      "integrity": "sha512-mJ5vuDaIZ+l/acv01sHoXfpnyrNKOk/3aDoEdLO/Xtn9HuZlDD6jKxHlkN8ZhWyLJsRBxfv9GYM2utQ1SChKew==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-s390x-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-s390x-gnu/-/resolver-binding-linux-s390x-gnu-1.11.1.tgz",
      "integrity": "sha512-kELo8ebBVtb9sA7rMe1Cph4QHreByhaZ2QEADd9NzIQsYNQpt9UkM9iqr2lhGr5afh885d/cB5QeTXSbZHTYPg==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-x64-gnu": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-x64-gnu/-/resolver-binding-linux-x64-gnu-1.11.1.tgz",
      "integrity": "sha512-C3ZAHugKgovV5YvAMsxhq0gtXuwESUKc5MhEtjBpLoHPLYM+iuwSj3lflFwK3DPm68660rZ7G8BMcwSro7hD5w==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-linux-x64-musl": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-linux-x64-musl/-/resolver-binding-linux-x64-musl-1.11.1.tgz",
      "integrity": "sha512-rV0YSoyhK2nZ4vEswT/QwqzqQXw5I6CjoaYMOX0TqBlWhojUf8P94mvI7nuJTeaCkkds3QE4+zS8Ko+GdXuZtA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@unrs/resolver-binding-wasm32-wasi": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-wasm32-wasi/-/resolver-binding-wasm32-wasi-1.11.1.tgz",
      "integrity": "sha512-5u4RkfxJm+Ng7IWgkzi3qrFOvLvQYnPBmjmZQ8+szTK/b31fQCnleNl1GgEt7nIsZRIf5PLhPwT0WM+q45x/UQ==",
      "cpu": [
        "wasm32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "@napi-rs/wasm-runtime": "^0.2.11"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/@unrs/resolver-binding-win32-arm64-msvc": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-win32-arm64-msvc/-/resolver-binding-win32-arm64-msvc-1.11.1.tgz",
      "integrity": "sha512-nRcz5Il4ln0kMhfL8S3hLkxI85BXs3o8EYoattsJNdsX4YUU89iOkVn7g0VHSRxFuVMdM4Q1jEpIId1Ihim/Uw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@unrs/resolver-binding-win32-ia32-msvc": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-win32-ia32-msvc/-/resolver-binding-win32-ia32-msvc-1.11.1.tgz",
      "integrity": "sha512-DCEI6t5i1NmAZp6pFonpD5m7i6aFrpofcp4LA2i8IIq60Jyo28hamKBxNrZcyOwVOZkgsRp9O2sXWBWP8MnvIQ==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@unrs/resolver-binding-win32-x64-msvc": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/@unrs/resolver-binding-win32-x64-msvc/-/resolver-binding-win32-x64-msvc-1.11.1.tgz",
      "integrity": "sha512-lrW200hZdbfRtztbygyaq/6jP6AKE8qQN2KvPcJ+x7wiD038YtnYtZ82IMNJ69GJibV7bwL3y9FgK+5w/pYt6g==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/ansi-escapes": {
      "version": "4.3.2",
      "resolved": "https://registry.npmjs.org/ansi-escapes/-/ansi-escapes-4.3.2.tgz",
      "integrity": "sha512-gKXj5ALrKWQLsYG9jlTRmR/xKluxHV+Z9QEwNIgCfM1/uwPMCuzVVnh5mwTd+OuBZcwSIMbqssNWRm1lE51QaQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "type-fest": "^0.21.3"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/ansi-regex": {
      "version": "6.2.2",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.2.2.tgz",
      "integrity": "sha512-Bq3SmSpyFHaWjPk8If9yc6svM8c56dB5BAtW4Qbw5jHTwwXXcTLoRMkpDJp6VL0XzlWaCHTXrkFURMYmD0sLqg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-regex?sponsor=1"
      }
    },
    "node_modules/ansi-styles": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-convert": "^2.0.1"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/anymatch": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-3.1.3.tgz",
      "integrity": "sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "normalize-path": "^3.0.0",
        "picomatch": "^2.0.4"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/argparse": {
      "version": "1.0.10",
      "resolved": "https://registry.npmjs.org/argparse/-/argparse-1.0.10.tgz",
      "integrity": "sha512-o5Roy6tNG4SL/FOkCAN6RzjiakZS25RLYFrcMttJqbdd8BWrnA+fGz57iN5Pb06pvBGvl5gQ0B48dJlslXvoTg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "sprintf-js": "~1.0.2"
      }
    },
    "node_modules/athom-api": {
      "version": "3.9.2",
      "resolved": "https://registry.npmjs.org/athom-api/-/athom-api-3.9.2.tgz",
      "integrity": "sha512-0bV75q/MJq6+/5H33RC+yImqf+ww69mgAqrf4IBaM/UcNDU8ZHTxNk9Q+aHP+h7sh8QssV3P45TeTwRXVg3tbw==",
      "license": "GPL-3.0"
    },
    "node_modules/babel-jest": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/babel-jest/-/babel-jest-30.2.0.tgz",
      "integrity": "sha512-0YiBEOxWqKkSQWL9nNGGEgndoeL0ZpWrbLMNL5u/Kaxrli3Eaxlt3ZtIDktEvXt4L/R9r3ODr2zKwGM/2BjxVw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/transform": "30.2.0",
        "@types/babel__core": "^7.20.5",
        "babel-plugin-istanbul": "^7.0.1",
        "babel-preset-jest": "30.2.0",
        "chalk": "^4.1.2",
        "graceful-fs": "^4.2.11",
        "slash": "^3.0.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.11.0 || ^8.0.0-0"
      }
    },
    "node_modules/babel-plugin-istanbul": {
      "version": "7.0.1",
      "resolved": "https://registry.npmjs.org/babel-plugin-istanbul/-/babel-plugin-istanbul-7.0.1.tgz",
      "integrity": "sha512-D8Z6Qm8jCvVXtIRkBnqNHX0zJ37rQcFJ9u8WOS6tkYOsRdHBzypCstaxWiu5ZIlqQtviRYbgnRLSoCEvjqcqbA==",
      "dev": true,
      "license": "BSD-3-Clause",
      "workspaces": [
        "test/babel-8"
      ],
      "dependencies": {
        "@babel/helper-plugin-utils": "^7.0.0",
        "@istanbuljs/load-nyc-config": "^1.0.0",
        "@istanbuljs/schema": "^0.1.3",
        "istanbul-lib-instrument": "^6.0.2",
        "test-exclude": "^6.0.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/babel-plugin-jest-hoist": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/babel-plugin-jest-hoist/-/babel-plugin-jest-hoist-30.2.0.tgz",
      "integrity": "sha512-ftzhzSGMUnOzcCXd6WHdBGMyuwy15Wnn0iyyWGKgBDLxf9/s5ABuraCSpBX2uG0jUg4rqJnxsLc5+oYBqoxVaA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/babel__core": "^7.20.5"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/babel-preset-current-node-syntax": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/babel-preset-current-node-syntax/-/babel-preset-current-node-syntax-1.2.0.tgz",
      "integrity": "sha512-E/VlAEzRrsLEb2+dv8yp3bo4scof3l9nR4lrld+Iy5NyVqgVYUJnDAmunkhPMisRI32Qc4iRiz425d8vM++2fg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/plugin-syntax-async-generators": "^7.8.4",
        "@babel/plugin-syntax-bigint": "^7.8.3",
        "@babel/plugin-syntax-class-properties": "^7.12.13",
        "@babel/plugin-syntax-class-static-block": "^7.14.5",
        "@babel/plugin-syntax-import-attributes": "^7.24.7",
        "@babel/plugin-syntax-import-meta": "^7.10.4",
        "@babel/plugin-syntax-json-strings": "^7.8.3",
        "@babel/plugin-syntax-logical-assignment-operators": "^7.10.4",
        "@babel/plugin-syntax-nullish-coalescing-operator": "^7.8.3",
        "@babel/plugin-syntax-numeric-separator": "^7.10.4",
        "@babel/plugin-syntax-object-rest-spread": "^7.8.3",
        "@babel/plugin-syntax-optional-catch-binding": "^7.8.3",
        "@babel/plugin-syntax-optional-chaining": "^7.8.3",
        "@babel/plugin-syntax-private-property-in-object": "^7.14.5",
        "@babel/plugin-syntax-top-level-await": "^7.14.5"
      },
      "peerDependencies": {
        "@babel/core": "^7.0.0 || ^8.0.0-0"
      }
    },
    "node_modules/babel-preset-jest": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/babel-preset-jest/-/babel-preset-jest-30.2.0.tgz",
      "integrity": "sha512-US4Z3NOieAQumwFnYdUWKvUKh8+YSnS/gB3t6YBiz0bskpu7Pine8pPCheNxlPEW4wnUkma2a94YuW2q3guvCQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "babel-plugin-jest-hoist": "30.2.0",
        "babel-preset-current-node-syntax": "^1.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      },
      "peerDependencies": {
        "@babel/core": "^7.11.0 || ^8.0.0-beta.1"
      }
    },
    "node_modules/balanced-match": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
      "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/baseline-browser-mapping": {
      "version": "2.8.20",
      "resolved": "https://registry.npmjs.org/baseline-browser-mapping/-/baseline-browser-mapping-2.8.20.tgz",
      "integrity": "sha512-JMWsdF+O8Orq3EMukbUN1QfbLK9mX2CkUmQBcW2T0s8OmdAUL5LLM/6wFwSrqXzlXB13yhyK9gTKS1rIizOduQ==",
      "dev": true,
      "license": "Apache-2.0",
      "bin": {
        "baseline-browser-mapping": "dist/cli.js"
      }
    },
    "node_modules/brace-expansion": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/braces": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
      "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fill-range": "^7.1.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/browserslist": {
      "version": "4.27.0",
      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.27.0.tgz",
      "integrity": "sha512-AXVQwdhot1eqLihwasPElhX2tAZiBjWdJ9i/Zcj2S6QYIjkx62OKSfnobkriB81C3l4w0rVy3Nt4jaTBltYEpw==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "baseline-browser-mapping": "^2.8.19",
        "caniuse-lite": "^1.0.30001751",
        "electron-to-chromium": "^1.5.238",
        "node-releases": "^2.0.26",
        "update-browserslist-db": "^1.1.4"
      },
      "bin": {
        "browserslist": "cli.js"
      },
      "engines": {
        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
      }
    },
    "node_modules/bser": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/bser/-/bser-2.1.1.tgz",
      "integrity": "sha512-gQxTNE/GAfIIrmHLUE3oJyp5FO6HRBfhjnw4/wMmA63ZGDJnWBmgY/lyQBpnDUkGmAhbSe39tx2d/iTOAfglwQ==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "node-int64": "^0.4.0"
      }
    },
    "node_modules/buffer-from": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/buffer-from/-/buffer-from-1.1.2.tgz",
      "integrity": "sha512-E+XQCRwSbaaiChtv6k6Dwgc+bx+Bs6vuKJHHl5kox/BaKbhiXzqQOwK4cO22yElGp2OCmjwVhT3HmxgyPGnJfQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/callsites": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz",
      "integrity": "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/camelcase": {
      "version": "5.3.1",
      "resolved": "https://registry.npmjs.org/camelcase/-/camelcase-5.3.1.tgz",
      "integrity": "sha512-L28STB170nwWS63UjtlEOE3dldQApaJXZkOI1uMFfzf3rRuPegHaHesyee+YxQ+W6SvRDQV6UrdOdRiR153wJg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/caniuse-lite": {
      "version": "1.0.30001751",
      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001751.tgz",
      "integrity": "sha512-A0QJhug0Ly64Ii3eIqHu5X51ebln3k4yTUkY1j8drqpWHVreg/VLijN48cZ1bYPiqOQuqpkIKnzr/Ul8V+p6Cw==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "CC-BY-4.0"
    },
    "node_modules/chalk": {
      "version": "4.1.2",
      "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
      "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.1.0",
        "supports-color": "^7.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/chalk?sponsor=1"
      }
    },
    "node_modules/char-regex": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/char-regex/-/char-regex-1.0.2.tgz",
      "integrity": "sha512-kWWXztvZ5SBQV+eRgKFeh8q5sLuZY2+8WUIzlxWVTg+oGwY14qylx1KbKzHd8P6ZYkAg0xyIDU9JMHhyJMZ1jw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/ci-info": {
      "version": "4.3.1",
      "resolved": "https://registry.npmjs.org/ci-info/-/ci-info-4.3.1.tgz",
      "integrity": "sha512-Wdy2Igu8OcBpI2pZePZ5oWjPC38tmDVx5WKUXKwlLYkA0ozo85sLsLvkBbBn/sZaSCMFOGZJ14fvW9t5/d7kdA==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/sibiraj-s"
        }
      ],
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/cjs-module-lexer": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/cjs-module-lexer/-/cjs-module-lexer-2.1.0.tgz",
      "integrity": "sha512-UX0OwmYRYQQetfrLEZeewIFFI+wSTofC+pMBLNuH3RUuu/xzG1oz84UCEDOSoQlN3fZ4+AzmV50ZYvGqkMh9yA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/cliui": {
      "version": "8.0.1",
      "resolved": "https://registry.npmjs.org/cliui/-/cliui-8.0.1.tgz",
      "integrity": "sha512-BSeNnyus75C4//NQ9gQt1/csTXyo/8Sb+afLAkzAptFuMsod9HFokGNudZpi/oQV73hnVK+sR+5PVRMd+Dr7YQ==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "string-width": "^4.2.0",
        "strip-ansi": "^6.0.1",
        "wrap-ansi": "^7.0.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/cliui/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/cliui/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/cliui/node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/cliui/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/cliui/node_modules/wrap-ansi": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.0.0",
        "string-width": "^4.1.0",
        "strip-ansi": "^6.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/co": {
      "version": "4.6.0",
      "resolved": "https://registry.npmjs.org/co/-/co-4.6.0.tgz",
      "integrity": "sha512-QVb0dM5HvG+uaxitm8wONl7jltx8dqhfU33DcqtOZcLSVIKSDDLDi7+0LbAKiyI8hD9u42m2YxXSkMGWThaecQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "iojs": ">= 1.0.0",
        "node": ">= 0.12.0"
      }
    },
    "node_modules/collect-v8-coverage": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/collect-v8-coverage/-/collect-v8-coverage-1.0.3.tgz",
      "integrity": "sha512-1L5aqIkwPfiodaMgQunkF1zRhNqifHBmtbbbxcr6yVxxBnliw4TDOW6NxpO8DJLgJ16OT+Y4ztZqP6p/FtXnAw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/color-convert": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
      "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-name": "~1.1.4"
      },
      "engines": {
        "node": ">=7.0.0"
      }
    },
    "node_modules/color-name": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
      "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/concat-map": {
      "version": "0.0.1",
      "resolved": "https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz",
      "integrity": "sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/convert-source-map": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/convert-source-map/-/convert-source-map-2.0.0.tgz",
      "integrity": "sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/cross-spawn": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
      "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "path-key": "^3.1.0",
        "shebang-command": "^2.0.0",
        "which": "^2.0.1"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/debug": {
      "version": "4.4.3",
      "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.3.tgz",
      "integrity": "sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.3"
      },
      "engines": {
        "node": ">=6.0"
      },
      "peerDependenciesMeta": {
        "supports-color": {
          "optional": true
        }
      }
    },
    "node_modules/dedent": {
      "version": "1.7.0",
      "resolved": "https://registry.npmjs.org/dedent/-/dedent-1.7.0.tgz",
      "integrity": "sha512-HGFtf8yhuhGhqO07SV79tRp+br4MnbdjeVxotpn1QBl30pcLLCQjX5b2295ll0fv8RKDKsmWYrl05usHM9CewQ==",
      "dev": true,
      "license": "MIT",
      "peerDependencies": {
        "babel-plugin-macros": "^3.1.0"
      },
      "peerDependenciesMeta": {
        "babel-plugin-macros": {
          "optional": true
        }
      }
    },
    "node_modules/deepmerge": {
      "version": "4.3.1",
      "resolved": "https://registry.npmjs.org/deepmerge/-/deepmerge-4.3.1.tgz",
      "integrity": "sha512-3sUqbMEc77XqpdNO7FRyRog+eW3ph+GYCbj+rK+uYyRMuwsVy0rMiVtPn+QJlKFvWP/1PYpapqYn0Me2knFn+A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/detect-newline": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/detect-newline/-/detect-newline-3.1.0.tgz",
      "integrity": "sha512-TLz+x/vEXm/Y7P7wn1EJFNLxYpUD4TgMosxY6fAVJUnJMbupHBOncxyWUG9OpTaH9EBD7uFI5LfEgmMOc54DsA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/eastasianwidth": {
      "version": "0.2.0",
      "resolved": "https://registry.npmjs.org/eastasianwidth/-/eastasianwidth-0.2.0.tgz",
      "integrity": "sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/electron-to-chromium": {
      "version": "1.5.240",
      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.240.tgz",
      "integrity": "sha512-OBwbZjWgrCOH+g6uJsA2/7Twpas2OlepS9uvByJjR2datRDuKGYeD+nP8lBBks2qnB7bGJNHDUx7c/YLaT3QMQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/emittery": {
      "version": "0.13.1",
      "resolved": "https://registry.npmjs.org/emittery/-/emittery-0.13.1.tgz",
      "integrity": "sha512-DeWwawk6r5yR9jFgnDKYt4sLS0LmHJJi3ZOnb5/JdbYwj3nW+FxQnHIjhBKz8YLC7oRNPVM9NQ47I3CVx34eqQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sindresorhus/emittery?sponsor=1"
      }
    },
    "node_modules/emoji-regex": {
      "version": "9.2.2",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz",
      "integrity": "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/error-ex": {
      "version": "1.3.4",
      "resolved": "https://registry.npmjs.org/error-ex/-/error-ex-1.3.4.tgz",
      "integrity": "sha512-sqQamAnR14VgCr1A618A3sGrygcpK+HEbenA/HiEAkkUwcZIIB/tgWqHFxWgOyDh4nB4JCRimh79dR5Ywc9MDQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-arrayish": "^0.2.1"
      }
    },
    "node_modules/escalade": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/escape-string-regexp": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-2.0.0.tgz",
      "integrity": "sha512-UpzcLCXolUWcNu5HtVMHYdXJjArjsF9C0aNnquZYY4uW/Vu0miy5YoWvbV345HauVvcAUnpRuhMMcqTcGOY2+w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/esprima": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/esprima/-/esprima-4.0.1.tgz",
      "integrity": "sha512-eGuFFw7Upda+g4p+QHvnW0RyTX/SVeJBDM/gCtMARO0cLuT2HcEKnTPvhjV6aGeqrCB/sbNop0Kszm0jsaWU4A==",
      "dev": true,
      "license": "BSD-2-Clause",
      "bin": {
        "esparse": "bin/esparse.js",
        "esvalidate": "bin/esvalidate.js"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/execa": {
      "version": "5.1.1",
      "resolved": "https://registry.npmjs.org/execa/-/execa-5.1.1.tgz",
      "integrity": "sha512-8uSpZZocAZRBAPIEINJj3Lo9HyGitllczc27Eh5YYojjMFMn8yHMDMaUHE2Jqfq05D/wucwI4JGURyXt1vchyg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cross-spawn": "^7.0.3",
        "get-stream": "^6.0.0",
        "human-signals": "^2.1.0",
        "is-stream": "^2.0.0",
        "merge-stream": "^2.0.0",
        "npm-run-path": "^4.0.1",
        "onetime": "^5.1.2",
        "signal-exit": "^3.0.3",
        "strip-final-newline": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sindresorhus/execa?sponsor=1"
      }
    },
    "node_modules/execa/node_modules/signal-exit": {
      "version": "3.0.7",
      "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-3.0.7.tgz",
      "integrity": "sha512-wnD2ZE+l+SPC/uoS0vXeE9L1+0wuaMqKlfz9AMUo38JsyLSBWSFcHR1Rri62LZc12vLr1gb3jl7iwQhgwpAbGQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/exit-x": {
      "version": "0.2.2",
      "resolved": "https://registry.npmjs.org/exit-x/-/exit-x-0.2.2.tgz",
      "integrity": "sha512-+I6B/IkJc1o/2tiURyz/ivu/O0nKNEArIUB5O7zBrlDVJr22SCLH3xTeEry428LvFhRzIA1g8izguxJ/gbNcVQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/expect": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/expect/-/expect-30.2.0.tgz",
      "integrity": "sha512-u/feCi0GPsI+988gU2FLcsHyAHTU0MX1Wg68NhAnN7z/+C5wqG+CY8J53N9ioe8RXgaoz0nBR/TYMf3AycUuPw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/expect-utils": "30.2.0",
        "@jest/get-type": "30.1.0",
        "jest-matcher-utils": "30.2.0",
        "jest-message-util": "30.2.0",
        "jest-mock": "30.2.0",
        "jest-util": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/fast-json-stable-stringify": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz",
      "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/fb-watchman": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/fb-watchman/-/fb-watchman-2.0.2.tgz",
      "integrity": "sha512-p5161BqbuCaSnB8jIbzQHOlpgsPmK5rJVDfDKO91Axs5NC1uu3HRQm6wt9cd9/+GtQQIO53JdGXXoyDpTAsgYA==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "bser": "2.1.1"
      }
    },
    "node_modules/fill-range": {
      "version": "7.1.1",
      "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
      "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "to-regex-range": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/find-up": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/find-up/-/find-up-4.1.0.tgz",
      "integrity": "sha512-PpOwAdQ/YlXQ2vj8a3h8IipDuYRi3wceVQQGYWxNINccq40Anw7BlsEXCMbt1Zt+OLA6Fq9suIpIWD0OsnISlw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "locate-path": "^5.0.0",
        "path-exists": "^4.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/foreground-child": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/foreground-child/-/foreground-child-3.3.1.tgz",
      "integrity": "sha512-gIXjKqtFuWEgzFRJA9WCQeSJLZDjgJUOMCMzxtvFq/37KojM1BFGufqsCy0r4qSQmYLsZYMeyRqzIWOMup03sw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "cross-spawn": "^7.0.6",
        "signal-exit": "^4.0.1"
      },
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/fs.realpath": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz",
      "integrity": "sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/fsevents": {
      "version": "2.3.3",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
      "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/gensync": {
      "version": "1.0.0-beta.2",
      "resolved": "https://registry.npmjs.org/gensync/-/gensync-1.0.0-beta.2.tgz",
      "integrity": "sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/get-caller-file": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/get-caller-file/-/get-caller-file-2.0.5.tgz",
      "integrity": "sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": "6.* || 8.* || >= 10.*"
      }
    },
    "node_modules/get-package-type": {
      "version": "0.1.0",
      "resolved": "https://registry.npmjs.org/get-package-type/-/get-package-type-0.1.0.tgz",
      "integrity": "sha512-pjzuKtY64GYfWizNAJ0fr9VqttZkNiK2iS430LtIHzjBEr6bX8Am2zm4sW4Ro5wjWW5cAlRL1qAMTcXbjNAO2Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8.0.0"
      }
    },
    "node_modules/get-stream": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/get-stream/-/get-stream-6.0.1.tgz",
      "integrity": "sha512-ts6Wi+2j3jQjqi70w5AlN8DFnkSwC+MqmxEzdEALB2qXZYV3X/b1CTfgPLGJNMeAWxdPfU8FO1ms3NUfaHCPYg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/glob": {
      "version": "10.4.5",
      "resolved": "https://registry.npmjs.org/glob/-/glob-10.4.5.tgz",
      "integrity": "sha512-7Bv8RF0k6xjo7d4A/PxYLbUCfb6c+Vpd2/mB2yRDlew7Jb5hEXiCD9ibfO7wpk8i4sevK6DFny9h7EYbM3/sHg==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "foreground-child": "^3.1.0",
        "jackspeak": "^3.1.2",
        "minimatch": "^9.0.4",
        "minipass": "^7.1.2",
        "package-json-from-dist": "^1.0.0",
        "path-scurry": "^1.11.1"
      },
      "bin": {
        "glob": "dist/esm/bin.mjs"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/graceful-fs": {
      "version": "4.2.11",
      "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
      "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/has-flag": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
      "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/html-escaper": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/html-escaper/-/html-escaper-2.0.2.tgz",
      "integrity": "sha512-H2iMtd0I4Mt5eYiapRdIDjp+XzelXQ0tFE4JS7YFwFevXXMmOp9myNrUvCg0D6ws8iqkRPBfKHgbwig1SmlLfg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/human-signals": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/human-signals/-/human-signals-2.1.0.tgz",
      "integrity": "sha512-B4FFZ6q/T2jhhksgkbEW3HBvWIfDW85snkQgawt07S7J5QXTk6BkNV+0yAeZrM5QpMAdYlocGoljn0sJ/WQkFw==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=10.17.0"
      }
    },
    "node_modules/import-local": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/import-local/-/import-local-3.2.0.tgz",
      "integrity": "sha512-2SPlun1JUPWoM6t3F0dw0FkCF/jWY8kttcY4f599GLTSjh2OCuuhdTkJQsEcZzBqbXZGKMK2OqW1oZsjtf/gQA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "pkg-dir": "^4.2.0",
        "resolve-cwd": "^3.0.0"
      },
      "bin": {
        "import-local-fixture": "fixtures/cli.js"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/imurmurhash": {
      "version": "0.1.4",
      "resolved": "https://registry.npmjs.org/imurmurhash/-/imurmurhash-0.1.4.tgz",
      "integrity": "sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.8.19"
      }
    },
    "node_modules/inflight": {
      "version": "1.0.6",
      "resolved": "https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz",
      "integrity": "sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==",
      "deprecated": "This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "once": "^1.3.0",
        "wrappy": "1"
      }
    },
    "node_modules/inherits": {
      "version": "2.0.4",
      "resolved": "https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz",
      "integrity": "sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/is-arrayish": {
      "version": "0.2.1",
      "resolved": "https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.2.1.tgz",
      "integrity": "sha512-zz06S8t0ozoDXMG+ube26zeCTNXcKIPJZJi8hBrF4idCLms4CG9QtK7qBl1boi5ODzFpjswb5JPmHCbMpjaYzg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/is-fullwidth-code-point": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
      "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-generator-fn": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/is-generator-fn/-/is-generator-fn-2.1.0.tgz",
      "integrity": "sha512-cTIB4yPYL/Grw0EaSzASzg6bBy9gqCofvWN8okThAYIxKJZC+udlRAmGbM0XLeniEJSs8uEgHPGuHSe1XsOLSQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/is-number": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
      "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.12.0"
      }
    },
    "node_modules/is-stream": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/is-stream/-/is-stream-2.0.1.tgz",
      "integrity": "sha512-hFoiJiTl63nn+kstHGBtewWSKnQLpyb155KHheA1l39uvtO9nWIop1p3udqPcUd/xbF1VLMO4n7OI6p7RbngDg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/isexe": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/istanbul-lib-coverage": {
      "version": "3.2.2",
      "resolved": "https://registry.npmjs.org/istanbul-lib-coverage/-/istanbul-lib-coverage-3.2.2.tgz",
      "integrity": "sha512-O8dpsF+r0WV/8MNRKfnmrtCWhuKjxrq2w+jpzBL5UZKTi2LeVWnWOmWRxFlesJONmc+wLAGvKQZEOanko0LFTg==",
      "dev": true,
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/istanbul-lib-instrument": {
      "version": "6.0.3",
      "resolved": "https://registry.npmjs.org/istanbul-lib-instrument/-/istanbul-lib-instrument-6.0.3.tgz",
      "integrity": "sha512-Vtgk7L/R2JHyyGW07spoFlB8/lpjiOLTjMdms6AFMraYt3BaJauod/NGrfnVG/y4Ix1JEuMRPDPEj2ua+zz1/Q==",
      "dev": true,
      "license": "BSD-3-Clause",
      "dependencies": {
        "@babel/core": "^7.23.9",
        "@babel/parser": "^7.23.9",
        "@istanbuljs/schema": "^0.1.3",
        "istanbul-lib-coverage": "^3.2.0",
        "semver": "^7.5.4"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/istanbul-lib-instrument/node_modules/semver": {
      "version": "7.7.3",
      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/istanbul-lib-report": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/istanbul-lib-report/-/istanbul-lib-report-3.0.1.tgz",
      "integrity": "sha512-GCfE1mtsHGOELCU8e/Z7YWzpmybrx/+dSTfLrvY8qRmaY6zXTKWn6WQIjaAFw069icm6GVMNkgu0NzI4iPZUNw==",
      "dev": true,
      "license": "BSD-3-Clause",
      "dependencies": {
        "istanbul-lib-coverage": "^3.0.0",
        "make-dir": "^4.0.0",
        "supports-color": "^7.1.0"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/istanbul-lib-source-maps": {
      "version": "5.0.6",
      "resolved": "https://registry.npmjs.org/istanbul-lib-source-maps/-/istanbul-lib-source-maps-5.0.6.tgz",
      "integrity": "sha512-yg2d+Em4KizZC5niWhQaIomgf5WlL4vOOjZ5xGCmF8SnPE/mDWWXgvRExdcpCgh9lLRRa1/fSYp2ymmbJ1pI+A==",
      "dev": true,
      "license": "BSD-3-Clause",
      "dependencies": {
        "@jridgewell/trace-mapping": "^0.3.23",
        "debug": "^4.1.1",
        "istanbul-lib-coverage": "^3.0.0"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/istanbul-reports": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/istanbul-reports/-/istanbul-reports-3.2.0.tgz",
      "integrity": "sha512-HGYWWS/ehqTV3xN10i23tkPkpH46MLCIMFNCaaKNavAXTF1RkqxawEPtnjnGZ6XKSInBKkiOA5BKS+aZiY3AvA==",
      "dev": true,
      "license": "BSD-3-Clause",
      "dependencies": {
        "html-escaper": "^2.0.0",
        "istanbul-lib-report": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/jackspeak": {
      "version": "3.4.3",
      "resolved": "https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz",
      "integrity": "sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==",
      "dev": true,
      "license": "BlueOak-1.0.0",
      "dependencies": {
        "@isaacs/cliui": "^8.0.2"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      },
      "optionalDependencies": {
        "@pkgjs/parseargs": "^0.11.0"
      }
    },
    "node_modules/jest": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest/-/jest-30.2.0.tgz",
      "integrity": "sha512-F26gjC0yWN8uAA5m5Ss8ZQf5nDHWGlN/xWZIh8S5SRbsEKBovwZhxGd6LJlbZYxBgCYOtreSUyb8hpXyGC5O4A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/core": "30.2.0",
        "@jest/types": "30.2.0",
        "import-local": "^3.2.0",
        "jest-cli": "30.2.0"
      },
      "bin": {
        "jest": "bin/jest.js"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      },
      "peerDependencies": {
        "node-notifier": "^8.0.1 || ^9.0.0 || ^10.0.0"
      },
      "peerDependenciesMeta": {
        "node-notifier": {
          "optional": true
        }
      }
    },
    "node_modules/jest-changed-files": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-changed-files/-/jest-changed-files-30.2.0.tgz",
      "integrity": "sha512-L8lR1ChrRnSdfeOvTrwZMlnWV8G/LLjQ0nG9MBclwWZidA2N5FviRki0Bvh20WRMOX31/JYvzdqTJrk5oBdydQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "execa": "^5.1.1",
        "jest-util": "30.2.0",
        "p-limit": "^3.1.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-circus": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-circus/-/jest-circus-30.2.0.tgz",
      "integrity": "sha512-Fh0096NC3ZkFx05EP2OXCxJAREVxj1BcW/i6EWqqymcgYKWjyyDpral3fMxVcHXg6oZM7iULer9wGRFvfpl+Tg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/environment": "30.2.0",
        "@jest/expect": "30.2.0",
        "@jest/test-result": "30.2.0",
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "chalk": "^4.1.2",
        "co": "^4.6.0",
        "dedent": "^1.6.0",
        "is-generator-fn": "^2.1.0",
        "jest-each": "30.2.0",
        "jest-matcher-utils": "30.2.0",
        "jest-message-util": "30.2.0",
        "jest-runtime": "30.2.0",
        "jest-snapshot": "30.2.0",
        "jest-util": "30.2.0",
        "p-limit": "^3.1.0",
        "pretty-format": "30.2.0",
        "pure-rand": "^7.0.0",
        "slash": "^3.0.0",
        "stack-utils": "^2.0.6"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-cli": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-cli/-/jest-cli-30.2.0.tgz",
      "integrity": "sha512-Os9ukIvADX/A9sLt6Zse3+nmHtHaE6hqOsjQtNiugFTbKRHYIYtZXNGNK9NChseXy7djFPjndX1tL0sCTlfpAA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/core": "30.2.0",
        "@jest/test-result": "30.2.0",
        "@jest/types": "30.2.0",
        "chalk": "^4.1.2",
        "exit-x": "^0.2.2",
        "import-local": "^3.2.0",
        "jest-config": "30.2.0",
        "jest-util": "30.2.0",
        "jest-validate": "30.2.0",
        "yargs": "^17.7.2"
      },
      "bin": {
        "jest": "bin/jest.js"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      },
      "peerDependencies": {
        "node-notifier": "^8.0.1 || ^9.0.0 || ^10.0.0"
      },
      "peerDependenciesMeta": {
        "node-notifier": {
          "optional": true
        }
      }
    },
    "node_modules/jest-config": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-config/-/jest-config-30.2.0.tgz",
      "integrity": "sha512-g4WkyzFQVWHtu6uqGmQR4CQxz/CH3yDSlhzXMWzNjDx843gYjReZnMRanjRCq5XZFuQrGDxgUaiYWE8BRfVckA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/core": "^7.27.4",
        "@jest/get-type": "30.1.0",
        "@jest/pattern": "30.0.1",
        "@jest/test-sequencer": "30.2.0",
        "@jest/types": "30.2.0",
        "babel-jest": "30.2.0",
        "chalk": "^4.1.2",
        "ci-info": "^4.2.0",
        "deepmerge": "^4.3.1",
        "glob": "^10.3.10",
        "graceful-fs": "^4.2.11",
        "jest-circus": "30.2.0",
        "jest-docblock": "30.2.0",
        "jest-environment-node": "30.2.0",
        "jest-regex-util": "30.0.1",
        "jest-resolve": "30.2.0",
        "jest-runner": "30.2.0",
        "jest-util": "30.2.0",
        "jest-validate": "30.2.0",
        "micromatch": "^4.0.8",
        "parse-json": "^5.2.0",
        "pretty-format": "30.2.0",
        "slash": "^3.0.0",
        "strip-json-comments": "^3.1.1"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      },
      "peerDependencies": {
        "@types/node": "*",
        "esbuild-register": ">=3.4.0",
        "ts-node": ">=9.0.0"
      },
      "peerDependenciesMeta": {
        "@types/node": {
          "optional": true
        },
        "esbuild-register": {
          "optional": true
        },
        "ts-node": {
          "optional": true
        }
      }
    },
    "node_modules/jest-diff": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-diff/-/jest-diff-30.2.0.tgz",
      "integrity": "sha512-dQHFo3Pt4/NLlG5z4PxZ/3yZTZ1C7s9hveiOj+GCN+uT109NC2QgsoVZsVOAvbJ3RgKkvyLGXZV9+piDpWbm6A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/diff-sequences": "30.0.1",
        "@jest/get-type": "30.1.0",
        "chalk": "^4.1.2",
        "pretty-format": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-docblock": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-docblock/-/jest-docblock-30.2.0.tgz",
      "integrity": "sha512-tR/FFgZKS1CXluOQzZvNH3+0z9jXr3ldGSD8bhyuxvlVUwbeLOGynkunvlTMxchC5urrKndYiwCFC0DLVjpOCA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "detect-newline": "^3.1.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-each": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-each/-/jest-each-30.2.0.tgz",
      "integrity": "sha512-lpWlJlM7bCUf1mfmuqTA8+j2lNURW9eNafOy99knBM01i5CQeY5UH1vZjgT9071nDJac1M4XsbyI44oNOdhlDQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/get-type": "30.1.0",
        "@jest/types": "30.2.0",
        "chalk": "^4.1.2",
        "jest-util": "30.2.0",
        "pretty-format": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-environment-node": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-environment-node/-/jest-environment-node-30.2.0.tgz",
      "integrity": "sha512-ElU8v92QJ9UrYsKrxDIKCxu6PfNj4Hdcktcn0JX12zqNdqWHB0N+hwOnnBBXvjLd2vApZtuLUGs1QSY+MsXoNA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/environment": "30.2.0",
        "@jest/fake-timers": "30.2.0",
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "jest-mock": "30.2.0",
        "jest-util": "30.2.0",
        "jest-validate": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-haste-map": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-haste-map/-/jest-haste-map-30.2.0.tgz",
      "integrity": "sha512-sQA/jCb9kNt+neM0anSj6eZhLZUIhQgwDt7cPGjumgLM4rXsfb9kpnlacmvZz3Q5tb80nS+oG/if+NBKrHC+Xw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "anymatch": "^3.1.3",
        "fb-watchman": "^2.0.2",
        "graceful-fs": "^4.2.11",
        "jest-regex-util": "30.0.1",
        "jest-util": "30.2.0",
        "jest-worker": "30.2.0",
        "micromatch": "^4.0.8",
        "walker": "^1.0.8"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      },
      "optionalDependencies": {
        "fsevents": "^2.3.3"
      }
    },
    "node_modules/jest-leak-detector": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-leak-detector/-/jest-leak-detector-30.2.0.tgz",
      "integrity": "sha512-M6jKAjyzjHG0SrQgwhgZGy9hFazcudwCNovY/9HPIicmNSBuockPSedAP9vlPK6ONFJ1zfyH/M2/YYJxOz5cdQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/get-type": "30.1.0",
        "pretty-format": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-matcher-utils": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-matcher-utils/-/jest-matcher-utils-30.2.0.tgz",
      "integrity": "sha512-dQ94Nq4dbzmUWkQ0ANAWS9tBRfqCrn0bV9AMYdOi/MHW726xn7eQmMeRTpX2ViC00bpNaWXq+7o4lIQ3AX13Hg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/get-type": "30.1.0",
        "chalk": "^4.1.2",
        "jest-diff": "30.2.0",
        "pretty-format": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-message-util": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-message-util/-/jest-message-util-30.2.0.tgz",
      "integrity": "sha512-y4DKFLZ2y6DxTWD4cDe07RglV88ZiNEdlRfGtqahfbIjfsw1nMCPx49Uev4IA/hWn3sDKyAnSPwoYSsAEdcimw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.27.1",
        "@jest/types": "30.2.0",
        "@types/stack-utils": "^2.0.3",
        "chalk": "^4.1.2",
        "graceful-fs": "^4.2.11",
        "micromatch": "^4.0.8",
        "pretty-format": "30.2.0",
        "slash": "^3.0.0",
        "stack-utils": "^2.0.6"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-mock": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-mock/-/jest-mock-30.2.0.tgz",
      "integrity": "sha512-JNNNl2rj4b5ICpmAcq+WbLH83XswjPbjH4T7yvGzfAGCPh1rw+xVNbtk+FnRslvt9lkCcdn9i1oAoKUuFsOxRw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "jest-util": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-pnp-resolver": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/jest-pnp-resolver/-/jest-pnp-resolver-1.2.3.tgz",
      "integrity": "sha512-+3NpwQEnRoIBtx4fyhblQDPgJI0H1IEIkX7ShLUjPGA7TtUTvI1oiKi3SR4oBR0hQhQR80l4WAe5RrXBwWMA8w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      },
      "peerDependencies": {
        "jest-resolve": "*"
      },
      "peerDependenciesMeta": {
        "jest-resolve": {
          "optional": true
        }
      }
    },
    "node_modules/jest-regex-util": {
      "version": "30.0.1",
      "resolved": "https://registry.npmjs.org/jest-regex-util/-/jest-regex-util-30.0.1.tgz",
      "integrity": "sha512-jHEQgBXAgc+Gh4g0p3bCevgRCVRkB4VB70zhoAE48gxeSr1hfUOsM/C2WoJgVL7Eyg//hudYENbm3Ne+/dRVVA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-resolve": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-resolve/-/jest-resolve-30.2.0.tgz",
      "integrity": "sha512-TCrHSxPlx3tBY3hWNtRQKbtgLhsXa1WmbJEqBlTBrGafd5fiQFByy2GNCEoGR+Tns8d15GaL9cxEzKOO3GEb2A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "chalk": "^4.1.2",
        "graceful-fs": "^4.2.11",
        "jest-haste-map": "30.2.0",
        "jest-pnp-resolver": "^1.2.3",
        "jest-util": "30.2.0",
        "jest-validate": "30.2.0",
        "slash": "^3.0.0",
        "unrs-resolver": "^1.7.11"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-resolve-dependencies": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-resolve-dependencies/-/jest-resolve-dependencies-30.2.0.tgz",
      "integrity": "sha512-xTOIGug/0RmIe3mmCqCT95yO0vj6JURrn1TKWlNbhiAefJRWINNPgwVkrVgt/YaerPzY3iItufd80v3lOrFJ2w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "jest-regex-util": "30.0.1",
        "jest-snapshot": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-runner": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-runner/-/jest-runner-30.2.0.tgz",
      "integrity": "sha512-PqvZ2B2XEyPEbclp+gV6KO/F1FIFSbIwewRgmROCMBo/aZ6J1w8Qypoj2pEOcg3G2HzLlaP6VUtvwCI8dM3oqQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/console": "30.2.0",
        "@jest/environment": "30.2.0",
        "@jest/test-result": "30.2.0",
        "@jest/transform": "30.2.0",
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "chalk": "^4.1.2",
        "emittery": "^0.13.1",
        "exit-x": "^0.2.2",
        "graceful-fs": "^4.2.11",
        "jest-docblock": "30.2.0",
        "jest-environment-node": "30.2.0",
        "jest-haste-map": "30.2.0",
        "jest-leak-detector": "30.2.0",
        "jest-message-util": "30.2.0",
        "jest-resolve": "30.2.0",
        "jest-runtime": "30.2.0",
        "jest-util": "30.2.0",
        "jest-watcher": "30.2.0",
        "jest-worker": "30.2.0",
        "p-limit": "^3.1.0",
        "source-map-support": "0.5.13"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-runtime": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-runtime/-/jest-runtime-30.2.0.tgz",
      "integrity": "sha512-p1+GVX/PJqTucvsmERPMgCPvQJpFt4hFbM+VN3n8TMo47decMUcJbt+rgzwrEme0MQUA/R+1de2axftTHkKckg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/environment": "30.2.0",
        "@jest/fake-timers": "30.2.0",
        "@jest/globals": "30.2.0",
        "@jest/source-map": "30.0.1",
        "@jest/test-result": "30.2.0",
        "@jest/transform": "30.2.0",
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "chalk": "^4.1.2",
        "cjs-module-lexer": "^2.1.0",
        "collect-v8-coverage": "^1.0.2",
        "glob": "^10.3.10",
        "graceful-fs": "^4.2.11",
        "jest-haste-map": "30.2.0",
        "jest-message-util": "30.2.0",
        "jest-mock": "30.2.0",
        "jest-regex-util": "30.0.1",
        "jest-resolve": "30.2.0",
        "jest-snapshot": "30.2.0",
        "jest-util": "30.2.0",
        "slash": "^3.0.0",
        "strip-bom": "^4.0.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-snapshot": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-snapshot/-/jest-snapshot-30.2.0.tgz",
      "integrity": "sha512-5WEtTy2jXPFypadKNpbNkZ72puZCa6UjSr/7djeecHWOu7iYhSXSnHScT8wBz3Rn8Ena5d5RYRcsyKIeqG1IyA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/core": "^7.27.4",
        "@babel/generator": "^7.27.5",
        "@babel/plugin-syntax-jsx": "^7.27.1",
        "@babel/plugin-syntax-typescript": "^7.27.1",
        "@babel/types": "^7.27.3",
        "@jest/expect-utils": "30.2.0",
        "@jest/get-type": "30.1.0",
        "@jest/snapshot-utils": "30.2.0",
        "@jest/transform": "30.2.0",
        "@jest/types": "30.2.0",
        "babel-preset-current-node-syntax": "^1.2.0",
        "chalk": "^4.1.2",
        "expect": "30.2.0",
        "graceful-fs": "^4.2.11",
        "jest-diff": "30.2.0",
        "jest-matcher-utils": "30.2.0",
        "jest-message-util": "30.2.0",
        "jest-util": "30.2.0",
        "pretty-format": "30.2.0",
        "semver": "^7.7.2",
        "synckit": "^0.11.8"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-snapshot/node_modules/semver": {
      "version": "7.7.3",
      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/jest-util": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-util/-/jest-util-30.2.0.tgz",
      "integrity": "sha512-QKNsM0o3Xe6ISQU869e+DhG+4CK/48aHYdJZGlFQVTjnbvgpcKyxpzk29fGiO7i/J8VENZ+d2iGnSsvmuHywlA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "chalk": "^4.1.2",
        "ci-info": "^4.2.0",
        "graceful-fs": "^4.2.11",
        "picomatch": "^4.0.2"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-util/node_modules/picomatch": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
      "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/jest-validate": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-validate/-/jest-validate-30.2.0.tgz",
      "integrity": "sha512-FBGWi7dP2hpdi8nBoWxSsLvBFewKAg0+uSQwBaof4Y4DPgBabXgpSYC5/lR7VmnIlSpASmCi/ntRWPbv7089Pw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/get-type": "30.1.0",
        "@jest/types": "30.2.0",
        "camelcase": "^6.3.0",
        "chalk": "^4.1.2",
        "leven": "^3.1.0",
        "pretty-format": "30.2.0"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-validate/node_modules/camelcase": {
      "version": "6.3.0",
      "resolved": "https://registry.npmjs.org/camelcase/-/camelcase-6.3.0.tgz",
      "integrity": "sha512-Gmy6FhYlCY7uOElZUSbxo2UCDH8owEk996gkbrpsgGtrJLM3J7jGxl9Ic7Qwwj4ivOE5AWZWRMecDdF7hqGjFA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/jest-watcher": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-watcher/-/jest-watcher-30.2.0.tgz",
      "integrity": "sha512-PYxa28dxJ9g777pGm/7PrbnMeA0Jr7osHP9bS7eJy9DuAjMgdGtxgf0uKMyoIsTWAkIbUW5hSDdJ3urmgXBqxg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/test-result": "30.2.0",
        "@jest/types": "30.2.0",
        "@types/node": "*",
        "ansi-escapes": "^4.3.2",
        "chalk": "^4.1.2",
        "emittery": "^0.13.1",
        "jest-util": "30.2.0",
        "string-length": "^4.0.2"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-worker": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/jest-worker/-/jest-worker-30.2.0.tgz",
      "integrity": "sha512-0Q4Uk8WF7BUwqXHuAjc23vmopWJw5WH7w2tqBoUOZpOjW/ZnR44GXXd1r82RvnmI2GZge3ivrYXk/BE2+VtW2g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/node": "*",
        "@ungap/structured-clone": "^1.3.0",
        "jest-util": "30.2.0",
        "merge-stream": "^2.0.0",
        "supports-color": "^8.1.1"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/jest-worker/node_modules/supports-color": {
      "version": "8.1.1",
      "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-8.1.1.tgz",
      "integrity": "sha512-MpUEN2OodtUzxvKQl72cUF7RQ5EiHsGvSsVG0ia9c5RbWGL2CI4C7EpPS8UTBIplnlzZiNuV56w+FuNxy3ty2Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "has-flag": "^4.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/supports-color?sponsor=1"
      }
    },
    "node_modules/js-tokens": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/js-yaml": {
      "version": "3.14.1",
      "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-3.14.1.tgz",
      "integrity": "sha512-okMH7OXXJ7YrN9Ok3/SXrnu4iX9yOk+25nqX4imS2npuvTYDmo/QEZoqwZkYaIDk3jVvBOTOIEgEhaLOynBS9g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "argparse": "^1.0.7",
        "esprima": "^4.0.0"
      },
      "bin": {
        "js-yaml": "bin/js-yaml.js"
      }
    },
    "node_modules/jsesc": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-3.1.0.tgz",
      "integrity": "sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "jsesc": "bin/jsesc"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/json-parse-even-better-errors": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/json-parse-even-better-errors/-/json-parse-even-better-errors-2.3.1.tgz",
      "integrity": "sha512-xyFwyhro/JEof6Ghe2iz2NcXoj2sloNsWr/XsERDK/oiPCfaNhl5ONfp+jQdAZRQQ0IJWNzH9zIZF7li91kh2w==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/json5": {
      "version": "2.2.3",
      "resolved": "https://registry.npmjs.org/json5/-/json5-2.2.3.tgz",
      "integrity": "sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "json5": "lib/cli.js"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/leven": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/leven/-/leven-3.1.0.tgz",
      "integrity": "sha512-qsda+H8jTaUaN/x5vzW2rzc+8Rw4TAQ/4KjB46IwK5VH+IlVeeeje/EoZRpiXvIqjFgK84QffqPztGI3VBLG1A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/lines-and-columns": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz",
      "integrity": "sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/locate-path": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/locate-path/-/locate-path-5.0.0.tgz",
      "integrity": "sha512-t7hw9pI+WvuwNJXwk5zVHpyhIqzg2qTlklJOf0mVxGSbe3Fp2VieZcduNYjaLDoy6p9uGpQEGWG87WpMKlNq8g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "p-locate": "^4.1.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/lru-cache": {
      "version": "5.1.1",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-5.1.1.tgz",
      "integrity": "sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "yallist": "^3.0.2"
      }
    },
    "node_modules/make-dir": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/make-dir/-/make-dir-4.0.0.tgz",
      "integrity": "sha512-hXdUTZYIVOt1Ex//jAQi+wTZZpUpwBj/0QsOzqegb3rGMMeJiSEu5xLHnYfBrRV4RH2+OCSOO95Is/7x1WJ4bw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "semver": "^7.5.3"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/make-dir/node_modules/semver": {
      "version": "7.7.3",
      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/makeerror": {
      "version": "1.0.12",
      "resolved": "https://registry.npmjs.org/makeerror/-/makeerror-1.0.12.tgz",
      "integrity": "sha512-JmqCvUhmt43madlpFzG4BQzG2Z3m6tvQDNKdClZnO3VbIudJYmxsT0FNJMeiB2+JTSlTQTSbU8QdesVmwJcmLg==",
      "dev": true,
      "license": "BSD-3-Clause",
      "dependencies": {
        "tmpl": "1.0.5"
      }
    },
    "node_modules/merge-stream": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/merge-stream/-/merge-stream-2.0.0.tgz",
      "integrity": "sha512-abv/qOcuPfk3URPfDzmZU1LKmuw8kT+0nIHvKrKgFrwifol/doWcdA4ZqsWQ8ENrFKkd67Mfpo/LovbIUsbt3w==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/micromatch": {
      "version": "4.0.8",
      "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
      "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "braces": "^3.0.3",
        "picomatch": "^2.3.1"
      },
      "engines": {
        "node": ">=8.6"
      }
    },
    "node_modules/mimic-fn": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/mimic-fn/-/mimic-fn-2.1.0.tgz",
      "integrity": "sha512-OqbOk5oEQeAZ8WXWydlu9HJjz9WVdEIvamMCcXmuqUYjTknH/sqsWvhQ3vgwKFRR1HpjvNBKQ37nbJgYzGqGcg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/minimatch": {
      "version": "9.0.5",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/minipass": {
      "version": "7.1.2",
      "resolved": "https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz",
      "integrity": "sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=16 || 14 >=14.17"
      }
    },
    "node_modules/ms": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/napi-postinstall": {
      "version": "0.3.4",
      "resolved": "https://registry.npmjs.org/napi-postinstall/-/napi-postinstall-0.3.4.tgz",
      "integrity": "sha512-PHI5f1O0EP5xJ9gQmFGMS6IZcrVvTjpXjz7Na41gTE7eE2hK11lg04CECCYEEjdc17EV4DO+fkGEtt7TpTaTiQ==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "napi-postinstall": "lib/cli.js"
      },
      "engines": {
        "node": "^12.20.0 || ^14.18.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/napi-postinstall"
      }
    },
    "node_modules/natural-compare": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/natural-compare/-/natural-compare-1.4.0.tgz",
      "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/node-int64": {
      "version": "0.4.0",
      "resolved": "https://registry.npmjs.org/node-int64/-/node-int64-0.4.0.tgz",
      "integrity": "sha512-O5lz91xSOeoXP6DulyHfllpq+Eg00MWitZIbtPfoSEvqIHdl5gfcY6hYzDWnj0qD5tz52PI08u9qUvSVeUBeHw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/node-releases": {
      "version": "2.0.26",
      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.26.tgz",
      "integrity": "sha512-S2M9YimhSjBSvYnlr5/+umAnPHE++ODwt5e2Ij6FoX45HA/s4vHdkDx1eax2pAPeAOqu4s9b7ppahsyEFdVqQA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/normalize-path": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz",
      "integrity": "sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/npm-run-path": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/npm-run-path/-/npm-run-path-4.0.1.tgz",
      "integrity": "sha512-S48WzZW777zhNIrn7gxOlISNAqi9ZC/uQFnRdbeIHhZhCA6UqpkOT8T1G7BvfdgP4Er8gF4sUbaS0i7QvIfCWw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "path-key": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/once": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/once/-/once-1.4.0.tgz",
      "integrity": "sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "wrappy": "1"
      }
    },
    "node_modules/onetime": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/onetime/-/onetime-5.1.2.tgz",
      "integrity": "sha512-kbpaSSGJTWdAY5KPVeMOKXSrPtr8C8C7wodJbcsd51jRnmD+GZu8Y0VoU6Dm5Z4vWr0Ig/1NKuWRKf7j5aaYSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "mimic-fn": "^2.1.0"
      },
      "engines": {
        "node": ">=6"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/p-limit": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-3.1.0.tgz",
      "integrity": "sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "yocto-queue": "^0.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/p-locate": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/p-locate/-/p-locate-4.1.0.tgz",
      "integrity": "sha512-R79ZZ/0wAxKGu3oYMlz8jy/kbhsNrS7SKZ7PxEHBgJ5+F2mtFW2fK2cOtBh1cHYkQsbzFV7I+EoRKe6Yt0oK7A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "p-limit": "^2.2.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/p-locate/node_modules/p-limit": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-2.3.0.tgz",
      "integrity": "sha512-//88mFWSJx8lxCzwdAABTJL2MyWB12+eIY7MDL2SqLmAkeKU9qxRvWuSyTjm3FUmpBEMuFfckAIqEaVGUDxb6w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "p-try": "^2.0.0"
      },
      "engines": {
        "node": ">=6"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/p-try": {
      "version": "2.2.0",
      "resolved": "https://registry.npmjs.org/p-try/-/p-try-2.2.0.tgz",
      "integrity": "sha512-R4nPAVTAU0B9D35/Gk3uJf/7XYbQcyohSKdvAxIRSNghFl4e71hVoGnBNQz9cWaXxO2I10KTC+3jMdvvoKw6dQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/package-json-from-dist": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/package-json-from-dist/-/package-json-from-dist-1.0.1.tgz",
      "integrity": "sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==",
      "dev": true,
      "license": "BlueOak-1.0.0"
    },
    "node_modules/parse-json": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/parse-json/-/parse-json-5.2.0.tgz",
      "integrity": "sha512-ayCKvm/phCGxOkYRSCM82iDwct8/EonSEgCSxWxD7ve6jHggsFl4fZVQBPRNgQoKiuV/odhFrGzQXZwbifC8Rg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.0.0",
        "error-ex": "^1.3.1",
        "json-parse-even-better-errors": "^2.3.0",
        "lines-and-columns": "^1.1.6"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/path-exists": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz",
      "integrity": "sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-is-absolute": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/path-is-absolute/-/path-is-absolute-1.0.1.tgz",
      "integrity": "sha512-AVbw3UJ2e9bq64vSaS9Am0fje1Pa8pbGqTTsmXfaIiMpnr5DlDhfJOuLj9Sf95ZPVDAUerDfEk88MPmPe7UCQg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/path-key": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
      "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-scurry": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
      "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
      "dev": true,
      "license": "BlueOak-1.0.0",
      "dependencies": {
        "lru-cache": "^10.2.0",
        "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
      },
      "engines": {
        "node": ">=16 || 14 >=14.18"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/path-scurry/node_modules/lru-cache": {
      "version": "10.4.3",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
      "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/picocolors": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
      "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/picomatch": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
      "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8.6"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/pirates": {
      "version": "4.0.7",
      "resolved": "https://registry.npmjs.org/pirates/-/pirates-4.0.7.tgz",
      "integrity": "sha512-TfySrs/5nm8fQJDcBDuUng3VOUKsd7S+zqvbOTiGXHfxX4wK31ard+hoNuvkicM/2YFzlpDgABOevKSsB4G/FA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/pkg-dir": {
      "version": "4.2.0",
      "resolved": "https://registry.npmjs.org/pkg-dir/-/pkg-dir-4.2.0.tgz",
      "integrity": "sha512-HRDzbaKjC+AOWVXxAU/x54COGeIv9eb+6CkDSQoNTt4XyWoIJvuPsXizxu/Fr23EiekbtZwmh1IcIG/l/a10GQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "find-up": "^4.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/pretty-format": {
      "version": "30.2.0",
      "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-30.2.0.tgz",
      "integrity": "sha512-9uBdv/B4EefsuAL+pWqueZyZS2Ba+LxfFeQ9DN14HU4bN8bhaxKdkpjpB6fs9+pSjIBu+FXQHImEg8j/Lw0+vA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jest/schemas": "30.0.5",
        "ansi-styles": "^5.2.0",
        "react-is": "^18.3.1"
      },
      "engines": {
        "node": "^18.14.0 || ^20.0.0 || ^22.0.0 || >=24.0.0"
      }
    },
    "node_modules/pretty-format/node_modules/ansi-styles": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
      "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/pure-rand": {
      "version": "7.0.1",
      "resolved": "https://registry.npmjs.org/pure-rand/-/pure-rand-7.0.1.tgz",
      "integrity": "sha512-oTUZM/NAZS8p7ANR3SHh30kXB+zK2r2BPcEn/awJIbOvq82WoMN4p62AWWp3Hhw50G0xMsw1mhIBLqHw64EcNQ==",
      "dev": true,
      "funding": [
        {
          "type": "individual",
          "url": "https://github.com/sponsors/dubzzz"
        },
        {
          "type": "opencollective",
          "url": "https://opencollective.com/fast-check"
        }
      ],
      "license": "MIT"
    },
    "node_modules/react-is": {
      "version": "18.3.1",
      "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
      "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/require-directory": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz",
      "integrity": "sha512-fGxEI7+wsG9xrvdjsrlmL22OMTTiHRwAMroiEeMgq8gzoLC/PQr7RsRDSTLUg/bZAZtF+TVIkHc6/4RIKrui+Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/resolve-cwd": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/resolve-cwd/-/resolve-cwd-3.0.0.tgz",
      "integrity": "sha512-OrZaX2Mb+rJCpH/6CpSqt9xFVpN++x01XnN2ie9g6P5/3xelLAkXWVADpdz1IHD/KFfEXyE6V0U01OQ3UO2rEg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "resolve-from": "^5.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/resolve-from": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-5.0.0.tgz",
      "integrity": "sha512-qYg9KP24dD5qka9J47d0aVky0N+b4fTU89LN9iDnjB5waksiC49rvMB0PrUJQGoTmH50XPiqOvAjDfaijGxYZw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/semver": {
      "version": "6.3.1",
      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      }
    },
    "node_modules/shebang-command": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
      "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "shebang-regex": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/shebang-regex": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
      "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/signal-exit": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz",
      "integrity": "sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/slash": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/slash/-/slash-3.0.0.tgz",
      "integrity": "sha512-g9Q1haeby36OSStwb4ntCGGGaKsaVSjQ68fBxoQcutl5fS1vuY18H3wSt3jFyFtrkx+Kz0V1G85A4MyAdDMi2Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/source-map": {
      "version": "0.6.1",
      "resolved": "https://registry.npmjs.org/source-map/-/source-map-0.6.1.tgz",
      "integrity": "sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==",
      "dev": true,
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/source-map-support": {
      "version": "0.5.13",
      "resolved": "https://registry.npmjs.org/source-map-support/-/source-map-support-0.5.13.tgz",
      "integrity": "sha512-SHSKFHadjVA5oR4PPqhtAVdcBWwRYVd6g6cAXnIbRiIwc2EhPrTuKUBdSLvlEKyIP3GCf89fltvcZiP9MMFA1w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "buffer-from": "^1.0.0",
        "source-map": "^0.6.0"
      }
    },
    "node_modules/sprintf-js": {
      "version": "1.0.3",
      "resolved": "https://registry.npmjs.org/sprintf-js/-/sprintf-js-1.0.3.tgz",
      "integrity": "sha512-D9cPgkvLlV3t3IzL0D0YLvGA9Ahk4PcvVwUbN0dSGr1aP0Nrt4AEnTUbuGvquEC0mA64Gqt1fzirlRs5ibXx8g==",
      "dev": true,
      "license": "BSD-3-Clause"
    },
    "node_modules/stack-utils": {
      "version": "2.0.6",
      "resolved": "https://registry.npmjs.org/stack-utils/-/stack-utils-2.0.6.tgz",
      "integrity": "sha512-XlkWvfIm6RmsWtNJx+uqtKLS8eqFbxUg0ZzLXqY0caEy9l7hruX8IpiDnjsLavoBgqCCR71TqWO8MaXYheJ3RQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "escape-string-regexp": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/string-length": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/string-length/-/string-length-4.0.2.tgz",
      "integrity": "sha512-+l6rNN5fYHNhZZy41RXsYptCjA2Igmq4EG7kZAYFQI1E1VTXarr6ZPXBg6eq7Y6eK4FEhY6AJlyuFIb/v/S0VQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "char-regex": "^1.0.2",
        "strip-ansi": "^6.0.0"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/string-length/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-length/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz",
      "integrity": "sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "eastasianwidth": "^0.2.0",
        "emoji-regex": "^9.2.2",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/string-width-cjs": {
      "name": "string-width",
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/string-width-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi": {
      "version": "7.1.2",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.2.tgz",
      "integrity": "sha512-gmBGslpoQJtgnMAvOVqGZpEz9dyoKTCzy2nfz/n8aIFhN/jCE/rCmcxabB6jOOHV+0WNnylOxaxBQPSvcWklhA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^6.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/strip-ansi?sponsor=1"
      }
    },
    "node_modules/strip-ansi-cjs": {
      "name": "strip-ansi",
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-bom": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/strip-bom/-/strip-bom-4.0.0.tgz",
      "integrity": "sha512-3xurFv5tEgii33Zi8Jtp55wEIILR9eh34FAW00PZf+JnSsTmV/ioewSgQl97JHvgjoRGwPShsWm+IdrxB35d0w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-final-newline": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/strip-final-newline/-/strip-final-newline-2.0.0.tgz",
      "integrity": "sha512-BrpvfNAE3dcvq7ll3xVumzjKjZQ5tI1sEUIKr3Uoks0XUl45St3FlatVqef9prk4jRDzhW6WZg+3bk93y6pLjA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/strip-json-comments": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz",
      "integrity": "sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/supports-color": {
      "version": "7.2.0",
      "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
      "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "has-flag": "^4.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/synckit": {
      "version": "0.11.11",
      "resolved": "https://registry.npmjs.org/synckit/-/synckit-0.11.11.tgz",
      "integrity": "sha512-MeQTA1r0litLUf0Rp/iisCaL8761lKAZHaimlbGK4j0HysC4PLfqygQj9srcs0m2RdtDYnF8UuYyKpbjHYp7Jw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@pkgr/core": "^0.2.9"
      },
      "engines": {
        "node": "^14.18.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/synckit"
      }
    },
    "node_modules/test-exclude": {
      "version": "6.0.0",
      "resolved": "https://registry.npmjs.org/test-exclude/-/test-exclude-6.0.0.tgz",
      "integrity": "sha512-cAGWPIyOHU6zlmg88jwm7VRyXnMN7iV68OGAbYDk/Mh/xC/pzVPlQtY6ngoIH/5/tciuhGfvESU8GrHrcxD56w==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "@istanbuljs/schema": "^0.1.2",
        "glob": "^7.1.4",
        "minimatch": "^3.0.4"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/test-exclude/node_modules/brace-expansion": {
      "version": "1.1.12",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz",
      "integrity": "sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0",
        "concat-map": "0.0.1"
      }
    },
    "node_modules/test-exclude/node_modules/glob": {
      "version": "7.2.3",
      "resolved": "https://registry.npmjs.org/glob/-/glob-7.2.3.tgz",
      "integrity": "sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==",
      "deprecated": "Glob versions prior to v9 are no longer supported",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "fs.realpath": "^1.0.0",
        "inflight": "^1.0.4",
        "inherits": "2",
        "minimatch": "^3.1.1",
        "once": "^1.3.0",
        "path-is-absolute": "^1.0.0"
      },
      "engines": {
        "node": "*"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/test-exclude/node_modules/minimatch": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz",
      "integrity": "sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^1.1.7"
      },
      "engines": {
        "node": "*"
      }
    },
    "node_modules/tmpl": {
      "version": "1.0.5",
      "resolved": "https://registry.npmjs.org/tmpl/-/tmpl-1.0.5.tgz",
      "integrity": "sha512-3f0uOEAQwIqGuWW2MVzYg8fV/QNnc/IpuJNG837rLuczAaLVHslWHZQj4IGiEl5Hs3kkbhwL9Ab7Hrsmuj+Smw==",
      "dev": true,
      "license": "BSD-3-Clause"
    },
    "node_modules/to-regex-range": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
      "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-number": "^7.0.0"
      },
      "engines": {
        "node": ">=8.0"
      }
    },
    "node_modules/tslib": {
      "version": "2.8.1",
      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
      "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==",
      "dev": true,
      "license": "0BSD",
      "optional": true
    },
    "node_modules/type-detect": {
      "version": "4.0.8",
      "resolved": "https://registry.npmjs.org/type-detect/-/type-detect-4.0.8.tgz",
      "integrity": "sha512-0fr/mIH1dlO+x7TlcMy+bIDqKPsw/70tVyeHW787goQjhmqaZe10uwLujubK9q9Lg6Fiho1KUKDYz0Z7k7g5/g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/type-fest": {
      "version": "0.21.3",
      "resolved": "https://registry.npmjs.org/type-fest/-/type-fest-0.21.3.tgz",
      "integrity": "sha512-t0rzBq87m3fVcduHDUFhKmyyX+9eo6WQjZvf51Ea/M0Q7+T374Jp1aUiyUl0GKxp8M/OETVHSDvmkyPgvX+X2w==",
      "dev": true,
      "license": "(MIT OR CC0-1.0)",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/undici-types": {
      "version": "7.16.0",
      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-7.16.0.tgz",
      "integrity": "sha512-Zz+aZWSj8LE6zoxD+xrjh4VfkIG8Ya6LvYkZqtUQGJPZjYl53ypCaUwWqo7eI0x66KBGeRo+mlBEkMSeSZ38Nw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/unrs-resolver": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/unrs-resolver/-/unrs-resolver-1.11.1.tgz",
      "integrity": "sha512-bSjt9pjaEBnNiGgc9rUiHGKv5l4/TGzDmYw3RhnkJGtLhbnnA/5qJj7x3dNDCRx/PJxu774LlH8lCOlB4hEfKg==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "dependencies": {
        "napi-postinstall": "^0.3.0"
      },
      "funding": {
        "url": "https://opencollective.com/unrs-resolver"
      },
      "optionalDependencies": {
        "@unrs/resolver-binding-android-arm-eabi": "1.11.1",
        "@unrs/resolver-binding-android-arm64": "1.11.1",
        "@unrs/resolver-binding-darwin-arm64": "1.11.1",
        "@unrs/resolver-binding-darwin-x64": "1.11.1",
        "@unrs/resolver-binding-freebsd-x64": "1.11.1",
        "@unrs/resolver-binding-linux-arm-gnueabihf": "1.11.1",
        "@unrs/resolver-binding-linux-arm-musleabihf": "1.11.1",
        "@unrs/resolver-binding-linux-arm64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-arm64-musl": "1.11.1",
        "@unrs/resolver-binding-linux-ppc64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-riscv64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-riscv64-musl": "1.11.1",
        "@unrs/resolver-binding-linux-s390x-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-x64-gnu": "1.11.1",
        "@unrs/resolver-binding-linux-x64-musl": "1.11.1",
        "@unrs/resolver-binding-wasm32-wasi": "1.11.1",
        "@unrs/resolver-binding-win32-arm64-msvc": "1.11.1",
        "@unrs/resolver-binding-win32-ia32-msvc": "1.11.1",
        "@unrs/resolver-binding-win32-x64-msvc": "1.11.1"
      }
    },
    "node_modules/update-browserslist-db": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.1.4.tgz",
      "integrity": "sha512-q0SPT4xyU84saUX+tomz1WLkxUbuaJnR1xWt17M7fJtEJigJeWUNGUqrauFXsHnqev9y9JTRGwk13tFBuKby4A==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "escalade": "^3.2.0",
        "picocolors": "^1.1.1"
      },
      "bin": {
        "update-browserslist-db": "cli.js"
      },
      "peerDependencies": {
        "browserslist": ">= 4.21.0"
      }
    },
    "node_modules/v8-to-istanbul": {
      "version": "9.3.0",
      "resolved": "https://registry.npmjs.org/v8-to-istanbul/-/v8-to-istanbul-9.3.0.tgz",
      "integrity": "sha512-kiGUalWN+rgBJ/1OHZsBtU4rXZOfj/7rKQxULKlIzwzQSvMJUUNgPwJEEh7gU6xEVxC0ahoOBvN2YI8GH6FNgA==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "@jridgewell/trace-mapping": "^0.3.12",
        "@types/istanbul-lib-coverage": "^2.0.1",
        "convert-source-map": "^2.0.0"
      },
      "engines": {
        "node": ">=10.12.0"
      }
    },
    "node_modules/walker": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/walker/-/walker-1.0.8.tgz",
      "integrity": "sha512-ts/8E8l5b7kY0vlWLewOkDXMmPdLcVV4GmOQLyxuSswIJsweeFZtAsMF7k1Nszz+TYBQrlYRmzOnr398y1JemQ==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "makeerror": "1.0.12"
      }
    },
    "node_modules/which": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
      "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "isexe": "^2.0.0"
      },
      "bin": {
        "node-which": "bin/node-which"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/wrap-ansi": {
      "version": "8.1.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-8.1.0.tgz",
      "integrity": "sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^6.1.0",
        "string-width": "^5.0.1",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs": {
      "name": "wrap-ansi",
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.0.0",
        "string-width": "^4.1.0",
        "strip-ansi": "^6.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/wrap-ansi-cjs/node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi/node_modules/ansi-styles": {
      "version": "6.2.3",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-6.2.3.tgz",
      "integrity": "sha512-4Dj6M28JB+oAH8kFkTLUo+a2jwOFkuqb3yucU0CANcRRUbxS0cP0nZYCGjcc3BNXwRIsUVmDGgzawme7zvJHvg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/wrappy": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz",
      "integrity": "sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/write-file-atomic": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/write-file-atomic/-/write-file-atomic-5.0.1.tgz",
      "integrity": "sha512-+QU2zd6OTD8XWIJCbffaiQeH9U73qIqafo1x6V1snCWYGJf6cVE0cDR4D8xRzcEnfI21IFrUPzPGtcPf8AC+Rw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "imurmurhash": "^0.1.4",
        "signal-exit": "^4.0.1"
      },
      "engines": {
        "node": "^14.17.0 || ^16.13.0 || >=18.0.0"
      }
    },
    "node_modules/y18n": {
      "version": "5.0.8",
      "resolved": "https://registry.npmjs.org/y18n/-/y18n-5.0.8.tgz",
      "integrity": "sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/yallist": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/yallist/-/yallist-3.1.1.tgz",
      "integrity": "sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/yargs": {
      "version": "17.7.2",
      "resolved": "https://registry.npmjs.org/yargs/-/yargs-17.7.2.tgz",
      "integrity": "sha512-7dSzzRQ++CKnNI/krKnYRV7JKKPUXMEh61soaHKg9mrWEhzFWhFnxPxGl+69cD1Ou63C13NUPCnmIcrvqCuM6w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cliui": "^8.0.1",
        "escalade": "^3.1.1",
        "get-caller-file": "^2.0.5",
        "require-directory": "^2.1.1",
        "string-width": "^4.2.3",
        "y18n": "^5.0.5",
        "yargs-parser": "^21.1.1"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/yargs-parser": {
      "version": "21.1.1",
      "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-21.1.1.tgz",
      "integrity": "sha512-tVpsJW7DdjecAiFpbIB1e3qxIQsE6NoPc5/eTdrbbIC4h0LVsWhnoa3g+m2HclBIujHzsxZ4VJVA+GUuc2/LBw==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/yargs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/yargs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/yargs/node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/yargs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/yocto-queue": {
      "version": "0.1.0",
      "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
      "integrity": "sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    }
  }
}
--- END: package-lock.json ---

--- START: package.json (sha256=cb4e116127d9f0ee68d7a1981a687f17dddf5fdc35ba34af4eb9d690eb090e38, bytes=767) ---
{
  "name": "no.tiwas.booleantoolbox",
  "version": "1.3.2",
  "main": "app.js",
  "dependencies": {
    "athom-api": "^3.5.0"
  },
  "author": "Lars Kvanum",
  "license": "ISC",
  "description": "Create advanced, state-aware logic units with multiple formulas",
  "description": "",
  "devDependencies": {
    "jest": "^30.2.0"
  },
  "scripts": {
    "test": "jest --testPathIgnorePatterns=tests/",
    "test:all": "jest",
    "test:watch": "jest --watch --testPathIgnorePatterns=tests/",
    "test:coverage": "jest --coverage --testPathIgnorePatterns=tests/",
    "test:verbose": "jest --verbose --testPathIgnorePatterns=tests/",
    "test:formula": "jest FormulaEvaluator.test.js"
  },
  "keywords": [
    "boolean",
    "logic",
    "formulas",
    "homey"
  ]
}
--- END: package.json ---

--- START: tests/device.test.js (sha256=454f4751a7b89085149bd3f3972878c231e39f420970692a142f69d4ac0e0d37, bytes=2039) ---
const { describe, it, expect } = require('@jest/globals');

describe('Logic Device Isolation', () => {
  it('should keep separate state for two different device instances', async () => {
    // Opprett to separate enheter
    const device1 = await createTestDevice({
      name: 'Device 1',
      formulas: [{
        id: 'f1',
        name: 'Formula 1',
        expression: 'A AND B',
        enabled: true
      }]
    });

    const device2 = await createTestDevice({
      name: 'Device 2',
      formulas: [{
        id: 'f1',
        name: 'Formula 1',
        expression: 'A AND B',
        enabled: true
      }]
    });

    // Sett inputs for device 1
    await device1.setInputForFormula('f1', 'a', true);
    await device1.setInputForFormula('f1', 'b', true);

    // Sett inputs for device 2
    await device2.setInputForFormula('f1', 'a', false);
    await device2.setInputForFormula('f1', 'b', false);

    // Verifiser at de har uavhengig state
    const result1 = device1.getFormulaResult('f1');
    const result2 = device2.getFormulaResult('f1');

    expect(result1).toBe(true);  // A AND B = true AND true
    expect(result2).toBe(false); // A AND B = false AND false
  });

  it('should prevent adding multiple formulas to Logic Device', async () => {
    const device = await createTestDevice({
      name: 'Test Device',
      formulas: [
        { id: 'f1', name: 'Formula 1', expression: 'A', enabled: true },
        { id: 'f2', name: 'Formula 2', expression: 'B', enabled: true }
      ]
    });

    // Dette skal kaste en feil
    await expect(
      device.onSettings({
        oldSettings: {},
        newSettings: {
          formulas: JSON.stringify([
            { id: 'f1', name: 'Formula 1', expression: 'A', enabled: true },
            { id: 'f2', name: 'Formula 2', expression: 'B', enabled: true }
          ])
        },
        changedKeys: ['formulas']
      })
    ).rejects.toThrow('Logic Device kan kun ha én formel');
  });
});
--- END: tests/device.test.js ---

